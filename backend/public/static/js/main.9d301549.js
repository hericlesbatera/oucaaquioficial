/*! For license information please see main.9d301549.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,r)=>{var n=r(853),a=r(43),o=r(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return P(e(t))}catch(r){}}return null}var O=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=M[F],M[F]=null,F--)}function B(e,t){F++,M[F]=e.current,e.current=t}var q,V,H=z(null),W=z(null),K=z(null),G=z(null);function $(e,t){switch(B(K,t),B(W,e),B(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(H),B(H,e)}function J(){U(H),U(W),U(K)}function Y(e){null!==e.memoizedState&&B(G,e);var t=H.current,r=yd(t,e.type);t!==r&&(B(W,e),B(H,r))}function Q(e){W.current===e&&(U(H),U(W)),G.current===e&&(U(G),uh._currentValue=L)}function X(e){if(void 0===q)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",V=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+V}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(o){n=o}e.call(r.prototype)}}else{try{throw Error()}catch(s){n=s}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(i){if(i&&n&&"string"===typeof i.stack)return[i.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),s=o[0],i=o[1];if(s&&i){var l=s.split("\n"),c=i.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?X(r):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function re(e){try{var t="",r=null;do{t+=te(e,r),r=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ne=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,oe=n.unstable_cancelCallback,se=n.unstable_shouldYield,ie=n.unstable_requestPaint,le=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,ue=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,he=n.unstable_NormalPriority,fe=n.unstable_LowPriority,pe=n.unstable_IdlePriority,me=n.log,ge=n.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/je|0)|0},we=Math.log,je=Math.LN2;var _e=256,Ne=262144,ke=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=134217727&n;return 0!==i?0!==(n=i&~o)?a=Se(n):0!==(s&=i)?a=Se(s):r||0!==(r=i&~e)&&(a=Se(r)):0!==(i=n&~o)?a=Se(i):0!==s?a=Se(s):r||0!==(r=n&~e)&&(a=Se(r)),0===a?0:0!==t&&t!==a&&0===(t&o)&&((o=a&-a)>=(r=t&-t)||32===o&&0!==(4194048&r))?t:a}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Re(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-xe(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&r}function De(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xe(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Ie(e,t){var r=t&-t;return 0!==((r=0!==(42&r)?1:Le(r))&(e.suspendedLanes|t))?0:r}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:Sh(e.type)}function ze(e,t){var r=I.p;try{return I.p=e,t()}finally{I.p=r}}var Ue=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ue,qe="__reactProps$"+Ue,Ve="__reactContainer$"+Ue,He="__reactEvents$"+Ue,We="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,$e="__reactMarker$"+Ue;function Je(e){delete e[Be],delete e[qe],delete e[He],delete e[We],delete e[Ke]}function Ye(e){var t=e[Be];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ve]||r[Be]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Ld(e);null!==e;){if(r=e[Be])return r;e=Ld(e)}return t}r=(e=r).parentNode}return null}function Qe(e){if(e=e[Be]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[$e]=!0}var tt=new Set,rt={};function nt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(rt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},it={};function lt(e,t,r){if(a=t,ne.call(it,a)||!ne.call(st,a)&&(ot.test(a)?it[a]=!0:(st[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function ct(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function ut(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ht(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,r,n,a,o,s,i){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?xt(e,s,dt(t)):null!=r?xt(e,s,dt(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=o&&(e.defaultChecked=!!o),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+dt(i):e.removeAttribute("name")}function bt(e,t,r,n,a,o,s,i){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=r){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);r=null!=r?""+dt(r):"",t=null!=t?""+dt(t):r,i||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=i?e.checked:!!n,e.defaultChecked=!!n,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function xt(e,t,r){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function wt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+dt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function jt(e,t,r){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+dt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(s(92));if(O(n)){if(1<n.length)throw Error(s(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=dt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n),ft(e)}function Nt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||kt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Et(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&St(e,a,n)}else for(var o in t)t.hasOwnProperty(o)&&St(e,o,t[o])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Ot=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Lt=null;function Mt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var r=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[qe]||null;if(!a)throw Error(s(90));yt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&pt(n)}break e;case"textarea":jt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&wt(e,!!r.multiple,t,!1)}}}var Ft=!1;function zt(e,t,r){if(Ft)return e(t,r);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==It||null!==Lt)&&(Zc(),It&&(t=It,e=Lt,Lt=It=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var r=e.stateNode;if(null===r)return null;var n=r[qe]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Bt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Qh){qt=!1}var Ht=null,Wt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,r=Wt,n=r.length,a="value"in Ht?Ht.value:Ht.textContent,o=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[o-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Yt(){return!1}function Qt(e){function t(t,r,n,a,o){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Jt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Xt,Zt,er,tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Qt(tr),nr=f({},tr,{view:0,detail:0}),ar=Qt(nr),or=f({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&"mousemove"===e.type?(Xt=e.screenX-er.screenX,Zt=e.screenY-er.screenY):Zt=Xt=0,er=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sr=Qt(or),ir=Qt(f({},or,{dataTransfer:0})),lr=Qt(f({},nr,{relatedTarget:0})),cr=Qt(f({},tr,{animationName:0,elapsedTime:0,pseudoElement:0})),ur=Qt(f({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dr=Qt(f({},tr,{data:0})),hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pr[e])&&!!t[e]}function gr(){return mr}var vr=Qt(f({},nr,{key:function(e){if(e.key){var t=hr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yr=Qt(f({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),br=Qt(f({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr})),xr=Qt(f({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0})),wr=Qt(f({},or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jr=Qt(f({},tr,{newState:0,oldState:0})),_r=[9,13,27,32],Nr=Bt&&"CompositionEvent"in window,kr=null;Bt&&"documentMode"in document&&(kr=document.documentMode);var Sr=Bt&&"TextEvent"in window&&!kr,Er=Bt&&(!Nr||kr&&8<kr&&11>=kr),Ar=String.fromCharCode(32),Cr=!1;function Tr(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pr=!1;var Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}function Ir(e,t,r,n){It?Lt?Lt.push(n):Lt=[n]:It=n,0<(t=nd(t,"onChange")).length&&(r=new rr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Lr=null,Mr=null;function Fr(e){Ju(e,0)}function zr(e){if(pt(Xe(e)))return e}function Ur(e,t){if("change"===e)return t}var Br=!1;if(Bt){var qr;if(Bt){var Vr="oninput"in document;if(!Vr){var Hr=document.createElement("div");Hr.setAttribute("oninput","return;"),Vr="function"===typeof Hr.oninput}qr=Vr}else qr=!1;Br=qr&&(!document.documentMode||9<document.documentMode)}function Wr(){Lr&&(Lr.detachEvent("onpropertychange",Kr),Mr=Lr=null)}function Kr(e){if("value"===e.propertyName&&zr(Mr)){var t=[];Ir(t,Mr,e,Dt(e)),zt(Fr,t)}}function Gr(e,t,r){"focusin"===e?(Wr(),Mr=r,(Lr=t).attachEvent("onpropertychange",Kr)):"focusout"===e&&Wr()}function $r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zr(Mr)}function Jr(e,t){if("click"===e)return zr(t)}function Yr(e,t){if("input"===e||"change"===e)return zr(t)}var Qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xr(e,t){if(Qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ne.call(t,a)||!Qr(e[a],t[a]))return!1}return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var r,n=Zr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zr(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rn(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=mt((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var an=Bt&&"documentMode"in document&&11>=document.documentMode,on=null,sn=null,ln=null,cn=!1;function un(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;cn||null==on||on!==mt(n)||("selectionStart"in(n=on)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ln&&Xr(ln,n)||(ln=n,0<(n=nd(sn,"onSelect")).length&&(t=new rr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=on)))}function dn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},fn={},pn={};function mn(e){if(fn[e])return fn[e];if(!hn[e])return e;var t,r=hn[e];for(t in r)if(r.hasOwnProperty(t)&&t in pn)return fn[e]=r[t];return e}Bt&&(pn=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);var gn=mn("animationend"),vn=mn("animationiteration"),yn=mn("animationstart"),bn=mn("transitionrun"),xn=mn("transitionstart"),wn=mn("transitioncancel"),jn=mn("transitionend"),_n=new Map,Nn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){_n.set(e,t),nt(t,[e])}Nn.push("scrollEnd");var Sn="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},En=[],An=0,Cn=0;function Tn(){for(var e=An,t=Cn=An=0;t<e;){var r=En[t];En[t++]=null;var n=En[t];En[t++]=null;var a=En[t];En[t++]=null;var o=En[t];if(En[t++]=null,null!==n&&null!==a){var s=n.pending;null===s?a.next=a:(a.next=s.next,s.next=a),n.pending=a}0!==o&&Dn(r,a,o)}}function Rn(e,t,r,n){En[An++]=e,En[An++]=t,En[An++]=r,En[An++]=n,Cn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Pn(e,t,r,n){return Rn(e,t,r,n),In(e)}function On(e,t){return Rn(e,null,null,t),In(e)}function Dn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,o=e.return;null!==o;)o.childLanes|=r,null!==(n=o.alternate)&&(n.childLanes|=r),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(a=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,a&&null!==t&&(a=31-xe(r),null===(n=(e=o.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),o):null}function In(e){if(50<Hc)throw Hc=0,Wc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ln={};function Mn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,r,n){return new Mn(e,t,r,n)}function zn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Un(e,t){var r=e.alternate;return null===r?((r=Fn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qn(e,t,r,n,a,o){var i=0;if(n=e,"function"===typeof e)zn(e)&&(i=1);else if("string"===typeof e)i=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Fn(31,r,t,a)).elementType=E,e.lanes=o,e;case v:return Vn(r.children,a,o,t);case y:i=8,a|=24;break;case b:return(e=Fn(12,r,t,2|a)).elementType=b,e.lanes=o,e;case _:return(e=Fn(13,r,t,a)).elementType=_,e.lanes=o,e;case N:return(e=Fn(19,r,t,a)).elementType=N,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:i=10;break e;case x:i=9;break e;case j:i=11;break e;case k:i=14;break e;case S:i=16,n=null;break e}i=29,r=Error(s(130,null===e?"null":typeof e,"")),n=null}return(t=Fn(i,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Vn(e,t,r,n){return(e=Fn(7,e,n,t)).lanes=r,e}function Hn(e,t,r){return(e=Fn(6,e,null,t)).lanes=r,e}function Wn(e){var t=Fn(18,null,null,0);return t.stateNode=e,t}function Kn(e,t,r){return(t=Fn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gn=new WeakMap;function $n(e,t){if("object"===typeof e&&null!==e){var r=Gn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:re(t)},Gn.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Jn=[],Yn=0,Qn=null,Xn=0,Zn=[],ea=0,ta=null,ra=1,na="";function aa(e,t){Jn[Yn++]=Xn,Jn[Yn++]=Qn,Qn=e,Xn=t}function oa(e,t,r){Zn[ea++]=ra,Zn[ea++]=na,Zn[ea++]=ta,ta=e;var n=ra;e=na;var a=32-xe(n)-1;n&=~(1<<a),r+=1;var o=32-xe(t)+a;if(30<o){var s=a-a%5;o=(n&(1<<s)-1).toString(32),n>>=s,a-=s,ra=1<<32-xe(t)+a|r<<a|n,na=o+e}else ra=1<<o|r<<a|n,na=e}function sa(e){null!==e.return&&(aa(e,1),oa(e,1,0))}function ia(e){for(;e===Qn;)Qn=Jn[--Yn],Jn[Yn]=null,Xn=Jn[--Yn],Jn[Yn]=null;for(;e===ta;)ta=Zn[--ea],Zn[ea]=null,na=Zn[--ea],Zn[ea]=null,ra=Zn[--ea],Zn[ea]=null}function la(e,t){Zn[ea++]=ra,Zn[ea++]=na,Zn[ea++]=ta,ra=t.id,na=t.overflow,ta=e}var ca=null,ua=null,da=!1,ha=null,fa=!1,pa=Error(s(519));function ma(e){throw wa($n(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pa}function ga(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Be]=e,t[qe]=n,r){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(r=0;r<Gu.length;r++)Yu(Gu[r],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),bt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),_t(t,n.value,n.defaultValue,n.children)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||cd(t.textContent,r)?(null!=n.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=n.onScroll&&Yu("scroll",t),null!=n.onScrollEnd&&Yu("scrollend",t),null!=n.onClick&&(t.onclick=Pt),t=!0):t=!1,t||ma(e,!0)}function va(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ca=ca.return}}function ya(e){if(e!==ca)return!1;if(!da)return va(e),da=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ua&&ma(e),va(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ua=Id(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ua=Id(e)}else 27===r?(r=ua,Sd(e.type)?(e=Dd,Dd=null,ua=e):ua=r):ua=ca?Od(e.stateNode.nextSibling):null;return!0}function ba(){ua=ca=null,da=!1}function xa(){var e=ha;return null!==e&&(null===Tc?Tc=e:Tc.push.apply(Tc,e),ha=null),e}function wa(e){null===ha?ha=[e]:ha.push(e)}var ja=z(null),_a=null,Na=null;function ka(e,t,r){B(ja,t._currentValue),t._currentValue=r}function Sa(e){e._currentValue=ja.current,U(ja)}function Ea(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Aa(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var i=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ea(o.return,r,e),n||(i=null);break e}o=l.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(s(341));i.lanes|=r,null!==(o=i.alternate)&&(o.lanes|=r),Ea(i,r,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function Ca(e,t,r,n){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(s(387));if(null!==(i=i.memoizedProps)){var l=a.type;Qr(a.pendingProps.value,i.value)||(null!==e?e.push(l):e=[l])}}else if(a===G.current){if(null===(i=a.alternate))throw Error(s(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}a=a.return}null!==e&&Aa(t,e,r,n),t.flags|=262144}function Ta(e){for(e=e.firstContext;null!==e;){if(!Qr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ra(e){_a=e,Na=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pa(e){return Da(_a,e)}function Oa(e,t){return null===_a&&Ra(e),Da(e,t)}function Da(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===Na){if(null===e)throw Error(s(308));Na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Na=Na.next=t;return r}var Ia="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},La=n.unstable_scheduleCallback,Ma=n.unstable_NormalPriority,Fa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function za(){return{controller:new Ia,data:new Map,refCount:0}}function Ua(e){e.refCount--,0===e.refCount&&La(Ma,function(){e.controller.abort()})}var Ba=null,qa=0,Va=0,Ha=null;function Wa(){if(0===--qa&&null!==Ba){null!==Ha&&(Ha.status="fulfilled");var e=Ba;Ba=null,Va=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ka=D.S;D.S=function(e,t){Oc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ba){var r=Ba=[];qa=0,Va=qu(),Ha={status:"pending",value:void 0,then:function(e){r.push(e)}}}qa++,t.then(Wa,Wa)}(0,t),null!==Ka&&Ka(e,t)};var Ga=z(null);function $a(){var e=Ga.current;return null!==e?e:pc.pooledCache}function Ja(e,t){B(Ga,null===t?Ga.current:t.pool)}function Ya(){var e=$a();return null===e?null:{parent:Fa._currentValue,pool:e}}var Qa=Error(s(460)),Xa=Error(s(474)),Za=Error(s(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ro(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Pt,Pt),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e}throw ao=t,Qa}}function no(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ao=t,Qa;throw t}}var ao=null;function oo(){if(null===ao)throw Error(s(459));var e=ao;return ao=null,e}function so(e){if(e===Qa||e===Za)throw Error(s(483))}var io=null,lo=0;function co(e){var t=lo;return lo+=1,null===io&&(io=[]),ro(io,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Un(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Hn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var o=r.type;return o===v?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===S&&no(o)===t.type)?(uo(t=a(t,r.props),r),t.return=e,t):(uo(t=qn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Kn(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,o){return null===t||7!==t.tag?((t=Vn(r,e.mode,n,o)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return uo(r=qn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case g:return(t=Kn(t,e.mode,r)).return=e,t;case S:return h(e,t=no(t),r)}if(O(t)||T(t))return(t=Vn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,co(t),r);if(t.$$typeof===w)return h(e,Oa(e,t),r);ho(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return r.key===a?c(e,t,r,n):null;case g:return r.key===a?u(e,t,r,n):null;case S:return f(e,t,r=no(r),n)}if(O(r)||T(r))return null!==a?null:d(e,t,r,n,null);if("function"===typeof r.then)return f(e,t,co(r),n);if(r.$$typeof===w)return f(e,t,Oa(e,r),n);ho(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case g:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case S:return p(e,t,r,n=no(n),a)}if(O(n)||T(n))return d(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return p(e,t,r,co(n),a);if(n.$$typeof===w)return p(e,t,r,Oa(t,n),a);ho(t,n)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){r(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===S&&no(b)===c.type){r(l,c.sibling),uo(d=a(c,u.props),u),d.return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Vn(u.props.children,l.mode,d,u.key)).return=l,l=d):(uo(d=qn(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return i(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}(d=Kn(u,l.mode,d)).return=l,l=d}return i(l);case S:return y(l,c,u=no(u),d)}if(O(u))return function(a,s,i,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,i[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===i.length)return r(a,d),da&&aa(a,m),c;if(null===d){for(;m<i.length;m++)null!==(d=h(a,i[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return da&&aa(a,m),c}for(d=n(d);m<i.length;m++)null!==(g=p(d,a,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),da&&aa(a,m),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(s(150));return function(a,i,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=i,g=i=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),i=o(b,i,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return r(a,m),da&&aa(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(i=o(y,i,g),null===d?u=y:d.sibling=y,d=y);return da&&aa(a,g),u}for(m=n(m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),i=o(y,i,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),da&&aa(a,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,co(u),d);if(u.$$typeof===w)return y(l,c,Oa(l,u),d);ho(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(d=a(c,u)).return=l,l=d):(r(l,c),(d=Hn(u,l.mode,d)).return=l,l=d),i(l)):r(l,c)}return function(e,t,r,n){try{lo=0;var a=y(e,t,r,n);return io=null,a}catch(s){if(s===Qa||s===Za)throw s;var o=Fn(29,s,null,e.mode);return o.lanes=n,o.return=e,o}}}var po=fo(!0),mo=fo(!1),go=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xo(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&fc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=In(e),Dn(e,null,r),t}return Rn(e,n,t,r),In(e)}function wo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,De(e,r)}}function jo(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===o?a=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?a=o=t:o=o.next=t}else a=o=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var _o=!1;function No(){if(_o){if(null!==Ha)throw Ha}}function ko(e,t,r,n){_o=!1;var a=e.updateQueue;go=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,u=c=l=null,i=o;;){var h=-536870913&i.lane,p=h!==i.lane;if(p?(gc&h)===h:(n&h)===h){0!==h&&h===Va&&(_o=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var m=e,g=i;h=t;var v=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:go=!0}}null!==(h=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(p=i).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===o&&(a.shared.lanes=0),Nc|=s,e.lanes=s,e.memoizedState=d}}function So(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Eo(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)So(r[e],t)}var Ao=z(null),Co=z(0);function To(e,t){B(Co,e=jc),B(Ao,t),jc=e|t.baseLanes}function Ro(){B(Co,jc),B(Ao,Ao.current)}function Po(){jc=Co.current,U(Ao),U(Co)}var Oo=z(null),Do=null;function Io(e){var t=e.alternate;B(Uo,1&Uo.current),B(Oo,e),null===Do&&(null===t||null!==Ao.current||null!==t.memoizedState)&&(Do=e)}function Lo(e){B(Uo,Uo.current),B(Oo,e),null===Do&&(Do=e)}function Mo(e){22===e.tag?(B(Uo,Uo.current),B(Oo,e),null===Do&&(Do=e)):Fo()}function Fo(){B(Uo,Uo.current),B(Oo,Oo.current)}function zo(e){U(Oo),Do===e&&(Do=null),U(Uo)}var Uo=z(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Rd(r)||Pd(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qo=0,Vo=null,Ho=null,Wo=null,Ko=!1,Go=!1,$o=!1,Jo=0,Yo=0,Qo=null,Xo=0;function Zo(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qr(e[r],t[r]))return!1;return!0}function ts(e,t,r,n,a,o){return qo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?gi:vi,$o=!1,o=r(n,a),$o=!1,Go&&(o=ns(t,r,n,a)),rs(e),o}function rs(e){D.H=mi;var t=null!==Ho&&null!==Ho.next;if(qo=0,Wo=Ho=Vo=null,Ko=!1,Yo=0,Qo=null,t)throw Error(s(300));null===e||Oi||null!==(e=e.dependencies)&&Ta(e)&&(Oi=!0)}function ns(e,t,r,n){Vo=e;var a=0;do{if(Go&&(Qo=null),Yo=0,Go=!1,25<=a)throw Error(s(301));if(a+=1,Wo=Ho=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=yi,o=t(r,n)}while(Go);return o}function as(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==Ho?Ho.memoizedState:null)!==e&&(Vo.flags|=1024),t}function os(){var e=0!==Jo;return Jo=0,e}function ss(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function is(e){if(Ko){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ko=!1}qo=0,Wo=Ho=Vo=null,Go=!1,Yo=Jo=0,Qo=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Vo.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function cs(){if(null===Ho){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Ho.next;var t=null===Wo?Vo.memoizedState:Wo.next;if(null!==t)Wo=t,Ho=e;else{if(null===e){if(null===Vo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Ho=e).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Wo?Vo.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function us(e){var t=Yo;return Yo+=1,null===Qo&&(Qo=[]),e=ro(Qo,e,t),t=Vo,null===(null===Wo?t.memoizedState:Wo.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?gi:vi),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===w)return Pa(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,r=Vo.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=Vo.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Vo.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=A;return t.index++,r}function fs(e,t){return"function"===typeof t?t(e):t}function ps(e){return ms(cs(),Ho,e)}function ms(e,t,r){var n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=r;var a=e.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}t.baseQueue=a=o,n.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=i=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(qo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Va&&(d=!0);else{if((qo&f)===f){u=u.next,f===Va&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,i=o):c=c.next=h,Vo.lanes|=f,Nc|=f}h=u.action,$o&&r(o,h),o=u.hasEagerState?u.eagerState:r(o,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,i=o):c=c.next=f,Vo.lanes|=h,Nc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?i=o:c.next=l,!Qr(o,e.memoizedState)&&(Oi=!0,d&&null!==(r=Ha)))throw r;e.memoizedState=o,e.baseState=i,e.baseQueue=c,n.lastRenderedState=o}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function gs(e){var t=cs(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);Qr(o,t.memoizedState)||(Oi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function vs(e,t,r){var n=Vo,a=cs(),o=da;if(o){if(void 0===r)throw Error(s(407));r=r()}else r=t();var i=!Qr((Ho||a).memoizedState,r);if(i&&(a.memoizedState=r,Oi=!0),a=a.queue,qs(xs.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==Wo&&1&Wo.memoizedState.tag){if(n.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,n,a,r,t),null),null===pc)throw Error(s(349));o||0!==(127&qo)||ys(n,t,r)}return r}function ys(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Vo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Vo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function bs(e,t,r,n){t.value=r,t.getSnapshot=n,ws(t)&&js(e)}function xs(e,t,r){return r(function(){ws(t)&&js(e)})}function ws(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qr(e,r)}catch(n){return!0}}function js(e){var t=On(e,2);null!==t&&$c(t,e,2)}function _s(e){var t=ls();if("function"===typeof e){var r=e;if(e=r(),$o){be(!0);try{r()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function Ns(e,t,r,n){return e.baseState=r,ms(e,Ho,"function"===typeof n?n:fs)}function ks(e,t,r,n,a){if(hi(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?r(!0):o.isTransition=!1,n(o),null===(r=t.pending)?(o.next=t.pending=o,Ss(t,o)):(o.next=r.next,t.pending=r.next=o)}}function Ss(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var o=D.T,s={};D.T=s;try{var i=r(a,n),l=D.S;null!==l&&l(s,i),Es(e,t,i)}catch(c){Cs(e,t,c)}finally{null!==o&&null!==s.types&&(o.types=s.types),D.T=o}}else try{Es(e,t,o=r(a,n))}catch(u){Cs(e,t,u)}}function Es(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){As(e,t,r)},function(r){return Cs(e,t,r)}):As(e,t,r)}function As(e,t,r){t.status="fulfilled",t.value=r,Ts(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,Ss(e,r)))}function Cs(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,Ts(t),t=t.next}while(t!==n)}e.action=null}function Ts(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rs(e,t){return t}function Ps(e,t){if(da){var r=pc.formState;if(null!==r){e:{var n=Vo;if(da){if(ua){t:{for(var a=ua,o=fa;8!==a.nodeType;){if(!o){a=null;break t}if(null===(a=Od(a.nextSibling))){a=null;break t}}a="F!"===(o=a.data)||"F"===o?a:null}if(a){ua=Od(a.nextSibling),n="F!"===a.data;break e}}ma(n)}n=!1}n&&(t=r[0])}}return(r=ls()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:t},r.queue=n,r=ci.bind(null,Vo,n),n.dispatch=r,n=_s(!1),o=di.bind(null,Vo,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=ls()).queue=a,r=ks.bind(null,Vo,a,o,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function Os(e){return Ds(cs(),Ho,e)}function Ds(e,t,r){if(t=ms(e,t,Rs)[0],e=ps(fs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=us(t)}catch(s){if(s===Qa)throw Za;throw s}else n=t;var a=(t=cs()).queue,o=a.dispatch;return r!==t.memoizedState&&(Vo.flags|=2048,Ms(9,{destroy:void 0},Is.bind(null,a,r),null)),[n,o,e]}function Is(e,t){e.action=t}function Ls(e){var t=cs(),r=Ho;if(null!==r)return Ds(t,r,e);cs(),t=t.memoizedState;var n=(r=cs()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Ms(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=Vo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Vo.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Fs(){return cs().memoizedState}function zs(e,t,r,n){var a=ls();Vo.flags|=e,a.memoizedState=Ms(1|t,{destroy:void 0},r,void 0===n?null:n)}function Us(e,t,r,n){var a=cs();n=void 0===n?null:n;var o=a.memoizedState.inst;null!==Ho&&null!==n&&es(n,Ho.memoizedState.deps)?a.memoizedState=Ms(t,o,r,n):(Vo.flags|=e,a.memoizedState=Ms(1|t,o,r,n))}function Bs(e,t){zs(8390656,8,e,t)}function qs(e,t){Us(2048,8,e,t)}function Vs(e){var t=cs().memoizedState;return function(e){Vo.flags|=4;var t=Vo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Vo.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return Us(4,2,e,t)}function Ws(e,t){return Us(4,4,e,t)}function Ks(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gs(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Us(4,4,Ks.bind(null,t,e),r)}function $s(){}function Js(e,t){var r=cs();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&es(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ys(e,t){var r=cs();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&es(t,n[1]))return n[0];if(n=e(),$o){be(!0);try{e()}finally{be(!1)}}return r.memoizedState=[n,t],n}function Qs(e,t,r){return void 0===r||0!==(1073741824&qo)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=r,e=Gc(),Vo.lanes|=e,Nc|=e,r)}function Xs(e,t,r,n){return Qr(r,t)?r:null!==Ao.current?(e=Qs(e,r,n),Qr(e,t)||(Oi=!0),e):0===(42&qo)||0!==(1073741824&qo)&&0===(261930&gc)?(Oi=!0,e.memoizedState=r):(e=Gc(),Vo.lanes|=e,Nc|=e,t)}function Zs(e,t,r,n,a){var o=I.p;I.p=0!==o&&8>o?o:8;var s=D.T,i={};D.T=i,di(e,!1,t,r);try{var l=a(),c=D.S;if(null!==c&&c(i,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n);ui(e,t,u,Kc())}else ui(e,t,n,Kc())}catch(d){ui(e,t,{then:function(){},status:"rejected",reason:d},Kc())}finally{I.p=o,null!==s&&null!==i.types&&(s.types=i.types),D.T=s}}function ei(){}function ti(e,t,r,n){if(5!==e.tag)throw Error(s(476));var a=ri(e).queue;Zs(e,a,t,L,null===r?ei:function(){return ni(e),r(n)})}function ri(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:L},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ni(e){var t=ri(e);null===t.next&&(t=e.alternate.memoizedState),ui(e,t.next.queue,{},Kc())}function ai(){return Pa(uh)}function oi(){return cs().memoizedState}function si(){return cs().memoizedState}function ii(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Kc(),n=xo(t,e=bo(r),r);return null!==n&&($c(n,t,r),wo(n,t,r)),t={cache:za()},void(e.payload=t)}t=t.return}}function li(e,t,r){var n=Kc();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hi(e)?fi(t,r):null!==(r=Pn(e,t,r,n))&&($c(r,e,n),pi(r,t,n))}function ci(e,t,r){ui(e,t,r,Kc())}function ui(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(hi(e))fi(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,r);if(a.hasEagerState=!0,a.eagerState=i,Qr(i,s))return Rn(e,t,a,0),null===pc&&Tn(),!1}catch(l){}if(null!==(r=Pn(e,t,a,n)))return $c(r,e,n),pi(r,t,n),!0}return!1}function di(e,t,r,n){if(n={lane:2,revertLane:qu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hi(e)){if(t)throw Error(s(479))}else null!==(t=Pn(e,r,n,2))&&$c(t,e,2)}function hi(e){var t=e.alternate;return e===Vo||null!==t&&t===Vo}function fi(e,t){Go=Ko=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pi(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,De(e,r)}}var mi={readContext:Pa,use:ds,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};mi.useEffectEvent=Zo;var gi={readContext:Pa,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Bs,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,zs(4194308,4,Ks.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){zs(4,2,e,t)},useMemo:function(e,t){var r=ls();t=void 0===t?null:t;var n=e();if($o){be(!0);try{e()}finally{be(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=ls();if(void 0!==r){var a=r(t);if($o){be(!0);try{r(t)}finally{be(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=li.bind(null,Vo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=_s(e)).queue,r=ci.bind(null,Vo,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:$s,useDeferredValue:function(e,t){return Qs(ls(),e,t)},useTransition:function(){var e=_s(!1);return e=Zs.bind(null,Vo,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=Vo,a=ls();if(da){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===pc)throw Error(s(349));0!==(127&gc)||ys(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Bs(xs.bind(null,n,o,e),[e]),n.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,n,o,r,t),null),r},useId:function(){var e=ls(),t=pc.identifierPrefix;if(da){var r=na;t="_"+t+"R_"+(r=(ra&~(1<<32-xe(ra)-1)).toString(32)+r),0<(r=Jo++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Xo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ai,useFormState:Ps,useActionState:Ps,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=di.bind(null,Vo,!0,r),r.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=ii.bind(null,Vo)},useEffectEvent:function(e){var t=ls(),r={impl:e};return t.memoizedState=r,function(){if(0!==(2&fc))throw Error(s(440));return r.impl.apply(void 0,arguments)}}},vi={readContext:Pa,use:ds,useCallback:Js,useContext:Pa,useEffect:qs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Ys,useReducer:ps,useRef:Fs,useState:function(){return ps(fs)},useDebugValue:$s,useDeferredValue:function(e,t){return Xs(cs(),Ho.memoizedState,e,t)},useTransition:function(){var e=ps(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:oi,useHostTransitionStatus:ai,useFormState:Os,useActionState:Os,useOptimistic:function(e,t){return Ns(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:si};vi.useEffectEvent=Vs;var yi={readContext:Pa,use:ds,useCallback:Js,useContext:Pa,useEffect:qs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Ys,useReducer:gs,useRef:Fs,useState:function(){return gs(fs)},useDebugValue:$s,useDeferredValue:function(e,t){var r=cs();return null===Ho?Qs(r,e,t):Xs(r,Ho.memoizedState,e,t)},useTransition:function(){var e=gs(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:oi,useHostTransitionStatus:ai,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){var r=cs();return null!==Ho?Ns(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:hs,useCacheRefresh:si};function bi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:f({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}yi.useEffectEvent=Vs;var xi={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kc(),a=bo(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=xo(e,a,n))&&($c(t,e,n),wo(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kc(),a=bo(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=xo(e,a,n))&&($c(t,e,n),wo(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kc(),n=bo(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=xo(e,n,r))&&($c(t,e,r),wo(t,e,r))}};function wi(e,t,r,n,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xr(r,n)||!Xr(a,o))}function ji(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xi.enqueueReplaceState(t,t.state,null)}function _i(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=f({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}function Ni(e){Sn(e)}function ki(e){console.error(e)}function Si(e){Sn(e)}function Ei(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Ai(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ci(e,t,r){return(r=bo(r)).tag=3,r.payload={element:null},r.callback=function(){Ei(e,t)},r}function Ti(e){return(e=bo(e)).tag=3,e}function Ri(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var o=n.value;e.payload=function(){return a(o)},e.callback=function(){Ai(t,r,n)}}var s=r.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ai(t,r,n),"function"!==typeof a&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Pi=Error(s(461)),Oi=!1;function Di(e,t,r,n){t.child=null===e?mo(t,null,r,n):po(t,e.child,r,n)}function Ii(e,t,r,n,a){r=r.render;var o=t.ref;if("ref"in n){var s={};for(var i in n)"ref"!==i&&(s[i]=n[i])}else s=n;return Ra(t),n=ts(e,t,r,s,o,a),i=os(),null===e||Oi?(da&&i&&sa(t),t.flags|=1,Di(e,t,n,a),t.child):(ss(e,t,a),al(e,t,a))}function Li(e,t,r,n,a){if(null===e){var o=r.type;return"function"!==typeof o||zn(o)||void 0!==o.defaultProps||null!==r.compare?((e=qn(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Mi(e,t,o,n,a))}if(o=e.child,!ol(e,a)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:Xr)(s,n)&&e.ref===t.ref)return al(e,t,a)}return t.flags|=1,(e=Un(o,n)).ref=t.ref,e.return=t,t.child=e}function Mi(e,t,r,n,a){if(null!==e){var o=e.memoizedProps;if(Xr(o,n)&&e.ref===t.ref){if(Oi=!1,t.pendingProps=n=o,!ol(e,a))return t.lanes=e.lanes,al(e,t,a);0!==(131072&e.flags)&&(Oi=!0)}}return Hi(e,t,r,n,a)}function Fi(e,t,r,n){var a=n.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|r:r,null!==e){for(n=t.child=e.child,a=0;null!==n;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~o}else n=0,t.child=null;return Ui(e,t,o,r,n)}if(0===(536870912&r))return n=t.lanes=536870912,Ui(e,t,null!==o?o.baseLanes|r:r,r,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ja(0,null!==o?o.cachePool:null),null!==o?To(t,o):Ro(),Mo(t)}else null!==o?(Ja(0,o.cachePool),To(t,o),Fo(),t.memoizedState=null):(null!==e&&Ja(0,null),Ro(),Fo());return Di(e,t,a,r),t.child}function zi(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ui(e,t,r,n,a){var o=$a();return o=null===o?null:{parent:Fa._currentValue,pool:o},t.memoizedState={baseLanes:r,cachePool:o},null!==e&&Ja(0,null),Ro(),Mo(t),null!==e&&Ca(e,t,n,!0),t.childLanes=a,null}function Bi(e,t){return(t=Zi({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qi(e,t,r){return po(t,e.child,null,r),(e=Bi(t,t.pendingProps)).flags|=2,zo(t),t.memoizedState=null,e}function Vi(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(s(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Hi(e,t,r,n,a){return Ra(t),r=ts(e,t,r,n,void 0,a),n=os(),null===e||Oi?(da&&n&&sa(t),t.flags|=1,Di(e,t,r,a),t.child):(ss(e,t,a),al(e,t,a))}function Wi(e,t,r,n,a,o){return Ra(t),t.updateQueue=null,r=ns(t,n,r,a),rs(e),n=os(),null===e||Oi?(da&&n&&sa(t),t.flags|=1,Di(e,t,r,o),t.child):(ss(e,t,o),al(e,t,o))}function Ki(e,t,r,n,a){if(Ra(t),null===t.stateNode){var o=Ln,s=r.contextType;"object"===typeof s&&null!==s&&(o=Pa(s)),o=new r(n,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=xi,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=n,o.state=t.memoizedState,o.refs={},vo(t),s=r.contextType,o.context="object"===typeof s&&null!==s?Pa(s):Ln,o.state=t.memoizedState,"function"===typeof(s=r.getDerivedStateFromProps)&&(bi(t,r,s,n),o.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&xi.enqueueReplaceState(o,o.state,null),ko(t,n,o,a),No(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){o=t.stateNode;var i=t.memoizedProps,l=_i(r,i);o.props=l;var c=o.context,u=r.contextType;s=Ln,"object"===typeof u&&null!==u&&(s=Pa(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i||c!==s)&&ji(t,o,n,s),go=!1;var h=t.memoizedState;o.state=h,ko(t,n,o,a),No(),c=t.memoizedState,i||h!==c||go?("function"===typeof d&&(bi(t,r,d,n),c=t.memoizedState),(l=go||wi(t,r,l,n,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=s,n=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,yo(e,t),u=_i(r,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,l=Ln,"object"===typeof c&&null!==c&&(l=Pa(c)),(c="function"===typeof(i=r.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ji(t,o,n,l),go=!1,h=t.memoizedState,o.state=h,ko(t,n,o,a),No();var f=t.memoizedState;s!==d||h!==f||go||null!==e&&null!==e.dependencies&&Ta(e.dependencies)?("function"===typeof i&&(bi(t,r,i,n),f=t.memoizedState),(u=go||wi(t,r,u,n,h,f,l)||null!==e&&null!==e.dependencies&&Ta(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=l,n=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return o=n,Vi(e,t),n=0!==(128&t.flags),o||n?(o=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&n?(t.child=po(t,e.child,null,a),t.child=po(t,null,r,a)):Di(e,t,r,a),t.memoizedState=o.state,e=t.child):e=al(e,t,a),e}function Gi(e,t,r,n){return ba(),t.flags|=256,Di(e,t,r,n),t.child}var $i={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ji(e){return{baseLanes:e,cachePool:Ya()}}function Yi(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Ec),e}function Qi(e,t,r){var n,a=t.pendingProps,o=!1,i=0!==(128&t.flags);if((n=i)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Uo.current)),n&&(o=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(da){if(o?Io(t):Fo(),(e=ua)?null!==(e=null!==(e=Td(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},(r=Wn(e)).return=t,t.child=r,ca=t,ua=null):e=null,null===e)throw ma(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,o?(Fo(),l=Zi({mode:"hidden",children:l},o=t.mode),a=Vn(a,o,r,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Ji(r),a.childLanes=Yi(e,n,r),t.memoizedState=$i,zi(null,a)):(Io(t),Xi(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(i)256&t.flags?(Io(t),t.flags&=-257,t=el(e,t,r)):null!==t.memoizedState?(Fo(),t.child=e.child,t.flags|=128,t=null):(Fo(),l=a.fallback,o=t.mode,a=Zi({mode:"visible",children:a.children},o),(l=Vn(l,o,r,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,po(t,e.child,null,r),(a=t.child).memoizedState=Ji(r),a.childLanes=Yi(e,n,r),t.memoizedState=$i,t=zi(null,a));else if(Io(t),Pd(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var u=n.dgst;n=u,(a=Error(s(419))).stack="",a.digest=n,wa({value:a,source:null,stack:null}),t=el(e,t,r)}else if(Oi||Ca(e,t,r,!1),n=0!==(r&e.childLanes),Oi||n){if(null!==(n=pc)&&(0!==(a=Ie(n,r))&&a!==c.retryLane))throw c.retryLane=a,On(e,a),$c(n,e,a),Pi;Rd(l)||su(),t=el(e,t,r)}else Rd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ua=Od(l.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Xi(t,a.children)).flags|=4096);return t}return o?(Fo(),l=a.fallback,o=t.mode,u=(c=e.child).sibling,(a=Un(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Un(u,l):(l=Vn(l,o,r,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,zi(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Ji(r):(null!==(o=l.cachePool)?(c=Fa._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Ya(),l={baseLanes:l.baseLanes|r,cachePool:o}),a.memoizedState=l,a.childLanes=Yi(e,n,r),t.memoizedState=$i,zi(e.child,a)):(Io(t),e=(r=e.child).sibling,(r=Un(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Xi(e,t){return(t=Zi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zi(e,t){return(e=Fn(22,e,null,t)).lanes=0,e}function el(e,t,r){return po(t,e.child,null,r),(e=Xi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ea(e.return,t,r)}function rl(e,t,r,n,a,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a,s.treeForkCount=o)}function nl(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;n=n.children;var s=Uo.current,i=0!==(2&s);if(i?(s=1&s|2,t.flags|=128):s&=1,B(Uo,s),Di(e,t,n,r),n=da?Xn:0,!i&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,r,t);else if(19===e.tag)tl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Bo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rl(t,!1,a,r,o,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Bo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rl(t,!0,r,null,o,n);break;case"together":rl(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function al(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Nc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Ca(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Un(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Un(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ta(e))}function sl(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Oi=!0;else{if(!ol(e,r)&&0===(128&t.flags))return Oi=!1,function(e,t,r){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),ka(0,Fa,e.memoizedState.cache),ba();break;case 27:case 5:Y(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:ka(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Lo(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Io(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Qi(e,t,r):(Io(t),null!==(e=al(e,t,r))?e.sibling:null);Io(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Ca(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return nl(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(Uo,Uo.current),n)break;return null;case 22:return t.lanes=0,Fi(e,t,r,t.pendingProps);case 24:ka(0,Fa,e.memoizedState.cache)}return al(e,t,r)}(e,t,r);Oi=0!==(131072&e.flags)}else Oi=!1,da&&0!==(1048576&t.flags)&&oa(t,Xn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=no(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===j){t.tag=11,t=Ii(null,t,e,n,r);break e}if(a===k){t.tag=14,t=Li(null,t,e,n,r);break e}}throw t=P(e)||e,Error(s(306,t,""))}zn(e)?(n=_i(e,n),t.tag=1,t=Ki(null,t,e,n,r)):(t.tag=0,t=Hi(null,t,e,n,r))}return t;case 0:return Hi(e,t,t.type,t.pendingProps,r);case 1:return Ki(e,t,n=t.type,a=_i(n,t.pendingProps),r);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(s(387));n=t.pendingProps;var o=t.memoizedState;a=o.element,yo(e,t),ko(t,n,null,r);var i=t.memoizedState;if(n=i.cache,ka(0,Fa,n),n!==o.cache&&Aa(t,[Fa],r,!0),No(),n=i.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Gi(e,t,n,r);break e}if(n!==a){wa(a=$n(Error(s(424)),t)),t=Gi(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ua=Od(e.firstChild),ca=t,da=!0,ha=null,fa=!0,r=mo(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ba(),n===a){t=al(e,t,r);break e}Di(e,t,n,r)}t=t.child}return t;case 26:return Vi(e,t),null===e?(r=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=r:da||(r=t.type,e=t.pendingProps,(n=gd(K.current).createElement(r))[Be]=t,n[qe]=e,hd(n,r,e),et(n),t.stateNode=n):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&da&&(n=t.stateNode=Md(t.type,t.pendingProps,K.current),ca=t,fa=!0,a=ua,Sd(t.type)?(Dd=a,ua=Od(n.firstChild)):ua=a),Di(e,t,t.pendingProps.children,r),Vi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&da&&((a=n=ua)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===o)return e}if(null===(e=Od(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,fa))?(t.stateNode=n,ca=t,ua=Od(n.firstChild),fa=!1,a=!0):a=!1),a||ma(t)),Y(t),a=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,n=o.children,bd(a,o)?n=null:null!==i&&bd(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=ts(e,t,as,null,null,r),uh._currentValue=a),Vi(e,t),Di(e,t,n,r),t.child;case 6:return null===e&&da&&((e=r=ua)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(r,t.pendingProps,fa))?(t.stateNode=r,ca=t,ua=null,e=!0):e=!1),e||ma(t)),null;case 13:return Qi(e,t,r);case 4:return $(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=po(t,null,n,r):Di(e,t,n,r),t.child;case 11:return Ii(e,t,t.type,t.pendingProps,r);case 7:return Di(e,t,t.pendingProps,r),t.child;case 8:case 12:return Di(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ka(0,t.type,n.value),Di(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Ra(t),n=n(a=Pa(a)),t.flags|=1,Di(e,t,n,r),t.child;case 14:return Li(e,t,t.type,t.pendingProps,r);case 15:return Mi(e,t,t.type,t.pendingProps,r);case 19:return nl(e,t,r);case 31:return function(e,t,r){var n=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(da){if("hidden"===n.mode)return e=Bi(t,n),t.lanes=536870912,zi(null,e);if(Lo(t),(e=ua)?null!==(e=null!==(e=Td(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},(r=Wn(e)).return=t,t.child=r,ca=t,ua=null):e=null,null===e)throw ma(t);return t.lanes=536870912,null}return Bi(t,n)}var o=e.memoizedState;if(null!==o){var i=o.dehydrated;if(Lo(t),a)if(256&t.flags)t.flags&=-257,t=qi(e,t,r);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Oi||Ca(e,t,r,!1),a=0!==(r&e.childLanes),Oi||a){if(null!==(n=pc)&&0!==(i=Ie(n,r))&&i!==o.retryLane)throw o.retryLane=i,On(e,i),$c(n,e,i),Pi;su(),t=qi(e,t,r)}else e=o.treeContext,ua=Od(i.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Bi(t,n)).flags|=4096;return t}return(e=Un(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return Fi(e,t,r,t.pendingProps);case 24:return Ra(t),n=Pa(Fa),null===e?(null===(a=$a())&&(a=pc,o=za(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=r),a=o),t.memoizedState={parent:n,cache:a},vo(t),ka(0,Fa,a)):(0!==(e.lanes&r)&&(yo(e,t),ko(t,null,null,r),No()),a=e.memoizedState,o=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ka(0,Fa,n)):(n=o.cache,ka(0,Fa,n),n!==a.cache&&Aa(t,[Fa],r,!0))),Di(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function il(e){e.flags|=4}function ll(e,t,r,n,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!nu())throw ao=eo,Xa;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!nu())throw ao=eo,Xa;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,Ac|=t)}function dl(e,t){if(!da)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fl(e,t,r){var n=t.pendingProps;switch(ia(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sa(Fa),J(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ya(t)?il(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xa())),hl(t),null;case 26:var a=t.type,o=t.memoizedState;return null===e?(il(t),null!==o?(hl(t),cl(t,o)):(hl(t),ll(t,a,0,0,r))):o?o!==e.memoizedState?(il(t),hl(t),cl(t,o)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&il(t),hl(t),ll(t,a,0,0,r)),null;case 27:if(Q(t),r=K.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&il(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return hl(t),null}e=H.current,ya(t)?ga(t):(e=Md(a,n,r),t.stateNode=e,il(t))}return hl(t),null;case 5:if(Q(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&il(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return hl(t),null}if(o=H.current,ya(t))ga(t);else{var i=gd(K.current);switch(o){case 1:o=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:o=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":o=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":o=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(o=i.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof n.is?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?o.multiple=!0:n.size&&(o.size=n.size);break;default:o="string"===typeof n.is?i.createElement(a,{is:n.is}):i.createElement(a)}}o[Be]=t,o[qe]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)o.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=o;e:switch(hd(o,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&il(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&il(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(e=K.current,ya(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=ca))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||cd(e.nodeValue,r)))||ma(t,!0)}else(e=gd(e).createTextNode(n))[Be]=t,t.stateNode=e}return hl(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(n=ya(t),null!==r){if(null===e){if(!n)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Be]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else r=xa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(zo(t),t):(zo(t),null);if(0!==(128&t.flags))throw Error(s(558))}return hl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ya(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Be]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),a=!1}else a=xa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(zo(t),t):(zo(t),null)}return zo(t),0!==(128&t.flags)?(t.lanes=r,t):(r=null!==n,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool),o=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return J(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return Sa(t.type),hl(t),null;case 19:if(U(Uo),null===(n=t.memoizedState))return hl(t),null;if(a=0!==(128&t.flags),null===(o=n.rendering))if(a)dl(n,!1);else{if(0!==_c||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Bo(e))){for(t.flags|=128,dl(n,!1),e=o.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Bn(r,e),r=r.sibling;return B(Uo,1&Uo.current|2),da&&aa(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&le()>Dc&&(t.flags|=128,a=!0,dl(n,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Bo(o))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(n,!0),null===n.tail&&"hidden"===n.tailMode&&!o.alternate&&!da)return hl(t),null}else 2*le()-n.renderingStartTime>Dc&&536870912!==r&&(t.flags|=128,a=!0,dl(n,!1),t.lanes=4194304);n.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=n.last)?e.sibling=o:t.child=o,n.last=o)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=le(),e.sibling=null,r=Uo.current,B(Uo,a?1&r|2:1&r),da&&aa(t,n.treeForkCount),e):(hl(t),null);case 22:case 23:return zo(t),Po(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(r=t.updateQueue)&&ul(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&U(Ga),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Sa(Fa),hl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function pl(e,t){switch(ia(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Sa(Fa),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(zo(t),null===t.alternate)throw Error(s(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Uo),null;case 4:return J(),null;case 10:return Sa(t.type),null;case 22:case 23:return zo(t),Po(),null!==e&&U(Ga),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Sa(Fa),null;default:return null}}function ml(e,t){switch(ia(t),t.tag){case 3:Sa(Fa),J();break;case 26:case 27:case 5:Q(t);break;case 4:J();break;case 31:null!==t.memoizedState&&zo(t);break;case 13:zo(t);break;case 19:U(Uo);break;case 10:Sa(t.type);break;case 22:case 23:zo(t),Po(),null!==e&&U(Ga);break;case 24:Sa(Fa)}}function gl(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var o=r.create,s=r.inst;n=o(),s.destroy=n}r=r.next}while(r!==a)}}catch(i){_u(t,t.return,i)}}function vl(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var o=a.next;n=o;do{if((n.tag&e)===e){var s=n.inst,i=s.destroy;if(void 0!==i){s.destroy=void 0,a=t;var l=r,c=i;try{c()}catch(u){_u(a,l,u)}}}n=n.next}while(n!==o)}}catch(u){_u(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Eo(t,r)}catch(n){_u(e,e.return,n)}}}function bl(e,t,r){r.props=_i(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){_u(e,t,n)}}function xl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){_u(e,t,a)}}function wl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){_u(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(o){_u(e,t,o)}else r.current=null}function jl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){_u(e,e.return,a)}}function _l(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,i=null,l=null,c=null,u=null,d=null;for(p in r){var h=r[p];if(r.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(p)||ud(e,t,p,null,n,h)}}for(var f in n){var p=n[f];if(h=r[f],n.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":i=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&ud(e,t,f,p,n,h)}}return void yt(e,i,l,c,u,d,o,a);case"select":for(o in p=i=l=f=null,r)if(c=r[o],r.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(o)||ud(e,t,o,null,n,c)}for(a in n)if(o=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=o||null!=c))switch(a){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:o!==c&&ud(e,t,a,o,n,c)}return t=l,r=i,n=p,void(null!=f?wt(e,!!r,f,!1):!!n!==!!r&&(null!=t?wt(e,!!r,t,!0):wt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=f=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,n,a)}for(i in n)if(a=n[i],o=r[i],n.hasOwnProperty(i)&&(null!=a||null!=o))switch(i){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==o&&ud(e,t,i,a,n,o)}return void jt(e,f,p);case"option":for(var m in r)if(f=r[m],r.hasOwnProperty(m)&&null!=f&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,n,f);for(c in n)if(f=n[c],p=r[c],n.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&null!=f&&!n.hasOwnProperty(g)&&ud(e,t,g,null,n,f);for(u in n)if(f=n[u],p=r[u],n.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:ud(e,t,u,f,n,p)}return;default:if(At(t)){for(var v in r)f=r[v],r.hasOwnProperty(v)&&void 0!==f&&!n.hasOwnProperty(v)&&dd(e,t,v,void 0,n,f);for(d in n)f=n[d],p=r[d],!n.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,n,p);return}}for(var y in r)f=r[y],r.hasOwnProperty(y)&&null!=f&&!n.hasOwnProperty(y)&&ud(e,t,y,null,n,f);for(h in n)f=n[h],p=r[h],!n.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,n,p)}(n,e.type,r,t),n[qe]=t}catch(a){_u(e,e.return,a)}}function Nl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Sd(e.type)||4===e.tag}function kl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Sd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Pt));else if(4!==n&&(27===n&&Sd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(Sl(e,t,r),e=e.sibling;null!==e;)Sl(e,t,r),e=e.sibling}function El(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&Sd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(El(e,t,r),e=e.sibling;null!==e;)El(e,t,r),e=e.sibling}function Al(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);hd(t,n,r),t[Be]=e,t[qe]=r}catch(o){_u(e,e.return,o)}}var Cl=!1,Tl=!1,Rl=!1,Pl="function"===typeof WeakSet?WeakSet:Set,Ol=null;function Dl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:$l(e,r),4&n&&gl(5,r);break;case 1:if($l(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(s){_u(r,r.return,s)}else{var a=_i(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){_u(r,r.return,i)}}64&n&&yl(r),512&n&&xl(r,r.return);break;case 3:if($l(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{Eo(e,t)}catch(s){_u(r,r.return,s)}}break;case 27:null===t&&4&n&&Al(r);case 26:case 5:$l(e,r),null===t&&4&n&&jl(r),512&n&&xl(r,r.return);break;case 12:$l(e,r);break;case 31:$l(e,r),4&n&&Ul(e,r);break;case 13:$l(e,r),4&n&&Bl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=Eu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||Cl)){t=null!==t&&null!==t.memoizedState||Tl,a=Cl;var o=Tl;Cl=n,(Tl=t)&&!o?Yl(e,r,0!==(8772&r.subtreeFlags)):$l(e,r),Cl=a,Tl=o}break;case 30:break;default:$l(e,r)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ll=null,Ml=!1;function Fl(e,t,r){for(r=r.child;null!==r;)zl(e,t,r),r=r.sibling}function zl(e,t,r){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,r)}catch(o){}switch(r.tag){case 26:Tl||wl(r,t),Fl(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Tl||wl(r,t);var n=Ll,a=Ml;Sd(r.type)&&(Ll=r.stateNode,Ml=!1),Fl(e,t,r),Fd(r.stateNode),Ll=n,Ml=a;break;case 5:Tl||wl(r,t);case 6:if(n=Ll,a=Ml,Ll=null,Fl(e,t,r),Ml=a,null!==(Ll=n))if(Ml)try{(9===Ll.nodeType?Ll.body:"HTML"===Ll.nodeName?Ll.ownerDocument.body:Ll).removeChild(r.stateNode)}catch(s){_u(r,t,s)}else try{Ll.removeChild(r.stateNode)}catch(s){_u(r,t,s)}break;case 18:null!==Ll&&(Ml?(Ed(9===(e=Ll).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Hh(e)):Ed(Ll,r.stateNode));break;case 4:n=Ll,a=Ml,Ll=r.stateNode.containerInfo,Ml=!0,Fl(e,t,r),Ll=n,Ml=a;break;case 0:case 11:case 14:case 15:vl(2,r,t),Tl||vl(4,r,t),Fl(e,t,r);break;case 1:Tl||(wl(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&bl(r,t,n)),Fl(e,t,r);break;case 21:Fl(e,t,r);break;case 22:Tl=(n=Tl)||null!==r.memoizedState,Fl(e,t,r),Tl=n;break;default:Fl(e,t,r)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hh(e)}catch(r){_u(t,t.return,r)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hh(e)}catch(r){_u(t,t.return,r)}}function ql(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var n=Au.bind(null,e,t);t.then(n,n)}})}function Vl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 27:if(Sd(l.type)){Ll=l.stateNode,Ml=!1;break e}break;case 5:Ll=l.stateNode,Ml=!1;break e;case 3:case 4:Ll=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===Ll)throw Error(s(160));zl(o,i,a),Ll=null,Ml=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var Hl=null;function Wl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vl(t,e),Kl(e),4&n&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Vl(t,e),Kl(e),512&n&&(Tl||null===r||wl(r,r.return)),64&n&&Cl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Hl;if(Vl(t,e),Kl(e),512&n&&(Tl||null===r||wl(r,r.return)),4&n){var o=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(o=a.getElementsByTagName("title")[0])||o[$e]||o[Be]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(n),a.head.insertBefore(o,a.querySelector("head > title"))),hd(o,n,r),o[Be]=e,et(o),n=o;break e;case"link":var i=rh("link","href",a).get(n+(r.href||""));if(i)for(var l=0;l<i.length;l++)if((o=i[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&o.getAttribute("rel")===(null==r.rel?null:r.rel)&&o.getAttribute("title")===(null==r.title?null:r.title)&&o.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){i.splice(l,1);break t}hd(o=a.createElement(n),n,r),a.head.appendChild(o);break;case"meta":if(i=rh("meta","content",a).get(n+(r.content||"")))for(l=0;l<i.length;l++)if((o=i[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&o.getAttribute("name")===(null==r.name?null:r.name)&&o.getAttribute("property")===(null==r.property?null:r.property)&&o.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&o.getAttribute("charset")===(null==r.charSet?null:r.charSet)){i.splice(l,1);break t}hd(o=a.createElement(n),n,r),a.head.appendChild(o);break;default:throw Error(s(468,n))}o[Be]=e,et(o),n=o}e.stateNode=n}else nh(a,e.type,e.stateNode);else e.stateNode=Qd(a,n,e.memoizedProps);else o!==n?(null===o?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):o.count--,null===n?nh(a,e.type,e.stateNode):Qd(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&_l(e,e.memoizedProps,r.memoizedProps)}break;case 27:Vl(t,e),Kl(e),512&n&&(Tl||null===r||wl(r,r.return)),null!==r&&4&n&&_l(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Vl(t,e),Kl(e),512&n&&(Tl||null===r||wl(r,r.return)),32&e.flags){a=e.stateNode;try{Nt(a,"")}catch(m){_u(e,e.return,m)}}4&n&&null!=e.stateNode&&_l(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(Rl=!0);break;case 6:if(Vl(t,e),Kl(e),4&n){if(null===e.stateNode)throw Error(s(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(m){_u(e,e.return,m)}}break;case 3:if(th=null,a=Hl,Hl=Bd(t.containerInfo),Vl(t,e),Hl=a,Kl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Hh(t.containerInfo)}catch(m){_u(e,e.return,m)}Rl&&(Rl=!1,Gl(e));break;case 4:n=Hl,Hl=Bd(e.stateNode.containerInfo),Vl(t,e),Kl(e),Hl=n;break;case 12:default:Vl(t,e),Kl(e);break;case 31:case 19:Vl(t,e),Kl(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,ql(e,n)));break;case 13:Vl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(Pc=le()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,ql(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=Cl,d=Tl;if(Cl=u||a,Tl=d||c,Vl(t,e),Tl=d,Cl=u,Kl(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||Cl||Tl||Jl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(o=c.stateNode,a)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){_u(c,c.return,m)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){_u(c,c.return,m)}}}else if(18===t.tag){if(null===r){c=t;try{var p=c.stateNode;a?Ad(p,!0):Ad(c.stateNode,!1)}catch(m){_u(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,ql(e,r))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(Nl(n)){r=n;break}n=n.return}if(null==r)throw Error(s(160));switch(r.tag){case 27:var a=r.stateNode;El(e,kl(e),a);break;case 5:var o=r.stateNode;32&r.flags&&(Nt(o,""),r.flags&=-33),El(e,kl(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;Sl(e,kl(e),i);break;default:throw Error(s(161))}}catch(l){_u(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Jl(t);break;case 1:wl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&bl(t,t.return,r),Jl(t);break;case 27:Fd(t.stateNode);case 26:case 5:wl(t,t.return),Jl(t);break;case 22:null===t.memoizedState&&Jl(t);break;default:Jl(t)}e=e.sibling}}function Yl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Yl(a,o,r),gl(4,o);break;case 1:if(Yl(a,o,r),"function"===typeof(a=(n=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){_u(n,n.return,c)}if(null!==(a=(n=o).updateQueue)){var i=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)So(l[a],i)}catch(c){_u(n,n.return,c)}}r&&64&s&&yl(o),xl(o,o.return);break;case 27:Al(o);case 26:case 5:Yl(a,o,r),r&&null===n&&4&s&&jl(o),xl(o,o.return);break;case 12:Yl(a,o,r);break;case 31:Yl(a,o,r),r&&4&s&&Ul(a,o);break;case 13:Yl(a,o,r),r&&4&s&&Bl(a,o);break;case 22:null===o.memoizedState&&Yl(a,o,r),xl(o,o.return);break;case 30:break;default:Yl(a,o,r)}t=t.sibling}}function Ql(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Ua(r))}function Xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ua(e))}function Zl(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,r,n),t=t.sibling}function ec(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,r,n),2048&a&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,r,n);break;case 3:Zl(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ua(e)));break;case 12:if(2048&a){Zl(e,t,r,n),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,i=o.onPostCommit;"function"===typeof i&&i(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_u(t,t.return,l)}}else Zl(e,t,r,n);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Zl(e,t,r,n):rc(e,t):2&o._visibility?Zl(e,t,r,n):(o._visibility|=2,tc(e,t,r,n,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Ql(s,t);break;case 24:Zl(e,t,r,n),2048&a&&Xl(t.alternate,t)}}function tc(e,t,r,n,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,i=r,l=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(o,s,i,l,a),gl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(o,s,i,l,a):rc(o,s):(u._visibility|=2,tc(o,s,i,l,a)),a&&2048&c&&Ql(s.alternate,s);break;case 24:tc(o,s,i,l,a),a&&2048&c&&Xl(s.alternate,s);break;default:tc(o,s,i,l,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:rc(r,n),2048&a&&Ql(n.alternate,n);break;case 24:rc(r,n),2048&a&&Xl(n.alternate,n);break;default:rc(r,n)}t=t.sibling}}var nc=8192;function ac(e,t,r){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)oc(e,t,r),e=e.sibling}function oc(e,t,r){switch(e.tag){case 26:ac(e,t,r),e.flags&nc&&null!==e.memoizedState&&function(e,t,r,n){if("stylesheet"===r.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&r.state.loading)){if(null===r.instance){var a=Kd(n.href),o=t.querySelector(Gd(a));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=o,void et(o);o=t.ownerDocument||t,n=$d(n),(a=zd.get(a))&&Zd(n,a),et(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(o,"link",n),r.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&0===(3&r.state.loading)&&(e.count++,r=sh.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Hl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,r);break;case 3:case 4:var n=Hl;Hl=Bd(e.stateNode.containerInfo),ac(e,t,r),Hl=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=nc,nc=16777216,ac(e,t,r),nc=n):ac(e,t,r))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Ol=n,uc(n,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ic(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Ol=n,uc(n,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Ol;){var r=Ol;switch(r.tag){case 0:case 11:case 15:vl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ua(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Ol=n;else e:for(r=e;null!==Ol;){var a=(n=Ol).sibling,o=n.return;if(Il(n),n===r){Ol=null;break e}if(null!==a){a.return=o,Ol=a;break e}Ol=o}}}var dc={getCacheForType:function(e){var t=Pa(Fa),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Pa(Fa).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,vc=0,yc=null,bc=!1,xc=!1,wc=!1,jc=0,_c=0,Nc=0,kc=0,Sc=0,Ec=0,Ac=0,Cc=null,Tc=null,Rc=!1,Pc=0,Oc=0,Dc=1/0,Ic=null,Lc=null,Mc=0,Fc=null,zc=null,Uc=0,Bc=0,qc=null,Vc=null,Hc=0,Wc=null;function Kc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==D.T?qu():Fe()}function Gc(){if(0===Ec)if(0===(536870912&gc)||da){var e=Ne;0===(3932160&(Ne<<=1))&&(Ne=262144),Ec=e}else Ec=536870912;return null!==(e=Oo.current)&&(e.flags|=32),Ec}function $c(e,t,r){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Xc(e,gc,Ec,!1)),Pe(e,r),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(kc|=r),4===_c&&Xc(e,gc,Ec,!1)),Iu(e))}function Jc(e,t,r){if(0!==(6&fc))throw Error(s(327));for(var n=!r&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),a=n?function(e,t){var r=fc;fc|=2;var n=au(),a=ou();pc!==e||gc!==t?(Ic=null,Dc=le()+500,tu(e,t)):xc=Ae(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var o=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,o,1);break;case 2:case 9:if(to(o)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Iu(e)},o.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:to(o)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,o,7));break;case 5:var i=null;switch(mc.tag){case 26:i=mc.memoizedState;case 5:case 27:var l=mc;if(i?ah(i):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,o,5);break;case 6:vc=0,yc=null,hu(e,t,o,6);break;case 8:eu(),_c=6;break e;default:throw Error(s(462))}}cu();break}catch(d){ru(e,d)}return Na=_a=null,D.H=n,D.A=a,fc=r,null!==mc?0:(pc=null,gc=0,Tn(),_c)}(e,t):iu(e,t,!0),o=n;;){if(0===a){xc&&!n&&Xc(e,t,0,!1);break}if(r=e.current.alternate,!o||Qc(r)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var l=e;a=Cc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,i).flags|=256),2!==(i=iu(l,i,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=o,kc|=o,a=4;break e}o=Tc,Tc=a,null!==o&&(null===Tc?Tc=o:Tc.push.apply(Tc,o))}a=i}if(o=!1,2!==a)continue}}if(1===a){tu(e,0),Xc(e,t,0,!0);break}e:{switch(n=e,o=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Xc(n,t,Ec,!bc);break e;case 2:Tc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=Pc+300-le())){if(Xc(n,t,Ec,!bc),0!==Ee(n,0,!0))break e;Uc=t,n.timeoutHandle=wd(Yc.bind(null,n,r,Tc,Ic,Rc,t,Ec,kc,Ac,bc,o,"Throttled",-0,0),a)}else Yc(n,r,Tc,Ic,Rc,t,Ec,kc,Ac,bc,o,null,-0,0)}break}a=iu(e,t,!1),o=!1}Iu(e)}function Yc(e,t,r,n,a,o,s,i,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){oc(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var p=(62914560&o)===o?Pc-le():(4194048&o)===o?Oc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],o=a.transferSize,s=a.initiatorType,i=a.duration;if(o&&i&&fd(s)){for(s=0,i=a.responseEnd,n+=1;n<r.length;n++){var l=r[n],c=l.startTime;if(c>i)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(s+=u*((l=l.responseEnd)<i?1:(i-c)/(l-c)))}if(--n,t+=8*(o+s)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}(d,p),null!==p)return Uc=o,e.cancelPendingCommit=p(mu.bind(null,e,t,o,r,n,a,s,i,l,u,d,null,h,f)),void Xc(e,o,s,!c)}mu(e,t,o,r,n,a,s,i,l)}function Qc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Qr(o(),a))return!1}catch(s){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,r,n){t&=~Sc,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var o=31-xe(a),s=1<<o;n[o]=-1,a&=~s}0!==r&&Oe(e,r,t)}function Zc(){return 0!==(6&fc)||(Lu(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else Na=_a=null,is(e=mc),io=null,lo=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,jd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Uc=0,eu(),pc=e,mc=r=Un(e.current,null),gc=t,vc=0,yc=null,bc=!1,xc=Ae(e,t),wc=!1,Ac=Ec=Sc=kc=Nc=_c=0,Tc=Cc=null,Rc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-xe(n),o=1<<a;t|=e[a],n&=~o}return jc=t,Tn(),r}function ru(e,t){Vo=null,D.H=mi,t===Qa||t===Za?(t=oo(),vc=3):t===Xa?(t=oo(),vc=4):vc=t===Pi?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===mc&&(_c=1,Ei(e,$n(t,e.current)))}function nu(){var e=Oo.current;return null===e||((4194048&gc)===gc?null===Do:((62914560&gc)===gc||0!==(536870912&gc))&&e===Do)}function au(){var e=D.H;return D.H=mi,null===e?mi:e}function ou(){var e=D.A;return D.A=dc,e}function su(){_c=4,bc||(4194048&gc)!==gc&&null!==Oo.current||(xc=!0),0===(134217727&Nc)&&0===(134217727&kc)||null===pc||Xc(pc,gc,Ec,!1)}function iu(e,t,r){var n=fc;fc|=2;var a=au(),o=ou();pc===e&&gc===t||(Ic=null,tu(e,t)),t=!1;var s=_c;e:for(;;)try{if(0!==vc&&null!==mc){var i=mc,l=yc;switch(vc){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Oo.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,i,l,c),r&&xc){s=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,i,l,c)}}lu(),s=_c;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Na=_a=null,fc=n,D.H=a,D.A=o,null===mc&&(pc=null,gc=0,Tn()),s}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!se();)uu(mc)}function uu(e){var t=sl(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Wi(r,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Wi(r,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:is(t);default:ml(r,t),t=sl(r,t=mc=Bn(t,jc),jc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e,t,r,n){Na=_a=null,is(t),io=null,lo=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Ca(t,r,a,!0),null!==(r=Oo.current)){switch(r.tag){case 31:case 13:return null===Do?su():null===r.alternate&&0===_c&&(_c=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===eo?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),Nu(e,n,a)),!1;case 22:return r.flags|=65536,n===eo?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),Nu(e,n,a)),!1}throw Error(s(435,r.tag))}return Nu(e,n,a),su(),!1}if(da)return null!==(t=Oo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==pa&&wa($n(e=Error(s(422),{cause:n}),r))):(n!==pa&&wa($n(t=Error(s(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=$n(n,r),jo(e,a=Ci(e.stateNode,n,a)),4!==_c&&(_c=2)),!1;var o=Error(s(520),{cause:n});if(o=$n(o,r),null===Cc?Cc=[o]:Cc.push(o),4!==_c&&(_c=2),null===t)return!0;n=$n(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,jo(r,e=Ci(r.stateNode,n,e)),!1;case 1:if(t=r.type,o=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Lc||!Lc.has(o))))return r.flags|=65536,a&=-a,r.lanes|=a,Ri(a=Ti(a),e,r,n),jo(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,gc))return _c=1,Ei(e,$n(r,e.current)),void(mc=null)}catch(o){if(null!==a)throw mc=a,o;return _c=1,Ei(e,$n(r,e.current)),void(mc=null)}32768&t.flags?(da||1===n?e=!0:xc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=Oo.current)&&13===n.tag&&(n.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var r=fl(t.alternate,t,jc);if(null!==r)return void(mc=r);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===_c&&(_c=5)}function pu(e,t){do{var r=pl(e.alternate,e);if(null!==r)return r.flags&=32767,void(mc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=r}while(null!==e);_c=6,mc=null}function mu(e,t,r,n,a,o,i,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Mc);if(0!==(6&fc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,r,n,a,o){var s=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=s&~r;0<r;){var u=31-xe(r),d=1<<u;i[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}r&=~d}0!==n&&Oe(e,n,0),0!==o&&0===a&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,r,o|=Cn,i,l,c),e===pc&&(mc=pc=null,gc=0),zc=t,Fc=e,Uc=r,Bc=o,qc=a,Vc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null,a=I.p,I.p=2,i=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,pd=bh,nn(e=rn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(g){r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==n&&3!==h.nodeType||(c=i+n),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=i),f===o&&++d===n&&(c=i),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},bh=!1,Ol=t;null!==Ol;)if(e=(t=Ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ol=e;else for(;null!==Ol;){switch(o=(t=Ol).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(a=e[r]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,r=t,a=o.memoizedProps,o=o.memoizedState,n=r.stateNode;try{var m=_i(r.type,a);e=n.getSnapshotBeforeUpdate(m,o),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){_u(r,r.return,v)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))Cd(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Ol=e;break}Ol=t.return}}(e,t)}finally{fc=i,I.p=a,D.T=n}}Mc=1,gu(),vu(),yu()}}function gu(){if(1===Mc){Mc=0;var e=Fc,t=zc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null;var n=I.p;I.p=2;var a=fc;fc|=4;try{Wl(t,e);var o=md,s=rn(e.containerInfo),i=o.focusedElem,l=o.selectionRange;if(s!==i&&i&&i.ownerDocument&&tn(i.ownerDocument.documentElement,i)){if(null!==l&&nn(i)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=i.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=en(i,m),y=en(i,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=i;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<d.length;i++){var x=d[i];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}bh=!!pd,md=pd=null}finally{fc=a,I.p=n,D.T=r}}e.current=t,Mc=2}}function vu(){if(2===Mc){Mc=0;var e=Fc,t=zc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=D.T,D.T=null;var n=I.p;I.p=2;var a=fc;fc|=4;try{Dl(e,t.alternate,t)}finally{fc=a,I.p=n,D.T=r}}Mc=3}}function yu(){if(4===Mc||3===Mc){Mc=0,ie();var e=Fc,t=zc,r=Uc,n=Vc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,zc=Fc=null,bu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Lc=null),Me(r),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=D.T,a=I.p,I.p=2,D.T=null;try{for(var o=e.onRecoverableError,s=0;s<n.length;s++){var i=n[s];o(i.value,{componentStack:i.stack})}}finally{D.T=t,I.p=a}}0!==(3&Uc)&&xu(),Iu(e),a=e.pendingLanes,0!==(261930&r)&&0!==(42&a)?e===Wc?Hc++:(Hc=0,Wc=e):Hc=0,Lu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ua(t)))}function xu(){return gu(),vu(),yu(),wu()}function wu(){if(5!==Mc)return!1;var e=Fc,t=Bc;Bc=0;var r=Me(Uc),n=D.T,a=I.p;try{I.p=32>r?32:r,D.T=null,r=qc,qc=null;var o=Fc,i=Uc;if(Mc=0,zc=Fc=null,Uc=0,0!==(6&fc))throw Error(s(331));var l=fc;if(fc|=4,lc(o.current),ec(o,o.current,i,r),fc=l,Lu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,o)}catch(c){}return!0}finally{I.p=a,D.T=n,bu(e,t)}}function ju(e,t,r){t=$n(r,t),null!==(e=xo(e,t=Ci(e.stateNode,t,2),2))&&(Pe(e,2),Iu(e))}function _u(e,t,r){if(3===e.tag)ju(e,e,r);else for(;null!==t;){if(3===t.tag){ju(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Lc||!Lc.has(n))){e=$n(r,e),null!==(n=xo(t,r=Ti(2),2))&&(Ri(r,n,t,e),Pe(n,2),Iu(n));break}}t=t.return}}function Nu(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(wc=!0,a.add(r),e=ku.bind(null,e,t,r),t.then(e,e))}function ku(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,pc===e&&(gc&r)===r&&(4===_c||3===_c&&(62914560&gc)===gc&&300>le()-Pc?0===(2&fc)&&tu(e,0):Sc|=r,Ac===gc&&(Ac=0)),Iu(e)}function Su(e,t){0===t&&(t=Te()),null!==(e=On(e,t))&&(Pe(e,t),Iu(e))}function Eu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Su(e,r)}function Au(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==n&&n.delete(t),Su(e,r)}var Cu=null,Tu=null,Ru=!1,Pu=!1,Ou=!1,Du=0;function Iu(e){e!==Tu&&null===e.next&&(null===Tu?Cu=Tu=e:Tu=Tu.next=e),Pu=!0,Ru||(Ru=!0,Nd(function(){0!==(6&fc)?ae(ue,Mu):Fu()}))}function Lu(e,t){if(!Ou&&Pu){Ou=!0;do{for(var r=!1,n=Cu;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var o=0;else{var s=n.suspendedLanes,i=n.pingedLanes;o=(1<<31-xe(42|e)+1)-1,o=201326741&(o&=a&~(s&~i))?201326741&o|1:o?2|o:0}0!==o&&(r=!0,Bu(n,o))}else o=gc,0===(3&(o=Ee(n,n===pc?o:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Ae(n,o)||(r=!0,Bu(n,o));n=n.next}}while(r);Ou=!1}}function Mu(){Fu()}function Fu(){Pu=Ru=!1;var e=0;0!==Du&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Du);for(var t=le(),r=null,n=Cu;null!==n;){var a=n.next,o=zu(n,t);0===o?(n.next=null,null===r?Cu=a:r.next=a,null===a&&(Tu=r)):(r=n,(0!==e||0!==(3&o))&&(Pu=!0)),n=a}0!==Mc&&5!==Mc||Lu(e,!1),0!==Du&&(Du=0)}function zu(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-xe(o),i=1<<s,l=a[s];-1===l?0!==(i&r)&&0===(i&n)||(a[s]=Ce(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}if(r=gc,r=Ee(e,e===(t=pc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&oe(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||Ae(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&oe(n),Me(r)){case 2:case 8:r=de;break;case 32:default:r=he;break;case 268435456:r=pe}return n=Uu.bind(null,e),r=ae(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&oe(n),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(xu()&&e.callbackNode!==r)return null;var n=gc;return 0===(n=Ee(e,e===pc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jc(e,n,t),zu(e,le()),null!=e.callbackNode&&e.callbackNode===r?Uu.bind(null,e):null)}function Bu(e,t){if(xu())return null;Jc(e,t,!0)}function qu(){if(0===Du){var e=Va;0===e&&(e=_e,0===(261888&(_e<<=1))&&(_e=256)),Du=e}return Du}function Vu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Hu(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Wu=0;Wu<Nn.length;Wu++){var Ku=Nn[Wu];kn(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}kn(gn,"onAnimationEnd"),kn(vn,"onAnimationIteration"),kn(yn,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(bn,"onTransitionRun"),kn(xn,"onTransitionStart"),kn(wn,"onTransitionCancel"),kn(jn,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$u=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Ju(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var i=n[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=c;try{o(a)}catch(u){Sn(u)}a.currentTarget=null,o=l}else for(s=0;s<n.length;s++){if(l=(i=n[s]).instance,c=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=c;try{o(a)}catch(u){Sn(u)}a.currentTarget=null,o=l}}}}function Yu(e,t){var r=t[He];void 0===r&&(r=t[He]=new Set);var n=e+"__bubble";r.has(n)||(ed(t,e,2,!1),r.add(n))}function Qu(e,t,r){var n=0;t&&(n|=4),ed(r,e,n,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&($u.has(t)||Qu(t,!1,e),Qu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Qu("selectionchange",!1,t))}}function ed(e,t,r,n){switch(Sh(t)){case 2:var a=xh;break;case 8:a=wh;break;default:a=jh}r=a.bind(null,t,r,e),a=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function td(e,t,r,n,a){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var i=n.stateNode.containerInfo;if(i===a)break;if(4===s)for(s=n.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==i;){if(null===(s=Ye(i)))return;if(5===(c=s.tag)||6===c||26===c||27===c){n=o=s;continue e}i=i.parentNode}}n=n.return}zt(function(){var n=o,a=Dt(r),s=[];e:{var i=_n.get(e);if(void 0!==i){var c=rr,u=e;switch(e){case"keypress":if(0===$t(r))break e;case"keydown":case"keyup":c=vr;break;case"focusin":u="focus",c=lr;break;case"focusout":u="blur",c=lr;break;case"beforeblur":case"afterblur":c=lr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=br;break;case gn:case vn:case yn:c=cr;break;case jn:c=xr;break;case"scroll":case"scrollend":c=ar;break;case"wheel":c=wr;break;case"copy":case"cut":case"paste":c=ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yr;break;case"toggle":case"beforetoggle":c=jr}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==i?i+"Capture":null:i;d=[];for(var p,m=n;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(i=new c(i,u,null,r,a),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===Ot||!(u=r.relatedTarget||r.fromElement)||!Ye(u)&&!u[Ve])&&(c||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=n),c!==u)){if(d=sr,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=yr,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?i:Xe(c),p=null==u?i:Xe(u),(i=new d(g,m+"leave",c,r,a)).target=h,i.relatedTarget=p,g=null,Ye(a)===n&&((d=new d(f,m+"enter",u,r,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&od(s,i,c,d,!1),null!==u&&null!==h&&od(s,h,u,d,!0)}if("select"===(c=(i=n?Xe(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var y=Ur;else if(Dr(i))if(Br)y=Yr;else{y=$r;var b=Gr}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?n&&At(n.elementType)&&(y=Ur):y=Jr;switch(y&&(y=y(e,n))?Ir(s,y,r,a):(b&&b(e,i,n),"focusout"===e&&n&&"number"===i.type&&null!=n.memoizedProps.value&&xt(i,"number",i.value)),b=n?Xe(n):window,e){case"focusin":(Dr(b)||"true"===b.contentEditable)&&(on=b,sn=n,ln=null);break;case"focusout":ln=sn=on=null;break;case"mousedown":cn=!0;break;case"contextmenu":case"mouseup":case"dragend":cn=!1,un(s,r,a);break;case"selectionchange":if(an)break;case"keydown":case"keyup":un(s,r,a)}var x;if(Nr)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pr?Tr(e,r)&&(w="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(w="onCompositionStart");w&&(Er&&"ko"!==r.locale&&(Pr||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pr&&(x=Gt()):(Wt="value"in(Ht=a)?Ht.value:Ht.textContent,Pr=!0)),0<(b=nd(n,w)).length&&(w=new dr(w,e,null,r,a),s.push({event:w,listeners:b}),x?w.data=x:null!==(x=Rr(r))&&(w.data=x))),(x=Sr?function(e,t){switch(e){case"compositionend":return Rr(t);case"keypress":return 32!==t.which?null:(Cr=!0,Ar);case"textInput":return(e=t.data)===Ar&&Cr?null:e;default:return null}}(e,r):function(e,t){if(Pr)return"compositionend"===e||!Nr&&Tr(e,t)?(e=Gt(),Kt=Wt=Ht=null,Pr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Er&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(w=nd(n,"onBeforeInput")).length&&(b=new dr("onBeforeInput","beforeinput",null,r,a),s.push({event:b,listeners:w}),b.data=x)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var o=Vu((a[qe]||null).action),s=n.submitter;s&&null!==(t=(t=s[qe]||null)?Vu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var i=new rr("action","action",null,n,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Du){var e=s?Hu(a,s):new FormData(a);ti(r,{pending:!0,data:e,method:a.method,action:o},null,e)}}else"function"===typeof o&&(i.preventDefault(),e=s?Hu(a,s):new FormData(a),ti(r,{pending:!0,data:e,method:a.method,action:o},o,e))},currentTarget:a}]})}}(s,e,n,r,a)}Ju(s,t)})}function rd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nd(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,o=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===o||(null!=(a=Ut(e,r))&&n.unshift(rd(e,a,o)),null!=(a=Ut(e,t))&&n.push(rd(e,a,o))),3===e.tag)return n;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,r,n,a){for(var o=t._reactName,s=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(i=i.tag,null!==l&&l===n)break;5!==i&&26!==i&&27!==i||null===c||(l=c,a?null!=(c=Ut(r,o))&&s.unshift(rd(r,c,l)):a||null!=(c=Ut(r,o))&&s.push(rd(r,c,l))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var sd=/\r\n?/g,id=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(id,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,r,n,a,o){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&Nt(e,""+n);break;case"className":ct(e,"class",n);break;case"tabIndex":ct(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,r,n);break;case"style":Et(e,n,o);break;case"data":if("object"!==t){ct(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Rt(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===r?("input"!==t&&ud(e,t,"name",a.name,a,null),ud(e,t,"formEncType",a.formEncType,a,null),ud(e,t,"formMethod",a.formMethod,a,null),ud(e,t,"formTarget",a.formTarget,a,null)):(ud(e,t,"encType",a.encType,a,null),ud(e,t,"method",a.method,a,null),ud(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Rt(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Pt);break;case"onScroll":null!=n&&Yu("scroll",e);break;case"onScrollEnd":null!=n&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Rt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),lt(e,"popover",n);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":lt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&lt(e,r=Ct.get(r)||r,n)}}function dd(e,t,r,n,a,o){switch(r){case"style":Et(e,n,o);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"children":"string"===typeof n?Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&Nt(e,""+n);break;case"onScroll":null!=n&&Yu("scroll",e);break;case"onScrollEnd":null!=n&&Yu("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(o=null!=(o=e[qe]||null)?o[r]:null)&&e.removeEventListener(t,o,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):lt(e,r,n):("function"!==typeof o&&null!==o&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function hd(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var n,a=!1,o=!1;for(n in r)if(r.hasOwnProperty(n)){var i=r[n];if(null!=i)switch(n){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,n,i,r,null)}}return o&&ud(e,t,"srcSet",r.srcSet,r,null),void(a&&ud(e,t,"src",r.src,r,null));case"input":Yu("invalid",e);var l=n=i=o=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var d=r[a];if(null!=d)switch(a){case"name":o=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ud(e,t,a,d,r,null)}}return void bt(e,n,l,c,u,i,o,!1);case"select":for(o in Yu("invalid",e),a=i=n=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":n=l;break;case"defaultValue":i=l;break;case"multiple":a=l;default:ud(e,t,o,l,r,null)}return t=n,r=i,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=r&&wt(e,!!a,r,!0));case"textarea":for(i in Yu("invalid",e),n=o=a=null,r)if(r.hasOwnProperty(i)&&null!=(l=r[i]))switch(i){case"value":a=l;break;case"defaultValue":o=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:ud(e,t,i,l,r,null)}return void _t(e,a,o,n);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else ud(e,t,c,a,r,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(a=0;a<Gu.length;a++)Yu(Gu[a],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(a=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,u,a,r,null)}return;default:if(At(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(a=r[d])&&dd(e,t,d,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&ud(e,t,l,a,r,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,jd="function"===typeof clearTimeout?clearTimeout:void 0,_d="function"===typeof Promise?Promise:void 0,Nd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof _d?function(e){return _d.resolve(null).then(e).catch(kd)}:wd;function kd(e){setTimeout(function(){throw e})}function Sd(e){return"head"===e}function Ed(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)||"/&"===r){if(0===n)return e.removeChild(a),void Hh(t);n--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)n++;else if("html"===r)Fd(e.ownerDocument.documentElement);else if("head"===r){Fd(r=e.ownerDocument.head);for(var o=r.firstChild;o;){var s=o.nextSibling,i=o.nodeName;o[$e]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===o.rel.toLowerCase()||r.removeChild(o),o=s}}else"body"===r&&Fd(e.ownerDocument.body);r=a}while(r);Hh(t)}function Ad(e,t){var r=e;e=0;do{var n=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=n}while(r)}function Cd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cd(r),Je(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Td(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Rd(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function Id(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Od(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Md(e,t,r){switch(t=gd(r),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var zd=new Map,Ud=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=I.d;I.d={f:function(){var e=qd.f(),t=Zc();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?ni(t):qd.r(e)},D:function(e){qd.D(e),Hd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Hd("preconnect",e,t)},L:function(e,t,r){qd.L(e,t,r);var n=Vd;if(n&&e&&t){var a='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+vt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+vt(r.imageSizes)+'"]')):a+='[href="'+vt(e)+'"]';var o=a;switch(t){case"style":o=Kd(e);break;case"script":o=Jd(e)}zd.has(o)||(e=f({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),zd.set(o,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Gd(o))||"script"===t&&n.querySelector(Yd(o))||(hd(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var r=Vd;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+vt(n)+'"][href="'+vt(e)+'"]',o=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Jd(e)}if(!zd.has(o)&&(e=f({rel:"modulepreload",href:e},t),zd.set(o,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yd(o)))return}hd(n=r.createElement("link"),"link",e),et(n),r.head.appendChild(n)}}},X:function(e,t){qd.X(e,t);var r=Vd;if(r&&e){var n=Ze(r).hoistableScripts,a=Jd(e),o=n.get(a);o||((o=r.querySelector(Yd(a)))||(e=f({src:e,async:!0},t),(t=zd.get(a))&&eh(e,t),et(o=r.createElement("script")),hd(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(a,o))}},S:function(e,t,r){qd.S(e,t,r);var n=Vd;if(n&&e){var a=Ze(n).hoistableStyles,o=Kd(e);t=t||"default";var s=a.get(o);if(!s){var i={loading:0,preload:null};if(s=n.querySelector(Gd(o)))i.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},r),(r=zd.get(o))&&Zd(e,r);var l=s=n.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){i.loading|=1}),l.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Xd(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:i},a.set(o,s)}}},M:function(e,t){qd.M(e,t);var r=Vd;if(r&&e){var n=Ze(r).hoistableScripts,a=Jd(e),o=n.get(a);o||((o=r.querySelector(Yd(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=zd.get(a))&&eh(e,t),et(o=r.createElement("script")),hd(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(a,o))}}};var Vd="undefined"===typeof document?null:document;function Hd(e,t,r){var n=Vd;if(n&&"string"===typeof t&&t){var a=vt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),Ud.has(a)||(Ud.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(hd(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function Wd(e,t,r,n){var a,o,i,l,c=(c=K.current)?Bd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Kd(r.href),(n=(r=Ze(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Kd(r.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),zd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zd.set(e,r),u||(a=c,o=e,i=r,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=a.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),hd(o,"link",i),et(o),a.head.appendChild(o))))),t&&null===n)throw Error(s(528,""));return d}if(t&&null!==n)throw Error(s(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Jd(r),(n=(r=Ze(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function $d(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Jd(e){return'[src="'+vt(e)+'"]'}function Yd(e){return"script[async]"+e}function Qd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+vt(r.href)+'"]');if(n)return t.instance=n,et(n),n;var a=f({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),hd(n,"style",a),Xd(n,r.precedence,e),t.instance=n;case"stylesheet":a=Kd(r.href);var o=e.querySelector(Gd(a));if(o)return t.state.loading|=4,t.instance=o,et(o),o;n=$d(r),(a=zd.get(a))&&Zd(n,a),et(o=(e.ownerDocument||e).createElement("link"));var i=o;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),hd(o,"link",n),t.state.loading|=4,Xd(o,r.precedence,e),t.instance=o;case"script":return o=Jd(r.src),(a=e.querySelector(Yd(o)))?(t.instance=a,et(a),a):(n=r,(a=zd.get(o))&&eh(n=f({},r),a),et(a=(e=e.ownerDocument||e).createElement("script")),hd(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Xd(n,r.precedence,e));return t.instance}function Xd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,o=a,s=0;s<n.length;s++){var i=n[s];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function rh(e,t,r){if(null===th){var n=new Map,a=th=new Map;a.set(r,n)}else(n=(a=th).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var o=r[a];if(!(o[$e]||o[Be]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var i=n.get(s);i?i.push(o):n.set(s,[o])}}return n}function nh(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var oh=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ih=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ih=new Map,t.forEach(ch,e),ih=null,sh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var r=ih.get(e);if(r)var n=r.get(null);else{r=new Map,ih.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}s=(a=t.instance).getAttribute("data-precedence"),(o=r.get(s)||n)===n&&r.set(null,a),r.set(s,a),this.count++,n=sh.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),o?o.parentNode.insertBefore(a,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var uh={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function dh(e,t,r,n,a,o,s,i,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,r,n,a,o,s,i,l,c,u,d){return e=new dh(e,t,r,s,l,c,u,d,i),t=1,!0===o&&(t|=24),o=Fn(3,null,null,t),e.current=o,o.stateNode=e,(t=za()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:n,isDehydrated:r,cache:t},vo(o),e}function fh(e){return e?e=Ln:Ln}function ph(e,t,r,n,a,o){a=fh(a),null===n.context?n.context=a:n.pendingContext=a,(n=bo(t)).payload={element:r},null!==(o=void 0===o?null:o)&&(n.callback=o),null!==(r=xo(e,n,t))&&($c(r,0,t),wo(r,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=On(e,67108864);null!==t&&$c(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Kc(),r=On(e,t=Le(t));null!==r&&$c(r,0,t),gh(e,t)}}var bh=!0;function xh(e,t,r,n){var a=D.T;D.T=null;var o=I.p;try{I.p=2,jh(e,t,r,n)}finally{I.p=o,D.T=a}}function wh(e,t,r,n){var a=D.T;D.T=null;var o=I.p;try{I.p=8,jh(e,t,r,n)}finally{I.p=o,D.T=a}}function jh(e,t,r,n){if(bh){var a=_h(n);if(null===a)td(e,t,n,Nh,r),Ih(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Ah=Lh(Ah,e,t,r,n,a),!0;case"dragenter":return Ch=Lh(Ch,e,t,r,n,a),!0;case"mouseover":return Th=Lh(Th,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Rh.set(o,Lh(Rh.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ph.set(o,Lh(Ph.get(o)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Ih(e,n),4&t&&-1<Dh.indexOf(e)){for(;null!==a;){var o=Qe(a);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Se(o.pendingLanes);if(0!==s){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var l=1<<31-xe(s);i.entanglements[1]|=l,s&=~l}Iu(o),0===(6&fc)&&(Dc=le()+500,Lu(0,!1))}}break;case 31:case 13:null!==(i=On(o,2))&&$c(i,0,2),Zc(),gh(o,2)}if(null===(o=_h(n))&&td(e,t,n,Nh,r),o===a)break;a=o}null!==a&&n.stopPropagation()}else td(e,t,n,null,r)}}function _h(e){return kh(e=Dt(e))}var Nh=null;function kh(e){if(Nh=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(31===r){if(null!==(e=u(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nh=e,null}function Sh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Eh=!1,Ah=null,Ch=null,Th=null,Rh=new Map,Ph=new Map,Oh=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":Ch=null;break;case"mouseover":case"mouseout":Th=null;break;case"pointerover":case"pointerout":Rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function Lh(e,t,r,n,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=Qe(t))&&vh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mh(e){var t=Ye(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void ze(e.priority,function(){yh(r)})}else if(31===t){if(null!==(t=u(r)))return e.blockedOn=t,void ze(e.priority,function(){yh(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=_h(e.nativeEvent);if(null!==r)return null!==(t=Qe(r))&&vh(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Ot=n,r.target.dispatchEvent(n),Ot=null,t.shift()}return!0}function zh(e,t,r){Fh(e)&&r.delete(t)}function Uh(){Eh=!1,null!==Ah&&Fh(Ah)&&(Ah=null),null!==Ch&&Fh(Ch)&&(Ch=null),null!==Th&&Fh(Th)&&(Th=null),Rh.forEach(zh),Ph.forEach(zh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Uh)))}var qh=null;function Vh(e){qh!==e&&(qh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===kh(n||r))continue;break}var o=Qe(r);null!==o&&(e.splice(t,3),t-=3,ti(o,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Hh(e){function t(t){return Bh(t,e)}null!==Ah&&Bh(Ah,e),null!==Ch&&Bh(Ch,e),null!==Th&&Bh(Th,e),Rh.forEach(t),Ph.forEach(t);for(var r=0;r<Oh.length;r++){var n=Oh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Oh.length&&null===(r=Oh[0]).blockedOn;)Mh(r),null===r.blockedOn&&Oh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],o=r[n+1],s=a[qe]||null;if("function"===typeof o)s||Vh(r);else if(s){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[qe]||null)i=s.formAction;else if(null!==kh(a))continue}else i=s.action;"function"===typeof i?r[n+1]=i:(r.splice(n,3),n-=3),Vh(r)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Kh(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));ph(t.current,Kc(),e,t,null,null)},Gh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Zc(),t[Ve]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Oh.length&&0!==t&&t<Oh[r].priority;r++);Oh.splice(r,0,e),0===r&&Mh(e)}};var $h=a.version;if("19.2.1"!==$h)throw Error(s(527,$h,"19.2.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return d(a),e;if(o===n)return d(a),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,c=a.child;c;){if(c===r){i=!0,r=a,n=o;break}if(c===n){i=!0,n=a,r=o;break}c=c.sibling}if(!i){for(c=o.child;c;){if(c===r){i=!0,r=o,n=a;break}if(c===n){i=!0,n=o,r=a;break}c=c.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Jh={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{ve=Yh.inject(Jh),ye=Yh}catch(Xh){}}t.createRoot=function(e,t){if(!i(e))throw Error(s(299));var r=!1,n="",a=Ni,o=ki,l=Si;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,r,n,null,a,o,l,Wh),e[Ve]=t.current,Zu(e),new Kh(t)},t.hydrateRoot=function(e,t,r){if(!i(e))throw Error(s(299));var n=!1,a="",o=Ni,l=ki,c=Si,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(o=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.formState&&(u=r.formState)),(t=hh(e,1,!0,t,0,n,a,u,o,l,c,Wh)).context=fh(null),r=t.current,(a=bo(n=Le(n=Kc()))).callback=null,xo(r,a,n),r=n,t.current.lanes=r,Pe(t,r),Iu(t),e[Ve]=t.current,Zu(e),new Gh(t)},t.version="19.2.1"},43:(e,t,r)=>{e.exports=r(288)},87:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(642),a=r(980),o=r(292),s=r(887),i=r(425),l=r(100),c=r(681),u=r(337);t.default=class{constructor(e,t,r){var n,o,u;this.supabaseUrl=e,this.supabaseKey=t;const d=(0,c.validateSupabaseUrl)(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h="sb-".concat(d.hostname.split(".")[0],"-auth-token"),f={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:h}),global:i.DEFAULT_GLOBAL_OPTIONS},p=(0,c.applySettingDefaults)(null!==r&&void 0!==r?r:{},f);this.storageKey=null!==(n=p.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(o=p.global.headers)&&void 0!==o?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(u=p.auth)&&void 0!==u?u:{},this.headers,p.global.fetch),this.fetch=(0,l.fetchWithAuth)(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new a.PostgrestClient(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:o,storage:s,userStorage:i,storageKey:l,flowType:c,lock:d,debug:h,throwOnError:f}=e;const p={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),t),storageKey:l,autoRefreshToken:n,persistSession:a,detectSessionInUrl:o,storage:s,userStorage:i,flowType:c,lock:d,debug:h,throwOnError:f,fetch:r,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new o.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}},100:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;t.resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)};t.resolveHeadersConstructor=()=>Headers;t.fetchWithAuth=(e,r,n)=>{const a=(0,t.resolveFetch)(n),o=(0,t.resolveHeadersConstructor)();return async(t,n)=>{var s;const i=null!==(s=await r())&&void 0!==s?s:e;let l=new o(null===n||void 0===n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(i)),a(t,Object.assign(Object.assign({},n),{headers:l}))}}},210:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(326),a=n.__importDefault(r(829)),o=n.__importDefault(r(736));class s{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:n=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let i;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;r||n?(i=r?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;l.searchParams.append(t,r)})):(i="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer","count=".concat(a)),new o.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}}t.default=s},219:(e,t,r)=>{r.r(t),r.d(t,{AuthAdminApi:()=>He,AuthApiError:()=>f,AuthClient:()=>We,AuthError:()=>d,AuthImplicitGrantRedirectError:()=>w,AuthInvalidCredentialsError:()=>x,AuthInvalidJwtError:()=>A,AuthInvalidTokenResponseError:()=>b,AuthPKCEGrantCodeExchangeError:()=>_,AuthRetryableFetchError:()=>N,AuthSessionMissingError:()=>v,AuthUnknownError:()=>m,AuthWeakPasswordError:()=>S,CustomAuthError:()=>g,GoTrueAdminApi:()=>fe,GoTrueClient:()=>Ve,NavigatorLockAcquireTimeoutError:()=>ve,SIGN_OUT_SCOPES:()=>he,isAuthApiError:()=>p,isAuthError:()=>h,isAuthImplicitGrantRedirectError:()=>j,isAuthRetryableFetchError:()=>k,isAuthSessionMissingError:()=>y,isAuthWeakPasswordError:()=>E,lockInternals:()=>me,navigatorLock:()=>be,processLock:()=>we});var n=r(326);const a="2.86.2",o=3e4,s=9e4,i={"X-Client-Info":"gotrue-js/".concat(a)},l="X-Supabase-Api-Version",c={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},u=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class d extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function h(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class f extends d{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function p(e){return h(e)&&"AuthApiError"===e.name}class m extends d{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class g extends d{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class v extends g{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function y(e){return h(e)&&"AuthSessionMissingError"===e.name}class b extends g{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class x extends g{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class w extends g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j(e){return h(e)&&"AuthImplicitGrantRedirectError"===e.name}class _ extends g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class N extends g{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function k(e){return h(e)&&"AuthRetryableFetchError"===e.name}class S extends g{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}function E(e){return h(e)&&"AuthWeakPasswordError"===e.name}class A extends g{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T=" \t\n\r=".split(""),R=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<T.length;t+=1)e[T[t].charCodeAt(0)]=-2;for(let t=0;t<C.length;t+=1)e[C[t].charCodeAt(0)]=t;return e})();function P(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(C[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(C[e]),t.queuedBits-=6}}function O(e,t,r){const n=R[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function D(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let s=0;s<e.length;s+=1)O(e.charCodeAt(s),a,o);return t.join("")}function I(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function L(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}I(n,t)}}function M(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)O(e.charCodeAt(a),r,n);return new Uint8Array(t)}function F(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>P(e,r,n)),P(null,r,n),t.join("")}const z=()=>"undefined"!==typeof window&&"undefined"!==typeof document,U={tested:!1,writable:!1},B=()=>{if(!z())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(U.tested)return U.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),U.tested=!0,U.writable=!0}catch(t){U.tested=!0,U.writable=!1}return U.writable};const q=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},V=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},H=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},W=async(e,t)=>{await e.removeItem(t)};class K{constructor(){this.promise=new K.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function G(e){const t=e.split(".");if(3!==t.length)throw new A("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!u.test(t[r]))throw new A("JWT not in base64url format");return{header:JSON.parse(D(t[0])),payload:JSON.parse(D(t[1])),signature:M(t[2]),raw:{header:t[0],payload:t[1]}}}function $(e){return("0"+e.toString(16)).substr(-2)}async function J(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Y(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,$).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await V(e,"".concat(t,"-code-verifier"),a);const o=await J(n);return[o,n===o?"plain":"s256"]}K.promiseConstructor=Promise;const Q=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const X=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Z(e){if(!X.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ee(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function te(e){return JSON.parse(JSON.stringify(e))}const re=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ne=[502,503,504];async function ae(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new N(re(e),0);if(ne.includes(e.status))throw new N(re(e),e.status);let n,a;try{n=await e.json()}catch(s){throw new m(re(s),s)}const o=function(e){const t=e.headers.get(l);if(!t)return null;if(!t.match(Q))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(s){return null}}(e);if(o&&o.getTime()>=c.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new S(re(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new v}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new S(re(n),e.status,n.weak_password.reasons);throw new f(re(n),e.status||500,a)}async function oe(e,t,r,n){var a;const o=Object.assign({},null===n||void 0===n?void 0:n.headers);o[l]||(o[l]=c.name),(null===n||void 0===n?void 0:n.jwt)&&(o.Authorization="Bearer ".concat(n.jwt));const s=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(s.redirect_to=n.redirectTo);const i=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await async function(e,t,r,n,a,o){const s=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,o);let i;try{i=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new N(re(l),0)}i.ok||await ae(i);if(null===n||void 0===n?void 0:n.noResolveJson)return i;try{return await i.json()}catch(l){await ae(l)}}(e,t,r+i,{headers:o,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(u):{data:Object.assign({},u),error:null}}function se(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ie(e){const t=se(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function le(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ce(e){return{data:e,error:null}}function ue(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:o,verification_type:s}=e,i=(0,n.__rest)(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:a,redirect_to:o,verification_type:s},user:Object.assign({},i)},error:null}}function de(e){return e}const he=["global","local","others"];class fe{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=q(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he[0];if(he.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(he.join(", ")));try{return await oe(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(h(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await oe(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=(0,n.__rest)(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=null===r||void 0===r?void 0:r.newEmail,delete a.newEmail),await oe(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:ue,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(h(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await oe(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:le})}catch(t){if(h(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,o,s,i;try{const l={nextPage:null,lastPage:0,total:0},c=await oe(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:de});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(i=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(h(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Z(e);try{return await oe(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:le})}catch(t){if(h(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Z(e);try{return await oe(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Z(e);try{return await oe(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Z(e.userId);try{const{data:t,error:r}=await oe(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Z(e.userId),Z(e.id);try{return{data:await oe(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,n,a,o,s,i;try{const l={nextPage:null,lastPage:0,total:0},c=await oe(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:de});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(i=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(h(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await oe(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await oe(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await oe(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(h(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await oe(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await oe(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const me={debug:!!(globalThis&&B()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class ge extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ve extends ge{}class ye extends ge{}async function be(e,t,r){me.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),me.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw me.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ve('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(me.debug)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}me.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{me.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}const xe={};async function we(e,t,r){var n;const a=null!==(n=xe[e])&&void 0!==n?n:Promise.resolve(),o=Promise.race([a.catch(()=>null),t>=0?new Promise((r,n)=>{setTimeout(()=>{n(new ye('Acquring process lock with name "'.concat(e,'" timed out')))},t)}):null].filter(e=>e)).catch(e=>{if(e&&e.isAcquireTimeout)throw e;return null}).then(async()=>await r());return xe[e]=o.catch(async e=>{if(e&&e.isAcquireTimeout)return await a,null;throw e}),await o}function je(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function _e(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Ne extends Error{constructor(e){let{message:t,code:r,cause:n,name:a}=e;var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=null!==(o=null!==a&&void 0!==a?a:n instanceof Error?n.name:void 0)&&void 0!==o?o:"Unknown Error",this.code=r}}class ke extends Ne{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Se(e){let{error:t,options:r}=e;var n,a,o;const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(n=s.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===r.mediation&&"required"===(null===(a=s.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(o=s.authenticatorSelection)||void 0===o?void 0:o.userVerification))return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new Ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===s.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Oe(e))return new Ne({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(s.rp.id!==e)return new Ne({message:'The RP ID "'.concat(s.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ee(e){let{error:t,options:r}=e;const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new Ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Oe(e))return new Ne({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(n.rpId!==e)return new Ne({message:'The RP ID "'.concat(n.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ae=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Ce(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,o=(0,n.__rest)(e,["challenge","user","excludeCredentials"]),s=M(t).buffer,i=Object.assign(Object.assign({},r),{id:M(r.id).buffer}),l=Object.assign(Object.assign({},o),{challenge:s,user:i});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];l.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:M(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return l}function Te(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=(0,n.__rest)(e,["challenge","allowCredentials"]),o=M(t).buffer,s=Object.assign(Object.assign({},a),{challenge:o});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:M(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Re(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:F(new Uint8Array(e.response.attestationObject)),clientDataJSON:F(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function Pe(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:F(new Uint8Array(a.authenticatorData)),clientDataJSON:F(new Uint8Array(a.clientDataJSON)),signature:F(new Uint8Array(a.signature)),userHandle:a.userHandle?F(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function Oe(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function De(){var e,t;return!!(z()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const Ie={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Le={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Me(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];for(const s of a)if(s)for(const n in s){const a=s[n];if(void 0!==a)if(Array.isArray(a))r[n]=a;else if(t(a))r[n]=a;else if(e(a)){const t=r[n];e(t)?r[n]=Me(t,a):r[n]=Me(a)}else r[n]=a}return r}class Fe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:r,webauthn:n,friendlyName:a,signal:o}=e;try{const{data:e,error:s}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!e)return{data:null,error:s};const i=null!==o&&void 0!==o?o:Ae.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(a)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const n=function(e,t){return Me(Ie,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:o}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ke("Browser returned unexpected credential type",t)}:{data:null,error:new ke("Empty credential response",t)}}catch(t){return{data:null,error:Se({error:t,options:e})}}}({publicKey:n,signal:i});return a?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:o}}case"request":{const n=function(e,t){return Me(Le,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:o}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ke("Browser returned unexpected credential type",t)}:{data:null,error:new ke("Empty credential response",t)}}catch(t){return{data:null,error:Ee({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:n,signal:i}));return a?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:o}}}}catch(s){return h(s)?{data:null,error:s}:{data:null,error:new m("Unexpected error in challenge",s)}}}async _verify(e){let{challengeId:t,factorId:r,webauthn:n}=e;return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate(e,t){let{factorId:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:o}={}}=e;if(!n)return{data:null,error:new d("rpId is required for WebAuthn authentication")};try{if(!De())return{data:null,error:new m("Browser does not support WebAuthn",null)};const{data:e,error:s}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:t});if(!e)return{data:null,error:s};const{webauthn:i}=e;return this._verify({factorId:r,challengeId:e.challengeId,webauthn:{type:i.type,rpId:n,rpOrigins:a,credential_response:i.credential_response}})}catch(s){return h(s)?{data:null,error:s}:{data:null,error:new m("Unexpected error in authenticate",s)}}}async _register(e,t){let{friendlyName:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:o}={}}=e;if(!n)return{data:null,error:new d("rpId is required for WebAuthn registration")};try{if(!De())return{data:null,error:new m("Browser does not support WebAuthn",null)};const{data:e,error:s}=await this._enroll({friendlyName:r});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===r&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:s};const{data:i,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:t});return i?this._verify({factorId:e.id,challengeId:i.challengeId,webauthn:{rpId:n,rpOrigins:a,type:i.webauthn.type,credential_response:i.webauthn.credential_response}}):{data:null,error:l}}catch(s){return h(s)?{data:null,error:s}:{data:null,error:new m("Unexpected error in register",s)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const ze={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ue(e,t,r){return await r()}const Be={};class qe{get jwks(){var e,t;return null!==(t=null===(e=Be[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Be[this.storageKey]=Object.assign(Object.assign({},Be[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Be[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Be[this.storageKey]=Object.assign(Object.assign({},Be[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},ze),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=qe.nextInstanceID[this.storageKey])&&void 0!==t?t:0,qe.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&z()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new fe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=q(a.fetch),this.lock=a.lock||Ue,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:z()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=be:this.lock=Ue,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Fe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:B()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pe(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=pe(this.memoryStorage)),z()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(a,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(z()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(n){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),z()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),j(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return h(t)?this._returnResult({error:t}):this._returnResult({error:new m("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await oe(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:se}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const i=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(a){if(h(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:o}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Y(this.storage,this.storageKey)),a=await oe(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:s,code_challenge_method:i},xform:se})}else{if(!("phone"in e))throw new x("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:s}=e;a=await oe(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:o,data:null!==(r=null===s||void 0===s?void 0:s.data)&&void 0!==r?r:{},channel:null!==(n=null===s||void 0===s?void 0:s.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:se})}}const{data:o,error:s}=a;if(s||!o)return await W(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:s});const i=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(a){if(await W(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await oe(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:ie})}else{if(!("phone"in e))throw new x("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await oe(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:ie})}}const{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const e=new b;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,r,n,a,o,s,i,l,c,u,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:u,wallet:d,statement:h,options:m}=e;let g;if(z())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const v=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),y=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=je(y[0]);let x=null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!x){const e=await g.request({method:"eth_chainId"});x=parseInt(e,16)}f=function(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:o=new Date,nonce:s,notBefore:i,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(r))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(r));if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(s));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=je(e.address),p=u?"".concat(u,"://").concat(n):n,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let v="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(r).concat(s?"\nNonce: ".concat(s):"","\nIssued At: ").concat(o.toISOString());if(a&&(v+="\nExpiration Time: ".concat(a.toISOString())),i&&(v+="\nNot Before: ".concat(i.toISOString())),l&&(v+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}v+=e}return"".concat(g,"\n").concat(v)}({domain:v.host,address:b,statement:h,uri:v.href,version:"1",chainId:x,nonce:null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.nonce,issuedAt:null!==(o=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==o?o:new Date,expirationTime:null===(s=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===s?void 0:s.expirationTime,notBefore:null===(i=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await g.request({method:"personal_sign",params:[_e(f),b]})}try{const{data:t,error:r}=await oe(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:se});if(r)throw r;if(!t||!t.session||!t.user){const e=new b;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(m){if(h(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var t,r,n,a,o,s,i,l,c,u,d,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:d,wallet:h,statement:f,options:g}=e;let v;if(z())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:r}=await oe(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:F(m)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(f=e.options)||void 0===f?void 0:f.captchaToken}}:null),xform:se});if(r)throw r;if(!t||!t.session||!t.user){const e=new b;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(g){if(h(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await H(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await oe(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:se});if(await W(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new b;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a})}catch(a){if(await W(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:o}=e,s=await oe(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:se}),{data:i,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const e=new b;return this._returnResult({data:{user:null,session:null},error:e})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:i,error:l})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,n,a,o;try{if("email"in e){const{email:n,options:a}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await Y(this.storage,this.storageKey));const{error:i}=await oe(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:o,code_challenge_method:s},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}if("phone"in e){const{phone:t,options:r}=e,{data:s,error:i}=await oe(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(o=null===r||void 0===r?void 0:r.channel)&&void 0!==o?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i})}throw new x("You must provide either an email or phone number.")}catch(s){if(await W(this.storage,"".concat(this.storageKey,"-code-verifier")),h(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:o,error:s}=await oe(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:se});if(s)throw s;if(!o){throw new Error("An error occurred on token verification.")}const i=o.session,l=o.user;return(null===i||void 0===i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(n){if(h(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var t,r,n,a,o;try{let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Y(this.storage,this.storageKey));const l=await oe(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:ce});return(null===(a=l.data)||void 0===a?void 0:a.url)&&z()&&!(null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(s){if(await W(this.storage,"".concat(this.storageKey,"-code-verifier")),h(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new v;const{error:n}=await oe(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(h(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:o}=await oe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:o,error:s}=await oe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s})}throw new x("You must provide either an email or phone number and a type")}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await H(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<s;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.userStorage){const t=await H(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=ee()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,n)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"===typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,n)}return t.value||"string"!==typeof r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,n)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await oe(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:le}):await this._useSession(async e=>{var t,r,n;const{data:a,error:o}=e;if(o)throw o;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await oe(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:le}):{data:{user:null},error:new v}})}catch(t){if(h(t))return y(t)&&(await this._removeSession(),await W(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new v;const o=n.session;let s=null,i=null;"pkce"===this.flowType&&null!=e.email&&([s,i]=await Y(this.storage,this.storageKey));const{data:l,error:c}=await oe(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:i}),jwt:o.access_token,xform:le});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await W(this.storage,"".concat(this.storageKey,"-code-verifier")),h(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new v;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:o}=G(e.access_token);if(o.exp&&(r=o.exp,n=r<=t),n){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:o}=await this._getUser(e.access_token);if(o)throw o;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(h(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new v;const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!z())throw new w("No browser detected.");if(e.error||e.error_description||e.error_code)throw new w(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new _("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new w("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:i,expires_at:l,token_type:c}=e;if(!a||!i||!s||!c)throw new w("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(i);let h=u+d;l&&(h=parseInt(l));const f=h-u;1e3*f<=o&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(f,"s, should have been closer to ").concat(d,"s"));const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(h(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await H(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({error:a});const o=null===(r=n.session)||void 0===r?void 0:r.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!p(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await W(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await Y(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await W(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,o,s;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(o=i.session)||void 0===o?void 0:o.access_token)&&void 0!==s?s:void 0})});if(n)throw n;return z()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null})}catch(r){if(h(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:n,data:{session:a}}=t;if(n)throw n;const{options:o,provider:s,token:i,access_token:l,nonce:c}=e,u=await oe(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(r=null===a||void 0===a?void 0:a.access_token)&&void 0!==r?r:void 0,body:{provider:s,id_token:i,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:se}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new b})}catch(n){if(await W(this.storage,"".concat(this.storageKey,"-code-verifier")),h(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:o}=t;if(o)throw o;return await oe(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await oe(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:se})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&k(t)&&Date.now()+r-a<o},new Promise((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await r(o);if(!n(o,null,t))return void e(t)}catch(a){if(!n(o,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),h(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),z()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await H(this.storage,this.storageKey);if(a&&this.userStorage){let t=await H(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await V(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:ee()}else if(a&&!a.user&&!a.user){const e=await H(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await W(this.storage,this.storageKey+"-user"),await V(this.storage,this.storageKey,a)):a.user=ee()}if(this._debug(r,"session from storage",a),!this._isValidSession(a))return this._debug(r,"session is not valid"),void(null!==a&&await this._removeSession());const o=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<s;if(this._debug(r,"session has".concat(o?"":" not"," expired with margin of ").concat(s,"s")),o){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),k(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(r,"error",a),void console.error(a)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new v;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new K;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new v;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),h(a)){const e={data:null,error:a};return k(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(a){n.push(a)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await W(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await V(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=te(e);await V(this.storage,this.storageKey,n)}else{const e=te(t);await V(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await W(this.storage,this.storageKey),await W(this.storage,this.storageKey+"-code-verifier"),await W(this.storage,this.storageKey+"-user"),this.userStorage&&await W(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&z()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),o);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/o);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(o,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof ge))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!z()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await Y(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?this._returnResult({data:null,error:a}):await oe(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:i,error:l}=await oe(this.fetch,"POST","".concat(this.url,"/factors"),{body:s,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===i.type&&(null===(n=null===i||void 0===i?void 0:i.totp)||void 0===n?void 0:n.qr_code)&&(i.totp.qr_code="data:image/svg+xml;utf-8,".concat(i.totp.qr_code)),this._returnResult({data:i,error:null}))})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Re(e.webauthn.credential_response):Pe(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:i}=await oe(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:o,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?this._returnResult({data:null,error:i}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:i}))})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const o=await oe(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if("webauthn"!==s.type)return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Ce(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Te(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])n.all.push(a),"verified"===a.status&&n[a.factor_type].push(a);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=G(r.access_token);let o=null;a.aal&&(o=a.aal);let s=o;(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(s="aal2");return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:a.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await oe(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new v})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new v});const o=await oe(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return o.data&&o.data.redirect_url&&z()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new v});const o=await oe(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return o.data&&o.data.redirect_url&&z()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await oe(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new v})})}catch(e){if(h(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?(await oe(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new v})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:a}=await oe(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:n,payload:a,signature:o,raw:{header:s,payload:i}}=G(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:o},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,o,function(e){const t=[];return L(e,e=>t.push(e)),new Uint8Array(t)}("".concat(s,".").concat(i))))throw new A("Invalid JWT signature");return{data:{claims:a,header:n,signature:o},error:null}}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}}qe.nextInstanceID={};const Ve=qe,He=fe,We=qe},286:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(326).__importDefault(r(611));t.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,a,o;let s=null,i=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const r=await e.text();""===r||(i="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}const n=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),o=null===(a=e.headers.get("content-range"))||void 0===a?void 0:a.split("/");n&&o&&o.length>1&&(l=parseInt(o[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,l=null,c=406,u="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(o=null===s||void 0===s?void 0:s.details)||void 0===o?void 0:o.includes("0 rows"))&&(s=null,c=200,u="OK"),s&&this.shouldThrowOnError)throw new n.default(s)}return{error:s,data:i,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n,a,o,s;let i="";const l=null===e||void 0===e?void 0:e.cause;if(l){const o=null!==(t=null===l||void 0===l?void 0:l.message)&&void 0!==t?t:"",s=null!==(r=null===l||void 0===l?void 0:l.code)&&void 0!==r?r:"";i="".concat(null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),i+="\n\nCaused by: ".concat(null!==(a=null===l||void 0===l?void 0:l.name)&&void 0!==a?a:"Error",": ").concat(o),s&&(i+=" (".concat(s,")")),(null===l||void 0===l?void 0:l.stack)&&(i+="\n".concat(l.stack))}else i=null!==(o=null===e||void 0===e?void 0:e.stack)&&void 0!==o?o:"";return{error:{message:"".concat(null!==(s=null===e||void 0===e?void 0:e.name)&&void 0!==s?s:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:i,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||m}function b(){}function x(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=x.prototype=new b;w.constructor=x,g(w,y.prototype),w.isPureReactComponent=!0;var j=Array.isArray;function _(){}var N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function S(e,t,n){var a=n.ref;return{$$typeof:r,type:e,key:t,ref:void 0!==a?a:null,props:n}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(i){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return T((u=e._init)(e._payload),t,a,o,s)}}if(u)return s=s(e),u=""===o?"."+C(e,0):o,j(s)?(a="",null!=u&&(a=u.replace(A,"$&/")+"/"),T(s,t,a,"",function(e){return e})):null!=s&&(E(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+u,s=S(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(j(e))for(var m=0;m<e.length;m++)u+=T(o=e[m],t,a,i=f+C(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=T(o=o.value,t,a,i=f+C(o,m++),s);else if("object"===i){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,r){if(null==e)return e;var n=[],a=0;return T(e,n,"","",function(e){return t.call(r,e,a++)}),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:R,forEach:function(e,t,r){R(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=x,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=g({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.key&&(a=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(n[o]=t[o]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var s=Array(o),i=0;i<o;i++)s[i]=arguments[i+2];n.children=s}return S(e.type,a,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,r){var n,a={},o=null;if(null!=t)for(n in void 0!==t.key&&(o=""+t.key),t)k.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];a.children=i}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===a[n]&&(a[n]=s[n]);return S(e,o,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,r={};N.T=r;try{var n=e(),a=N.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(_,O)}catch(o){O(o)}finally{null!==t&&null!==r.types&&(t.types=r.types),N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,r){return N.H.useActionState(e,t,r)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useEffectEvent=function(e){return N.H.useEffectEvent(e)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,r){return N.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return N.H.useReducer(e,t,r)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return N.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return N.H.useTransition()},t.version="19.2.1"},292:(e,t,r)=>{r.r(t),r.d(t,{REALTIME_CHANNEL_STATES:()=>P,REALTIME_LISTEN_TYPES:()=>C,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>A,REALTIME_PRESENCE_LISTEN_EVENTS:()=>E,REALTIME_SUBSCRIBE_STATES:()=>T,RealtimeChannel:()=>O,RealtimeClient:()=>z,RealtimePresence:()=>R,WebSocketFactory:()=>n});const n=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(r," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(r," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},a="realtime-js/".concat("2.86.2"),o="1.0.0",s=o,i=1e4;var l,c,u,d,h,f;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(l||(l={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(c||(c={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(u||(u={})),function(e){e.websocket="websocket"}(d||(d={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(h||(h={}));class p{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},a=(new TextEncoder).encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,r){var n,a;const o=e.topic,s=null!==(n=e.ref)&&void 0!==n?n:"",i=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(i.length>255)throw new Error("joinRef length ".concat(i.length," exceeds maximum of 255"));if(s.length>255)throw new Error("ref length ".concat(s.length," exceeds maximum of 255"));if(o.length>255)throw new Error("topic length ".concat(o.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,l.length),f.setUint8(p++,u.length),f.setUint8(p++,t),Array.from(i,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(s,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(u,e=>f.setUint8(p++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+r.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(r),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const r=JSON.parse(e),[n,a,o,s,i]=r;return t({join_ref:n,ref:a,topic:o,event:s,payload:i})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,n)}_decodeUserBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2),o=t.getUint8(3),s=t.getUint8(4);let i=this.HEADER_LENGTH+4;const l=r.decode(e.slice(i,i+n));i+=n;const c=r.decode(e.slice(i,i+a));i+=a;const u=r.decode(e.slice(i,i+o));i+=o;const d=e.slice(i,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,f={type:this.BROADCAST_EVENT,event:c,payload:h};return o>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[r]=e;return t.includes(r)})):{}}}class m{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(f||(f={}));const g=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((r,a)=>(r[a]=v(a,e,t,n),r),{}):{}},v=(e,t,r,n)=>{const a=t.find(t=>t.name===e),o=null===a||void 0===a?void 0:a.type,s=r[e];return o&&!n.includes(o)?y(o,s):b(s)},y=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return _(t,r)}switch(e){case f.bool:return x(t);case f.float4:case f.float8:case f.int2:case f.int4:case f.int8:case f.numeric:case f.oid:return w(t);case f.json:case f.jsonb:return j(t);case f.timestamp:return N(t);case f.abstime:case f.date:case f.daterange:case f.int4range:case f.int8range:case f.money:case f.reltime:case f.text:case f.time:case f.timestamptz:case f.timetz:case f.tsrange:case f.tstzrange:default:return b(t)}},b=e=>e,x=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},w=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},j=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},_=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const o=e.slice(1,r);try{n=JSON.parse("["+o+"]")}catch(a){n=o?o.split(","):[]}return n.map(e=>y(t,e))}return e},N=e=>"string"===typeof e?e.replace(" ","T"):e,k=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class S{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var E,A,C,T;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(E||(E={}));class R{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=R.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=R.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=R.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),o=this.transformState(t),s={},i={};return this.map(a,(e,t)=>{o[e]||(i[e]=t)}),this.map(o,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),o=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);o.length>0&&(s[e]=o),l.length>0&&(i[e]=l)}else s[e]=t}),this.syncDiff(a,{joins:s,leaves:i},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const o=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),o.length>0){const r=e[t].map(e=>e.presence_ref),n=o.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,o,n)}),this.map(o,(t,r)=>{let a=e[t];if(!a)return;const o=r.map(e=>e.presence_ref);a=a.filter(e=>o.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(A||(A={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(C||(C={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(T||(T={}));const P=c;class O{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;var n,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=c.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new S(this,u.join,this.params,this.timeout),this.rejoinTimer=new m(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=c.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=c.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this._on(u.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new R(this),this.broadcastEndpointURL=k(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(n=this.params.config)||void 0===n?void 0:n.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==c.closed){const{config:{broadcast:o,presence:s,private:i}}=this.params,l=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],u=!!this.bindings[C.PRESENCE]&&this.bindings[C.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),d={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:l,private:i};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(T.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(T.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,o=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:s,schema:i,table:l,filter:u}}=a,d=r&&r[n];if(!d||d.event!==s||d.schema!==i||d.table!==l||d.filter!==u)return this.unsubscribe(),this.state=c.errored,void(null===e||void 0===e||e(T.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=o,void(e&&e(T.SUBSCRIBED))}null===e||void 0===e||e(T.SUBSCRIBED)}).receive("error",t=>{this.state=c.errored,null===e||void 0===e||e(T.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(T.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===c.joined&&e===C.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;const a=this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"";if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=r.timeout)&&void 0!==n?n:this.timeout);if(202===s.status)return{success:!0};let i=s.statusText;try{const e=await s.json();i=e.error||e.message||i}catch(l){}return Promise.reject(new Error(i))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,o;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===o?void 0:o.ack)||r("ok"),s.receive("ok",()=>r("ok")),s.receive("error",()=>r("error")),s.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:s}=e,i={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=c.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(u.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new S(this,u.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=c.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),o}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new S(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const o=e.toLocaleLowerCase(),{close:s,error:i,leave:l,join:c}=u;if(r&&[s,i,l,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===o}).map(e=>e.callback(d,r)):null===(a=this.bindings[o])||void 0===a||a.filter(e=>{var r,n,a,s,i,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,s=null===(r=e.filter)||void 0===r?void 0:r.event;return o&&(null===(n=t.ids)||void 0===n?void 0:n.includes(o))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(i=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:o}=e,s={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:o};d=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===c.closed}_isJoined(){return this.state===c.joined}_isJoining(){return this.state===c.joining}_isLeaving(){return this.state===c.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&O.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(u.close,{},e)}_onError(e){this._on(u.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=c.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=g(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=g(e.columns,e.old_record)),t}}const D=()=>{},I=25e3,L=10,M=100,F=[1e3,2e3,5e3,1e4];class z{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=i,this.transport=null,this.heartbeatIntervalMs=I,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=D,this.ref=0,this.reconnectTimer=null,this.vsn=s,this.logger=D,this.conn=null,this.sendBuffer=[],this.serializer=new p,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(d.websocket),this.httpEndpoint=k(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case l.connecting:return h.Connecting;case l.open:return h.Open;case l.closing:return h.Closing;default:return h.Closed}}isConnected(){return this.connectionState()===h.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new O("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,o=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},M)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(i){this.log("error","error in heartbeat callback",i)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:a}=e,o=a?"(".concat(a,")"):"",s=n.status||"";this.log("receive","".concat(s," ").concat(t," ").concat(r," ").concat(o).trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===l.open||this.conn.readyState===l.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(u.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:a};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(u.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(n){this.log("error","error in ".concat(e," callback"),n)}})}catch(r){this.log("error","error triggering ".concat(e," callbacks"),r)}}_setupReconnectionTimer(){this.reconnectTimer=new m(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},L)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,a,l,c,u,d,h,f,p,m;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:i,this.heartbeatIntervalMs=null!==(n=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:I,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(l=null===e||void 0===e?void 0:e.accessToken)&&void 0!==l?l:null,this.heartbeatCallback=null!==(c=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==c?c:D,this.vsn=null!==(u=null===e||void 0===e?void 0:e.vsn)&&void 0!==u?u:s,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(d=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==d?d:e=>F[e-1]||1e4,this.vsn){case o:this.encode=null!==(h=null===e||void 0===e?void 0:e.encode)&&void 0!==h?h:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(f=null===e||void 0===e?void 0:e.decode)&&void 0!==f?f:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(p=null===e||void 0===e?void 0:e.encode)&&void 0!==p?p:this.serializer.encode.bind(this.serializer),this.decode=null!==(m=null===e||void 0===e?void 0:e.decode)&&void 0!==m?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}},326:(e,t,r)=>{r.r(t),r.d(t,{__addDisposableResource:()=>I,__assign:()=>o,__asyncDelegator:()=>k,__asyncGenerator:()=>N,__asyncValues:()=>S,__await:()=>_,__awaiter:()=>p,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>D,__classPrivateFieldSet:()=>O,__createBinding:()=>g,__decorate:()=>i,__disposeResources:()=>M,__esDecorate:()=>c,__exportStar:()=>v,__extends:()=>a,__generator:()=>m,__importDefault:()=>R,__importStar:()=>T,__makeTemplateObject:()=>E,__metadata:()=>f,__param:()=>l,__propKey:()=>d,__read:()=>b,__rest:()=>s,__rewriteRelativeImportExtension:()=>F,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>x,__spreadArray:()=>j,__spreadArrays:()=>w,__values:()=>y,default:()=>z});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function i(e,t,r,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(o<3?a(s):o>3?a(t,r,s):a(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t,r,n,a,o){function s(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var i,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,f=r.length-1;f>=0;f--){var p={};for(var m in n)p[m]="access"===m?{}:n[m];for(var m in n.access)p.access[m]=n.access[m];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var g=(0,r[f])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!==typeof g)throw new TypeError("Object expected");(i=s(g.get))&&(d.get=i),(i=s(g.set))&&(d.set=i),(i=s(g.init))&&a.unshift(i)}else(i=s(g))&&("field"===l?a.unshift(i):d[c]=i)}u&&Object.defineProperty(u,n.name,d),h=!0}function u(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function d(e){return"symbol"===typeof e?e:"".concat(e)}function h(e,t,r){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function f(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,r,n){return new(r||(r=Promise))(function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,i)}l((n=n.apply(e,t||[])).next())})}function m(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var g=Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function v(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function y(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(i){a={error:i}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return s}function x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,i=o.length;s<i;s++,a++)n[a]=o[s];return n}function j(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function N(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function s(e,t){a[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||i(e,t)})},t&&(n[e]=t(n[e])))}function i(e,t){try{!function(e){e.value instanceof _?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)}(a[e](t))}catch(r){u(o[0][3],r)}}function l(e){i("next",e)}function c(e){i("throw",e)}function u(e,t){e(t),o.shift(),o.length&&i(o[0][0],o[0][1])}}function k(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:_(e[n](t)),done:!1}:a?a(t):t}:a}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return C=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},C(e)};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=C(e),n=0;n<r.length;n++)"default"!==r[n]&&g(t,e,r[n]);return A(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function O(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}function D(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function I(e,t,r){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if("function"!==typeof n)throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var L="function"===typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function M(e){function t(t){e.error=e.hasError?new L(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function a(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(a,function(e){return t(e),a()})}else n|=1}catch(s){t(s)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function F(e,t){return"string"===typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,a,o){return r?t?".jsx":".js":!n||a&&o?n+a+"."+o.toLowerCase()+"js":e}):e}const z={__extends:a,__assign:o,__rest:s,__decorate:i,__param:l,__esDecorate:c,__runInitializers:u,__propKey:d,__setFunctionName:h,__metadata:f,__awaiter:p,__generator:m,__createBinding:g,__exportStar:v,__values:y,__read:b,__spread:x,__spreadArrays:w,__spreadArray:j,__await:_,__asyncGenerator:N,__asyncDelegator:k,__asyncValues:S,__makeTemplateObject:E,__importStar:T,__importDefault:R,__classPrivateFieldGet:P,__classPrivateFieldSet:O,__classPrivateFieldIn:D,__addDisposableResource:I,__disposeResources:M,__rewriteRelativeImportExtension:F}},337:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SupabaseAuthClient=void 0;const n=r(219);class a extends n.AuthClient{constructor(e){super(e)}}t.SupabaseAuthClient=a},374:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(326).__importDefault(r(286));class a extends n.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=a?"".concat(a,".order"):"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(s?"".concat(s,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),o="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(o,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:o="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const i=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.get("Accept"))&&void 0!==s?s:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(o,'; for="').concat(l,'"; options=').concat(i,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=a},391:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},425:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const n=r(488);let a="";a="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node",t.DEFAULT_HEADERS={"X-Client-Info":"supabase-js-".concat(a,"/").concat(n.version)},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}},448:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=o(r(87));a(r(219),t);var i=r(980);Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var l=r(642);Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),a(r(292),t);var c=r(87);Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return o(c).default}});t.createClient=(e,t,r)=>new s.default(e,t,r),function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18}()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},488:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="2.86.2"},555:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{A:()=>i})},579:(e,t,r)=>{e.exports=r(799)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},642:(e,t,r)=>{r.r(t),r.d(t,{FunctionRegion:()=>l,FunctionsClient:()=>c,FunctionsError:()=>a,FunctionsFetchError:()=>o,FunctionsHttpError:()=>i,FunctionsRelayError:()=>s});var n=r(326);class a extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class o extends a{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class s extends a{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class i extends a{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var l;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(l||(l={}));class c{constructor(e){let{headers:t={},customFetch:r,region:n=l.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=n,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return(0,n.__awaiter)(this,arguments,void 0,function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var n;let a,l;try{const{headers:c,method:u,body:d,signal:h,timeout:f}=r;let p={},{region:m}=r;m||(m=t.region);const g=new URL("".concat(t.url,"/").concat(e));let v;m&&"any"!==m&&(p["x-region"]=m,g.searchParams.set("forceFunctionRegion",m)),d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?"undefined"!==typeof Blob&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=d):"string"===typeof d?(p["Content-Type"]="text/plain",v=d):"undefined"!==typeof FormData&&d instanceof FormData?v=d:(p["Content-Type"]="application/json",v=JSON.stringify(d)):v=d;let y=h;f&&(l=new AbortController,a=setTimeout(()=>l.abort(),f),h?(y=l.signal,h.addEventListener("abort",()=>l.abort())):y=l.signal);const b=yield t.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),t.headers),c),body:v,signal:y}).catch(e=>{throw new o(e)}),x=b.headers.get("x-relay-error");if(x&&"true"===x)throw new s(b);if(!b.ok)throw new i(b);let w,j=(null!==(n=b.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return w="application/json"===j?yield b.json():"application/octet-stream"===j||"application/pdf"===j?yield b.blob():"text/event-stream"===j?b:"multipart/form-data"===j?yield b.formData():yield b.text(),{data:w,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof i||c instanceof s?c.context:void 0}}finally{a&&clearTimeout(a)}}()})}}},672:(e,t,r)=>{var n=r(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},i=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=r,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:o}):"script"===r&&s.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);s.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.1"},681:(e,t)=>{function r(e){return e.endsWith("/")?e:e+"/"}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=void 0,t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},t.ensureTrailingSlash=r,t.applySettingDefaults=function(e,t){var r,n;const{db:a,auth:o,realtime:s,global:i}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),i),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===i||void 0===i?void 0:i.headers)&&void 0!==n?n:{})}),accessToken:async()=>""};e.accessToken?h.accessToken=e.accessToken:delete h.accessToken;return h},t.validateSupabaseUrl=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(t))}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}};t.isBrowser=()=>"undefined"!==typeof window},736:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(326).__importDefault(r(374)),a=new RegExp("[,()]");class o extends n.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&a.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const o=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(o,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=o},799:(e,t)=>{var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var o in n={},t)"key"!==o&&(n[o]=t[o]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},829:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(326).__importDefault(r(736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,t){const{head:r=!1,count:a}=null!==t&&void 0!==t?t:{},o=r?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),a&&this.headers.append("Prefer","count=".concat(a)),new n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(t&&this.headers.append("Prefer","count=".concat(t)),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;if(this.headers.append("Prefer","resolution=".concat(r?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer","count=".concat(a)),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return t&&this.headers.append("Prefer","count=".concat(t)),new n.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new n.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,r)=>{e.exports=r(896)},887:(e,t,r)=>{r.r(t),r.d(t,{StorageAnalyticsClient:()=>I,StorageApiError:()=>s,StorageClient:()=>re,StorageError:()=>a,StorageUnknownError:()=>i,StorageVectorsApiError:()=>z,StorageVectorsClient:()=>Z,StorageVectorsError:()=>M,StorageVectorsErrorCode:()=>B,StorageVectorsUnknownError:()=>U,VectorBucketApi:()=>X,VectorBucketScope:()=>ee,VectorDataApi:()=>Q,VectorIndexApi:()=>Y,VectorIndexScope:()=>te,isPlainObject:()=>H,isStorageError:()=>o,isStorageVectorsError:()=>F,normalizeToFloat32:()=>W,resolveFetch:()=>q,resolveResponse:()=>V,validateVectorDimension:()=>K});var n=r(326);class a extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function o(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class s extends a{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class i extends a{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const l=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},c=e=>{if(Array.isArray(e))return e.map(e=>c(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=c(n)}),t},u=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},d=(e,t,r)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){const n=yield Response;e instanceof n&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(r=>{const n=e.status||500,a=(null===r||void 0===r?void 0:r.statusCode)||n+"";t(new s(u(r),n,a))}).catch(e=>{t(new i(u(e),e))}):t(new i(u(e),e))}),h=(e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r)):a};function f(e,t,r,a,o,s){return(0,n.__awaiter)(this,void 0,void 0,function*(){return new Promise((n,i)=>{e(r,h(t,a,o,s)).then(e=>{if(!e.ok)throw e;return(null===a||void 0===a?void 0:a.noResolveJson)?e:e.json()}).then(e=>n(e)).catch(e=>d(e,i,a))})})}function p(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"GET",t,r,a)})}function m(e,t,r,a,o){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"POST",t,a,o,r)})}function g(e,t,r,a,o){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"PUT",t,a,o,r)})}function v(e,t,r,a,o){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"DELETE",t,a,o,r)})}class y{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(o(e))return{data:null,error:e};throw e}})}}var b;b=Symbol.toStringTag;const x=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[b]="BlobDownloadBuilder",this.promise=null}asStream(){return new y(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(o(e))return{data:null,error:e};throw e}})}},w={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=l(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},j),a);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const i=o.metadata;if("undefined"!==typeof Blob&&r instanceof Blob)n=new FormData,n.append("cacheControl",o.cacheControl),i&&n.append("metadata",this.encodeMetadata(i)),n.append("",r);else if("undefined"!==typeof FormData&&r instanceof FormData)n=r,n.has("cacheControl")||n.append("cacheControl",o.cacheControl),i&&!n.has("metadata")&&n.append("metadata",this.encodeMetadata(i));else{n=r,s["cache-control"]="max-age=".concat(o.cacheControl),s["content-type"]=o.contentType,i&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(i)));("undefined"!==typeof ReadableStream&&n instanceof ReadableStream||n&&"object"===typeof n&&"pipe"in n&&"function"===typeof n.pipe)&&!o.duplex&&(o.duplex="half")}(null===a||void 0===a?void 0:a.headers)&&(s=Object.assign(Object.assign({},s),a.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?g:m)(this.fetch,"".concat(this.url,"/object/").concat(c),n,Object.assign({headers:s},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(o(n))return{data:null,error:n};throw n}})}upload(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),s=this._getFinalPath(n),i=new URL(this.url+"/object/upload/sign/".concat(s));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:j.upsert},a),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType);return{data:{path:n,fullPath:(yield g(this.fetch,i.toString(),e,{headers:o})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(o(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const o=yield m(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:n}),s=new URL(this.url+o.url),i=s.searchParams.get("token");if(!i)throw new a("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(o(r))return{data:null,error:r};throw r}})}update(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield m(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(o(n))return{data:null,error:n};throw n}})}copy(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield m(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(o(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield m(this.fetch,"".concat(this.url,"/object/sign/").concat(n),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const o=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(o))},{data:a,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(o(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const n=yield m(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(o(n))return{data:null,error:n};throw n}})}download(e,t){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"",o=this._getFinalPath(e);return new x(()=>p(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(o).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield p(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:c(e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(o(r))return{data:null,error:r};throw r}})}exists(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(o(r)&&r instanceof i){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const o="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&n.push(s);let i=n.join("&");return""!==i&&(i="?".concat(i)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(o,"/public/").concat(r).concat(i))}}}remove(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(o(t))return{data:null,error:t};throw t}})}list(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},w),t),{prefix:e||""});return{data:yield m(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(o(n))return{data:null,error:n};throw n}})}listV2(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield m(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(o(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const N="2.86.2",k={"X-Client-Info":"storage-js/".concat(N)};class S{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const a=new URL(e);if(null===n||void 0===n?void 0:n.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k),t),this.fetch=l(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield p(this.fetch,"".concat(this.url,"/bucket").concat(t),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(o(t))return{data:null,error:t};throw t}})}getBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield p(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(o(t))return{data:null,error:t};throw t}})}createBucket(e){return(0,n.__awaiter)(this,arguments,void 0,function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return function*(){try{return{data:yield m(t.fetch,"".concat(t.url,"/bucket"),{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(o(n))return{data:null,error:n};throw n}}()})}updateBucket(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield g(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(o(r))return{data:null,error:r};throw r}})}emptyBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield m(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(o(t))return{data:null,error:t};throw t}})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(o(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var E=r(555),A=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(r=t.icebergType)||void 0===r?void 0:r.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function C(e){var t;const r=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:n,path:a,query:o,body:s,headers:i}=t;const l=function(e,t,r){const n=new URL(t,e);if(r)for(const[a,o]of Object.entries(r))void 0!==o&&n.searchParams.set(a,o);return n.toString()}(e.baseUrl,a,o),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),u=await r(l,{method:n,headers:(0,E.A)((0,E.A)((0,E.A)({},s?{"Content-Type":"application/json"}:{}),c),i),body:s?JSON.stringify(s):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){var p;const e=h?f:void 0,t=null===e||void 0===e?void 0:e.error;throw new A(null!==(p=null===t||void 0===t?void 0:t.message)&&void 0!==p?p:"Request failed with status ".concat(u.status),{status:u.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:u.status,headers:u.headers,data:f}}}}function T(e){return e.join("\x1f")}var R=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:T(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace))}),!0}catch(t){if(t instanceof A&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof A&&409===r.status)return;throw r}}};function P(e){return e.join("\x1f")}var O=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(P(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(P(e.namespace),"/tables"),body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(P(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){var r;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(P(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(r=null===t||void 0===t?void 0:t.purge)&&void 0!==r&&r)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(P(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(P(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(r){if(r instanceof A&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof A&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},D=class{constructor(e){var t;let r="v1";e.catalogName&&(r+="/".concat(e.catalogName));const n=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=C({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new R(this.client,r),this.tableOps=new O(this.client,r,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class I{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k),t),this.fetch=l(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield m(this.fetch,"".concat(this.url,"/bucket"),{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(o(t))return{data:null,error:t};throw t}})}listBuckets(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&t.set("search",e.search);const r=t.toString(),n=r?"".concat(this.url,"/bucket?").concat(r):"".concat(this.url,"/bucket");return{data:yield p(this.fetch,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(o(t))return{data:null,error:t};throw t}})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(o(t))return{data:null,error:t};throw t}})}from(e){if(!(e=>!(!e||"string"!==typeof e)&&(!(0===e.length||e.length>100)&&(e.trim()===e&&(!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)))))(e))throw new a("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new D({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>(0,n.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const L={"X-Client-Info":"storage-js/".concat(N),"Content-Type":"application/json"};class M extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function F(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}class z extends M{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class U extends M{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var B;!function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"}(B||(B={}));const q=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},V=()=>Response,H=e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},W=e=>Array.from(new Float32Array(e)),K=(e,t)=>{if(void 0!==t&&e.float32.length!==t)throw new Error("Vector dimension mismatch: expected ".concat(t,", got ").concat(e.float32.length))},G=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function $(e,t,r,a,o,s){return(0,n.__awaiter)(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?(H(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a})(t,a,o,s)).then(e=>{if(!e.ok)throw e;if(null===a||void 0===a?void 0:a.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>i(e)).catch(e=>((e,t,r)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===r||void 0===r?void 0:r.noResolveJson)){const r=e.status||500,n=e;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||r+"";t(new z(G(e),r,n))}).catch(()=>{const e=r+"",a=n.statusText||"HTTP ".concat(r," error");t(new z(a,r,e))});else{const e=r+"",a=n.statusText||"HTTP ".concat(r," error");t(new z(a,r,e))}}else t(new U(G(e),e))}))(e,l,a))})})}function J(e,t,r,a,o){return(0,n.__awaiter)(this,void 0,void 0,function*(){return $(e,"POST",t,a,o,r)})}class Y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield J(this.fetch,"".concat(this.url,"/CreateIndex"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}getIndex(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,"".concat(this.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(F(r))return{data:null,error:r};throw r}})}listIndexes(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,"".concat(this.url,"/ListIndexes"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield J(this.fetch,"".concat(this.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(F(r))return{data:null,error:r};throw r}})}}class Q{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield J(this.fetch,"".concat(this.url,"/PutVectors"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}getVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,"".concat(this.url,"/GetVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}listVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:yield J(this.fetch,"".concat(this.url,"/ListVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}queryVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,"".concat(this.url,"/QueryVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}deleteVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield J(this.fetch,"".concat(this.url,"/DeleteVectors"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}}class X{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield J(this.fetch,"".concat(this.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}getBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield J(this.fetch,"".concat(this.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}listBuckets(){return(0,n.__awaiter)(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){try{return{data:yield J(e.fetch,"".concat(e.url,"/ListVectorBuckets"),t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(F(r))return{data:null,error:r};throw r}}()})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield J(this.fetch,"".concat(this.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(F(t))return{data:null,error:t};throw t}})}}class Z extends X{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new ee(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listBuckets.call(t,r)}()})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class ee extends Y{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listIndexes.call(t,Object.assign(Object.assign({},r),{vectorBucketName:t.vectorBucketName}))}()})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new te(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class te extends Q{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listVectors.call(t,Object.assign(Object.assign({},r),{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}()})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class re extends S{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new _(this.url,this.headers,e,this.fetch)}get vectors(){return new Z(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new I(this.url+"/iceberg",this.headers,this.fetch)}}},896:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<o(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var i=2*(n+1)-1,l=e[i],c=i+1,u=e[c];if(0>o(l,r))c<a&&0>o(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<a&&0>o(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function j(e){if(g=!1,w(e),!m)if(null!==n(c))m=!0,N||(N=!0,_());else{var t=n(u);null!==t&&P(j,t.startTime-e)}}var _,N=!1,k=-1,S=5,E=-1;function A(){return!!v||!(t.unstable_now()-E<S)}function C(){if(v=!1,N){var e=t.unstable_now();E=e;var r=!0;try{e:{m=!1,g&&(g=!1,b(k),k=-1),p=!0;var o=f;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&A());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var i=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){h.callback=i,w(e),r=!0;break t}h===n(c)&&a(c),w(e)}else a(c);h=n(c)}if(null!==h)r=!0;else{var l=n(u);null!==l&&P(j,l.startTime-e),r=!1}}break e}finally{h=null,f=o,p=!1}r=void 0}}finally{r?_():N=!1}}}if("function"===typeof x)_=function(){x(C)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=C,_=function(){R.postMessage(null)}}else _=function(){y(C,0)};function P(e,r){k=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,r(u,e),null===n(c)&&e===n(u)&&(g?(b(k),k=-1):g=!0,P(j,o-s))):(e.sortIndex=i,r(c,e),m||p||(m=!0,N||(N=!0,_()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)},980:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const n=r(326),a=n.__importDefault(r(210));t.PostgrestClient=a.default;const o=n.__importDefault(r(829));t.PostgrestQueryBuilder=o.default;const s=n.__importDefault(r(736));t.PostgrestFilterBuilder=s.default;const i=n.__importDefault(r(374));t.PostgrestTransformBuilder=i.default;const l=n.__importDefault(r(286));t.PostgrestBuilder=l.default;const c=n.__importDefault(r(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,r.d(o,s),o}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var n=r(43),a=r.t(n,2),o=r(391);function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var i=r(555);const l=["sri"],c=["page"],u=["page","matches"],d=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var p="popstate";function m(){return j(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return b("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function g(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return(0,i.A)((0,i.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?w(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function x(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function w(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function j(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:o=!1}=n,s=a.history,l="POP",c=null,u=d();function d(){return(s.state||{idx:null}).idx}function h(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:m.location,delta:t})}function f(e){return _(e)}null==u&&(u=0,s.replaceState((0,i.A)((0,i.A)({},s.state),{},{idx:u}),""));let m={get action(){return l},get location(){return e(a,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(p,h),c=e,()=>{a.removeEventListener(p,h),c=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let n=b(m.location,e,t);r&&r(n,e),u=d()+1;let i=y(n,u),h=m.createHref(n);try{s.pushState(i,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}o&&c&&c({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let n=b(m.location,e,t);r&&r(n,e),u=d();let a=y(n,u),i=m.createHref(n);s.replaceState(a,"",i),o&&c&&c({action:l,location:m.location,delta:0})},go:e=>s.go(e)};return m}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),g(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:x(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function N(e,t){return k(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function k(e,t,r,n){let a=U(("string"===typeof t?w(t):t).pathname||"/",r);if(null==a)return null;let o=S(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let i=0;null==s&&i<o.length;++i){let e=z(a);s=L(o[i],e,n)}return s}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(e,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(n)&&s)return;g(l.relativePath.startsWith(n),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(n.length)}let c=$([n,l.relativePath]),u=r.concat(l);e.children&&e.children.length>0&&(g(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),S(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:I(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of E(e.path))o(e,t,!0,n);else o(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===n.length)return a?[o,""]:[o];let s=E(n.join("/")),i=[];return i.push(...s.map(e=>""===e?o:[o,e].join("/"))),a&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var A=/^:[\w-]+$/,C=3,T=2,R=1,P=10,O=-2,D=e=>"*"===e;function I(e,t){let r=e.split("/"),n=r.length;return r.some(D)&&(n+=O),t&&(n+=T),r.filter(e=>!D(e)).reduce((e,t)=>e+(A.test(t)?C:""===t?R:P),n)}function L(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},o="/",s=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===o?t:t.slice(o.length)||"/",u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:$([o,u.pathname]),pathnameBase:J($([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=$([o,u.pathnameBase]))}return s}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=F(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[r]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}var B=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=e=>B.test(e);function V(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function H(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=W(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function G(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=w(e):(n=(0,i.A)({},e),g(!n.pathname||!n.pathname.includes("?"),H("?","pathname","search",n)),g(!n.pathname||!n.pathname.includes("#"),H("#","pathname","hash",n)),g(!n.search||!n.search.includes("#"),H("#","search","hash",n)));let o,s=""===e||""===n.pathname,l=s?"/":n.pathname;if(null==l)o=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:a="",hash:o=""}="string"===typeof e?w(e):e;if(n)if(q(n))t=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),v(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(n))}t=n.startsWith("/")?V(n.substring(1),"/"):V(n,r)}else t=r;return{pathname:t,search:Y(a),hash:Q(o)}}(n,o),u=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var $=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function Z(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ee=["POST","PUT","PATCH","DELETE"],te=(new Set(ee),["GET",...ee]);new Set(te),Symbol("ResetLoaderData");var re=n.createContext(null);re.displayName="DataRouter";var ne=n.createContext(null);ne.displayName="DataRouterState";var ae=n.createContext(!1);var oe=n.createContext({isTransitioning:!1});oe.displayName="ViewTransition";var se=n.createContext(new Map);se.displayName="Fetchers";var ie=n.createContext(null);ie.displayName="Await";var le=n.createContext(null);le.displayName="Navigation";var ce=n.createContext(null);ce.displayName="Location";var ue=n.createContext({outlet:null,matches:[],isDataRoute:!1});ue.displayName="Route";var de=n.createContext(null);de.displayName="RouteError";function he(){return null!=n.useContext(ce)}function fe(){return g(he(),"useLocation() may be used only in the context of a <Router> component."),n.useContext(ce).location}var pe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function me(e){n.useContext(le).static||n.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=n.useContext(ue);return e?function(){let{router:e}=Se("useNavigate"),t=Ae("useNavigate"),r=n.useRef(!1);me(()=>{r.current=!0});let a=n.useCallback(async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(r.current,pe),r.current&&("number"===typeof n?await e.navigate(n):await e.navigate(n,(0,i.A)({fromRouteId:t},a)))},[e,t]);return a}():function(){g(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=n.useContext(re),{basename:t,navigator:r}=n.useContext(le),{matches:a}=n.useContext(ue),{pathname:o}=fe(),s=JSON.stringify(K(a)),i=n.useRef(!1);me(()=>{i.current=!0});let l=n.useCallback(function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(i.current,pe),!i.current)return;if("number"===typeof n)return void r.go(n);let l=G(n,JSON.parse(s),o,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:$([t,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)},[t,r,s,o,e]);return l}()}n.createContext(null);function ve(){let{matches:e}=n.useContext(ue),t=e[e.length-1];return t?t.params:{}}function ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=n.useContext(ue),{pathname:a}=fe(),o=JSON.stringify(K(r));return n.useMemo(()=>G(e,JSON.parse(o),a,"path"===t),[e,o,a,t])}function be(e,t,r,a,o){g(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=n.useContext(le),{matches:l}=n.useContext(ue),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";Re(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=fe();if(t){var y;let e="string"===typeof t?w(t):t;g("/"===h||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let b=p.pathname||"/",x=b;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let j=N(e,{pathname:x});v(f||null!=j,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),v(null==j||void 0!==j[j.length-1].route.element||void 0!==j[j.length-1].route.Component||void 0!==j[j.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=Ne(j&&j.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:$([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:$([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,r,a,o);return t&&_?n.createElement(ce.Provider,{value:{location:(0,i.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},_):_}function xe(){let e=Ce(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=n.createElement(n.Fragment,null,n.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),n.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",n.createElement("code",{style:s},"ErrorBoundary")," or"," ",n.createElement("code",{style:s},"errorElement")," prop on your route.")),n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:o},r):null,i)}var we=n.createElement(xe,null),je=class extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?n.createElement(ue.Provider,{value:this.props.routeContext},n.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _e(e){let{routeContext:t,match:r,children:a}=e,o=n.useContext(re);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(ue.Provider,{value:t},a)}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let o=e,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));g(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let i=!1,l=-1;if(r)for(let n=0;n<o.length;n++){let e=o[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=n),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){i=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}let c=r&&a?(e,t)=>{var n,o;a(e,{location:r.location,params:null!==(n=null===(o=r.matches)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.params)&&void 0!==n?n:{},unstable_pattern:Z(r.matches),errorInfo:t})}:void 0;return o.reduceRight((e,a,u)=>{let d,h=!1,f=null,p=null;r&&(d=s&&a.route.id?s[a.route.id]:void 0,f=a.route.errorElement||we,i&&(l<0&&0===u?(Re("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=a.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:a.route.Component?n.createElement(a.route.Component,null):a.route.element?a.route.element:e,n.createElement(_e,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?n.createElement(je,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=n.useContext(re);return g(t,ke(e)),t}function Ee(e){let t=n.useContext(ne);return g(t,ke(e)),t}function Ae(e){let t=function(e){let t=n.useContext(ue);return g(t,ke(e)),t}(e),r=t.matches[t.matches.length-1];return g(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ce(){var e;let t=n.useContext(de),r=Ee("useRouteError"),a=Ae("useRouteError");return void 0!==t?t:null===(e=r.errors)||void 0===e?void 0:e[a]}var Te={};function Re(e,t,r){t||Te[e]||(Te[e]=!0,v(!1,r))}var Pe={};function Oe(e,t){e||Pe[t]||(Pe[t]=!0,console.warn(t))}a.useOptimistic;n.memo(function(e){let{routes:t,future:r,state:n,unstable_onError:a}=e;return be(t,void 0,n,a,r)});function De(e){let{to:t,replace:r,state:a,relative:o}=e;g(he(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=n.useContext(le);v(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=n.useContext(ue),{pathname:l}=fe(),c=ge(),u=G(t,K(i),l,"path"===o),d=JSON.stringify(u);return n.useEffect(()=>{c(JSON.parse(d),{replace:r,state:a,relative:o})},[c,d,o,r,a]),null}function Ie(e){g(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Le(e){let{basename:t="/",children:r=null,location:a,navigationType:o="POP",navigator:s,static:i=!1,unstable_useTransitions:l}=e;g(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=n.useMemo(()=>({basename:c,navigator:s,static:i,unstable_useTransitions:l,future:{}}),[c,s,i,l]);"string"===typeof a&&(a=w(a));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=a,y=n.useMemo(()=>{let e=U(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:o}},[c,d,h,f,p,m,o]);return v(null!=y,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:n.createElement(le.Provider,{value:u},n.createElement(ce.Provider,{children:r,value:y}))}function Me(e){let{children:t,location:r}=e;return be(Fe(t),r)}n.Component;function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return n.Children.forEach(e,(e,a)=>{if(!n.isValidElement(e))return;let o=[...t,a];if(e.type===n.Fragment)return void r.push.apply(r,Fe(e.props.children,o));g(e.type===Ie,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),g(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Fe(e.props.children,o)),r.push(s)}),r}var ze="get",Ue="application/x-www-form-urlencoded";function Be(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}function qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}var Ve=null;var He=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function We(e){return null==e||He.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function Ke(e,t){let r,n,a,o,s;if(Be(i=e)&&"form"===i.tagName.toLowerCase()){let s=e.getAttribute("action");n=s?U(s,t):null,r=e.getAttribute("method")||ze,a=We(e.getAttribute("enctype"))||Ue,o=new FormData(e)}else if(function(e){return Be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||s.getAttribute("action");if(n=i?U(i,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||ze,a=We(e.getAttribute("formenctype"))||We(s.getAttribute("enctype"))||Ue,o=new FormData(s,e),!function(){if(null===Ve)try{new FormData(document.createElement("form"),0),Ve=!1}catch(e){Ve=!0}return Ve}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,n)}}else{if(Be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ze,n=null,a=Ue,s=e}var i;return o&&"text/plain"===a&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ge(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function $e(e,t,r){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.".concat(r):t&&"/"===U(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):n.pathname="".concat(n.pathname.replace(/\/$/,""),".").concat(r),n}async function Je(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ye(e){return null!=e&&"string"===typeof e.page}function Qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Xe(e,t,r,n,a,o){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,i=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>s(e,t)||i(e,t)):"data"===o?t.filter((t,o)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,o)||i(t,o))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Ze(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function et(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!Ye(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let o=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(o)||(r.add(o),e.push({key:o,link:a})),e},[])}function tt(e,t){return"lazy"===e.mode&&!0===t}function rt(){let e=n.useContext(re);return Ge(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nt(){let e=n.useContext(ne);return Ge(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var at=n.createContext(void 0);function ot(){let e=n.useContext(at);return Ge(e,"You must render this element inside a <HydratedRouter> element"),e}function st(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function it(e,t,r){if(r&&!dt)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}at.displayName="FrameworkContext";function lt(e){let{page:t}=e,r=s(e,c),{router:a}=rt(),o=n.useMemo(()=>N(a.routes,t,a.basename),[a.routes,t,a.basename]);return o?n.createElement(ut,(0,i.A)({page:t,matches:o},r)):null}function ct(e){let{manifest:t,routeModules:r}=ot(),[a,o]=n.useState([]);return n.useEffect(()=>{let n=!1;return async function(e,t,r){return et((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await Je(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,i.A)((0,i.A)({},e),{},{rel:"prefetch",as:"style"}):(0,i.A)((0,i.A)({},e),{},{rel:"prefetch"})))}(e,t,r).then(e=>{n||o(e)}),()=>{n=!0}},[e,t,r]),a}function ut(e){let{page:t,matches:r}=e,a=s(e,u),o=fe(),{manifest:l,routeModules:c}=ot(),{basename:d}=rt(),{loaderData:h,matches:f}=nt(),p=n.useMemo(()=>Xe(t,r,f,l,o,"data"),[t,r,f,l,o]),m=n.useMemo(()=>Xe(t,r,f,l,o,"assets"),[t,r,f,l,o]),g=n.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,n=!1;if(r.forEach(t=>{var r;let a=l.routes[t.route.id];a&&a.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(r=c[t.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?n=!0:e.add(t.route.id))}),0===e.size)return[];let a=$e(t,d,"data");return n&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[d,h,o,l,p,r,t,c]),v=n.useMemo(()=>Ze(m,l),[m,l]),y=ct(m);return n.createElement(n.Fragment,null,g.map(e=>n.createElement("link",(0,i.A)({key:e,rel:"prefetch",as:"fetch",href:e},a))),v.map(e=>n.createElement("link",(0,i.A)({key:e,rel:"modulepreload",href:e},a))),y.map(e=>{let{key:t,link:r}=e;return n.createElement("link",(0,i.A)({key:t,nonce:a.nonce},r))}))}var dt=!1;function ht(e){let{manifest:t,serverHandoffString:r,isSpaMode:a,renderMeta:o,routeDiscovery:c,ssr:u}=ot(),{router:d,static:h,staticContext:f}=rt(),{matches:p}=nt(),m=n.useContext(ae),g=tt(c,u);o&&(o.didRenderScripts=!0);let v=it(p,null,a);n.useEffect(()=>{dt=!0},[]);let y=n.useMemo(()=>{var a;if(m)return null;let o=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,r)=>{let n="route".concat(r),a=t.routes[e.route.id];Ge(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:i,hydrateFallbackModule:l,module:c}=a,u=[...o?[{module:o,varName:"".concat(n,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(n,"_clientLoader")}]:[],...i?[{module:i,varName:"".concat(n,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===u.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,n=s(e,l),a=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(o.pop();o.length>0;)c.push("/".concat(o.join("/"))),o.pop();c.forEach(e=>{let r=N(t.routes,e,t.basename);r&&r.forEach(e=>a.add(e.route.id))});let u=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return(0,i.A)((0,i.A)({},n),{},{routes:u,sri:!!r||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return n.createElement(n.Fragment,null,n.createElement("script",(0,i.A)((0,i.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:void 0})),n.createElement("script",(0,i.A)((0,i.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),b=dt||m?[]:(x=t.entry.imports.concat(Ze(v,t,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let w="object"===typeof t.sri?t.sri:{};return Oe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),dt||m?null:n.createElement(n.Fragment,null,"object"===typeof t.sri?n.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:n.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),n.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>n.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),y)}function ft(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}n.Component;function pt(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let a,o=n.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return n.createElement(mt,{title:"Unhandled Thrown Response!"},n.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return n.createElement(mt,{title:"Application Error!",isOutsideRemixApp:r},n.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),n.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),o)}function mt(e){var t;let{title:r,renderScripts:a,isOutsideRemixApp:o,children:s}=e,{routeModules:i}=ot();return null!==(t=i.root)&&void 0!==t&&t.Layout&&!o?s:n.createElement("html",{lang:"en"},n.createElement("head",null,n.createElement("meta",{charSet:"utf-8"}),n.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),n.createElement("title",null,r)),n.createElement("body",null,n.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,a?n.createElement(ht,null):null)))}var gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{gt&&(window.__reactRouterVersion="7.10.1")}catch(Vj){}function vt(e){let{basename:t,children:r,unstable_useTransitions:a,window:o}=e,s=n.useRef();null==s.current&&(s.current=m({window:o,v5Compat:!0}));let i=s.current,[l,c]=n.useState({action:i.action,location:i.location}),u=n.useCallback(e=>{!1===a?c(e):n.startTransition(()=>c(e))},[a]);return n.useLayoutEffect(()=>i.listen(u),[i,u]),n.createElement(Le,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:!0===a})}var yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=n.forwardRef(function(e,t){let r,{onClick:a,discover:o="render",prefetch:l="none",relative:c,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:y,viewTransition:b}=e,w=s(e,d),{basename:j,unstable_useTransitions:_}=n.useContext(le),N="string"===typeof m&&yt.test(m),k=!1;if("string"===typeof m&&N&&(r=m,gt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=U(t.pathname,j);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:k=!0}catch(Vj){v(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=n.useContext(le),{hash:o,pathname:s,search:i}=ye(e,{relative:t}),l=s;return"/"!==r&&(l="/"===s?r:$([r,s])),a.createHref({pathname:l,search:i,hash:o})}(m,{relative:c}),[E,A,C]=function(e,t){let r=n.useContext(at),[a,o]=n.useState(!1),[s,i]=n.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=n.useRef(null);n.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),n.useEffect(()=>{if(a){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{o(!0)},m=()=>{o(!1),i(!1)};return r?"intent"!==e?[s,f,{}]:[s,f,{onFocus:st(l,p),onBlur:st(c,m),onMouseEnter:st(u,p),onMouseLeave:st(d,m),onTouchStart:st(h,p)}]:[!1,f,{}]}(l,w),T=function(e){let{target:t,replace:r,state:a,preventScrollReset:o,relative:s,viewTransition:i,unstable_useTransitions:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ge(),u=fe(),d=ye(e,{relative:s});return n.useCallback(h=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(h,t)){h.preventDefault();let t=void 0!==r?r:x(u)===x(d),f=()=>c(e,{replace:t,state:a,preventScrollReset:o,relative:s,viewTransition:i});l?n.startTransition(()=>f()):f()}},[u,c,d,r,a,t,e,o,s,i,l])}(m,{replace:h,state:f,target:p,preventScrollReset:y,relative:c,viewTransition:b,unstable_useTransitions:_});let R=n.createElement("a",(0,i.A)((0,i.A)((0,i.A)({},w),C),{},{href:r||S,onClick:k||u?a:function(e){a&&a(e),e.defaultPrevented||T(e)},ref:ft(t,A),target:p,"data-discover":N||"render"!==o?void 0:"true"}));return E&&!N?n.createElement(n.Fragment,null,R,n.createElement(lt,{page:S})):R});bt.displayName="Link",n.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:l=!1,style:c,to:u,viewTransition:d,children:f}=e,p=s(e,h),m=ye(u,{relative:p.relative}),v=fe(),y=n.useContext(ne),{navigator:b,basename:x}=n.useContext(le),w=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.useContext(oe);g(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=jt("useViewTransitionState"),o=ye(e,{relative:t});if(!r.isTransitioning)return!1;let s=U(r.currentLocation.pathname,a)||r.currentLocation.pathname,i=U(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=M(o.pathname,i)||null!=M(o.pathname,s)}(m)&&!0===d,j=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,_=v.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(_=_.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&x&&(N=U(N,x)||N);const k="/"!==j&&j.endsWith("/")?j.length-1:j.length;let S,E=_===j||!l&&_.startsWith(j)&&"/"===_.charAt(k),A=null!=N&&(N===j||!l&&N.startsWith(j)&&"/"===N.charAt(j.length)),C={isActive:E,isPending:A,isTransitioning:w},T=E?r:void 0;S="function"===typeof o?o(C):[o,E?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof c?c(C):c;return n.createElement(bt,(0,i.A)((0,i.A)({},p),{},{"aria-current":T,className:S,ref:t,style:R,to:u,viewTransition:d}),"function"===typeof f?f(C):f)}).displayName="NavLink";var xt=n.forwardRef((e,t)=>{let{discover:r="render",fetcherKey:a,navigate:o,reloadDocument:l,replace:c,state:u,method:d=ze,action:h,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:y}=e,b=s(e,f),{unstable_useTransitions:w}=n.useContext(le),j=St(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=n.useContext(le),a=n.useContext(ue);g(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),s=(0,i.A)({},ye(e||".",{relative:t})),l=fe();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();s.search=r?"?".concat(r):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:$([r,s.pathname]));return x(s)}(h,{relative:m}),N="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&yt.test(h);return n.createElement("form",(0,i.A)((0,i.A)({ref:t,method:N,action:_,onSubmit:l?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d,s=()=>j(t||e.currentTarget,{fetcherKey:a,method:r,navigate:o,replace:c,state:u,relative:m,preventScrollReset:v,viewTransition:y});w&&!1!==o?n.startTransition(()=>s()):s()}},b),{},{"data-discover":k||"render"!==r?void 0:"true"}))});function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function jt(e){let t=n.useContext(re);return g(t,wt(e)),t}function _t(e){v("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=n.useRef(qe(e)),r=n.useRef(!1),a=fe(),o=n.useMemo(()=>function(e,t){let r=qe(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(a.search,r.current?null:t.current),[a.search]),s=ge(),i=n.useCallback((e,t)=>{const n=qe("function"===typeof e?e(new URLSearchParams(o)):e);r.current=!0,s("?"+n,t)},[s,o]);return[o,i]}xt.displayName="Form";var Nt=0,kt=()=>"__".concat(String(++Nt),"__");function St(){let{router:e}=jt("useSubmit"),{basename:t}=n.useContext(le),r=Ae("useRouteId"),a=e.fetch,o=e.navigate;return n.useCallback(async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:l,formData:c,body:u}=Ke(e,t);if(!1===n.navigate){let e=n.fetcherKey||kt();await a(e,r,n.action||s,{preventScrollReset:n.preventScrollReset,formData:c,body:u,formMethod:n.method||i,formEncType:n.encType||l,flushSync:n.flushSync})}else await o(n.action||s,{preventScrollReset:n.preventScrollReset,formData:c,body:u,formMethod:n.method||i,formEncType:n.encType||l,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[a,o,t,r])}var Et=r(448),At=r.t(Et,2);const{PostgrestError:Ct,FunctionsHttpError:Tt,FunctionsFetchError:Rt,FunctionsRelayError:Pt,FunctionsError:Ot,FunctionRegion:Dt,SupabaseClient:It,createClient:Lt,GoTrueAdminApi:Mt,GoTrueClient:Ft,AuthAdminApi:zt,AuthClient:Ut,navigatorLock:Bt,NavigatorLockAcquireTimeoutError:qt,lockInternals:Vt,processLock:Ht,SIGN_OUT_SCOPES:Wt,AuthError:Kt,AuthApiError:Gt,AuthUnknownError:$t,CustomAuthError:Jt,AuthSessionMissingError:Yt,AuthInvalidTokenResponseError:Qt,AuthInvalidCredentialsError:Xt,AuthImplicitGrantRedirectError:Zt,AuthPKCEGrantCodeExchangeError:er,AuthRetryableFetchError:tr,AuthWeakPasswordError:rr,AuthInvalidJwtError:nr,isAuthError:ar,isAuthApiError:or,isAuthSessionMissingError:sr,isAuthImplicitGrantRedirectError:ir,isAuthRetryableFetchError:lr,isAuthWeakPasswordError:cr,RealtimePresence:ur,RealtimeChannel:dr,RealtimeClient:hr,REALTIME_LISTEN_TYPES:fr,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:pr,REALTIME_PRESENCE_LISTEN_EVENTS:mr,REALTIME_SUBSCRIBE_STATES:gr,REALTIME_CHANNEL_STATES:vr}=Et||At,yr="https://rtdxqthhhwqnlrevzmap.supabase.co",br=yr,xr=Lt(yr,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0ZHhxdGhoaHdxbmxyZXZ6bWFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5ODI4MjYsImV4cCI6MjA4MDU1ODgyNn0.njhKNQVbMWn-MlAhWfnHOVIRh988xksKry8ofEtEnOw"),wr="/images/default-avatar.png";var jr=r(579);const _r=(0,n.createContext)(),Nr=()=>{const e=(0,n.useContext)(_r);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},kr=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(null),[o,s]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{const{data:{session:e}}=await xr.auth.getSession();if(null!==e&&void 0!==e&&e.user){var t,r,n,o,i,l;const s={id:e.user.id,email:e.user.email,name:(null===(t=e.user.user_metadata)||void 0===t?void 0:t.full_name)||"Usu\xe1rio",type:(null===(r=e.user.user_metadata)||void 0===r?void 0:r.user_type)||"user",cidade:(null===(n=e.user.user_metadata)||void 0===n?void 0:n.cidade)||"",estado:(null===(o=e.user.user_metadata)||void 0===o?void 0:o.estado)||"",genero:(null===(i=e.user.user_metadata)||void 0===i?void 0:i.genero)||"",estilo_musical:(null===(l=e.user.user_metadata)||void 0===l?void 0:l.estilo_musical)||"",isPremium:!1,avatar:wr};a(s),localStorage.setItem("currentUser",JSON.stringify(s))}s(!1)})();const{data:{subscription:e}}=xr.auth.onAuthStateChange(async(e,t)=>{if("SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user){var r,n,o,s,i,l;const e={id:t.user.id,email:t.user.email,name:(null===(r=t.user.user_metadata)||void 0===r?void 0:r.full_name)||"Usu\xe1rio",type:(null===(n=t.user.user_metadata)||void 0===n?void 0:n.user_type)||"user",cidade:(null===(o=t.user.user_metadata)||void 0===o?void 0:o.cidade)||"",estado:(null===(s=t.user.user_metadata)||void 0===s?void 0:s.estado)||"",genero:(null===(i=t.user.user_metadata)||void 0===i?void 0:i.genero)||"",estilo_musical:(null===(l=t.user.user_metadata)||void 0===l?void 0:l.estilo_musical)||"",isPremium:!1,avatar:wr};a(e),localStorage.setItem("currentUser",JSON.stringify(e))}else"SIGNED_OUT"===e&&(a(null),localStorage.removeItem("currentUser"))});return()=>e.unsubscribe()},[]);const l={user:r,loading:o,login:async(e,t)=>{var r,n,o,s,i,l;const{data:c,error:u}=await xr.auth.signInWithPassword({email:e,password:t});if(u)return{error:u};const{data:d}=await xr.from("artists").select("id, name, avatar_url").eq("id",c.user.id).maybeSingle(),h=!!d||"artist"===(null===(r=c.user.user_metadata)||void 0===r?void 0:r.user_type),f={id:c.user.id,email:c.user.email,name:(null===d||void 0===d?void 0:d.name)||(null===(n=c.user.user_metadata)||void 0===n?void 0:n.full_name)||"Usu\xe1rio",type:h?"artist":"user",cidade:(null===(o=c.user.user_metadata)||void 0===o?void 0:o.cidade)||"",estado:(null===(s=c.user.user_metadata)||void 0===s?void 0:s.estado)||"",genero:(null===(i=c.user.user_metadata)||void 0===i?void 0:i.genero)||"",estilo_musical:(null===(l=c.user.user_metadata)||void 0===l?void 0:l.estilo_musical)||"",isPremium:!1,avatar:(null===d||void 0===d?void 0:d.avatar_url)||wr};return a(f),localStorage.setItem("currentUser",JSON.stringify(f)),{data:f,isArtist:h}},loginWithGoogle:async()=>{const{data:e,error:t}=await xr.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return{data:e,error:t}},logout:async()=>{await xr.auth.signOut(),a(null),localStorage.removeItem("currentUser")},upgradeToPremium:()=>{const e=(0,i.A)((0,i.A)({},r),{},{isPremium:!0});a(e),localStorage.setItem("currentUser",JSON.stringify(e))},updateUser:e=>{a(e);try{localStorage.setItem("currentUser",JSON.stringify(e))}catch(Vj){}},isArtist:"artist"===(null===r||void 0===r?void 0:r.type),isPremium:null===r||void 0===r?void 0:r.isPremium};return(0,jr.jsx)(_r.Provider,{value:l,children:t})};const Sr=[{id:"1",name:"Jo\xe3o Silva",email:"joao@example.com",type:"user",isPremium:!0,avatar:"/images/default-avatar.png"},{id:"2",name:"Maria Santos",email:"maria@example.com",type:"artist",isPremium:!0,avatar:"/images/default-avatar.png"}],Er=[{id:"a1",userId:"2",name:"Maria Santos",bio:"Cantora e compositora brasileira",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=800",followers:45230,monthlyListeners:125e3,verified:!0},{id:"a2",name:"Pedro Oliveira",bio:"Rapper e produtor musical",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800",followers:89540,monthlyListeners:34e4,verified:!0},{id:"a3",name:"Ana Costa",bio:"M\xfasica eletr\xf4nica e experimental",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=800",followers:62100,monthlyListeners:198e3,verified:!0}],Ar=[{id:"alb1",title:"Noites de Ver\xe3o",artistId:"a1",artistName:"Maria Santos",coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",releaseYear:2024,songCount:12},{id:"alb2",title:"Rimas da Quebrada",artistId:"a2",artistName:"Pedro Oliveira",coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",releaseYear:2023,songCount:15},{id:"alb3",title:"Synthwave Dreams",artistId:"a3",artistName:"Ana Costa",coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",releaseYear:2024,songCount:10}],Cr=[{id:"s1",title:"Luz do Luar",artistId:"a1",artistName:"Maria Santos",albumId:"alb1",albumName:"Noites de Ver\xe3o",duration:245,coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",plays:125e4,likes:45e3},{id:"s2",title:"Horizonte",artistId:"a1",artistName:"Maria Santos",albumId:"alb1",albumName:"Noites de Ver\xe3o",duration:198,coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",plays:98e4,likes:32e3},{id:"s3",title:"Flow Pesado",artistId:"a2",artistName:"Pedro Oliveira",albumId:"alb2",albumName:"Rimas da Quebrada",duration:212,coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",plays:21e5,likes:89e3},{id:"s4",title:"Midnight Drive",artistId:"a3",artistName:"Ana Costa",albumId:"alb3",albumName:"Synthwave Dreams",duration:267,coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",plays:156e4,likes:62e3},{id:"s5",title:"Neon Lights",artistId:"a3",artistName:"Ana Costa",albumId:"alb3",albumName:"Synthwave Dreams",duration:234,coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",plays:132e4,likes:54e3},{id:"s6",title:"Realidade",artistId:"a2",artistName:"Pedro Oliveira",albumId:"alb2",albumName:"Rimas da Quebrada",duration:189,coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3",plays:189e4,likes:71e3}],Tr=e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r.toString().padStart(2,"0"))};var Rr;(()=>{try{const e="timbalada",t=Er.findIndex(t=>t.id===e);-1!==t&&Er.splice(t,1);const r=Sr.findIndex(t=>t.email==="".concat(e,"@example.com")||t.id===e||t.name===e);-1!==r&&Sr.splice(r,1)}catch(Vj){}})(),(()=>{try{if("undefined"===typeof window)return;try{const e=JSON.parse(localStorage.getItem("currentUser")||"null");!e||"hericlesbatera@gmail.com"!==e.email&&"Timbalada"!==e.name||localStorage.removeItem("currentUser")}catch(Vj){}const e=JSON.parse(localStorage.getItem("mockUsersPersist")||"null");Array.isArray(e)&&e.forEach(e=>{if("ferronaboneca"===e.name)return;"ferronaboneca"===e.name&&(e.type="artist");Sr.find(t=>t.id===e.id||t.email===e.email)||"hericlesbatera@gmail.com"===e.email||"Timbalada"===e.name||Sr.push(e)});const t=JSON.parse(localStorage.getItem("mockArtistsPersist")||"null");if(Array.isArray(t)){t.filter(e=>"timbalada"!==e.id&&"ferronaboneca"!==e.name).forEach(e=>{Er.find(t=>t.id===e.id)||Er.push(e)})}}catch(Vj){}})();const Pr=(0,n.createContext)(),Or=()=>{const e=(0,n.useContext)(Pr);if(!e)throw new Error("usePlayer must be used within PlayerProvider");return e},Dr=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(null),[o,s]=(0,n.useState)(!1),[i,l]=(0,n.useState)([]),[c,u]=(0,n.useState)(0),[d,h]=(0,n.useState)(0),[f,p]=(0,n.useState)(.7),[m,g]=(0,n.useState)(!1),[v,y]=(0,n.useState)("off"),b=(0,n.useRef)(new Audio),x=(0,n.useRef)(null),w=(0,n.useCallback)(()=>{if(!i.length)return;const e=i.findIndex(e=>e.id===(null===r||void 0===r?void 0:r.id));let t;if("one"===v)return b.current.currentTime=0,void b.current.play();if(m)t=Math.floor(Math.random()*i.length);else if(t=e+1,t>=i.length){if("all"!==v)return void s(!1);t=0}a(i[t])},[i,r,v,m]);(0,n.useEffect)(()=>{x.current=w},[w]),(0,n.useEffect)(()=>{const e=b.current,t=()=>u(e.currentTime),r=()=>h(e.duration),n=()=>{x.current&&x.current()};return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",r),e.addEventListener("ended",n),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",r),e.removeEventListener("ended",n)}},[]),(0,n.useEffect)(()=>{b.current.volume=f},[f]),(0,n.useEffect)(()=>{r&&(b.current.src=r.audioUrl,o&&b.current.play().catch(e=>console.error("Error playing audio:",e)))},[r]),(0,n.useEffect)(()=>{o?b.current.play().catch(e=>console.error("Error playing audio:",e)):b.current.pause()},[o]);const j={currentSong:r,isPlaying:o,queue:i,currentTime:c,duration:d,volume:f,isShuffle:m,repeatMode:v,playSong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a(e),l(t.length>0?t:[e]),s(!0),e.albumId&&xr.rpc("increment_play_count",{album_id:e.albumId}).then(()=>{}).catch(()=>{var t,r;xr.from("albums").update({play_count:xr.sql(Rr||(t=["COALESCE(play_count, 0) + 1"],r||(r=t.slice(0)),Rr=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))))}).eq("id",e.albumId).then(()=>{})})},togglePlay:()=>{s(!o)},handleNext:w,handlePrevious:()=>{if(c>3)return void(b.current.currentTime=0);if(!i.length)return;const e=i.findIndex(e=>e.id===(null===r||void 0===r?void 0:r.id))-1;e<0?"all"===v&&a(i[i.length-1]):a(i[e])},seekTo:e=>{b.current.currentTime=e,u(e)},setVolume:p,toggleShuffle:()=>{g(!m)},toggleRepeat:()=>{const e=["off","all","one"],t=(e.indexOf(v)+1)%e.length;y(e[t])},clearQueue:()=>{l([]),a(null),s(!1),b.current.pause(),b.current.src=""}};return(0,jr.jsx)(Pr.Provider,{value:j,children:t})};let Ir=0;const Lr=new Map,Mr=e=>{if(Lr.has(e))return;const t=setTimeout(()=>{Lr.delete(e),Br({type:"REMOVE_TOAST",toastId:e})},1e6);Lr.set(e,t)},Fr=(e,t)=>{switch(t.type){case"ADD_TOAST":return(0,i.A)((0,i.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,1)});case"UPDATE_TOAST":return(0,i.A)((0,i.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,i.A)((0,i.A)({},e),t.toast):e)});case"DISMISS_TOAST":{const{toastId:r}=t;return r?Mr(r):e.toasts.forEach(e=>{Mr(e.id)}),(0,i.A)((0,i.A)({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?(0,i.A)((0,i.A)({},e),{},{open:!1}):e)})}case"REMOVE_TOAST":return void 0===t.toastId?(0,i.A)((0,i.A)({},e),{},{toasts:[]}):(0,i.A)((0,i.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)})}},zr=[];let Ur={toasts:[]};function Br(e){Ur=Fr(Ur,e),zr.forEach(e=>{e(Ur)})}function qr(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const r=(Ir=(Ir+1)%Number.MAX_SAFE_INTEGER,Ir.toString()),n=()=>Br({type:"DISMISS_TOAST",toastId:r});return Br({type:"ADD_TOAST",toast:(0,i.A)((0,i.A)({},t),{},{id:r,open:!0,onOpenChange:e=>{e||n()}})}),{id:r,dismiss:n,update:e=>Br({type:"UPDATE_TOAST",toast:(0,i.A)((0,i.A)({},e),{},{id:r})})}}var Vr=r(950);"undefined"===typeof window||!window.document||window.document.createElement;function Hr(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}function Wr(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Kr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=!1;const n=t.map(t=>{const n=Wr(t,e);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let e=0;e<n.length;e++){const r=n[e];"function"==typeof r?r():Wr(t[e],null)}}}}function Gr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useCallback(Kr(...t),t)}function $r(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function Jr(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function Yr(e,t){return e.get(Jr(e,t))}function Qr(e,t,r){return e.set(Jr(e,t),r),r}const Xr=["children"],Zr=["scope","children"];function en(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const a=()=>{const t=r.map(e=>n.createContext(e));return function(r){const a=(null===r||void 0===r?void 0:r[e])||t;return n.useMemo(()=>({["__scope".concat(e)]:(0,i.A)((0,i.A)({},r),{},{[e]:a})}),[r,a])}};return a.scopeName=e,[function(t,a){const o=n.createContext(a),i=r.length;r=[...r,a];const l=t=>{var r;const{scope:a,children:l}=t,c=s(t,Zr),u=(null===a||void 0===a||null===(r=a[e])||void 0===r?void 0:r[i])||o,d=n.useMemo(()=>c,Object.values(c));return(0,jr.jsx)(u.Provider,{value:d,children:l})};return l.displayName=t+"Provider",[l,function(r,s){var l;const c=(null===s||void 0===s||null===(l=s[e])||void 0===l?void 0:l[i])||o,u=n.useContext(c);if(u)return u;if(void 0!==a)return a;throw new Error("`".concat(r,"` must be used within `").concat(t,"`"))}]},tn(a,...t)]}function tn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const a=t[0];if(1===t.length)return a;const o=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const r=e.reduce((e,r)=>{let{useScope:n,scopeName:a}=r;const o=n(t)["__scope".concat(a)];return(0,i.A)((0,i.A)({},e),o)},{});return n.useMemo(()=>({["__scope".concat(a.scopeName)]:r}),[r])}};return o.scopeName=a.scopeName,o}const rn=["children"],nn=["children"];function an(e){const t=on(e),r=n.forwardRef((e,r)=>{const{children:a}=e,o=s(e,rn),l=n.Children.toArray(a),c=l.find(cn);if(c){const e=c.props.children,a=l.map(t=>t===c?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t);return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}function on(e){const t=n.forwardRef((e,t)=>{const{children:r}=e,a=s(e,nn);if(n.isValidElement(r)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),o=function(e,t){const r=(0,i.A)({},t);for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=function(){const e=o(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,i.A)((0,i.A)({},a),o):"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return(0,i.A)((0,i.A)({},e),r)}(a,r.props);return r.type!==n.Fragment&&(o.ref=t?Kr(t,e):e),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var sn=Symbol("radix.slottable");var ln;function cn(e){return n.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===sn}const un=["scope","children"];function dn(e){const t=e+"CollectionProvider",[r,a]=en(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=e=>{const{scope:t,children:r}=e,a=n.useRef(null),s=n.useRef(new Map).current;return(0,jr.jsx)(o,{scope:t,itemMap:s,collectionRef:a,children:r})};c.displayName=t;const u=e+"CollectionSlot",d=an(u),h=n.forwardRef((e,t)=>{const{scope:r,children:n}=e,a=Gr(t,l(u,r).collectionRef);return(0,jr.jsx)(d,{ref:a,children:n})});h.displayName=u;const f=e+"CollectionItemSlot",p="data-radix-collection-item",m=an(f),g=n.forwardRef((e,t)=>{const{scope:r,children:a}=e,o=s(e,un),c=n.useRef(null),u=Gr(t,c),d=l(f,r);return n.useEffect(()=>(d.itemMap.set(c,(0,i.A)({ref:c},o)),()=>{d.itemMap.delete(c)})),(0,jr.jsx)(m,(0,i.A)((0,i.A)({},{[p]:""}),{},{ref:u,children:a}))});return g.displayName=f,[{Provider:c,Slot:h,ItemSlot:g},function(t){const r=l(e+"CollectionConsumer",t);return n.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},a]}var hn=new WeakMap;ln=new WeakMap,Map;function fn(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const r=function(e,t){const r=e.length,n=pn(t),a=n>=0?n:r+n;return a<0||a>=r?-1:a}(e,t);return-1===r?void 0:e[r]}function pn(e){return e!==e||0===e?0:Math.trunc(e)}const mn=["children"],gn=["children"];function vn(e){const t=yn(e),r=n.forwardRef((e,r)=>{const{children:a}=e,o=s(e,mn),l=n.Children.toArray(a),c=l.find(xn);if(c){const e=c.props.children,a=l.map(t=>t===c?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t);return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}function yn(e){const t=n.forwardRef((e,t)=>{const{children:r}=e,a=s(e,gn);if(n.isValidElement(r)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),o=function(e,t){const r=(0,i.A)({},t);for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=function(){const e=o(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,i.A)((0,i.A)({},a),o):"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return(0,i.A)((0,i.A)({},e),r)}(a,r.props);return r.type!==n.Fragment&&(o.ref=t?Kr(t,e):e),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var bn=Symbol("radix.slottable");function xn(e){return n.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===bn}const wn=["asChild"];var jn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const r=vn("Primitive.".concat(t)),a=n.forwardRef((e,n)=>{const{asChild:a}=e,o=s(e,wn),l=a?r:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,jr.jsx)(l,(0,i.A)((0,i.A)({},o),{},{ref:n}))});return a.displayName="Primitive.".concat(t),(0,i.A)((0,i.A)({},e),{},{[t]:a})},{});function _n(e,t){e&&Vr.flushSync(()=>e.dispatchEvent(t))}function Nn(e){const t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call(t,...n)},[])}const kn=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var Sn,En="dismissableLayer.update",An="dismissableLayer.pointerDownOutside",Cn="dismissableLayer.focusOutside",Tn=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rn=n.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:d}=e,h=s(e,kn),f=n.useContext(Tn),[p,m]=n.useState(null),g=null!==(r=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,v]=n.useState({}),y=Gr(t,e=>m(e)),b=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(x),j=p?b.indexOf(p):-1,_=f.layersWithOutsidePointerEventsDisabled.size>0,N=j>=w,k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Nn(e),a=n.useRef(!1),o=n.useRef(()=>{});return n.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let n=function(){Dn(An,r,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);a.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,r=[...f.branches].some(e=>e.contains(t));N&&!r&&(null===l||void 0===l||l(e),null===u||void 0===u||u(e),e.defaultPrevented||null===d||void 0===d||d())},g),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Nn(e),a=n.useRef(!1);return n.useEffect(()=>{const e=e=>{if(e.target&&!a.current){Dn(Cn,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...f.branches].some(e=>e.contains(t))||(null===c||void 0===c||c(e),null===u||void 0===u||u(e),e.defaultPrevented||null===d||void 0===d||d())},g);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Nn(e);n.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{j===f.layers.size-1&&(null===o||void 0===o||o(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},g),n.useEffect(()=>{if(p)return a&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(Sn=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),On(),()=>{a&&1===f.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=Sn)}},[p,g,a,f]),n.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),On())},[p,f]),n.useEffect(()=>{const e=()=>v({});return document.addEventListener(En,e),()=>document.removeEventListener(En,e)},[]),(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({},h),{},{ref:y,style:(0,i.A)({pointerEvents:_?N?"auto":"none":void 0},e.style),onFocusCapture:Hr(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Hr(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Hr(e.onPointerDownCapture,k.onPointerDownCapture)}))});Rn.displayName="DismissableLayer";var Pn=n.forwardRef((e,t)=>{const r=n.useContext(Tn),a=n.useRef(null),o=Gr(t,a);return n.useEffect(()=>{const e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({},e),{},{ref:o}))});function On(){const e=new CustomEvent(En);document.dispatchEvent(e)}function Dn(e,t,r,n){let{discrete:a}=n;const o=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),a?_n(o,s):o.dispatchEvent(s)}Pn.displayName="DismissableLayerBranch";var In=Rn,Ln=Pn,Mn=null!==globalThis&&void 0!==globalThis&&globalThis.document?n.useLayoutEffect:()=>{};const Fn=["container"];var zn=n.forwardRef((e,t)=>{var r;const{container:a}=e,o=s(e,Fn),[l,c]=n.useState(!1);Mn(()=>c(!0),[]);const u=a||l&&(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body);return u?Vr.createPortal((0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({},o),{},{ref:t})),u):null});zn.displayName="Portal";var Un=e=>{const{present:t,children:r}=e,a=function(e){const[t,r]=n.useState(),a=n.useRef(null),o=n.useRef(e),s=n.useRef("none"),i=e?"mounted":"unmounted",[l,c]=function(e,t){return n.useReducer((e,r)=>{const n=t[e][r];return null!==n&&void 0!==n?n:e},e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect(()=>{const e=Bn(a.current);s.current="mounted"===l?e:"none"},[l]),Mn(()=>{const t=a.current,r=o.current;if(r!==e){const n=s.current,a=Bn(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(r&&n!==a?"ANIMATION_OUT":"UNMOUNT")}o.current=e}},[e,c]),Mn(()=>{if(t){var e;let r;const n=null!==(e=t.ownerDocument.defaultView)&&void 0!==e?e:window,i=e=>{const s=Bn(a.current).includes(CSS.escape(e.animationName));if(e.target===t&&s&&(c("ANIMATION_END"),!o.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",r=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},l=e=>{e.target===t&&(s.current=Bn(a.current))};return t.addEventListener("animationstart",l),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{n.clearTimeout(r),t.removeEventListener("animationstart",l),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:n.useCallback(e=>{a.current=e?getComputedStyle(e):null,r(e)},[])}}(t),o="function"===typeof r?r({present:a.isPresent}):n.Children.only(r),s=Gr(a.ref,function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(o));return"function"===typeof r||a.isPresent?n.cloneElement(o,{ref:s}):null};function Bn(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Un.displayName="Presence";var qn=a[" useInsertionEffect ".trim().toString()]||Mn;function Vn(e){let{prop:t,defaultProp:r,onChange:a=()=>{},caller:o}=e;const[s,i,l]=function(e){let{defaultProp:t,onChange:r}=e;const[a,o]=n.useState(t),s=n.useRef(a),i=n.useRef(r);return qn(()=>{i.current=r},[r]),n.useEffect(()=>{var e;s.current!==a&&(null===(e=i.current)||void 0===e||e.call(i,a),s.current=a)},[a,s]),[a,o,i]}({defaultProp:r,onChange:a}),c=void 0!==t,u=c?t:s;{const e=n.useRef(void 0!==t);n.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",r=c?"controlled":"uncontrolled";console.warn("".concat(o," is changing from ").concat(e," to ").concat(r,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,o])}const d=n.useCallback(e=>{if(c){const n=function(e){return"function"===typeof e}(e)?e(t):e;var r;if(n!==t)null===(r=l.current)||void 0===r||r.call(l,n)}else i(e)},[c,t,i,l]);return[u,d]}Symbol("RADIX:SYNC_STATE");var Hn=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Wn=n.forwardRef((e,t)=>(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({},e),{},{ref:t,style:(0,i.A)((0,i.A)({},Hn),e.style)})));Wn.displayName="VisuallyHidden";const Kn=["__scopeToast","hotkey","label"],Gn=["__scopeToast","onFocusFromOutsideViewport"],$n=["forceMount","open","defaultOpen","onOpenChange"],Jn=["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"],Yn=["__scopeToast","children"],Qn=["__scopeToast"],Xn=["__scopeToast"],Zn=["altText"],ea=["__scopeToast"],ta=["__scopeToast","altText"];var ra="ToastProvider",[na,aa,oa]=dn("Toast"),[sa,ia]=en("Toast",[oa]),[la,ca]=sa(ra),ua=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[l,c]=n.useState(null),[u,d]=n.useState(0),h=n.useRef(!1),f=n.useRef(!1);return r.trim()||console.error("Invalid prop `label` supplied to `".concat(ra,"`. Expected non-empty `string`.")),(0,jr.jsx)(na.Provider,{scope:t,children:(0,jr.jsx)(la,{scope:t,label:r,duration:a,swipeDirection:o,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:n.useCallback(()=>d(e=>e+1),[]),onToastRemove:n.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};ua.displayName=ra;var da="ToastViewport",ha=["F8"],fa="toast.viewportPause",pa="toast.viewportResume",ma=n.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=ha,label:o="Notifications ({hotkey})"}=e,l=s(e,Kn),c=ca(da,r),u=aa(r),d=n.useRef(null),h=n.useRef(null),f=n.useRef(null),p=n.useRef(null),m=Gr(t,p,c.onViewportChange),g=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=c.toastCount>0;n.useEffect(()=>{const e=e=>{var t;0!==a.length&&a.every(t=>e[t]||e.code===t)&&(null===(t=p.current)||void 0===t||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),n.useEffect(()=>{const e=d.current,t=p.current;if(v&&e&&t){const r=()=>{if(!c.isClosePausedRef.current){const e=new CustomEvent(fa);t.dispatchEvent(e),c.isClosePausedRef.current=!0}},n=()=>{if(c.isClosePausedRef.current){const e=new CustomEvent(pa);t.dispatchEvent(e),c.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&n()},o=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",o),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[v,c.isClosePausedRef]);const y=n.useCallback(e=>{let{tabbingDirection:t}=e;const r=u().map(e=>{const r=e.ref.current,n=[r,...Da(r)];return"forwards"===t?n:n.reverse()});return("forwards"===t?r.reverse():r).flat()},[u]);return n.useEffect(()=>{const e=p.current;if(e){const t=t=>{const r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){const r=document.activeElement,s=t.shiftKey;var n;if(t.target===e&&s)return void(null===(n=h.current)||void 0===n||n.focus());const i=y({tabbingDirection:s?"backwards":"forwards"}),l=i.findIndex(e=>e===r);var a,o;if(Ia(i.slice(l+1)))t.preventDefault();else s?null===(a=h.current)||void 0===a||a.focus():null===(o=f.current)||void 0===o||o.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[u,y]),(0,jr.jsxs)(Ln,{ref:d,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&(0,jr.jsx)(va,{ref:h,onFocusFromOutsideViewport:()=>{Ia(y({tabbingDirection:"forwards"}))}}),(0,jr.jsx)(na.Slot,{scope:r,children:(0,jr.jsx)(jn.ol,(0,i.A)((0,i.A)({tabIndex:-1},l),{},{ref:m}))}),v&&(0,jr.jsx)(va,{ref:f,onFocusFromOutsideViewport:()=>{Ia(y({tabbingDirection:"backwards"}))}})]})});ma.displayName=da;var ga="ToastFocusProxy",va=n.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n}=e,a=s(e,Gn),o=ca(ga,r);return(0,jr.jsx)(Wn,(0,i.A)((0,i.A)({tabIndex:0},a),{},{ref:t,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null!==(t=o.viewport)&&void 0!==t&&t.contains(r))&&n()}}))});va.displayName=ga;var ya="Toast",ba=n.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o}=e,l=s(e,$n),[c,u]=Vn({prop:n,defaultProp:null===a||void 0===a||a,onChange:o,caller:ya});return(0,jr.jsx)(Un,{present:r||c,children:(0,jr.jsx)(ja,(0,i.A)((0,i.A)({open:c},l),{},{ref:t,onClose:()=>u(!1),onPause:Nn(e.onPause),onResume:Nn(e.onResume),onSwipeStart:Hr(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Hr(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(r,"px"))}),onSwipeCancel:Hr(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Hr(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(r,"px")),u(!1)})}))})});ba.displayName=ya;var[xa,wa]=sa(ya,{onClose(){}}),ja=n.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:g}=e,v=s(e,Jn),y=ca(ya,r),[b,x]=n.useState(null),w=Gr(t,e=>x(e)),j=n.useRef(null),_=n.useRef(null),N=o||y.duration,k=n.useRef(0),S=n.useRef(N),E=n.useRef(0),{onToastAdd:A,onToastRemove:C}=y,T=Nn(()=>{var e;(null===b||void 0===b?void 0:b.contains(document.activeElement))&&(null===(e=y.viewport)||void 0===e||e.focus()),c()}),R=n.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(E.current),k.current=(new Date).getTime(),E.current=window.setTimeout(T,e))},[T]);n.useEffect(()=>{const e=y.viewport;if(e){const t=()=>{R(S.current),null===h||void 0===h||h()},r=()=>{const e=(new Date).getTime()-k.current;S.current=S.current-e,window.clearTimeout(E.current),null===d||void 0===d||d()};return e.addEventListener(fa,r),e.addEventListener(pa,t),()=>{e.removeEventListener(fa,r),e.removeEventListener(pa,t)}}},[y.viewport,N,d,h,R]),n.useEffect(()=>{l&&!y.isClosePausedRef.current&&R(N)},[l,N,y.isClosePausedRef,R]),n.useEffect(()=>(A(),()=>C()),[A,C]);const P=n.useMemo(()=>b?Ra(b):null,[b]);return y.viewport?(0,jr.jsxs)(jr.Fragment,{children:[P&&(0,jr.jsx)(_a,{__scopeToast:r,role:"status","aria-live":"foreground"===a?"assertive":"polite",children:P}),(0,jr.jsx)(xa,{scope:r,onClose:T,children:Vr.createPortal((0,jr.jsx)(na.ItemSlot,{scope:r,children:(0,jr.jsx)(In,{asChild:!0,onEscapeKeyDown:Hr(u,()=>{y.isFocusedToastEscapeKeyDownRef.current||T(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,jr.jsx)(jn.li,(0,i.A)((0,i.A)({tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":y.swipeDirection},v),{},{ref:w,style:(0,i.A)({userSelect:"none",touchAction:"none"},e.style),onKeyDown:Hr(e.onKeyDown,e=>{"Escape"===e.key&&(null===u||void 0===u||u(e.nativeEvent),e.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Hr(e.onPointerDown,e=>{0===e.button&&(j.current={x:e.clientX,y:e.clientY})}),onPointerMove:Hr(e.onPointerMove,e=>{if(!j.current)return;const t=e.clientX-j.current.x,r=e.clientY-j.current.y,n=Boolean(_.current),a=["left","right"].includes(y.swipeDirection),o=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,s=a?o(0,t):0,i=a?0:o(0,r),l="touch"===e.pointerType?10:2,c={x:s,y:i},u={originalEvent:e,delta:c};n?(_.current=c,Pa("toast.swipeMove",p,u,{discrete:!1})):Oa(c,y.swipeDirection,l)?(_.current=c,Pa("toast.swipeStart",f,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(j.current=null)}),onPointerUp:Hr(e.onPointerUp,e=>{const t=_.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),_.current=null,j.current=null,t){const r=e.currentTarget,n={originalEvent:e,delta:t};Oa(t,y.swipeDirection,y.swipeThreshold)?Pa("toast.swipeEnd",g,n,{discrete:!0}):Pa("toast.swipeCancel",m,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})}))})}),y.viewport)})]}):null}),_a=e=>{const{__scopeToast:t,children:r}=e,a=s(e,Yn),o=ca(ya,t),[l,c]=n.useState(!1),[u,d]=n.useState(!1);return function(){const e=Nn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});Mn(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}(()=>c(!0)),n.useEffect(()=>{const e=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(e)},[]),u?null:(0,jr.jsx)(zn,{asChild:!0,children:(0,jr.jsx)(Wn,(0,i.A)((0,i.A)({},a),{},{children:l&&(0,jr.jsxs)(jr.Fragment,{children:[o.label," ",r]})}))})},Na=n.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=s(e,Qn);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({},n),{},{ref:t}))});Na.displayName="ToastTitle";var ka=n.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=s(e,Xn);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({},n),{},{ref:t}))});ka.displayName="ToastDescription";var Sa="ToastAction",Ea=n.forwardRef((e,t)=>{const{altText:r}=e,n=s(e,Zn);return r.trim()?(0,jr.jsx)(Ta,{altText:r,asChild:!0,children:(0,jr.jsx)(Ca,(0,i.A)((0,i.A)({},n),{},{ref:t}))}):(console.error("Invalid prop `altText` supplied to `".concat(Sa,"`. Expected non-empty `string`.")),null)});Ea.displayName=Sa;var Aa="ToastClose",Ca=n.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=s(e,ea),a=wa(Aa,r);return(0,jr.jsx)(Ta,{asChild:!0,children:(0,jr.jsx)(jn.button,(0,i.A)((0,i.A)({type:"button"},n),{},{ref:t,onClick:Hr(e.onClick,a.onClose)}))})});Ca.displayName=Aa;var Ta=n.forwardRef((e,t)=>{const{__scopeToast:r,altText:n}=e,a=s(e,ta);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},a),{},{ref:t}))});function Ra(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...Ra(e))}}),t}function Pa(e,t,r,n){let{discrete:a}=n;const o=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),a?_n(o,s):o.dispatchEvent(s)}var Oa=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return"left"===t||"right"===t?o&&n>r:!o&&a>r};function Da(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ia(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var La=ua,Ma=ma,Fa=ba,za=Na,Ua=ka,Ba=Ea,qa=Ca;function Va(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Va(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ha(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Va(e))&&(n&&(n+=" "),n+=t);return n}const Wa=["class","className"],Ka=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,Ga=Ha,$a=(e,t)=>r=>{var n;if(null==(null===t||void 0===t?void 0:t.variants))return Ga(e,null===r||void 0===r?void 0:r.class,null===r||void 0===r?void 0:r.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(e=>{const t=null===r||void 0===r?void 0:r[e],n=null===o||void 0===o?void 0:o[e];if(null===t)return null;const s=Ka(t)||Ka(n);return a[e][s]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),u=null===t||void 0===t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n}=t,a=s(t,Wa);return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes((0,i.A)((0,i.A)({},o),c)[t]):(0,i.A)((0,i.A)({},o),c)[t]===r})?[...e,r,n]:e},[]);return Ga(e,l,u,null===r||void 0===r?void 0:r.class,null===r||void 0===r?void 0:r.className)},Ja=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ya=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var Qa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xa=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Za=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d}=e,h=s(e,Xa);return(0,n.createElement)("svg",(0,i.A)((0,i.A)((0,i.A)({ref:t},Qa),{},{width:a,height:a,stroke:r,strokeWidth:l?24*Number(o)/Number(a):o,className:Ya("lucide",c)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),eo=["className"],to=(e,t)=>{const r=(0,n.forwardRef)((r,a)=>{let{className:o}=r,l=s(r,eo);return(0,n.createElement)(Za,(0,i.A)({ref:a,iconNode:t,className:Ya("lucide-".concat((c=Ja(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},l));var c});return r.displayName=Ja(e),r},ro=to("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),no=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},ao="-",oo=[],so=e=>{const t=co(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return lo(e);const r=e.split(ao),n=""===r[0]&&r.length>1?1:0;return io(r,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=n[e],a=r[e];return t?a?((e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r})(a,t):t:a||oo}return r[e]||oo}}},io=(e,t,r)=>{if(0===e.length-t)return r.classGroupId;const n=e[t],a=r.nextPart.get(n);if(a){const r=io(e,t+1,a);if(r)return r}const o=r.validators;if(null===o)return;const s=0===t?e.join(ao):e.slice(t).join(ao),i=o.length;for(let l=0;l<i;l++){const e=o[l];if(e.validator(s))return e.classGroupId}},lo=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?"arbitrary.."+n:void 0})(),co=e=>{const{theme:t,classGroups:r}=e;return uo(r,t)},uo=(e,t)=>{const r=no();for(const n in e){const a=e[n];ho(a,r,n,t)}return r},ho=(e,t,r,n)=>{const a=e.length;for(let o=0;o<a;o++){const a=e[o];fo(a,t,r,n)}},fo=(e,t,r,n)=>{"string"!==typeof e?"function"!==typeof e?go(e,t,r,n):mo(e,t,r,n):po(e,t,r)},po=(e,t,r)=>{(""===e?t:vo(t,e)).classGroupId=r},mo=(e,t,r,n)=>{yo(e)?ho(e(n),t,r,n):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(r,e)))},go=(e,t,r,n)=>{const a=Object.entries(e),o=a.length;for(let s=0;s<o;s++){const[e,o]=a[s];ho(o,vo(t,e),r,n)}},vo=(e,t)=>{let r=e;const n=t.split(ao),a=n.length;for(let o=0;o<a;o++){const e=n[o];let t=r.nextPart.get(e);t||(t=no(),r.nextPart.set(e,t)),r=t}return r},yo=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,bo=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(a,o)=>{r[a]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(a(e,t),t):void 0},set(e,t){e in r?r[e]=t:a(e,t)}}},xo=[],wo=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),jo=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,a=0,o=0;const s=e.length;for(let u=0;u<s;u++){const s=e[u];if(0===n&&0===a){if(":"===s){t.push(e.slice(o,u)),o=u+1;continue}if("/"===s){r=u;continue}}"["===s?n++:"]"===s?n--:"("===s?a++:")"===s&&a--}const i=0===t.length?e:e.slice(o);let l=i,c=!1;i.endsWith("!")?(l=i.slice(0,-1),c=!0):i.startsWith("!")&&(l=i.slice(1),c=!0);return wo(t,c,l,r&&r>o?r-o:void 0)};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):wo(xo,!1,t,void 0,!0)}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},_o=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{const r=[];let n=[];for(let a=0;a<e.length;a++){const o=e[a],s="["===o[0],i=t.has(o);s||i?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(o)):n.push(o)}return n.length>0&&(n.sort(),r.push(...n)),r}},No=/\s+/,ko=e=>{if("string"===typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ko(e[n]))&&(r&&(r+=" "),r+=t);return r},So=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a,o,s,l;const c=e=>{const t=o(e);if(t)return t;const r=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:o}=t,s=[],i=e.trim().split(No);let l="";for(let c=i.length-1;c>=0;c-=1){const e=i[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=n(p?h.substring(0,f):h);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=0===u.length?"":1===u.length?u[0]:o(u).join(":"),v=d?g+"!":g,y=v+m;if(s.indexOf(y)>-1)continue;s.push(y);const b=a(m,p);for(let r=0;r<b.length;++r){const e=b[r];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,a);return s(e,r),r};return l=t=>{const n=r.reduce((e,t)=>t(e),e());return a=(e=>(0,i.A)({cache:bo(e.cacheSize),parseClassName:jo(e),sortModifiers:_o(e)},so(e)))(n),o=a.cache.get,s=a.cache.set,l=c,c(t)},function(){return l(function(){let e,t,r=0,n="";for(;r<arguments.length;){var a;(e=(a=r++)<0||arguments.length<=a?void 0:arguments[a])&&(t=ko(e))&&(n&&(n+=" "),n+=t)}return n}(...arguments))}},Eo=[],Ao=e=>{const t=t=>t[e]||Eo;return t.isThemeGetter=!0,t},Co=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,To=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ro=/^\d+\/\d+$/,Po=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Oo=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Do=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Io=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lo=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mo=e=>Ro.test(e),Fo=e=>!!e&&!Number.isNaN(Number(e)),zo=e=>!!e&&Number.isInteger(Number(e)),Uo=e=>e.endsWith("%")&&Fo(e.slice(0,-1)),Bo=e=>Po.test(e),qo=()=>!0,Vo=e=>Oo.test(e)&&!Do.test(e),Ho=()=>!1,Wo=e=>Io.test(e),Ko=e=>Lo.test(e),Go=e=>!Jo(e)&&!ts(e),$o=e=>ls(e,hs,Ho),Jo=e=>Co.test(e),Yo=e=>ls(e,fs,Vo),Qo=e=>ls(e,ps,Fo),Xo=e=>ls(e,us,Ho),Zo=e=>ls(e,ds,Ko),es=e=>ls(e,gs,Wo),ts=e=>To.test(e),rs=e=>cs(e,fs),ns=e=>cs(e,ms),as=e=>cs(e,us),os=e=>cs(e,hs),ss=e=>cs(e,ds),is=e=>cs(e,gs,!0),ls=(e,t,r)=>{const n=Co.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},cs=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=To.exec(e);return!!n&&(n[1]?t(n[1]):r)},us=e=>"position"===e||"percentage"===e,ds=e=>"image"===e||"url"===e,hs=e=>"length"===e||"size"===e||"bg-size"===e,fs=e=>"length"===e,ps=e=>"number"===e,ms=e=>"family-name"===e,gs=e=>"shadow"===e,vs=(Symbol.toStringTag,()=>{const e=Ao("color"),t=Ao("font"),r=Ao("text"),n=Ao("font-weight"),a=Ao("tracking"),o=Ao("leading"),s=Ao("breakpoint"),i=Ao("container"),l=Ao("spacing"),c=Ao("radius"),u=Ao("shadow"),d=Ao("inset-shadow"),h=Ao("text-shadow"),f=Ao("drop-shadow"),p=Ao("blur"),m=Ao("perspective"),g=Ao("aspect"),v=Ao("ease"),y=Ao("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",ts,Jo],x=()=>[ts,Jo,l],w=()=>[Mo,"full","auto",...x()],j=()=>[zo,"none","subgrid",ts,Jo],_=()=>["auto",{span:["full",zo,ts,Jo]},zo,ts,Jo],N=()=>[zo,"auto",ts,Jo],k=()=>["auto","min","max","fr",ts,Jo],S=()=>["auto",...x()],E=()=>[Mo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],A=()=>[e,ts,Jo],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",as,Xo,{position:[ts,Jo]}],T=()=>["auto","cover","contain",os,$o,{size:[ts,Jo]}],R=()=>[Uo,rs,Yo],P=()=>["","none","full",c,ts,Jo],O=()=>["",Fo,rs,Yo],D=()=>[Fo,Uo,as,Xo],I=()=>["","none",p,ts,Jo],L=()=>["none",Fo,ts,Jo],M=()=>["none",Fo,ts,Jo],F=()=>[Fo,ts,Jo],z=()=>[Mo,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bo],breakpoint:[Bo],color:[qo],container:[Bo],"drop-shadow":[Bo],ease:["in","out","in-out"],font:[Go],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bo],shadow:[Bo],spacing:["px",Fo],text:[Bo],"text-shadow":[Bo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mo,Jo,ts,g]}],container:["container"],columns:[{columns:[Fo,Jo,ts,i]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[zo,"auto",ts,Jo]}],basis:[{basis:[Mo,"full","auto",i,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fo,Mo,"auto","initial","none",Jo]}],grow:[{grow:["",Fo,ts,Jo]}],shrink:[{shrink:["",Fo,ts,Jo]}],order:[{order:[zo,"first","last","none",ts,Jo]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:_()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:_()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[i,"screen",...E()]}],"min-w":[{"min-w":[i,"screen","none",...E()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",r,rs,Yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ts,Qo]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uo,Jo]}],"font-family":[{font:[ns,Jo,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ts,Jo]}],"line-clamp":[{"line-clamp":[Fo,"none",ts,Qo]}],leading:[{leading:[o,...x()]}],"list-image":[{"list-image":["none",ts,Jo]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ts,Jo]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Fo,"from-font","auto",ts,Yo]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[Fo,"auto",ts,Jo]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ts,Jo]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ts,Jo]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:C()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zo,ts,Jo],radial:["",ts,Jo],conic:[zo,ts,Jo]},ss,Zo]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Fo,ts,Jo]}],"outline-w":[{outline:["",Fo,rs,Yo]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",u,is,es]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",d,is,es]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[Fo,Yo]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,is,es]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[Fo,ts,Jo]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fo]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[ts,Jo]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Fo]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:C()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ts,Jo]}],filter:[{filter:["","none",ts,Jo]}],blur:[{blur:I()}],brightness:[{brightness:[Fo,ts,Jo]}],contrast:[{contrast:[Fo,ts,Jo]}],"drop-shadow":[{"drop-shadow":["","none",f,is,es]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",Fo,ts,Jo]}],"hue-rotate":[{"hue-rotate":[Fo,ts,Jo]}],invert:[{invert:["",Fo,ts,Jo]}],saturate:[{saturate:[Fo,ts,Jo]}],sepia:[{sepia:["",Fo,ts,Jo]}],"backdrop-filter":[{"backdrop-filter":["","none",ts,Jo]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[Fo,ts,Jo]}],"backdrop-contrast":[{"backdrop-contrast":[Fo,ts,Jo]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fo,ts,Jo]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fo,ts,Jo]}],"backdrop-invert":[{"backdrop-invert":["",Fo,ts,Jo]}],"backdrop-opacity":[{"backdrop-opacity":[Fo,ts,Jo]}],"backdrop-saturate":[{"backdrop-saturate":[Fo,ts,Jo]}],"backdrop-sepia":[{"backdrop-sepia":["",Fo,ts,Jo]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ts,Jo]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fo,"initial",ts,Jo]}],ease:[{ease:["linear","initial",v,ts,Jo]}],delay:[{delay:[Fo,ts,Jo]}],animate:[{animate:["none",y,ts,Jo]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,ts,Jo]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:M()}],"scale-x":[{"scale-x":M()}],"scale-y":[{"scale-y":M()}],"scale-z":[{"scale-z":M()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[ts,Jo,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ts,Jo]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ts,Jo]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[Fo,rs,Yo,Qo]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),ys=So(vs);function bs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ys(Ha(t))}const xs=["className"],ws=["className","variant"],js=["className"],_s=["className"],Ns=["className"],ks=["className"],Ss=La,Es=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,xs);return(0,jr.jsx)(Ma,(0,i.A)({ref:t,className:bs("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r)},n))});Es.displayName=Ma.displayName;const As=$a("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cs=n.forwardRef((e,t)=>{let{className:r,variant:n}=e,a=s(e,ws);return(0,jr.jsx)(Fa,(0,i.A)({ref:t,className:bs(As({variant:n}),r)},a))});Cs.displayName=Fa.displayName;n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,js);return(0,jr.jsx)(Ba,(0,i.A)({ref:t,className:bs("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r)},n))}).displayName=Ba.displayName;const Ts=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,_s);return(0,jr.jsx)(qa,(0,i.A)((0,i.A)({ref:t,className:bs("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":""},n),{},{children:(0,jr.jsx)(ro,{className:"h-4 w-4"})}))});Ts.displayName=qa.displayName;const Rs=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Ns);return(0,jr.jsx)(za,(0,i.A)({ref:t,className:bs("text-sm font-semibold [&+div]:text-xs",r)},n))});Rs.displayName=za.displayName;const Ps=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,ks);return(0,jr.jsx)(Ua,(0,i.A)({ref:t,className:bs("text-sm opacity-90",r)},n))});Ps.displayName=Ua.displayName;const Os=["id","title","description","action"];function Ds(){const{toasts:e}=function(){const[e,t]=n.useState(Ur);return n.useEffect(()=>(zr.push(t),()=>{const e=zr.indexOf(t);e>-1&&zr.splice(e,1)}),[e]),(0,i.A)((0,i.A)({},e),{},{toast:qr,dismiss:e=>Br({type:"DISMISS_TOAST",toastId:e})})}();return(0,jr.jsxs)(Ss,{children:[e.map(function(e){let{id:t,title:r,description:n,action:a}=e,o=s(e,Os);return(0,jr.jsxs)(Cs,(0,i.A)((0,i.A)({},o),{},{children:[(0,jr.jsxs)("div",{className:"grid gap-1",children:[r&&(0,jr.jsx)(Rs,{children:r}),n&&(0,jr.jsx)(Ps,{children:n})]}),a,(0,jr.jsx)(Ts,{})]}),t)}),(0,jr.jsx)(Es,{})]})}const Is=to("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ls=to("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Ms=to("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Fs=to("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),zs=to("disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Us=to("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Bs=to("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qs=to("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Vs=to("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Hs=to("list-music",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]),Ws=to("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Ks=["className","type"],Gs=n.forwardRef((e,t)=>{let{className:r,type:n}=e,a=s(e,Ks);return(0,jr.jsx)("input",(0,i.A)({type:n,className:bs("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},a))});Gs.displayName="Input";const $s=["children"],Js=["children"];var Ys=Symbol.for("react.lazy"),Qs=a[" use ".trim().toString()];function Xs(e){return null!=e&&"object"===typeof e&&"$$typeof"in e&&e.$$typeof===Ys&&"_payload"in e&&("object"===typeof(t=e._payload)&&null!==t&&"then"in t);var t}function Zs(e){const t=ti(e),r=n.forwardRef((e,r)=>{let{children:a}=e,o=s(e,$s);Xs(a)&&"function"===typeof Qs&&(a=Qs(a._payload));const l=n.Children.toArray(a),c=l.find(ni);if(c){const e=c.props.children,a=l.map(t=>t===c?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t);return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}var ei=Zs("Slot");function ti(e){const t=n.forwardRef((e,t)=>{let{children:r}=e,a=s(e,Js);if(Xs(r)&&"function"===typeof Qs&&(r=Qs(r._payload)),n.isValidElement(r)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),o=function(e,t){const r=(0,i.A)({},t);for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=function(){const e=o(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,i.A)((0,i.A)({},a),o):"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return(0,i.A)((0,i.A)({},e),r)}(a,r.props);return r.type!==n.Fragment&&(o.ref=t?Kr(t,e):e),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var ri=Symbol("radix.slottable");function ni(e){return n.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ri}const ai=["className","variant","size","asChild"],oi=$a("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),si=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:o=!1}=e,l=s(e,ai);const c=o?ei:"button";return(0,jr.jsx)(c,(0,i.A)({className:bs(oi({variant:n,size:a,className:r})),ref:t},l))});si.displayName="Button";var ii=n.createContext(void 0);function li(e){const t=n.useContext(ii);return e||t||"ltr"}var ci=0;function ui(){n.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=r[0])&&void 0!==e?e:di()),document.body.insertAdjacentElement("beforeend",null!==(t=r[1])&&void 0!==t?t:di()),ci++,()=>{1===ci&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ci--}},[])}function di(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const hi=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var fi="focusScope.autoFocusOnMount",pi="focusScope.autoFocusOnUnmount",mi={bubbles:!1,cancelable:!0},gi=n.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:l}=e,c=s(e,hi),[u,d]=n.useState(null),h=Nn(o),f=Nn(l),p=n.useRef(null),m=Gr(t,e=>d(e)),g=n.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;n.useEffect(()=>{if(a){let e=function(e){if(g.paused||!u)return;const t=e.target;u.contains(t)?p.current=t:xi(p.current,{select:!0})},t=function(e){if(g.paused||!u)return;const t=e.relatedTarget;null!==t&&(u.contains(t)||xi(p.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&xi(u)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return u&&n.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[a,u,g.paused]),n.useEffect(()=>{if(u){wi.add(g);const t=document.activeElement;if(!u.contains(t)){const r=new CustomEvent(fi,mi);u.addEventListener(fi,h),u.dispatchEvent(r),r.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=document.activeElement;for(const n of e)if(xi(n,{select:t}),document.activeElement!==r)return}((e=vi(u),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&xi(u))}return()=>{u.removeEventListener(fi,h),setTimeout(()=>{const e=new CustomEvent(pi,mi);u.addEventListener(pi,f),u.dispatchEvent(e),e.defaultPrevented||xi(null!==t&&void 0!==t?t:document.body,{select:!0}),u.removeEventListener(pi,f),wi.remove(g)},0)}}var e},[u,h,f,g]);const v=n.useCallback(e=>{if(!r&&!a)return;if(g.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[a,o]=function(e){const t=vi(e),r=yi(t,e),n=yi(t.reverse(),e);return[r,n]}(t);a&&o?e.shiftKey||n!==o?e.shiftKey&&n===a&&(e.preventDefault(),r&&xi(o,{select:!0})):(e.preventDefault(),r&&xi(a,{select:!0})):n===t&&e.preventDefault()}},[r,a,g.paused]);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({tabIndex:-1},c),{},{ref:m,onKeyDown:v}))});function vi(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function yi(e,t){for(const r of e)if(!bi(r,{upTo:t}))return r}function bi(e,t){let{upTo:r}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==r&&e===r)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function xi(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}gi.displayName="FocusScope";var wi=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null===r||void 0===r||r.pause()),e=ji(e,t),e.unshift(t)},remove(t){var r;e=ji(e,t),null===(r=e[0])||void 0===r||r.resume()}}}();function ji(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var _i=a[" useId ".trim().toString()]||(()=>{}),Ni=0;function ki(e){const[t,r]=n.useState(_i());return Mn(()=>{e||r(e=>null!==e&&void 0!==e?e:String(Ni++))},[e]),e||(t?"radix-".concat(t):"")}const Si=["top","right","bottom","left"],Ei=Math.min,Ai=Math.max,Ci=Math.round,Ti=Math.floor,Ri=e=>({x:e,y:e}),Pi={left:"right",right:"left",bottom:"top",top:"bottom"},Oi={start:"end",end:"start"};function Di(e,t,r){return Ai(e,Ei(t,r))}function Ii(e,t){return"function"===typeof e?e(t):e}function Li(e){return e.split("-")[0]}function Mi(e){return e.split("-")[1]}function Fi(e){return"x"===e?"y":"x"}function zi(e){return"y"===e?"height":"width"}const Ui=new Set(["top","bottom"]);function Bi(e){return Ui.has(Li(e))?"y":"x"}function qi(e){return Fi(Bi(e))}function Vi(e){return e.replace(/start|end/g,e=>Oi[e])}const Hi=["left","right"],Wi=["right","left"],Ki=["top","bottom"],Gi=["bottom","top"];function $i(e,t,r,n){const a=Mi(e);let o=function(e,t,r){switch(e){case"top":case"bottom":return r?t?Wi:Hi:t?Hi:Wi;case"left":case"right":return t?Ki:Gi;default:return[]}}(Li(e),"start"===r,n);return a&&(o=o.map(e=>e+"-"+a),t&&(o=o.concat(o.map(Vi)))),o}function Ji(e){return e.replace(/left|right|bottom|top/g,e=>Pi[e])}function Yi(e){return"number"!==typeof e?function(e){return(0,i.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Qi(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}const Xi=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Zi=["strategy"],el=["mainAxis","crossAxis","limiter"],tl=["apply"];function rl(e,t,r){let{reference:n,floating:a}=e;const o=Bi(t),s=qi(t),i=zi(s),l=Li(t),c="y"===o,u=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[i]/2-a[i]/2;let f;switch(l){case"top":f={x:u,y:n.y-a.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-a.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Mi(t)){case"start":f[s]-=h*(r&&c?-1:1);break;case"end":f[s]+=h*(r&&c?-1:1)}return f}async function nl(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:o,rects:s,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ii(t,e),p=Yi(f),m=i[h?"floating"===d?"reference":"floating":d],g=Qi(await o.getClippingRect({element:null==(r=await(null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(i.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(i.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},x=Qi(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-x.top+p.top)/b.y,bottom:(x.bottom-g.bottom+p.bottom)/b.y,left:(g.left-x.left+p.left)/b.x,right:(x.right-g.right+p.right)/b.x}}function al(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ol(e){return Si.some(t=>e[t]>=0)}const sl=new Set(["left","top"]);function il(){return"undefined"!==typeof window}function ll(e){return dl(e)?(e.nodeName||"").toLowerCase():"#document"}function cl(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ul(e){var t;return null==(t=(dl(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function dl(e){return!!il()&&(e instanceof Node||e instanceof cl(e).Node)}function hl(e){return!!il()&&(e instanceof Element||e instanceof cl(e).Element)}function fl(e){return!!il()&&(e instanceof HTMLElement||e instanceof cl(e).HTMLElement)}function pl(e){return!(!il()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof cl(e).ShadowRoot)}const ml=new Set(["inline","contents"]);function gl(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Al(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ml.has(a)}const vl=new Set(["table","td","th"]);function yl(e){return vl.has(ll(e))}const bl=[":popover-open",":modal"];function xl(e){return bl.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const wl=["transform","translate","scale","rotate","perspective"],jl=["transform","translate","scale","rotate","perspective","filter"],_l=["paint","layout","strict","content"];function Nl(e){const t=kl(),r=hl(e)?Al(e):e;return wl.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||jl.some(e=>(r.willChange||"").includes(e))||_l.some(e=>(r.contain||"").includes(e))}function kl(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Sl=new Set(["html","body","#document"]);function El(e){return Sl.has(ll(e))}function Al(e){return cl(e).getComputedStyle(e)}function Cl(e){return hl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tl(e){if("html"===ll(e))return e;const t=e.assignedSlot||e.parentNode||pl(e)&&e.host||ul(e);return pl(t)?t.host:t}function Rl(e){const t=Tl(e);return El(t)?e.ownerDocument?e.ownerDocument.body:e.body:fl(t)&&gl(t)?t:Rl(t)}function Pl(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=Rl(e),o=a===(null==(n=e.ownerDocument)?void 0:n.body),s=cl(a);if(o){const e=Ol(s);return t.concat(s,s.visualViewport||[],gl(a)?a:[],e&&r?Pl(e):[])}return t.concat(a,Pl(a,[],r))}function Ol(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Dl(e){const t=Al(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=fl(e),o=a?e.offsetWidth:r,s=a?e.offsetHeight:n,i=Ci(r)!==o||Ci(n)!==s;return i&&(r=o,n=s),{width:r,height:n,$:i}}function Il(e){return hl(e)?e:e.contextElement}function Ll(e){const t=Il(e);if(!fl(t))return Ri(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=Dl(t);let s=(o?Ci(r.width):r.width)/n,i=(o?Ci(r.height):r.height)/a;return s&&Number.isFinite(s)||(s=1),i&&Number.isFinite(i)||(i=1),{x:s,y:i}}const Ml=Ri(0);function Fl(e){const t=cl(e);return kl()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ml}function zl(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),o=Il(e);let s=Ri(1);t&&(n?hl(n)&&(s=Ll(n)):s=Ll(e));const i=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==cl(e))&&t}(o,r,n)?Fl(o):Ri(0);let l=(a.left+i.x)/s.x,c=(a.top+i.y)/s.y,u=a.width/s.x,d=a.height/s.y;if(o){const e=cl(o),t=n&&hl(n)?cl(n):n;let r=e,a=Ol(r);for(;a&&n&&t!==r;){const e=Ll(a),t=a.getBoundingClientRect(),n=Al(a),o=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=s,r=cl(a),a=Ol(r)}}return Qi({width:u,height:d,x:l,y:c})}function Ul(e,t){const r=Cl(e).scrollLeft;return t?t.left+r:zl(ul(e)).left+r}function Bl(e,t){const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-Ul(e,r),y:r.top+t.scrollTop}}const ql=new Set(["absolute","fixed"]);function Vl(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=cl(e),n=ul(e),a=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,i=0,l=0;if(a){o=a.width,s=a.height;const e=kl();(!e||e&&"fixed"===t)&&(i=a.offsetLeft,l=a.offsetTop)}const c=Ul(n);if(c<=0){const e=n.ownerDocument,t=e.body,r=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,s=Math.abs(n.clientWidth-t.clientWidth-a);s<=25&&(o-=s)}else c<=25&&(o+=c);return{width:o,height:s,x:i,y:l}}(e,r);else if("document"===t)n=function(e){const t=ul(e),r=Cl(e),n=e.ownerDocument.body,a=Ai(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ai(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Ul(e);const i=-r.scrollTop;return"rtl"===Al(n).direction&&(s+=Ai(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:s,y:i}}(ul(e));else if(hl(t))n=function(e,t){const r=zl(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=fl(e)?Ll(e):Ri(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:a*o.x,y:n*o.y}}(t,r);else{const r=Fl(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Qi(n)}function Hl(e,t){const r=Tl(e);return!(r===t||!hl(r)||El(r))&&("fixed"===Al(r).position||Hl(r,t))}function Wl(e,t,r){const n=fl(t),a=ul(t),o="fixed"===r,s=zl(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const l=Ri(0);function c(){l.x=Ul(a)}if(n||!n&&!o)if(("body"!==ll(t)||gl(a))&&(i=Cl(t)),n){const e=zl(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();o&&!n&&a&&c();const u=!a||n||o?Ri(0):Bl(a,i);return{x:s.left+i.scrollLeft-l.x-u.x,y:s.top+i.scrollTop-l.y-u.y,width:s.width,height:s.height}}function Kl(e){return"static"===Al(e).position}function Gl(e,t){if(!fl(e)||"fixed"===Al(e).position)return null;if(t)return t(e);let r=e.offsetParent;return ul(e)===r&&(r=r.ownerDocument.body),r}function $l(e,t){const r=cl(e);if(xl(e))return r;if(!fl(e)){let t=Tl(e);for(;t&&!El(t);){if(hl(t)&&!Kl(t))return t;t=Tl(t)}return r}let n=Gl(e,t);for(;n&&yl(n)&&Kl(n);)n=Gl(n,t);return n&&El(n)&&Kl(n)&&!Nl(n)?r:n||function(e){let t=Tl(e);for(;fl(t)&&!El(t);){if(Nl(t))return t;if(xl(t))return null;t=Tl(t)}return null}(e)||r}const Jl={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o="fixed"===a,s=ul(n),i=!!t&&xl(t.floating);if(n===s||i&&o)return r;let l={scrollLeft:0,scrollTop:0},c=Ri(1);const u=Ri(0),d=fl(n);if((d||!d&&!o)&&(("body"!==ll(n)||gl(s))&&(l=Cl(n)),fl(n))){const e=zl(n);c=Ll(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}const h=!s||d||o?Ri(0):Bl(s,l);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:ul,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[..."clippingAncestors"===r?xl(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=Pl(e,[],!1).filter(e=>hl(e)&&"body"!==ll(e)),a=null;const o="fixed"===Al(e).position;let s=o?Tl(e):e;for(;hl(s)&&!El(s);){const t=Al(s),r=Nl(s);r||"fixed"!==t.position||(a=null),(o?!r&&!a:!r&&"static"===t.position&&a&&ql.has(a.position)||gl(s)&&!r&&Hl(e,s))?n=n.filter(e=>e!==s):a=t,s=Tl(s)}return t.set(e,n),n}(t,this._c):[].concat(r),n],s=o[0],i=o.reduce((e,r)=>{const n=Vl(t,r,a);return e.top=Ai(n.top,e.top),e.right=Ei(n.right,e.right),e.bottom=Ei(n.bottom,e.bottom),e.left=Ai(n.left,e.left),e},Vl(t,s,a));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:$l,getElementRects:async function(e){const t=this.getOffsetParent||$l,r=this.getDimensions,n=await r(e.floating);return{reference:Wl(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=Dl(e);return{width:t,height:r}},getScale:Ll,isElement:hl,isRTL:function(e){return"rtl"===Al(e).direction}};function Yl(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ql(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:c=!1}=n,u=Il(e),d=a||o?[...u?Pl(u):[],...Pl(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)});const h=u&&l?function(e,t){let r,n=null;const a=ul(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const m={rootMargin:-Ti(h)+"px "+-Ti(a.clientWidth-(d+f))+"px "+-Ti(a.clientHeight-(h+p))+"px "+-Ti(d)+"px",threshold:Ai(0,Ei(1,c))||1};let g=!0;function v(t){const n=t[0].intersectionRatio;if(n!==c){if(!g)return s();n?s(!1,n):r=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==n||Yl(u,e.getBoundingClientRect())||s(),g=!1}try{n=new IntersectionObserver(v,(0,i.A)((0,i.A)({},m),{},{root:a.ownerDocument}))}catch(y){n=new IntersectionObserver(v,m)}n.observe(e)}(!0),o}(u,r):null;let f,p=-1,m=null;s&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g=c?zl(e):null;return c&&function t(){const n=zl(e);g&&!Yl(g,n)&&r();g=n,f=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(f)}}const Xl=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:s,middlewareData:l}=t,c=await async function(e,t){const{placement:r,platform:n,elements:a}=e,o=await(null==n.isRTL?void 0:n.isRTL(a.floating)),s=Li(r),i=Mi(r),l="y"===Bi(r),c=sl.has(s)?-1:1,u=o&&l?-1:1,d=Ii(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return i&&"number"===typeof p&&(f="end"===i?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return s===(null==(r=l.offset)?void 0:r.placement)&&null!=(n=l.arrow)&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:(0,i.A)((0,i.A)({},c),{},{placement:s})}}}},Zl=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,o=Ii(e,t),{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}}}=o,d=s(o,el),h={x:r,y:n},f=await nl(t,d),p=Bi(Li(a)),m=Fi(p);let g=h[m],v=h[p];if(l){const e="y"===m?"bottom":"right";g=Di(g+f["y"===m?"top":"left"],g,g-f[e])}if(c){const e="y"===p?"bottom":"right";v=Di(v+f["y"===p?"top":"left"],v,v-f[e])}const y=u.fn((0,i.A)((0,i.A)({},t),{},{[m]:g,[p]:v}));return(0,i.A)((0,i.A)({},y),{},{data:{x:y.x-r,y:y.y-n,enabled:{[m]:l,[p]:c}}})}}},ec=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,d=Ii(e,t),{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=d,y=s(d,Xi);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};const b=Li(a),x=Bi(l),w=Li(l)===l,j=await(null==c.isRTL?void 0:c.isRTL(u.floating)),_=p||(w||!v?[Ji(l)]:function(e){const t=Ji(e);return[Vi(e),t,Vi(t)]}(l)),N="none"!==g;!p&&N&&_.push(...$i(l,v,g,j));const k=[l,..._],S=await nl(t,y),E=[];let A=(null==(n=o.flip)?void 0:n.overflows)||[];if(h&&E.push(S[b]),f){const e=function(e,t,r){void 0===r&&(r=!1);const n=Mi(e),a=qi(e),o=zi(a);let s="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Ji(s)),[s,Ji(s)]}(a,i,j);E.push(S[e[0]],S[e[1]])}if(A=[...A,{placement:a,overflows:E}],!E.every(e=>e<=0)){var C,T;const e=((null==(C=o.flip)?void 0:C.index)||0)+1,t=k[e];if(t){if(!("alignment"===f&&x!==Bi(t))||A.every(e=>Bi(e.placement)!==x||e.overflows[0]>0))return{data:{index:e,overflows:A},reset:{placement:t}}}let r=null==(T=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!r)switch(m){case"bestFit":{var R;const e=null==(R=A.filter(e=>{if(N){const t=Bi(e.placement);return t===x||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:R[0];e&&(r=e);break}case"initialPlacement":r=l}if(a!==r)return{reset:{placement:r}}}return{}}}},tc=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:o,platform:l,elements:c}=t,u=Ii(e,t),{apply:d=()=>{}}=u,h=s(u,tl),f=await nl(t,h),p=Li(a),m=Mi(a),g="y"===Bi(a),{width:v,height:y}=o.floating;let b,x;"top"===p||"bottom"===p?(b=p,x=m===(await(null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(x=p,b="end"===m?"top":"bottom");const w=y-f.top-f.bottom,j=v-f.left-f.right,_=Ei(y-f[b],w),N=Ei(v-f[x],j),k=!t.middlewareData.shift;let S=_,E=N;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(E=j),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(S=w),k&&!m){const e=Ai(f.left,0),t=Ai(f.right,0),r=Ai(f.top,0),n=Ai(f.bottom,0);g?E=v-2*(0!==e||0!==t?e+t:Ai(f.left,f.right)):S=y-2*(0!==r||0!==n?r+n:Ai(f.top,f.bottom))}await d((0,i.A)((0,i.A)({},t),{},{availableWidth:E,availableHeight:S}));const A=await l.getDimensions(c.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}},rc=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,n=Ii(e,t),{strategy:a="referenceHidden"}=n,o=s(n,Zi);switch(a){case"referenceHidden":{const e=al(await nl(t,(0,i.A)((0,i.A)({},o),{},{elementContext:"reference"})),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:ol(e)}}}case"escaped":{const e=al(await nl(t,(0,i.A)((0,i.A)({},o),{},{altBoundary:!0})),r.floating);return{data:{escapedOffsets:e,escaped:ol(e)}}}default:return{}}}}},nc=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ii(e,t)||{};if(null==u)return{};const h=Yi(d),f={x:r,y:n},p=qi(a),m=zi(p),g=await s.getDimensions(u),v="y"===p,y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",w=o.reference[m]+o.reference[p]-f[p]-o.floating[m],j=f[p]-o.reference[p],_=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let N=_?_[x]:0;N&&await(null==s.isElement?void 0:s.isElement(_))||(N=l.floating[x]||o.floating[m]);const k=w/2-j/2,S=N/2-g[m]/2-1,E=Ei(h[y],S),A=Ei(h[b],S),C=E,T=N-g[m]-A,R=N/2-g[m]/2+k,P=Di(C,R,T),O=!c.arrow&&null!=Mi(a)&&R!==P&&o.reference[m]/2-(R<C?E:A)-g[m]/2<0,D=O?R<C?R-C:R-T:0;return{[p]:f[p]+D,data:(0,i.A)({[p]:P,centerOffset:R-P-D},O&&{alignmentOffset:D}),reset:O}}}),ac=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ii(e,t),d={x:r,y:n},h=Bi(a),f=Fi(h);let p=d[f],m=d[h];const g=Ii(l,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:(0,i.A)({mainAxis:0,crossAxis:0},g);if(c){const e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+v.mainAxis,r=o.reference[f]+o.reference[e]-v.mainAxis;p<t?p=t:p>r&&(p=r)}if(u){var y,b;const e="y"===f?"width":"height",t=sl.has(Li(a)),r=o.reference[h]-o.floating[e]+(t&&(null==(y=s.offset)?void 0:y[h])||0)+(t?0:v.crossAxis),n=o.reference[h]+o.reference[e]+(t?0:(null==(b=s.offset)?void 0:b[h])||0)-(t?v.crossAxis:0);m<r?m=r:m>n&&(m=n)}return{[f]:p,[h]:m}}}},oc=(e,t,r)=>{const n=new Map,a=(0,i.A)({platform:Jl},r),o=(0,i.A)((0,i.A)({},a.platform),{},{_c:n});return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:s}=r,l=o.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=rl(u,n,c),f=n,p={},m=0;for(let g=0;g<l.length;g++){const{name:r,fn:o}=l[g],{x:v,y:y,data:b,reset:x}=await o({x:d,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=y?y:h,p=(0,i.A)((0,i.A)({},p),{},{[r]:(0,i.A)((0,i.A)({},p[r]),b)}),x&&m<=50&&(m++,"object"===typeof x&&(x.placement&&(f=x.placement),x.rects&&(u=!0===x.rects?await s.getElementRects({reference:e,floating:t,strategy:a}):x.rects),({x:d,y:h}=rl(u,f,c))),g=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:p}})(e,t,(0,i.A)((0,i.A)({},a),{},{platform:o}))};var sc="undefined"!==typeof document?n.useLayoutEffect:function(){};function ic(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!ic(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(("_owner"!==r||!e.$$typeof)&&!ic(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function lc(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cc(e,t){const r=lc(e);return Math.round(t*r)/r}function uc(e){const t=n.useRef(e);return sc(()=>{t.current=e}),t}const dc=(e,t)=>(0,i.A)((0,i.A)({},Xl(e)),{},{options:[e,t]}),hc=(e,t)=>(0,i.A)((0,i.A)({},Zl(e)),{},{options:[e,t]}),fc=(e,t)=>(0,i.A)((0,i.A)({},ac(e)),{},{options:[e,t]}),pc=(e,t)=>(0,i.A)((0,i.A)({},ec(e)),{},{options:[e,t]}),mc=(e,t)=>(0,i.A)((0,i.A)({},tc(e)),{},{options:[e,t]}),gc=(e,t)=>(0,i.A)((0,i.A)({},rc(e)),{},{options:[e,t]}),vc=(e,t)=>(0,i.A)((0,i.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"===typeof e?e(t):e;return r&&(a=r,{}.hasOwnProperty.call(a,"current"))?null!=r.current?nc({element:r.current,padding:n}).fn(t):{}:r?nc({element:r,padding:n}).fn(t):{};var a}}))(e)),{},{options:[e,t]}),yc=["children","width","height"];var bc=n.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5}=e,o=s(e,yc);return(0,jr.jsx)(jn.svg,(0,i.A)((0,i.A)({},o),{},{ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,jr.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});bc.displayName="Arrow";var xc=bc;function wc(e){const[t,r]=n.useState(void 0);return Mn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let a,o;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,o=t.blockSize}else a=e.offsetWidth,o=e.offsetHeight;r({width:a,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}const jc=["__scopePopper","virtualRef"],_c=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],Nc=["__scopePopper"];var kc="Popper",[Sc,Ec]=en(kc),[Ac,Cc]=Sc(kc),Tc=e=>{const{__scopePopper:t,children:r}=e,[a,o]=n.useState(null);return(0,jr.jsx)(Ac,{scope:t,anchor:a,onAnchorChange:o,children:r})};Tc.displayName=kc;var Rc="PopperAnchor",Pc=n.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a}=e,o=s(e,jc),l=Cc(Rc,r),c=n.useRef(null),u=Gr(t,c),d=n.useRef(null);return n.useEffect(()=>{const e=d.current;d.current=(null===a||void 0===a?void 0:a.current)||c.current,e!==d.current&&l.onAnchorChange(d.current)}),a?null:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({},o),{},{ref:u}))});Pc.displayName=Rc;var Oc="PopperContent",[Dc,Ic]=Sc(Oc),Lc=n.forwardRef((e,t)=>{var r,a,o,l,c,u,d,h;const{__scopePopper:f,side:p="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:b=!0,collisionBoundary:x=[],collisionPadding:w=0,sticky:j="partial",hideWhenDetached:_=!1,updatePositionStrategy:N="optimized",onPlaced:k}=e,S=s(e,_c),E=Cc(Oc,f),[A,C]=n.useState(null),T=Gr(t,e=>C(e)),[R,P]=n.useState(null),O=wc(R),D=null!==(r=null===O||void 0===O?void 0:O.width)&&void 0!==r?r:0,I=null!==(a=null===O||void 0===O?void 0:O.height)&&void 0!==a?a:0,L=p+("center"!==g?"-"+g:""),M="number"===typeof w?w:(0,i.A)({top:0,right:0,bottom:0,left:0},w),F=Array.isArray(x)?x:[x],z=F.length>0,U={padding:M,boundary:F.filter(Uc),altBoundary:z},{refs:B,floatingStyles:q,placement:V,isPositioned:H,middlewareData:W}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:o,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,f]=n.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=n.useState(a);ic(p,a)||m(a);const[g,v]=n.useState(null),[y,b]=n.useState(null),x=n.useCallback(e=>{e!==N.current&&(N.current=e,v(e))},[]),w=n.useCallback(e=>{e!==k.current&&(k.current=e,b(e))},[]),j=s||g,_=l||y,N=n.useRef(null),k=n.useRef(null),S=n.useRef(h),E=null!=u,A=uc(u),C=uc(o),T=uc(d),R=n.useCallback(()=>{if(!N.current||!k.current)return;const e={placement:t,strategy:r,middleware:p};C.current&&(e.platform=C.current),oc(N.current,k.current,e).then(e=>{const t=(0,i.A)((0,i.A)({},e),{},{isPositioned:!1!==T.current});P.current&&!ic(S.current,t)&&(S.current=t,Vr.flushSync(()=>{f(t)}))})},[p,t,r,C,T]);sc(()=>{!1===d&&S.current.isPositioned&&(S.current.isPositioned=!1,f(e=>(0,i.A)((0,i.A)({},e),{},{isPositioned:!1})))},[d]);const P=n.useRef(!1);sc(()=>(P.current=!0,()=>{P.current=!1}),[]),sc(()=>{if(j&&(N.current=j),_&&(k.current=_),j&&_){if(A.current)return A.current(j,_,R);R()}},[j,_,R,A,E]);const O=n.useMemo(()=>({reference:N,floating:k,setReference:x,setFloating:w}),[x,w]),D=n.useMemo(()=>({reference:j,floating:_}),[j,_]),I=n.useMemo(()=>{const e={position:r,left:0,top:0};if(!D.floating)return e;const t=cc(D.floating,h.x),n=cc(D.floating,h.y);return c?(0,i.A)((0,i.A)({},e),{},{transform:"translate("+t+"px, "+n+"px)"},lc(D.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}},[r,c,D.floating,h.x,h.y]);return n.useMemo(()=>(0,i.A)((0,i.A)({},h),{},{update:R,refs:O,elements:D,floatingStyles:I}),[h,R,O,D,I])}({strategy:"fixed",placement:L,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ql(...t,{animationFrame:"always"===N})},elements:{reference:E.anchor},middleware:[dc({mainAxis:m+I,alignmentAxis:v}),b&&hc((0,i.A)({mainAxis:!0,crossAxis:!1,limiter:"partial"===j?fc():void 0},U)),b&&pc((0,i.A)({},U)),mc((0,i.A)((0,i.A)({},U),{},{apply:e=>{let{elements:t,rects:r,availableWidth:n,availableHeight:a}=e;const{width:o,height:s}=r.reference,i=t.floating.style;i.setProperty("--radix-popper-available-width","".concat(n,"px")),i.setProperty("--radix-popper-available-height","".concat(a,"px")),i.setProperty("--radix-popper-anchor-width","".concat(o,"px")),i.setProperty("--radix-popper-anchor-height","".concat(s,"px"))}})),R&&vc({element:R,padding:y}),Bc({arrowWidth:D,arrowHeight:I}),_&&gc((0,i.A)({strategy:"referenceHidden"},U))]}),[K,G]=qc(V),$=Nn(k);Mn(()=>{H&&(null===$||void 0===$||$())},[H,$]);const J=null===(o=W.arrow)||void 0===o?void 0:o.x,Y=null===(l=W.arrow)||void 0===l?void 0:l.y,Q=0!==(null===(c=W.arrow)||void 0===c?void 0:c.centerOffset),[X,Z]=n.useState();return Mn(()=>{A&&Z(window.getComputedStyle(A).zIndex)},[A]),(0,jr.jsx)("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:(0,i.A)((0,i.A)({},q),{},{transform:H?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[null===(u=W.transformOrigin)||void 0===u?void 0:u.x,null===(d=W.transformOrigin)||void 0===d?void 0:d.y].join(" ")},(null===(h=W.hide)||void 0===h?void 0:h.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,jr.jsx)(Dc,{scope:f,placedSide:K,onArrowChange:P,arrowX:J,arrowY:Y,shouldHideArrow:Q,children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({"data-side":K,"data-align":G},S),{},{ref:T,style:(0,i.A)((0,i.A)({},S.style),{},{animation:H?void 0:"none"})}))})})});Lc.displayName=Oc;var Mc="PopperArrow",Fc={top:"bottom",right:"left",bottom:"top",left:"right"},zc=n.forwardRef(function(e,t){const{__scopePopper:r}=e,n=s(e,Nc),a=Ic(Mc,r),o=Fc[a.placedSide];return(0,jr.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,jr.jsx)(xc,(0,i.A)((0,i.A)({},n),{},{ref:t,style:(0,i.A)((0,i.A)({},n.style),{},{display:"block"})}))})});function Uc(e){return null!==e}zc.displayName=Mc;var Bc=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,o,s;const{placement:i,rects:l,middlewareData:c}=t,u=0!==(null===(r=c.arrow)||void 0===r?void 0:r.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=qc(i),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(n=null===(a=c.arrow)||void 0===a?void 0:a.x)&&void 0!==n?n:0)+d/2,v=(null!==(o=null===(s=c.arrow)||void 0===s?void 0:s.y)&&void 0!==o?o:0)+h/2;let y="",b="";return"bottom"===f?(y=u?m:"".concat(g,"px"),b="".concat(-h,"px")):"top"===f?(y=u?m:"".concat(g,"px"),b="".concat(l.floating.height+h,"px")):"right"===f?(y="".concat(-h,"px"),b=u?m:"".concat(v,"px")):"left"===f&&(y="".concat(l.floating.width+h,"px"),b=u?m:"".concat(v,"px")),{data:{x:y,y:b}}}});function qc(e){const[t,r="center"]=e.split("-");return[t,r]}var Vc=Tc,Hc=Pc,Wc=Lc,Kc=zc;const Gc=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],$c=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var Jc="rovingFocusGroup.onEntryFocus",Yc={bubbles:!1,cancelable:!0},Qc="RovingFocusGroup",[Xc,Zc,eu]=dn(Qc),[tu,ru]=en(Qc,[eu]),[nu,au]=tu(Qc),ou=n.forwardRef((e,t)=>(0,jr.jsx)(Xc.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,jr.jsx)(Xc.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,jr.jsx)(su,(0,i.A)((0,i.A)({},e),{},{ref:t}))})}));ou.displayName=Qc;var su=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1}=e,p=s(e,Gc),m=n.useRef(null),g=Gr(t,m),v=li(l),[y,b]=Vn({prop:c,defaultProp:null!==u&&void 0!==u?u:null,onChange:d,caller:Qc}),[x,w]=n.useState(!1),j=Nn(h),_=Zc(r),N=n.useRef(!1),[k,S]=n.useState(0);return n.useEffect(()=>{const e=m.current;if(e)return e.addEventListener(Jc,j),()=>e.removeEventListener(Jc,j)},[j]),(0,jr.jsx)(nu,{scope:r,orientation:a,dir:v,loop:o,currentTabStopId:y,onItemFocus:n.useCallback(e=>b(e),[b]),onItemShiftTab:n.useCallback(()=>w(!0),[]),onFocusableItemAdd:n.useCallback(()=>S(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>S(e=>e-1),[]),children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({tabIndex:x||0===k?-1:0,"data-orientation":a},p),{},{ref:g,style:(0,i.A)({outline:"none"},e.style),onMouseDown:Hr(e.onMouseDown,()=>{N.current=!0}),onFocus:Hr(e.onFocus,e=>{const t=!N.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(Jc,Yc);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=_().filter(e=>e.focusable);uu([e.find(e=>e.active),e.find(e=>e.id===y),...e].filter(Boolean).map(e=>e.ref.current),f)}}N.current=!1}),onBlur:Hr(e.onBlur,()=>w(!1))}))})}),iu="RovingFocusGroupItem",lu=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:o=!1,tabStopId:l,children:c}=e,u=s(e,$c),d=ki(),h=l||d,f=au(iu,r),p=f.currentTabStopId===h,m=Zc(r),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=f;return n.useEffect(()=>{if(a)return g(),()=>v()},[a,g,v]),(0,jr.jsx)(Xc.ItemSlot,{scope:r,id:h,focusable:a,active:o,children:(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({tabIndex:p?0:-1,"data-orientation":f.orientation},u),{},{ref:t,onMouseDown:Hr(e.onMouseDown,e=>{a?f.onItemFocus(h):e.preventDefault()}),onFocus:Hr(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:Hr(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:cu[n]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();const o=a.indexOf(e.currentTarget);a=f.loop?(n=o+1,(r=a).map((e,t)=>r[(n+t)%r.length])):a.slice(o+1)}setTimeout(()=>uu(a))}var r,n}),children:"function"===typeof c?c({isCurrentTabStop:p,hasTabStop:null!=y}):c}))})});lu.displayName=iu;var cu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var du=ou,hu=lu;const fu=["children"],pu=["children"];function mu(e){const t=gu(e),r=n.forwardRef((e,r)=>{const{children:a}=e,o=s(e,fu),l=n.Children.toArray(a),c=l.find(yu);if(c){const e=c.props.children,a=l.map(t=>t===c?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t);return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}function gu(e){const t=n.forwardRef((e,t)=>{const{children:r}=e,a=s(e,pu);if(n.isValidElement(r)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),o=function(e,t){const r=(0,i.A)({},t);for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=function(){const e=o(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,i.A)((0,i.A)({},a),o):"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return(0,i.A)((0,i.A)({},e),r)}(a,r.props);return r.type!==n.Fragment&&(o.ref=t?Kr(t,e):e),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var vu=Symbol("radix.slottable");function yu(e){return n.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===vu}var bu=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},xu=new WeakMap,wu=new WeakMap,ju={},_u=0,Nu=function(e){return e&&(e.host||Nu(e.parentNode))},ku=function(e,t,r,n){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=Nu(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);ju[r]||(ju[r]=new WeakMap);var o=ju[r],s=[],i=new Set,l=new Set(a),c=function(e){e&&!i.has(e)&&(i.add(e),c(e.parentNode))};a.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(i.has(e))u(e);else try{var t=e.getAttribute(n),a=null!==t&&"false"!==t,l=(xu.get(e)||0)+1,c=(o.get(e)||0)+1;xu.set(e,l),o.set(e,c),s.push(e),1===l&&a&&wu.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(n,"true")}catch(Vj){console.error("aria-hidden: cannot operate on ",e,Vj)}})};return u(t),i.clear(),_u++,function(){s.forEach(function(e){var t=xu.get(e)-1,a=o.get(e)-1;xu.set(e,t),o.set(e,a),t||(wu.has(e)||e.removeAttribute(n),wu.delete(e)),a||e.removeAttribute(r)}),--_u||(xu=new WeakMap,xu=new WeakMap,wu=new WeakMap,ju={})}},Su=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||bu(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),ku(n,a,r,"aria-hidden")):function(){return null}},Eu=r(326),Au="right-scroll-bar-position",Cu="width-before-scroll-bar";function Tu(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var Ru="undefined"!==typeof window?n.useLayoutEffect:n.useEffect,Pu=new WeakMap;function Ou(e,t){var r=function(e,t){var r=(0,n.useState)(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}})[0];return r.callback=t,r.facade}(t||null,function(t){return e.forEach(function(e){return Tu(e,t)})});return Ru(function(){var t=Pu.get(r);if(t){var n=new Set(t),a=new Set(e),o=r.current;n.forEach(function(e){a.has(e)||Tu(e,null)}),a.forEach(function(e){n.has(e)||Tu(e,o)})}Pu.set(r,e)},[e]),r}function Du(e){return e}function Iu(e,t){void 0===t&&(t=Du);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var a=t(e,n);return r.push(a),function(){r=r.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var a=r;r=[],a.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),r={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),r}}}};return a}var Lu=function(e){void 0===e&&(e={});var t=Iu(null);return t.options=(0,Eu.__assign)({async:!0,ssr:!1},e),t}(),Mu=function(){},Fu=n.forwardRef(function(e,t){var r=n.useRef(null),a=n.useState({onScrollCapture:Mu,onWheelCapture:Mu,onTouchMoveCapture:Mu}),o=a[0],s=a[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,x=e.gapMode,w=(0,Eu.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,_=Ou([r,t]),N=(0,Eu.__assign)((0,Eu.__assign)({},w),o);return n.createElement(n.Fragment,null,d&&n.createElement(j,{sideCar:Lu,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:x}),i?n.cloneElement(n.Children.only(l),(0,Eu.__assign)((0,Eu.__assign)({},N),{ref:_})):n.createElement(b,(0,Eu.__assign)({},N,{className:c,ref:_}),l))});Fu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Fu.classNames={fullWidth:Cu,zeroRight:Au};var zu,Uu=function(e){var t=e.sideCar,r=(0,Eu.__rest)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return n.createElement(a,(0,Eu.__assign)({},r))};Uu.isSideCarExport=!0;function Bu(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zu||r.nc;return t&&e.setAttribute("nonce",t),e}var qu=function(){var e=0,t=null;return{add:function(r){var n,a;0==e&&(t=Bu())&&(a=r,(n=t).styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vu=function(){var e=function(){var e=qu();return function(t,r){n.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}}();return function(t){var r=t.styles,n=t.dynamic;return e(r,n),null}},Hu={left:0,top:0,right:0,gap:0},Wu=function(e){return parseInt(e||"",10)||0},Ku=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Hu;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[Wu(r),Wu(n),Wu(a)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Gu=Vu(),$u="data-scroll-locked",Ju=function(e,t,r,n){var a=e.left,o=e.top,s=e.right,i=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(i,"px ").concat(n,";\n  }\n  body[").concat($u,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Au," {\n    right: ").concat(i,"px ").concat(n,";\n  }\n  \n  .").concat(Cu," {\n    margin-right: ").concat(i,"px ").concat(n,";\n  }\n  \n  .").concat(Au," .").concat(Au," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(Cu," .").concat(Cu," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat($u,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},Yu=function(){var e=parseInt(document.body.getAttribute($u)||"0",10);return isFinite(e)?e:0},Qu=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,o=void 0===a?"margin":a;n.useEffect(function(){return document.body.setAttribute($u,(Yu()+1).toString()),function(){var e=Yu()-1;e<=0?document.body.removeAttribute($u):document.body.setAttribute($u,e.toString())}},[]);var s=n.useMemo(function(){return Ku(o)},[o]);return n.createElement(Gu,{styles:Ju(s,!t,o,r?"":"!important")})},Xu=!1;if("undefined"!==typeof window)try{var Zu=Object.defineProperty({},"passive",{get:function(){return Xu=!0,!0}});window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch(Hj){Xu=!1}var ed=!!Xu&&{passive:!1},td=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},rd=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),nd(e,n)){var a=ad(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nd=function(e,t){return"v"===e?function(e){return td(e,"overflowY")}(t):function(e){return td(e,"overflowX")}(t)},ad=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},od=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sd=function(e){return[e.deltaX,e.deltaY]},id=function(e){return e&&"current"in e?e.current:e},ld=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},cd=0,ud=[];function dd(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hd=(fd=function(e){var t=n.useRef([]),r=n.useRef([0,0]),a=n.useRef(),o=n.useState(cd++)[0],s=n.useState(Vu)[0],i=n.useRef(e);n.useEffect(function(){i.current=e},[e]),n.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=(0,Eu.__spreadArray)([e.lockRef.current],(e.shards||[]).map(id),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=n.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var n,o=od(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-o[0],c="deltaY"in e?e.deltaY:s[1]-o[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=window.getSelection(),f=h&&h.anchorNode;if(f&&(f===u||f.contains(u)))return!1;var p=rd(d,u);if(!p)return!0;if(p?n=d:(n="v"===d?"h":"v",p=rd(d,u)),!p)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=n),!n)return!0;var m=a.current||n;return function(e,t,r,n,a){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*n,i=r.target,l=t.contains(i),c=!1,u=s>0,d=0,h=0;do{if(!i)break;var f=ad(e,i),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&nd(e,i)&&(d+=m,h+=p);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(u&&(a&&Math.abs(d)<1||!a&&s>d)||!u&&(a&&Math.abs(h)<1||!a&&-s>h))&&(c=!0),c}(m,t,e,"h"===m?l:c,!0)},[]),c=n.useCallback(function(e){var r=e;if(ud.length&&ud[ud.length-1]===s){var n="deltaY"in r?sd(r):od(r),a=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&(t=e.delta,a=n,t[0]===a[0]&&t[1]===a[1]);var t,a})[0];if(a&&a.should)r.cancelable&&r.preventDefault();else if(!a){var o=(i.current.shards||[]).map(id).filter(Boolean).filter(function(e){return e.contains(r.target)});(o.length>0?l(r,o[0]):!i.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),u=n.useCallback(function(e,r,n,a){var o={name:e,delta:r,target:n,should:a,shadowParent:dd(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),d=n.useCallback(function(e){r.current=od(e),a.current=void 0},[]),h=n.useCallback(function(t){u(t.type,sd(t),t.target,l(t,e.lockRef.current))},[]),f=n.useCallback(function(t){u(t.type,od(t),t.target,l(t,e.lockRef.current))},[]);n.useEffect(function(){return ud.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ed),document.addEventListener("touchmove",c,ed),document.addEventListener("touchstart",d,ed),function(){ud=ud.filter(function(e){return e!==s}),document.removeEventListener("wheel",c,ed),document.removeEventListener("touchmove",c,ed),document.removeEventListener("touchstart",d,ed)}},[]);var p=e.removeScrollBar,m=e.inert;return n.createElement(n.Fragment,null,m?n.createElement(s,{styles:ld(o)}):null,p?n.createElement(Qu,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Lu.useMedium(fd),Uu);var fd,pd=n.forwardRef(function(e,t){return n.createElement(Fu,(0,Eu.__assign)({},e,{ref:t,sideCar:hd}))});pd.classNames=Fu.classNames;const md=pd,gd=["__scopeMenu"],vd=["forceMount"],yd=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"],bd=["__scopeMenu"],xd=["__scopeMenu"],wd=["disabled","onSelect"],jd=["__scopeMenu","disabled","textValue"],_d=["checked","onCheckedChange"],Nd=["value","onValueChange"],kd=["value"],Sd=["__scopeMenu","forceMount"],Ed=["__scopeMenu"],Ad=["__scopeMenu"],Cd=["forceMount"];var Td=["Enter"," "],Rd=["ArrowUp","PageDown","End"],Pd=["ArrowDown","PageUp","Home",...Rd],Od={ltr:[...Td,"ArrowRight"],rtl:[...Td,"ArrowLeft"]},Dd={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Id="Menu",[Ld,Md,Fd]=dn(Id),[zd,Ud]=en(Id,[Fd,Ec,ru]),Bd=Ec(),qd=ru(),[Vd,Hd]=zd(Id),[Wd,Kd]=zd(Id),Gd=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:o,onOpenChange:s,modal:l=!0}=e,c=Bd(t),[u,d]=n.useState(null),h=n.useRef(!1),f=Nn(s),p=li(o);return n.useEffect(()=>{const e=()=>{h.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>h.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,jr.jsx)(Vc,(0,i.A)((0,i.A)({},c),{},{children:(0,jr.jsx)(Vd,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:d,children:(0,jr.jsx)(Wd,{scope:t,onClose:n.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:l,children:a})})}))};Gd.displayName=Id;var $d=n.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=s(e,gd),a=Bd(r);return(0,jr.jsx)(Hc,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});$d.displayName="MenuAnchor";var Jd="MenuPortal",[Yd,Qd]=zd(Jd,{forceMount:void 0}),Xd=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=Hd(Jd,t);return(0,jr.jsx)(Yd,{scope:t,forceMount:r,children:(0,jr.jsx)(Un,{present:r||o.open,children:(0,jr.jsx)(zn,{asChild:!0,container:a,children:n})})})};Xd.displayName=Jd;var Zd="MenuContent",[eh,th]=zd(Zd),rh=n.forwardRef((e,t)=>{const r=Qd(Zd,e.__scopeMenu),{forceMount:n=r.forceMount}=e,a=s(e,vd),o=Hd(Zd,e.__scopeMenu),l=Kd(Zd,e.__scopeMenu);return(0,jr.jsx)(Ld.Provider,{scope:e.__scopeMenu,children:(0,jr.jsx)(Un,{present:n||o.open,children:(0,jr.jsx)(Ld.Slot,{scope:e.__scopeMenu,children:l.modal?(0,jr.jsx)(nh,(0,i.A)((0,i.A)({},a),{},{ref:t})):(0,jr.jsx)(ah,(0,i.A)((0,i.A)({},a),{},{ref:t}))})})})}),nh=n.forwardRef((e,t)=>{const r=Hd(Zd,e.__scopeMenu),a=n.useRef(null),o=Gr(t,a);return n.useEffect(()=>{const e=a.current;if(e)return Su(e)},[]),(0,jr.jsx)(sh,(0,i.A)((0,i.A)({},e),{},{ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Hr(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),ah=n.forwardRef((e,t)=>{const r=Hd(Zd,e.__scopeMenu);return(0,jr.jsx)(sh,(0,i.A)((0,i.A)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),oh=mu("MenuContent.ScrollLock"),sh=n.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v}=e,y=s(e,yd),b=Hd(Zd,r),x=Kd(Zd,r),w=Bd(r),j=qd(r),_=Md(r),[N,k]=n.useState(null),S=n.useRef(null),E=Gr(t,S,b.onContentChange),A=n.useRef(0),C=n.useRef(""),T=n.useRef(0),R=n.useRef(null),P=n.useRef("right"),O=n.useRef(0),D=v?md:n.Fragment,I=v?{as:oh,allowPinchZoom:!0}:void 0,L=e=>{var t,r;const n=C.current+e,a=_().filter(e=>!e.disabled),o=document.activeElement,s=null===(t=a.find(e=>e.ref.current===o))||void 0===t?void 0:t.textValue,i=function(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0]),a=n?t[0]:t,o=r?e.indexOf(r):-1;let s=(i=e,l=Math.max(o,0),i.map((e,t)=>i[(l+t)%i.length]));var i,l;1===a.length&&(s=s.filter(e=>e!==r));const c=s.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}(a.map(e=>e.textValue),n,s),l=null===(r=a.find(e=>e.textValue===i))||void 0===r?void 0:r.ref.current;!function e(t){C.current=t,window.clearTimeout(A.current),""!==t&&(A.current=window.setTimeout(()=>e(""),1e3))}(n),l&&setTimeout(()=>l.focus())};n.useEffect(()=>()=>window.clearTimeout(A.current),[]),ui();const M=n.useCallback(e=>{var t,r;return P.current===(null===(t=R.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o],i=t[s],l=e.x,c=e.y,u=i.x,d=i.y;c>n!==d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}(r,t)}(e,null===(r=R.current)||void 0===r?void 0:r.area)},[]);return(0,jr.jsx)(eh,{scope:r,searchRef:C,onItemEnter:n.useCallback(e=>{M(e)&&e.preventDefault()},[M]),onItemLeave:n.useCallback(e=>{var t;M(e)||(null===(t=S.current)||void 0===t||t.focus(),k(null))},[M]),onTriggerLeave:n.useCallback(e=>{M(e)&&e.preventDefault()},[M]),pointerGraceTimerRef:T,onPointerGraceIntentChange:n.useCallback(e=>{R.current=e},[]),children:(0,jr.jsx)(D,(0,i.A)((0,i.A)({},I),{},{children:(0,jr.jsx)(gi,{asChild:!0,trapped:o,onMountAutoFocus:Hr(l,e=>{var t;e.preventDefault(),null===(t=S.current)||void 0===t||t.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:(0,jr.jsx)(Rn,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:(0,jr.jsx)(du,(0,i.A)((0,i.A)({asChild:!0},j),{},{dir:x.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:Hr(d,e=>{x.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,jr.jsx)(Wc,(0,i.A)((0,i.A)((0,i.A)({role:"menu","aria-orientation":"vertical","data-state":Dh(b.open),"data-radix-menu-content":"",dir:x.dir},w),y),{},{ref:E,style:(0,i.A)({outline:"none"},y.style),onKeyDown:Hr(y.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&L(e.key));const a=S.current;if(e.target!==a)return;if(!Pd.includes(e.key))return;e.preventDefault();const o=_().filter(e=>!e.disabled).map(e=>e.ref.current);Rd.includes(e.key)&&o.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(o)}),onBlur:Hr(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(A.current),C.current="")}),onPointerMove:Hr(e.onPointerMove,Mh(e=>{const t=e.target,r=O.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>O.current?"right":"left";P.current=t,O.current=e.clientX}}))}))}))})})}))})});rh.displayName=Zd;var ih=n.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=s(e,bd);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({role:"group"},n),{},{ref:t}))});ih.displayName="MenuGroup";var lh=n.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=s(e,xd);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({},n),{},{ref:t}))});lh.displayName="MenuLabel";var ch="MenuItem",uh="menu.itemSelect",dh=n.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a}=e,o=s(e,wd),l=n.useRef(null),c=Kd(ch,e.__scopeMenu),u=th(ch,e.__scopeMenu),d=Gr(t,l),h=n.useRef(!1);return(0,jr.jsx)(hh,(0,i.A)((0,i.A)({},o),{},{ref:d,disabled:r,onClick:Hr(e.onClick,()=>{const e=l.current;if(!r&&e){const t=new CustomEvent(uh,{bubbles:!0,cancelable:!0});e.addEventListener(uh,e=>null===a||void 0===a?void 0:a(e),{once:!0}),_n(e,t),t.defaultPrevented?h.current=!1:c.onClose()}}),onPointerDown:t=>{var r;null===(r=e.onPointerDown)||void 0===r||r.call(e,t),h.current=!0},onPointerUp:Hr(e.onPointerUp,e=>{var t;h.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:Hr(e.onKeyDown,e=>{const t=""!==u.searchRef.current;r||t&&" "===e.key||Td.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))});dh.displayName=ch;var hh=n.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:o}=e,l=s(e,jd),c=th(ch,r),u=qd(r),d=n.useRef(null),h=Gr(t,d),[f,p]=n.useState(!1),[m,g]=n.useState("");return n.useEffect(()=>{const e=d.current;var t;e&&g((null!==(t=e.textContent)&&void 0!==t?t:"").trim())},[l.children]),(0,jr.jsx)(Ld.ItemSlot,{scope:r,disabled:a,textValue:null!==o&&void 0!==o?o:m,children:(0,jr.jsx)(hu,(0,i.A)((0,i.A)({asChild:!0},u),{},{focusable:!a,children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},l),{},{ref:h,onPointerMove:Hr(e.onPointerMove,Mh(e=>{if(a)c.onItemLeave(e);else if(c.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:Hr(e.onPointerLeave,Mh(e=>c.onItemLeave(e))),onFocus:Hr(e.onFocus,()=>p(!0)),onBlur:Hr(e.onBlur,()=>p(!1))}))}))})}),fh=n.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n}=e,a=s(e,_d);return(0,jr.jsx)(wh,{scope:e.__scopeMenu,checked:r,children:(0,jr.jsx)(dh,(0,i.A)((0,i.A)({role:"menuitemcheckbox","aria-checked":Ih(r)?"mixed":r},a),{},{ref:t,"data-state":Lh(r),onSelect:Hr(a.onSelect,()=>null===n||void 0===n?void 0:n(!!Ih(r)||!r),{checkForDefaultPrevented:!1})}))})});fh.displayName="MenuCheckboxItem";var ph="MenuRadioGroup",[mh,gh]=zd(ph,{value:void 0,onValueChange:()=>{}}),vh=n.forwardRef((e,t)=>{const{value:r,onValueChange:n}=e,a=s(e,Nd),o=Nn(n);return(0,jr.jsx)(mh,{scope:e.__scopeMenu,value:r,onValueChange:o,children:(0,jr.jsx)(ih,(0,i.A)((0,i.A)({},a),{},{ref:t}))})});vh.displayName=ph;var yh="MenuRadioItem",bh=n.forwardRef((e,t)=>{const{value:r}=e,n=s(e,kd),a=gh(yh,e.__scopeMenu),o=r===a.value;return(0,jr.jsx)(wh,{scope:e.__scopeMenu,checked:o,children:(0,jr.jsx)(dh,(0,i.A)((0,i.A)({role:"menuitemradio","aria-checked":o},n),{},{ref:t,"data-state":Lh(o),onSelect:Hr(n.onSelect,()=>{var e;return null===(e=a.onValueChange)||void 0===e?void 0:e.call(a,r)},{checkForDefaultPrevented:!1})}))})});bh.displayName=yh;var xh="MenuItemIndicator",[wh,jh]=zd(xh,{checked:!1}),_h=n.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n}=e,a=s(e,Sd),o=jh(xh,r);return(0,jr.jsx)(Un,{present:n||Ih(o.checked)||!0===o.checked,children:(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({},a),{},{ref:t,"data-state":Lh(o.checked)}))})});_h.displayName=xh;var Nh=n.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=s(e,Ed);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({role:"separator","aria-orientation":"horizontal"},n),{},{ref:t}))});Nh.displayName="MenuSeparator";var kh=n.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=s(e,Ad),a=Bd(r);return(0,jr.jsx)(Kc,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});kh.displayName="MenuArrow";var Sh="MenuSub",[Eh,Ah]=zd(Sh),Ch=e=>{const{__scopeMenu:t,children:r,open:a=!1,onOpenChange:o}=e,s=Hd(Sh,t),l=Bd(t),[c,u]=n.useState(null),[d,h]=n.useState(null),f=Nn(o);return n.useEffect(()=>(!1===s.open&&f(!1),()=>f(!1)),[s.open,f]),(0,jr.jsx)(Vc,(0,i.A)((0,i.A)({},l),{},{children:(0,jr.jsx)(Vd,{scope:t,open:a,onOpenChange:f,content:d,onContentChange:h,children:(0,jr.jsx)(Eh,{scope:t,contentId:ki(),triggerId:ki(),trigger:c,onTriggerChange:u,children:r})})}))};Ch.displayName=Sh;var Th="MenuSubTrigger",Rh=n.forwardRef((e,t)=>{const r=Hd(Th,e.__scopeMenu),a=Kd(Th,e.__scopeMenu),o=Ah(Th,e.__scopeMenu),s=th(Th,e.__scopeMenu),l=n.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=s,d={__scopeMenu:e.__scopeMenu},h=n.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return n.useEffect(()=>h,[h]),n.useEffect(()=>{const e=c.current;return()=>{window.clearTimeout(e),u(null)}},[c,u]),(0,jr.jsx)($d,(0,i.A)((0,i.A)({asChild:!0},d),{},{children:(0,jr.jsx)(hh,(0,i.A)((0,i.A)({id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":Dh(r.open)},e),{},{ref:Kr(t,o.onTriggerChange),onClick:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Hr(e.onPointerMove,Mh(t=>{s.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||l.current||(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Hr(e.onPointerLeave,Mh(e=>{var t;h();const n=null===(t=r.content)||void 0===t?void 0:t.getBoundingClientRect();if(n){var a;const t=null===(a=r.content)||void 0===a?void 0:a.dataset.side,o="right"===t,i=o?-5:5,l=n[o?"left":"right"],u=n[o?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+i,y:e.clientY},{x:l,y:n.top},{x:u,y:n.top},{x:u,y:n.bottom},{x:l,y:n.bottom}],side:t}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Hr(e.onKeyDown,t=>{const n=""!==s.searchRef.current;var o;e.disabled||n&&" "===t.key||Od[a.dir].includes(t.key)&&(r.onOpenChange(!0),null===(o=r.content)||void 0===o||o.focus(),t.preventDefault())})}))}))});Rh.displayName=Th;var Ph="MenuSubContent",Oh=n.forwardRef((e,t)=>{const r=Qd(Zd,e.__scopeMenu),{forceMount:a=r.forceMount}=e,o=s(e,Cd),l=Hd(Zd,e.__scopeMenu),c=Kd(Zd,e.__scopeMenu),u=Ah(Ph,e.__scopeMenu),d=n.useRef(null),h=Gr(t,d);return(0,jr.jsx)(Ld.Provider,{scope:e.__scopeMenu,children:(0,jr.jsx)(Un,{present:a||l.open,children:(0,jr.jsx)(Ld.Slot,{scope:e.__scopeMenu,children:(0,jr.jsx)(sh,(0,i.A)((0,i.A)({id:u.contentId,"aria-labelledby":u.triggerId},o),{},{ref:h,align:"start",side:"rtl"===c.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;c.isUsingKeyboardRef.current&&(null===(t=d.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:Hr(e.onFocusOutside,e=>{e.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Hr(e.onEscapeKeyDown,e=>{c.onClose(),e.preventDefault()}),onKeyDown:Hr(e.onKeyDown,e=>{const t=e.currentTarget.contains(e.target),r=Dd[c.dir].includes(e.key);var n;t&&r&&(l.onOpenChange(!1),null===(n=u.trigger)||void 0===n||n.focus(),e.preventDefault())})}))})})})});function Dh(e){return e?"open":"closed"}function Ih(e){return"indeterminate"===e}function Lh(e){return Ih(e)?"indeterminate":e?"checked":"unchecked"}function Mh(e){return t=>"mouse"===t.pointerType?e(t):void 0}Oh.displayName=Ph;var Fh=Gd,zh=$d,Uh=Xd,Bh=rh,qh=ih,Vh=lh,Hh=dh,Wh=fh,Kh=vh,Gh=bh,$h=_h,Jh=Nh,Yh=kh,Qh=Rh,Xh=Oh;const Zh=["__scopeDropdownMenu","disabled"],ef=["__scopeDropdownMenu"],tf=["__scopeDropdownMenu"],rf=["__scopeDropdownMenu"],nf=["__scopeDropdownMenu"],af=["__scopeDropdownMenu"],of=["__scopeDropdownMenu"],sf=["__scopeDropdownMenu"],lf=["__scopeDropdownMenu"],cf=["__scopeDropdownMenu"],uf=["__scopeDropdownMenu"],df=["__scopeDropdownMenu"],hf=["__scopeDropdownMenu"],ff=["__scopeDropdownMenu"];var pf="DropdownMenu",[mf,gf]=en(pf,[Ud]),vf=Ud(),[yf,bf]=mf(pf),xf=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:o,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,u=vf(t),d=n.useRef(null),[h,f]=Vn({prop:o,defaultProp:null!==s&&void 0!==s&&s,onChange:l,caller:pf});return(0,jr.jsx)(yf,{scope:t,triggerId:ki(),triggerRef:d,contentId:ki(),open:h,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),modal:c,children:(0,jr.jsx)(Fh,(0,i.A)((0,i.A)({},u),{},{open:h,onOpenChange:f,dir:a,modal:c,children:r}))})};xf.displayName=pf;var wf="DropdownMenuTrigger",jf=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1}=e,a=s(e,Zh),o=bf(wf,r),l=vf(r);return(0,jr.jsx)(zh,(0,i.A)((0,i.A)({asChild:!0},l),{},{children:(0,jr.jsx)(jn.button,(0,i.A)((0,i.A)({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},a),{},{ref:Kr(t,o.triggerRef),onPointerDown:Hr(e.onPointerDown,e=>{n||0!==e.button||!1!==e.ctrlKey||(o.onOpenToggle(),o.open||e.preventDefault())}),onKeyDown:Hr(e.onKeyDown,e=>{n||(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})}))}))});jf.displayName=wf;var _f=e=>{const{__scopeDropdownMenu:t}=e,r=s(e,ef),n=vf(t);return(0,jr.jsx)(Uh,(0,i.A)((0,i.A)({},n),r))};_f.displayName="DropdownMenuPortal";var Nf="DropdownMenuContent",kf=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,a=s(e,tf),o=bf(Nf,r),l=vf(r),c=n.useRef(!1);return(0,jr.jsx)(Bh,(0,i.A)((0,i.A)((0,i.A)({id:o.contentId,"aria-labelledby":o.triggerId},l),a),{},{ref:t,onCloseAutoFocus:Hr(e.onCloseAutoFocus,e=>{var t;c.current||null===(t=o.triggerRef.current)||void 0===t||t.focus(),c.current=!1,e.preventDefault()}),onInteractOutside:Hr(e.onInteractOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;o.modal&&!n||(c.current=!0)}),style:(0,i.A)((0,i.A)({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});kf.displayName=Nf;var Sf=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,rf),a=vf(r);return(0,jr.jsx)(qh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Sf.displayName="DropdownMenuGroup";var Ef=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,nf),a=vf(r);return(0,jr.jsx)(Vh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Ef.displayName="DropdownMenuLabel";var Af=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,af),a=vf(r);return(0,jr.jsx)(Hh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Af.displayName="DropdownMenuItem";var Cf=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,of),a=vf(r);return(0,jr.jsx)(Wh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Cf.displayName="DropdownMenuCheckboxItem";var Tf=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,sf),a=vf(r);return(0,jr.jsx)(Kh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Tf.displayName="DropdownMenuRadioGroup";var Rf=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,lf),a=vf(r);return(0,jr.jsx)(Gh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Rf.displayName="DropdownMenuRadioItem";var Pf=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,cf),a=vf(r);return(0,jr.jsx)($h,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Pf.displayName="DropdownMenuItemIndicator";var Of=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,uf),a=vf(r);return(0,jr.jsx)(Jh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Of.displayName="DropdownMenuSeparator";var Df=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,df),a=vf(r);return(0,jr.jsx)(Yh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Df.displayName="DropdownMenuArrow";var If=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,hf),a=vf(r);return(0,jr.jsx)(Qh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});If.displayName="DropdownMenuSubTrigger";var Lf=n.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=s(e,ff),a=vf(r);return(0,jr.jsx)(Xh,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t,style:(0,i.A)((0,i.A)({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});Lf.displayName="DropdownMenuSubContent";var Mf=xf,Ff=jf,zf=_f,Uf=kf,Bf=Ef,qf=Af,Vf=Cf,Hf=Rf,Wf=Pf,Kf=Of,Gf=If,$f=Lf;const Jf=to("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Yf=to("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Qf=to("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Xf=["className","inset","children"],Zf=["className"],ep=["className","sideOffset"],tp=["className","inset"],rp=["className","children","checked"],np=["className","children"],ap=["className","inset"],op=["className"],sp=Mf,ip=Ff;n.forwardRef((e,t)=>{let{className:r,inset:n,children:a}=e,o=s(e,Xf);return(0,jr.jsxs)(Gf,(0,i.A)((0,i.A)({ref:t,className:bs("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",r)},o),{},{children:[a,(0,jr.jsx)(Jf,{className:"ml-auto"})]}))}).displayName=Gf.displayName;n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Zf);return(0,jr.jsx)($f,(0,i.A)({ref:t,className:bs("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r)},n))}).displayName=$f.displayName;const lp=n.forwardRef((e,t)=>{let{className:r,sideOffset:n=4}=e,a=s(e,ep);return(0,jr.jsx)(zf,{children:(0,jr.jsx)(Uf,(0,i.A)({ref:t,sideOffset:n,className:bs("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r)},a))})});lp.displayName=Uf.displayName;const cp=n.forwardRef((e,t)=>{let{className:r,inset:n}=e,a=s(e,tp);return(0,jr.jsx)(qf,(0,i.A)({ref:t,className:bs("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",n&&"pl-8",r)},a))});cp.displayName=qf.displayName;n.forwardRef((e,t)=>{let{className:r,children:n,checked:a}=e,o=s(e,rp);return(0,jr.jsxs)(Vf,(0,i.A)((0,i.A)({ref:t,className:bs("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:a},o),{},{children:[(0,jr.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,jr.jsx)(Wf,{children:(0,jr.jsx)(Yf,{className:"h-4 w-4"})})}),n]}))}).displayName=Vf.displayName;n.forwardRef((e,t)=>{let{className:r,children:n}=e,a=s(e,np);return(0,jr.jsxs)(Hf,(0,i.A)((0,i.A)({ref:t,className:bs("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{},{children:[(0,jr.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,jr.jsx)(Wf,{children:(0,jr.jsx)(Qf,{className:"h-2 w-2 fill-current"})})}),n]}))}).displayName=Hf.displayName;n.forwardRef((e,t)=>{let{className:r,inset:n}=e,a=s(e,ap);return(0,jr.jsx)(Bf,(0,i.A)({ref:t,className:bs("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",r)},a))}).displayName=Bf.displayName;n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,op);return(0,jr.jsx)(Kf,(0,i.A)({ref:t,className:bs("-mx-1 my-1 h-px bg-muted",r)},n))}).displayName=Kf.displayName;const up=to("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),dp=to("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hp=()=>{const{user:e}=Nr(),[t,r]=(0,n.useState)([]),[a,o]=(0,n.useState)(0),[s,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if((async()=>{if(null===e||void 0===e||!e.id)return;l(!0);const{data:t,error:n}=await xr.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);!n&&t&&(r(t),o(t.filter(e=>!e.is_read).length)),l(!1)})(),null!==e&&void 0!==e&&e.id){const t=xr.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"user_id=eq.".concat(e.id)},e=>{r(t=>[e.new,...t]),o(e=>e+1)}).subscribe();return()=>{xr.removeChannel(t)}}},[null===e||void 0===e?void 0:e.id]);const c=async e=>{await xr.from("notifications").update({is_read:!0}).eq("id",e),r(t=>t.map(t=>t.id===e?(0,i.A)((0,i.A)({},t),{},{is_read:!0}):t)),o(e=>Math.max(0,e-1))},u=e=>{switch(e){case"new_album":return(0,jr.jsx)(zs,{className:"w-5 h-5 text-red-500"});case"new_playlist":return(0,jr.jsx)(Hs,{className:"w-5 h-5 text-blue-500"});default:return(0,jr.jsx)(up,{className:"w-5 h-5 text-gray-500"})}},d=e=>{const t=new Date(e),r=new Date-t,n=Math.floor(r/6e4),a=Math.floor(r/36e5),o=Math.floor(r/864e5);return n<1?"Agora":n<60?"".concat(n,"min"):a<24?"".concat(a,"h"):o<7?"".concat(o,"d"):t.toLocaleDateString("pt-BR")};return e?(0,jr.jsxs)(sp,{modal:!1,children:[(0,jr.jsx)(ip,{asChild:!0,children:(0,jr.jsxs)("button",{className:"relative p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:[(0,jr.jsx)(up,{className:"w-6 h-6"}),a>0&&(0,jr.jsx)("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-red-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:a>9?"9+":a})]})}),(0,jr.jsxs)(lp,{className:"bg-white w-80 max-h-96 overflow-y-auto",align:"end",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900",children:"Notifica\xe7\xf5es"}),a>0&&(0,jr.jsxs)("button",{onClick:async()=>{await xr.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1),r(e=>e.map(e=>(0,i.A)((0,i.A)({},e),{},{is_read:!0}))),o(0)},className:"text-xs text-red-600 hover:text-red-700 flex items-center gap-1",children:[(0,jr.jsx)(Yf,{className:"w-3 h-3"}),"Marcar todas como lidas"]})]}),s?(0,jr.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Carregando..."}):0===t.length?(0,jr.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,jr.jsx)(up,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,jr.jsx)("p",{children:"Nenhuma notifica\xe7\xe3o"})]}):(0,jr.jsx)("div",{children:t.map(e=>(0,jr.jsxs)("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-gray-50 border-b last:border-b-0 ".concat(e.is_read?"":"bg-red-50"),children:[(0,jr.jsx)(bt,{to:e.link||"#",onClick:()=>c(e.id),className:"flex-shrink-0",children:e.image_url?(0,jr.jsx)("img",{src:e.image_url,alt:"",className:"w-12 h-12 rounded object-cover hover:opacity-80 transition-opacity"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:u(e.type)})}),(0,jr.jsx)("div",{className:"flex-1 min-w-0",children:(0,jr.jsxs)(bt,{to:e.link||"#",onClick:()=>c(e.id),className:"block",children:[(0,jr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.message}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:d(e.created_at)})]})}),(0,jr.jsx)("button",{onClick:()=>(async e=>{await xr.from("notifications").delete().eq("id",e),r(t=>t.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-500",children:(0,jr.jsx)(dp,{className:"w-4 h-4"})})]},e.id))})]})]}):null},fp=()=>{var e;const{user:t,logout:r,isArtist:a}=Nr(),[o,s]=(0,n.useState)(null),i=ge(),[l,c]=(0,n.useState)(""),[u,d]=(0,n.useState)(!1),[h,f]=(0,n.useState)("down"),p=(n.useRef(null),[{name:"Forr\xf3",slug:"forro"},{name:"Arrocha",slug:"arrocha"},{name:"Piseiro",slug:"piseiro"},{name:"Arrochadeira",slug:"arrochadeira"},{name:"Pagode",slug:"pagode"},{name:"Sertanejo",slug:"sertanejo"},{name:"Brega Funk",slug:"brega-funk"},{name:"Variados",slug:"variados"},{name:"Samba",slug:"samba"},{name:"Funk",slug:"funk"},{name:"Ax\xe9",slug:"axe"},{name:"Reggae",slug:"reggae"},{name:"Brega",slug:"brega"},{name:"Gospel",slug:"gospel"},{name:"Rap/Hip-Hop",slug:"rap-hip-hop"},{name:"Pop",slug:"pop"},{name:"MPB",slug:"mpb"},{name:"Rock",slug:"rock"},{name:"Eletr\xf4nica",slug:"eletronica"},{name:"Trap",slug:"trap"},{name:"Frevo",slug:"frevo"}]),m=u?p:p.slice(0,14);(0,n.useEffect)(()=>{(async()=>{if(null!==t&&void 0!==t&&t.id&&a){const{data:e}=await xr.from("artists").select("*").eq("id",t.id).maybeSingle();if(e)s({id:e.id,slug:e.slug,name:e.name,avatar:e.avatar_url||"/images/default-avatar.png"});else{const e=Er.find(e=>e.userId===t.id||String(e.userId)===String(t.id));e&&s(e)}}})()},[null===t||void 0===t?void 0:t.id,a]);return(0,jr.jsx)("header",{className:"bg-red-600 shadow-lg sticky top-0 z-50",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between h-16 gap-6",children:[(0,jr.jsx)(bt,{to:"/",className:"flex items-center flex-shrink-0",children:(0,jr.jsx)("img",{src:"/images/Logo-escutai.png",alt:"Escuta\xed",className:"h-9"})}),(0,jr.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,jr.jsx)(bt,{to:"/",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"Lan\xe7amentos"}),(0,jr.jsx)(bt,{to:"/artists",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"Artistas"}),(0,jr.jsx)(bt,{to:"/albums",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"M\xfasicas"}),(0,jr.jsxs)(sp,{modal:!1,onOpenChange:e=>{e||d(!1)},children:[(0,jr.jsx)(ip,{className:"text-white hover:text-gray-200 font-medium transition-colors",children:"G\xeaneros \u25bc"}),(0,jr.jsxs)(lp,{className:"bg-white w-48",children:[m.map(e=>(0,jr.jsx)(cp,{className:"cursor-pointer hover:bg-red-50 hover:text-red-600 p-0",asChild:!0,children:(0,jr.jsx)(bt,{to:"/genero/".concat(e.slug),className:"w-full px-2 py-1.5 block",children:e.name})},e.slug)),!u&&p.length>14&&(0,jr.jsx)("div",{onMouseEnter:()=>d(!0),className:"w-full py-2 flex items-center justify-center text-gray-400 border-t cursor-pointer hover:text-red-600 transition-colors",children:(0,jr.jsx)(Is,{className:"w-5 h-5"})})]})]})]}),(0,jr.jsx)("form",{onSubmit:e=>{e.preventDefault(),l.trim()&&i("/search?q=".concat(l))},className:"hidden lg:flex items-center flex-1 max-w-sm",children:(0,jr.jsxs)("div",{className:"relative w-full",children:[(0,jr.jsx)(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),(0,jr.jsx)(Gs,{type:"text",placeholder:"Busque por artistas, \xe1lbuns...",value:l,onChange:e=>c(e.target.value),className:"pl-9 pr-3 py-2 bg-white border-0 text-gray-900 placeholder:text-gray-500 rounded-full shadow-sm focus:ring-2 focus:ring-white/50"})]})}),(0,jr.jsxs)("div",{className:"flex items-center space-x-4",children:[t&&(0,jr.jsx)(hp,{}),t?(0,jr.jsxs)(sp,{modal:!1,children:[(0,jr.jsx)(ip,{asChild:!0,children:(0,jr.jsxs)("button",{className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[(0,jr.jsx)("img",{src:(null===o||void 0===o?void 0:o.avatar)||(null===t||void 0===t?void 0:t.avatar)||(null===t||void 0===t||null===(e=t.user_metadata)||void 0===e?void 0:e.avatar_url)||"/images/default-avatar.png",alt:(null===o||void 0===o?void 0:o.name)||(null===t||void 0===t?void 0:t.name),className:"w-8 h-8 rounded-full object-cover"}),(0,jr.jsx)("span",{className:"text-white font-medium hidden md:block",children:t.name})]})}),(0,jr.jsx)(lp,{className:"bg-white w-56",children:a?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsxs)(cp,{onClick:()=>i("/".concat((null===o||void 0===o?void 0:o.slug)||(null===o||void 0===o?void 0:o.id)||"a1")),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Ms,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Meu Perfil"})]}),(0,jr.jsxs)(cp,{onClick:()=>i("/artist/upload"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Fs,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Novo Upload"})]}),(0,jr.jsxs)(cp,{onClick:()=>i("/artist/albums"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(zs,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Meus \xc1lbuns"})]}),(0,jr.jsxs)(cp,{onClick:()=>i("/artist/dashboard"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Us,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Estat\xedsticas"})]}),(0,jr.jsxs)(cp,{onClick:()=>i("/artist/settings"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Bs,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,jr.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,jr.jsxs)(cp,{onClick:r,className:"cursor-pointer flex items-center gap-3 py-3 text-red-600",children:[(0,jr.jsx)(qs,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Sair"})]})]}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsxs)(cp,{onClick:()=>i("/favorites"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Vs,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Favoritos"})]}),(0,jr.jsxs)(cp,{onClick:()=>i("/playlists"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Hs,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Playlists"})]}),(0,jr.jsxs)(cp,{onClick:()=>i("/premium"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Ws,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Assinar Premium"})]}),(0,jr.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,jr.jsxs)(cp,{onClick:r,className:"cursor-pointer flex items-center gap-3 py-3 text-red-600",children:[(0,jr.jsx)(qs,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Sair"})]})]})})]}):(0,jr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,jr.jsx)(si,{onClick:()=>i("/login"),variant:"outline",className:"border-white text-white hover:bg-white hover:text-red-600",children:"Entrar"}),(0,jr.jsx)(si,{onClick:()=>i("/cadastrar"),className:"bg-white text-red-600 hover:bg-gray-100",children:"Cadastrar"})]})]})]})})})},pp=to("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),mp=to("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),gp=to("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),vp=to("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),yp=()=>(0,jr.jsx)("footer",{className:"bg-black text-white py-8",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(bt,{to:"/",className:"flex items-center space-x-2 mb-3",children:(0,jr.jsx)("img",{src:"/images/Logo-rodape.png",alt:"Escuta\xed",className:"h-8"})}),(0,jr.jsx)("p",{className:"text-gray-400 text-sm",children:"Compartilhe sua m\xfasica com o mundo."})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold mb-3",children:"Explorar"}),(0,jr.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,jr.jsx)("li",{children:(0,jr.jsx)(bt,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"\xc1lbuns"})}),(0,jr.jsx)("li",{children:(0,jr.jsx)(bt,{to:"/artists",className:"text-gray-400 hover:text-white transition-colors",children:"Artistas"})})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold mb-3",children:"Para Artistas"}),(0,jr.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,jr.jsx)("li",{children:(0,jr.jsx)(bt,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Fazer Upload"})}),(0,jr.jsx)("li",{children:(0,jr.jsx)(bt,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Meu Perfil"})})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold mb-3",children:"Redes Sociais"}),(0,jr.jsxs)("div",{className:"flex space-x-3",children:[(0,jr.jsx)("a",{href:"#",className:"w-9 h-9 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors",children:(0,jr.jsx)(pp,{className:"w-4 h-4"})}),(0,jr.jsx)("a",{href:"#",className:"w-9 h-9 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors",children:(0,jr.jsx)(mp,{className:"w-4 h-4"})}),(0,jr.jsx)("a",{href:"#",className:"w-9 h-9 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors",children:(0,jr.jsx)(gp,{className:"w-4 h-4"})}),(0,jr.jsx)("a",{href:"#",className:"w-9 h-9 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors",children:(0,jr.jsx)(vp,{className:"w-4 h-4"})})]})]})]}),(0,jr.jsx)("div",{className:"border-t border-gray-800 pt-6 text-center text-gray-400 text-sm",children:(0,jr.jsx)("p",{children:"\xa9 2025 Escuta\xed. Todos os direitos reservados."})})]})}),bp=to("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xp=to("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]),wp=to("skip-back",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),jp=to("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),_p=to("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Np=to("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),kp=to("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),Sp=to("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ep=to("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Ap=to("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Cp=to("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);function Tp(e,t){let[r,n]=t;return Math.min(n,Math.max(r,e))}function Rp(e){const t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const Pp=["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"],Op=["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"],Dp=["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"],Ip=["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"],Lp=["__scopeSlider"],Mp=["__scopeSlider"],Fp=["__scopeSlider","index","name"],zp=["__scopeSlider","value"];var Up=["PageUp","PageDown"],Bp=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qp={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Vp="Slider",[Hp,Wp,Kp]=dn(Vp),[Gp,$p]=en(Vp,[Kp]),[Jp,Yp]=Gp(Vp),Qp=n.forwardRef((e,t)=>{const{name:r,min:a=0,max:o=100,step:l=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[a],value:f,onValueChange:p=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:v}=e,y=s(e,Pp),b=n.useRef(new Set),x=n.useRef(0),w="horizontal"===c?em:tm,[j=[],_]=Vn({prop:f,defaultProp:h,onChange:e=>{var t;null===(t=[...b.current][x.current])||void 0===t||t.focus(),p(e)}}),N=n.useRef(j);function k(e,t){let{commit:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1};const n=function(e){return(String(e).split(".")[1]||"").length}(l),s=function(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-a)/l)*l+a,n),i=Tp(s,[a,o]);_(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;const n=[...e];return n[r]=t,n.sort((e,t)=>e-t)}(e,i,t);if(function(e,t){if(t>0){const r=function(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}(e);return Math.min(...r)>=t}return!0}(n,d*l)){x.current=n.indexOf(i);const t=String(n)!==String(e);return t&&r&&m(n),t?n:e}return e})}return(0,jr.jsx)(Jp,{scope:e.__scopeSlider,name:r,disabled:u,min:a,max:o,valueIndexToChangeRef:x,thumbs:b.current,values:j,orientation:c,form:v,children:(0,jr.jsx)(Hp.Provider,{scope:e.__scopeSlider,children:(0,jr.jsx)(Hp.Slot,{scope:e.__scopeSlider,children:(0,jr.jsx)(w,(0,i.A)((0,i.A)({"aria-disabled":u,"data-disabled":u?"":void 0},y),{},{ref:t,onPointerDown:Hr(y.onPointerDown,()=>{u||(N.current=j)}),min:a,max:o,inverted:g,onSlideStart:u?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const r=e.map(e=>Math.abs(e-t)),n=Math.min(...r);return r.indexOf(n)}(j,e);k(e,t)},onSlideMove:u?void 0:function(e){k(e,x.current)},onSlideEnd:u?void 0:function(){const e=N.current[x.current];j[x.current]!==e&&m(j)},onHomeKeyDown:()=>!u&&k(a,0,{commit:!0}),onEndKeyDown:()=>!u&&k(o,j.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:r}=e;if(!u){const e=Up.includes(t.key)||t.shiftKey&&Bp.includes(t.key)?10:1,n=x.current;k(j[n]+l*e*r,n,{commit:!0})}}}))})})})});Qp.displayName=Vp;var[Xp,Zp]=Gp(Vp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),em=n.forwardRef((e,t)=>{const{min:r,max:a,dir:o,inverted:l,onSlideStart:c,onSlideMove:u,onSlideEnd:d,onStepKeyDown:h}=e,f=s(e,Op),[p,m]=n.useState(null),g=Gr(t,e=>m(e)),v=n.useRef(void 0),y=li(o),b="ltr"===y,x=b&&!l||!b&&l;function w(e){const t=v.current||p.getBoundingClientRect(),n=hm([0,t.width],x?[r,a]:[a,r]);return v.current=t,n(e-t.left)}return(0,jr.jsx)(Xp,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:(0,jr.jsx)(rm,(0,i.A)((0,i.A)({dir:y,"data-orientation":"horizontal"},f),{},{ref:g,style:(0,i.A)((0,i.A)({},f.style),{},{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:e=>{const t=w(e.clientX);null===c||void 0===c||c(t)},onSlideMove:e=>{const t=w(e.clientX);null===u||void 0===u||u(t)},onSlideEnd:()=>{v.current=void 0,null===d||void 0===d||d()},onStepKeyDown:e=>{const t=qp[x?"from-left":"from-right"].includes(e.key);null===h||void 0===h||h({event:e,direction:t?-1:1})}}))})}),tm=n.forwardRef((e,t)=>{const{min:r,max:a,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:d}=e,h=s(e,Dp),f=n.useRef(null),p=Gr(t,f),m=n.useRef(void 0),g=!o;function v(e){const t=m.current||f.current.getBoundingClientRect(),n=hm([0,t.height],g?[a,r]:[r,a]);return m.current=t,n(e-t.top)}return(0,jr.jsx)(Xp,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:(0,jr.jsx)(rm,(0,i.A)((0,i.A)({"data-orientation":"vertical"},h),{},{ref:p,style:(0,i.A)((0,i.A)({},h.style),{},{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:e=>{const t=v(e.clientY);null===l||void 0===l||l(t)},onSlideMove:e=>{const t=v(e.clientY);null===c||void 0===c||c(t)},onSlideEnd:()=>{m.current=void 0,null===u||void 0===u||u()},onStepKeyDown:e=>{const t=qp[g?"from-bottom":"from-top"].includes(e.key);null===d||void 0===d||d({event:e,direction:t?-1:1})}}))})}),rm=n.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u}=e,d=s(e,Ip),h=Yp(Vp,r);return(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({},d),{},{ref:t,onKeyDown:Hr(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(c(e),e.preventDefault()):Up.concat(Bp).includes(e.key)&&(u(e),e.preventDefault())}),onPointerDown:Hr(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():n(e)}),onPointerMove:Hr(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:Hr(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))})}))}),nm="SliderTrack",am=n.forwardRef((e,t)=>{const{__scopeSlider:r}=e,n=s(e,Lp),a=Yp(nm,r);return(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},n),{},{ref:t}))});am.displayName=nm;var om="SliderRange",sm=n.forwardRef((e,t)=>{const{__scopeSlider:r}=e,a=s(e,Mp),o=Yp(om,r),l=Zp(om,r),c=Gr(t,n.useRef(null)),u=o.values.length,d=o.values.map(e=>dm(e,o.min,o.max)),h=u>1?Math.min(...d):0,f=100-Math.max(...d);return(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0},a),{},{ref:c,style:(0,i.A)((0,i.A)({},e.style),{},{[l.startEdge]:h+"%",[l.endEdge]:f+"%"})}))});sm.displayName=om;var im="SliderThumb",lm=n.forwardRef((e,t)=>{const r=Wp(e.__scopeSlider),[a,o]=n.useState(null),s=Gr(t,e=>o(e)),l=n.useMemo(()=>a?r().findIndex(e=>e.ref.current===a):-1,[r,a]);return(0,jr.jsx)(cm,(0,i.A)((0,i.A)({},e),{},{ref:s,index:l}))}),cm=n.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:o}=e,l=s(e,Fp),c=Yp(im,r),u=Zp(im,r),[d,h]=n.useState(null),f=Gr(t,e=>h(e)),p=!d||(c.form||!!d.closest("form")),m=wc(d),g=c.values[a],v=void 0===g?0:dm(g,c.min,c.max),y=function(e,t){return t>2?"Value ".concat(e+1," of ").concat(t):2===t?["Minimum","Maximum"][e]:void 0}(a,c.values.length),b=null===m||void 0===m?void 0:m[u.size],x=b?function(e,t,r){const n=e/2,a=hm([0,50],[0,n]);return(n-a(t)*r)*r}(b,v,u.direction):0;return n.useEffect(()=>{if(d)return c.thumbs.add(d),()=>{c.thumbs.delete(d)}},[d,c.thumbs]),(0,jr.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:"calc(".concat(v,"% + ").concat(x,"px)")},children:[(0,jr.jsx)(Hp.ItemSlot,{scope:e.__scopeSlider,children:(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":c.min,"aria-valuenow":g,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0},l),{},{ref:f,style:void 0===g?{display:"none"}:e.style,onFocus:Hr(e.onFocus,()=>{c.valueIndexToChangeRef.current=a})}))}),p&&(0,jr.jsx)(um,{name:null!==o&&void 0!==o?o:c.name?c.name+(c.values.length>1?"[]":""):void 0,form:c.form,value:g},a)]})});lm.displayName=im;var um=n.forwardRef((e,t)=>{let{__scopeSlider:r,value:a}=e,o=s(e,zp);const l=n.useRef(null),c=Gr(l,t),u=Rp(a);return n.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(u!==a&&r){const t=new Event("input",{bubbles:!0});r.call(e,a),e.dispatchEvent(t)}},[u,a]),(0,jr.jsx)(jn.input,(0,i.A)((0,i.A)({style:{display:"none"}},o),{},{ref:c,defaultValue:a}))});function dm(e,t,r){return Tp(100/(r-t)*(e-t),[0,100])}function hm(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}um.displayName="RadioBubbleInput";var fm=Qp,pm=am,mm=sm,gm=lm;const vm=["className"],ym=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,vm);return(0,jr.jsxs)(fm,(0,i.A)((0,i.A)({ref:t,className:bs("relative flex w-full touch-none select-none items-center",r)},n),{},{children:[(0,jr.jsx)(pm,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,jr.jsx)(mm,{className:"absolute h-full bg-primary"})}),(0,jr.jsx)(gm,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}))});ym.displayName=fm.displayName;const bm=()=>{const{currentSong:e,isPlaying:t,currentTime:r,duration:a,volume:o,isShuffle:s,repeatMode:i,togglePlay:l,handleNext:c,handlePrevious:u,seekTo:d,setVolume:h,toggleShuffle:f,toggleRepeat:p,queue:m,clearQueue:g,playSong:v}=Or(),{isPremium:y}=Nr(),[b,x]=(0,n.useState)(!1),[w,j]=(0,n.useState)(!1),[_,N]=(0,n.useState)(!1);if(!e)return null;return(0,jr.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 shadow-2xl transition-all ".concat(b?"h-auto":""),children:[(0,jr.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 border-t border-white/20 px-4 py-2",children:(0,jr.jsx)("div",{className:"max-w-screen-2xl mx-auto",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 w-72 cursor-pointer group",onClick:()=>x(!b),children:[(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-11 h-11 rounded object-cover shadow-lg"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:b?(0,jr.jsx)(Is,{className:"w-5 h-5 text-white"}):(0,jr.jsx)(bp,{className:"w-5 h-5 text-white"})})]}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-white font-bold text-sm truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-white/80 text-xs truncate",children:e.artistName})]}),(0,jr.jsx)(si,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),N(!_),qr({title:_?"Removido dos favoritos":"Adicionado aos favoritos",description:e.title})},className:"hover:bg-white/20 h-8 w-8",children:(0,jr.jsx)(Vs,{className:"w-4 h-4 ".concat(_?"fill-white text-white":"text-white")})})]}),(0,jr.jsxs)("div",{className:"flex-1 max-w-2xl",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-1",children:[(0,jr.jsx)(si,{variant:"ghost",size:"icon",onClick:f,className:"hover:bg-white/20 h-8 w-8 ".concat(s?"text-white":"text-white/60"),children:(0,jr.jsx)(xp,{className:"w-3.5 h-3.5"})}),(0,jr.jsx)(si,{variant:"ghost",size:"icon",onClick:u,className:"text-white hover:bg-white/20 h-8 w-8",children:(0,jr.jsx)(wp,{className:"w-4 h-4"})}),(0,jr.jsx)(si,{onClick:l,className:"w-10 h-10 rounded-full bg-white hover:bg-gray-100 text-red-600 shadow-lg",children:t?(0,jr.jsx)(jp,{className:"w-5 h-5",fill:"currentColor"}):(0,jr.jsx)(_p,{className:"w-5 h-5 ml-0.5",fill:"currentColor"})}),(0,jr.jsx)(si,{variant:"ghost",size:"icon",onClick:c,className:"text-white hover:bg-white/20 h-8 w-8",children:(0,jr.jsx)(Np,{className:"w-4 h-4"})}),(0,jr.jsxs)(si,{variant:"ghost",size:"icon",onClick:p,className:"hover:bg-white/20 h-8 w-8 ".concat("off"!==i?"text-white":"text-white/60"),children:[(0,jr.jsx)(kp,{className:"w-3.5 h-3.5"}),"one"===i&&(0,jr.jsx)("span",{className:"absolute text-xs font-bold",children:"1"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)("span",{className:"text-xs text-white font-medium w-10 text-right",children:Tr(Math.floor(r))}),(0,jr.jsx)(ym,{value:[r],max:a||100,step:.1,onValueChange:e=>d(e[0]),className:"flex-1"}),(0,jr.jsx)("span",{className:"text-xs text-white font-medium w-10",children:Tr(Math.floor(a))})]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 w-72 justify-end",children:[(0,jr.jsxs)(si,{variant:"ghost",onClick:async()=>{if(null!==e&&void 0!==e&&e.audioUrl){qr({title:"Download Iniciado",description:"Baixando ".concat(e.title,"...")});try{const t=await fetch(e.audioUrl),r=await t.blob(),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(e.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(t){console.error("Download error:",t),qr({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else qr({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})},className:"text-white hover:bg-white/20 border border-white/30 px-3 h-8 text-xs",children:[(0,jr.jsx)(Sp,{className:"w-3.5 h-3.5 mr-1.5"}),"BAIXAR"]}),(0,jr.jsx)(si,{variant:"ghost",size:"icon",onClick:()=>x(!b),className:"text-white hover:bg-white/20 h-8 w-8 ".concat(b?"bg-white/20":""),children:(0,jr.jsx)(Ep,{className:"w-4 h-4"})}),(0,jr.jsx)(si,{variant:"ghost",size:"icon",onClick:()=>{w?(h(.7),j(!1)):(h(0),j(!0))},className:"text-white hover:bg-white/20 h-8 w-8",children:w||0===o?(0,jr.jsx)(Ap,{className:"w-4 h-4"}):(0,jr.jsx)(Cp,{className:"w-4 h-4"})}),(0,jr.jsx)(ym,{value:[o],max:1,step:.01,onValueChange:e=>{h(e[0]),j(0===e[0])},className:"w-20"})]})]})})}),b&&(0,jr.jsx)("div",{className:"bg-zinc-900 border-t border-zinc-800",children:(0,jr.jsxs)("div",{className:"max-w-screen-2xl mx-auto",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b border-zinc-800",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-white font-semibold text-sm",children:"Fila de Reprodu\xe7\xe3o"}),(0,jr.jsxs)("p",{className:"text-gray-400 text-xs",children:[m.length," m\xfasicas"]})]}),(0,jr.jsxs)(si,{variant:"ghost",size:"sm",onClick:()=>{g(),x(!1),qr({title:"Fila limpa",description:"Todas as m\xfasicas foram removidas da fila"})},className:"text-gray-400 hover:text-white hover:bg-zinc-800 h-8 px-3",children:[(0,jr.jsx)(dp,{className:"w-4 h-4 mr-2"}),"Limpar fila"]})]}),(0,jr.jsx)("div",{className:"overflow-x-auto overflow-y-hidden px-4 py-3",children:(0,jr.jsx)("div",{className:"flex gap-3",children:m.map((t,r)=>(0,jr.jsxs)("div",{onClick:()=>(e=>{v(e,m)})(t),className:"flex-shrink-0 flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-all min-w-[220px] ".concat(e.id===t.id?"bg-red-600/30 ring-1 ring-red-500":"hover:bg-zinc-800"),children:[(0,jr.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-14 h-14 object-cover rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-white text-sm font-medium truncate",children:t.title}),(0,jr.jsx)("p",{className:"text-gray-400 text-xs truncate",children:t.artistName})]})]},t.id))})})]})})]})},xm=["asChild"];var wm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const r=Zs("Primitive.".concat(t)),a=n.forwardRef((e,n)=>{const{asChild:a}=e,o=s(e,xm),l=a?r:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,jr.jsx)(l,(0,i.A)((0,i.A)({},o),{},{ref:n}))});return a.displayName="Primitive.".concat(t),(0,i.A)((0,i.A)({},e),{},{[t]:a})},{});var jm=n.forwardRef((e,t)=>(0,jr.jsx)(wm.label,(0,i.A)((0,i.A)({},e),{},{ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));jm.displayName="Label";var _m=jm;const Nm=["className"],km=$a("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Sm=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Nm);return(0,jr.jsx)(_m,(0,i.A)({ref:t,className:bs(km(),r)},n))});Sm.displayName=_m.displayName;const Em=["className"],Am=["className"],Cm=["className"],Tm=["className"],Rm=["className"],Pm=["className"],Om=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Em);return(0,jr.jsx)("div",(0,i.A)({ref:t,className:bs("rounded-xl border bg-card text-card-foreground shadow",r)},n))});Om.displayName="Card";const Dm=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Am);return(0,jr.jsx)("div",(0,i.A)({ref:t,className:bs("flex flex-col space-y-1.5 p-6",r)},n))});Dm.displayName="CardHeader";const Im=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Cm);return(0,jr.jsx)("div",(0,i.A)({ref:t,className:bs("font-semibold leading-none tracking-tight",r)},n))});Im.displayName="CardTitle";const Lm=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Tm);return(0,jr.jsx)("div",(0,i.A)({ref:t,className:bs("text-sm text-muted-foreground",r)},n))});Lm.displayName="CardDescription";const Mm=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Rm);return(0,jr.jsx)("div",(0,i.A)({ref:t,className:bs("p-6 pt-0",r)},n))});Mm.displayName="CardContent";n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,Pm);return(0,jr.jsx)("div",(0,i.A)({ref:t,className:bs("flex items-center p-6 pt-0",r)},n))}).displayName="CardFooter";const Fm=to("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),zm=()=>{const[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)(""),[o,s]=(0,n.useState)(!1),{login:i,loginWithGoogle:l}=Nr(),c=ge();return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,jr.jsxs)("div",{className:"w-full max-w-md",children:[(0,jr.jsxs)("div",{className:"text-center mb-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,jr.jsx)(Ws,{className:"w-12 h-12 text-red-600"}),(0,jr.jsx)("h1",{className:"text-4xl font-bold text-black",children:"RedMusic"})]}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Milhares de m\xfasicas ao seu alcance"})]}),(0,jr.jsxs)(Om,{className:"bg-white border-gray-200 shadow-lg",children:[(0,jr.jsxs)(Dm,{children:[(0,jr.jsx)(Im,{className:"text-black",children:"Entrar"}),(0,jr.jsx)(Lm,{className:"text-gray-600",children:"Acesse sua conta para continuar"})]}),(0,jr.jsxs)(Mm,{children:[(0,jr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&r){s(!0);try{var n;const t=await i(e,r);if(t.error)return qr({title:"Erro",description:t.error.message||"Conta n\xe3o encontrada ou senha incorreta",variant:"destructive"}),void s(!1);qr({title:"Login realizado!",description:"Bem-vindo de volta!"}),"artist"===(null===(n=t.data)||void 0===n?void 0:n.type)||t.isArtist?c("/artist/settings"):c("/")}catch(a){qr({title:"Erro",description:"Ocorreu um erro ao fazer login",variant:"destructive"})}s(!1)}else qr({title:"Erro",description:"Por favor, insira seu email e senha",variant:"destructive"})},className:"space-y-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"email",className:"text-black",children:"E-mail"}),(0,jr.jsx)(Gs,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:e=>t(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"password",className:"text-black",children:"Senha"}),(0,jr.jsx)(Gs,{id:"password",type:"password",placeholder:"Sua senha",value:r,onChange:e=>a(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)(si,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:o,children:[(0,jr.jsx)(Fm,{className:"w-4 h-4 mr-2"}),o?"Entrando...":"Entrar"]})]}),(0,jr.jsxs)("div",{className:"relative my-6",children:[(0,jr.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,jr.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,jr.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,jr.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Ou"})})]}),(0,jr.jsxs)(si,{type:"button",onClick:async()=>{try{const e=await l();e.error&&qr({title:"Erro",description:e.error.message||"Erro ao fazer login com Google",variant:"destructive"})}catch(e){qr({title:"Erro",description:"Ocorreu um erro ao fazer login com Google",variant:"destructive"})}},className:"w-full bg-white hover:bg-gray-100 text-black border border-gray-300",children:[(0,jr.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,jr.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,jr.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,jr.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,jr.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Fazer Login com o Google"]}),(0,jr.jsxs)("p",{className:"text-center text-gray-600 text-sm mt-6",children:["N\xe3o tem uma conta?"," ",(0,jr.jsx)(bt,{to:"/cadastrar",className:"text-red-600 underline",children:"Cadastre-se"})]})]})]})]})})},Um=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],Bm=["__scopeTabs","loop"],qm=["__scopeTabs","value","disabled"],Vm=["__scopeTabs","value","forceMount","children"];var Hm="Tabs",[Wm,Km]=en(Hm,[ru]),Gm=ru(),[$m,Jm]=Wm(Hm),Ym=n.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:u="automatic"}=e,d=s(e,Um),h=li(c),[f,p]=Vn({prop:n,onChange:a,defaultProp:null!==o&&void 0!==o?o:"",caller:Hm});return(0,jr.jsx)($m,{scope:r,baseId:ki(),value:f,onValueChange:p,orientation:l,dir:h,activationMode:u,children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({dir:h,"data-orientation":l},d),{},{ref:t}))})});Ym.displayName=Hm;var Qm="TabsList",Xm=n.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0}=e,a=s(e,Bm),o=Jm(Qm,r),l=Gm(r);return(0,jr.jsx)(du,(0,i.A)((0,i.A)({asChild:!0},l),{},{orientation:o.orientation,dir:o.dir,loop:n,children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({role:"tablist","aria-orientation":o.orientation},a),{},{ref:t}))}))});Xm.displayName=Qm;var Zm="TabsTrigger",eg=n.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1}=e,o=s(e,qm),l=Jm(Zm,r),c=Gm(r),u=ng(l.baseId,n),d=ag(l.baseId,n),h=n===l.value;return(0,jr.jsx)(hu,(0,i.A)((0,i.A)({asChild:!0},c),{},{focusable:!a,active:h,children:(0,jr.jsx)(jn.button,(0,i.A)((0,i.A)({type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:u},o),{},{ref:t,onMouseDown:Hr(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(n)}),onKeyDown:Hr(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(n)}),onFocus:Hr(e.onFocus,()=>{const e="manual"!==l.activationMode;h||a||!e||l.onValueChange(n)})}))}))});eg.displayName=Zm;var tg="TabsContent",rg=n.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:o,children:l}=e,c=s(e,Vm),u=Jm(tg,r),d=ng(u.baseId,a),h=ag(u.baseId,a),f=a===u.value,p=n.useRef(f);return n.useEffect(()=>{const e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,jr.jsx)(Un,{present:o||f,children:r=>{let{present:n}=r;return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!n,id:h,tabIndex:0},c),{},{ref:t,style:(0,i.A)((0,i.A)({},e.style),{},{animationDuration:p.current?"0s":void 0}),children:n&&l}))}})});function ng(e,t){return"".concat(e,"-trigger-").concat(t)}function ag(e,t){return"".concat(e,"-content-").concat(t)}rg.displayName=tg;var og=Xm,sg=eg,ig=rg;const lg=["className"],cg=["className"],ug=["className"],dg=Ym,hg=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,lg);return(0,jr.jsx)(og,(0,i.A)({ref:t,className:bs("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r)},n))});hg.displayName=og.displayName;const fg=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,cg);return(0,jr.jsx)(sg,(0,i.A)({ref:t,className:bs("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r)},n))});fg.displayName=sg.displayName;const pg=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,ug);return(0,jr.jsx)(ig,(0,i.A)({ref:t,className:bs("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r)},n))});pg.displayName=ig.displayName;const mg=["children"],gg=["children"];function vg(e){const t=yg(e),r=n.forwardRef((e,r)=>{const{children:a}=e,o=s(e,mg),l=n.Children.toArray(a),c=l.find(xg);if(c){const e=c.props.children,a=l.map(t=>t===c?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t);return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}function yg(e){const t=n.forwardRef((e,t)=>{const{children:r}=e,a=s(e,gg);if(n.isValidElement(r)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),o=function(e,t){const r=(0,i.A)({},t);for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=function(){const e=o(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,i.A)((0,i.A)({},a),o):"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return(0,i.A)((0,i.A)({},e),r)}(a,r.props);return r.type!==n.Fragment&&(o.ref=t?Kr(t,e):e),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var bg=Symbol("radix.slottable");function xg(e){return n.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===bg}const wg=["__scopeDialog"],jg=["forceMount"],_g=["__scopeDialog"],Ng=["forceMount"],kg=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],Sg=["__scopeDialog"],Eg=["__scopeDialog"],Ag=["__scopeDialog"];var Cg="Dialog",[Tg,Rg]=en(Cg),[Pg,Og]=Tg(Cg),Dg=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,l=n.useRef(null),c=n.useRef(null),[u,d]=Vn({prop:a,defaultProp:null!==o&&void 0!==o&&o,onChange:s,caller:Cg});return(0,jr.jsx)(Pg,{scope:t,triggerRef:l,contentRef:c,contentId:ki(),titleId:ki(),descriptionId:ki(),open:u,onOpenChange:d,onOpenToggle:n.useCallback(()=>d(e=>!e),[d]),modal:i,children:r})};Dg.displayName=Cg;var Ig="DialogTrigger",Lg=n.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=s(e,wg),a=Og(Ig,r),o=Gr(t,a.triggerRef);return(0,jr.jsx)(jn.button,(0,i.A)((0,i.A)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rv(a.open)},n),{},{ref:o,onClick:Hr(e.onClick,a.onOpenToggle)}))});Lg.displayName=Ig;var Mg="DialogPortal",[Fg,zg]=Tg(Mg,{forceMount:void 0}),Ug=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:o}=e,s=Og(Mg,t);return(0,jr.jsx)(Fg,{scope:t,forceMount:r,children:n.Children.map(a,e=>(0,jr.jsx)(Un,{present:r||s.open,children:(0,jr.jsx)(zn,{asChild:!0,container:o,children:e})}))})};Ug.displayName=Mg;var Bg="DialogOverlay",qg=n.forwardRef((e,t)=>{const r=zg(Bg,e.__scopeDialog),{forceMount:n=r.forceMount}=e,a=s(e,jg),o=Og(Bg,e.__scopeDialog);return o.modal?(0,jr.jsx)(Un,{present:n||o.open,children:(0,jr.jsx)(Hg,(0,i.A)((0,i.A)({},a),{},{ref:t}))}):null});qg.displayName=Bg;var Vg=vg("DialogOverlay.RemoveScroll"),Hg=n.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=s(e,_g),a=Og(Bg,r);return(0,jr.jsx)(md,{as:Vg,allowPinchZoom:!0,shards:[a.contentRef],children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({"data-state":rv(a.open)},n),{},{ref:t,style:(0,i.A)({pointerEvents:"auto"},n.style)}))})}),Wg="DialogContent",Kg=n.forwardRef((e,t)=>{const r=zg(Wg,e.__scopeDialog),{forceMount:n=r.forceMount}=e,a=s(e,Ng),o=Og(Wg,e.__scopeDialog);return(0,jr.jsx)(Un,{present:n||o.open,children:o.modal?(0,jr.jsx)(Gg,(0,i.A)((0,i.A)({},a),{},{ref:t})):(0,jr.jsx)($g,(0,i.A)((0,i.A)({},a),{},{ref:t}))})});Kg.displayName=Wg;var Gg=n.forwardRef((e,t)=>{const r=Og(Wg,e.__scopeDialog),a=n.useRef(null),o=Gr(t,r.contentRef,a);return n.useEffect(()=>{const e=a.current;if(e)return Su(e)},[]),(0,jr.jsx)(Jg,(0,i.A)((0,i.A)({},e),{},{ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Hr(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:Hr(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:Hr(e.onFocusOutside,e=>e.preventDefault())}))}),$g=n.forwardRef((e,t)=>{const r=Og(Wg,e.__scopeDialog),a=n.useRef(!1),o=n.useRef(!1);return(0,jr.jsx)(Jg,(0,i.A)((0,i.A)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,s;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(a.current||null===(s=r.triggerRef.current)||void 0===s||s.focus(),t.preventDefault());a.current=!1,o.current=!1},onInteractOutside:t=>{var n,s;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));const i=t.target;(null===(s=r.triggerRef.current)||void 0===s?void 0:s.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))}),Jg=n.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l}=e,c=s(e,kg),u=Og(Wg,r),d=n.useRef(null),h=Gr(t,d);return ui(),(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(gi,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:l,children:(0,jr.jsx)(Rn,(0,i.A)((0,i.A)({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":rv(u.open)},c),{},{ref:h,onDismiss:()=>u.onOpenChange(!1)}))}),(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(sv,{titleId:u.titleId}),(0,jr.jsx)(iv,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Yg="DialogTitle",Qg=n.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=s(e,Sg),a=Og(Yg,r);return(0,jr.jsx)(jn.h2,(0,i.A)((0,i.A)({id:a.titleId},n),{},{ref:t}))});Qg.displayName=Yg;var Xg="DialogDescription",Zg=n.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=s(e,Eg),a=Og(Xg,r);return(0,jr.jsx)(jn.p,(0,i.A)((0,i.A)({id:a.descriptionId},n),{},{ref:t}))});Zg.displayName=Xg;var ev="DialogClose",tv=n.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=s(e,Ag),a=Og(ev,r);return(0,jr.jsx)(jn.button,(0,i.A)((0,i.A)({type:"button"},n),{},{ref:t,onClick:Hr(e.onClick,()=>a.onOpenChange(!1))}))});function rv(e){return e?"open":"closed"}tv.displayName=ev;var nv="DialogTitleWarning",[av,ov]=function(e,t){const r=n.createContext(t),a=e=>{const{children:t}=e,a=s(e,Xr),o=n.useMemo(()=>a,Object.values(a));return(0,jr.jsx)(r.Provider,{value:o,children:t})};return a.displayName=e+"Provider",[a,function(a){const o=n.useContext(r);if(o)return o;if(void 0!==t)return t;throw new Error("`".concat(a,"` must be used within `").concat(e,"`"))}]}(nv,{contentName:Wg,titleName:Yg,docsSlug:"dialog"}),sv=e=>{let{titleId:t}=e;const r=ov(nv),a="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return n.useEffect(()=>{if(t){document.getElementById(t)||console.error(a)}},[a,t]),null},iv=e=>{let{contentRef:t,descriptionId:r}=e;const a=ov("DialogDescriptionWarning"),o="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return n.useEffect(()=>{var e;const n=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(r&&n){document.getElementById(r)||console.warn(o)}},[o,t,r]),null},lv=Dg,cv=Lg,uv=Ug,dv=qg,hv=Kg,fv=Qg,pv=Zg,mv=tv;const gv=["className"],vv=["className","children"],yv=["className"],bv=["className"],xv=["className"],wv=["className"],jv=lv,_v=uv,Nv=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,gv);return(0,jr.jsx)(dv,(0,i.A)({ref:t,className:bs("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n))});Nv.displayName=dv.displayName;const kv=n.forwardRef((e,t)=>{let{className:r,children:n}=e,a=s(e,vv);return(0,jr.jsxs)(_v,{children:[(0,jr.jsx)(Nv,{}),(0,jr.jsxs)(hv,(0,i.A)((0,i.A)({ref:t,className:bs("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},a),{},{children:[n,(0,jr.jsxs)(mv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,jr.jsx)(ro,{className:"h-4 w-4"}),(0,jr.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});kv.displayName=hv.displayName;const Sv=e=>{let{className:t}=e,r=s(e,yv);return(0,jr.jsx)("div",(0,i.A)({className:bs("flex flex-col space-y-1.5 text-center sm:text-left",t)},r))};Sv.displayName="DialogHeader";const Ev=e=>{let{className:t}=e,r=s(e,bv);return(0,jr.jsx)("div",(0,i.A)({className:bs("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},r))};Ev.displayName="DialogFooter";const Av=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,xv);return(0,jr.jsx)(fv,(0,i.A)({ref:t,className:bs("text-lg font-semibold leading-none tracking-tight",r)},n))});Av.displayName=fv.displayName;const Cv=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,wv);return(0,jr.jsx)(pv,(0,i.A)({ref:t,className:bs("text-sm text-muted-foreground",r)},n))});Cv.displayName=pv.displayName;const Tv=()=>{const[e,t]=(0,n.useState)("user"),r=ge(),{loginWithGoogle:a}=Nr(),[o,s]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[f,p]=(0,n.useState)(""),[m,g]=(0,n.useState)(""),[v,y]=(0,n.useState)(!1),[b,x]=(0,n.useState)(""),[w,j]=(0,n.useState)(""),[_,N]=(0,n.useState)(""),[k,S]=(0,n.useState)(""),[E,A]=(0,n.useState)(""),[C,T]=(0,n.useState)(""),[R,P]=(0,n.useState)(""),[O,D]=(0,n.useState)(""),[I,L]=(0,n.useState)(""),[M,F]=(0,n.useState)(!1),z=e=>e?e.toString().normalize("NFKD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u0898-\u089F\u08C9-\u08D2\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C3C\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u1714\u1715\u1734\u17C9-\u17D3\u17DD\u1939-\u193B\u1A60\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABE\u1AC1-\u1ACB\u1ACF-\u1ADD\u1AE0-\u1AEB\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1BE6\u1BF2\u1BF3\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1D9B-\u1DBE\u1DC4-\u1DCF\u1DF5-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F1\uA7F8\uA7F9\uA806\uA82C\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDD4E\uDD69-\uDD6D\uDEFA\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC46\uDC70\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3B\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74\uDFCE-\uDFD0\uDFD2\uDFD3\uDFE1\uDFE2]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97\uDDD9\uDF41\uDF42\uDF5A]|\uD80D[\uDC47-\uDC55]|\uD818\uDD2F|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDD6B\uDD6C\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDC30-\uDC6D\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/[\s_-]+/g,"").replace(/^-+|-+$/g,""):"",[U,B]=(0,n.useState)(!1),[q,V]=(0,n.useState)(!1),[H,W]=(0,n.useState)("user"),K=e=>{W(e),B(!0)};return(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,jr.jsxs)("div",{className:"w-full max-w-md",children:[(0,jr.jsxs)("div",{className:"text-center mb-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,jr.jsx)(Ws,{className:"w-12 h-12 text-red-600"}),(0,jr.jsx)("h1",{className:"text-4xl font-bold text-black",children:"RedMusic"})]}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Milhares de m\xfasicas ao seu alcance"})]}),(0,jr.jsxs)(Om,{className:"bg-white border-gray-200 shadow-lg",children:[(0,jr.jsxs)(Dm,{children:[(0,jr.jsx)(Im,{className:"text-black",children:"Cadastrar"}),(0,jr.jsx)(Lm,{className:"text-gray-600",children:"Crie sua conta para acessar a plataforma"})]}),(0,jr.jsxs)(Mm,{children:[(0,jr.jsxs)(dg,{value:e,onValueChange:t,className:"w-full",children:[(0,jr.jsxs)(hg,{className:"grid w-full grid-cols-2 bg-gray-100",children:[(0,jr.jsx)(fg,{value:"user",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white",children:"Usu\xe1rio"}),(0,jr.jsx)(fg,{value:"artist",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white",children:"Artista"})]}),(0,jr.jsx)(pg,{value:"user",className:"space-y-4 mt-4",children:(0,jr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v)try{const{data:e,error:t}=await xr.auth.signUp({email:i,password:c,options:{data:{full_name:o,user_type:"user",cidade:d,estado:f,genero:m}}});if(t)return void qr({title:"Erro no cadastro",description:t.message,variant:"destructive"});V(!0)}catch(t){console.error("Erro no cadastro:",t),qr({title:"Erro no cadastro",description:(null===t||void 0===t?void 0:t.message)||"Ocorreu um erro inesperado.",variant:"destructive"})}else qr({title:"Voc\xea precisa aceitar os termos de uso para se cadastrar.",variant:"destructive"})},className:"space-y-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"userName",className:"text-black",children:"Nome"}),(0,jr.jsx)(Gs,{id:"userName",type:"text",placeholder:"Seu nome",value:o,onChange:e=>s(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"userEmail",className:"text-black",children:"E-mail"}),(0,jr.jsx)(Gs,{id:"userEmail",type:"email",placeholder:"seu@email.com",value:i,onChange:e=>l(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"userPassword",className:"text-black",children:"Senha"}),(0,jr.jsx)(Gs,{id:"userPassword",type:"password",placeholder:"Sua senha",value:c,onChange:e=>u(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"userCidade",className:"text-black",children:"Cidade"}),(0,jr.jsx)(Gs,{id:"userCidade",type:"text",placeholder:"Sua cidade",value:d,onChange:e=>h(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"userEstado",className:"text-black",children:"Estado"}),(0,jr.jsx)(Gs,{id:"userEstado",type:"text",placeholder:"Seu estado",value:f,onChange:e=>p(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"userGenero",className:"text-black",children:"G\xeanero"}),(0,jr.jsxs)("select",{id:"userGenero",value:m,onChange:e=>g(e.target.value),className:"w-full bg-white border border-gray-300 rounded px-3 py-2 text-black",required:!0,children:[(0,jr.jsx)("option",{value:"",children:"Selecione"}),(0,jr.jsx)("option",{value:"masculino",children:"Masculino"}),(0,jr.jsx)("option",{value:"feminino",children:"Feminino"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,jr.jsx)("input",{type:"checkbox",id:"userAcceptTerms",checked:v,readOnly:!0,required:!0}),(0,jr.jsxs)("label",{htmlFor:"userAcceptTerms",className:"text-black",children:["Li e aceito os"," ",(0,jr.jsx)("span",{className:"text-red-600 underline cursor-pointer",onClick:()=>K("user"),children:"termos de uso"})]})]}),(0,jr.jsx)(si,{className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded shadow",type:"submit",children:"Cadastrar"})]})}),(0,jr.jsx)(pg,{value:"artist",className:"space-y-4 mt-4",children:(0,jr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!M)return void qr({title:"Voc\xea precisa aceitar os termos de uso para se cadastrar.",variant:"destructive"});if(!w)return void qr({title:"Erro",description:"O nome do artista \xe9 obrigat\xf3rio.",variant:"destructive"});const t=await(async e=>{if(!e)return!1;const{data:t,error:r}=await xr.from("artists").select("id").eq("slug",e).single();return!t})(w);if(!t)return N("Este nome j\xe1 est\xe1 em uso. Escolha outro nome."),void qr({title:"Nome indispon\xedvel",description:"Este nome de artista j\xe1 est\xe1 em uso. Por favor, escolha outro.",variant:"destructive"});try{var r;const{data:e,error:t}=await xr.auth.signUp({email:k,password:E,options:{data:{full_name:b,user_type:"artist",slug:w,cidade:C,estado:R,genero:O,estilo_musical:I}}});if(t)return void qr({title:"Erro no cadastro",description:t.message,variant:"destructive"});if(null!==e&&void 0!==e&&null!==(r=e.user)&&void 0!==r&&r.id){const{error:t}=await xr.from("artists").insert({id:e.user.id,name:b,slug:w,email:k,cidade:C,estado:R,genero:O,estilo_musical:I,bio:"",avatar_url:"",cover_url:"",followers_count:0,is_verified:!1});t?(console.error("Erro ao criar perfil:",t),console.error("Detalhes:",JSON.stringify(t,null,2))):console.log("Perfil do artista criado com sucesso!")}V(!0)}catch(n){console.error("Erro no cadastro:",n),qr({title:"Erro no cadastro",description:(null===n||void 0===n?void 0:n.message)||"Ocorreu um erro inesperado.",variant:"destructive"})}},className:"space-y-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"artistName",className:"text-black",children:"Nome (Artista/Banda)"}),(0,jr.jsx)(Gs,{id:"artistName",type:"text",placeholder:"Nome do artista ou banda",value:b,onChange:e=>(e=>{x(e);const t=z(e);j(t),N("")})(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"artistSlug",className:"text-black",children:"URL do Perfil"}),(0,jr.jsxs)("div",{className:"flex items-center",children:[(0,jr.jsxs)("span",{className:"text-gray-500 text-sm mr-1",children:[window.location.origin,"/"]}),(0,jr.jsx)(Gs,{id:"artistSlug",type:"text",placeholder:"seuartista",value:w,onChange:e=>{j(z(e.target.value)),N("")},className:"bg-white border-gray-300 text-black flex-1 ".concat(_?"border-red-500":""),required:!0})]}),_&&(0,jr.jsx)("p",{className:"text-red-500 text-xs mt-1",children:_}),w&&!_&&(0,jr.jsxs)("p",{className:"text-green-600 text-xs mt-1",children:["Seu perfil ficar\xe1 em: ",window.location.origin,"/",w]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"artistEmail",className:"text-black",children:"E-mail"}),(0,jr.jsx)(Gs,{id:"artistEmail",type:"email",placeholder:"seu@email.com",value:k,onChange:e=>S(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"artistPassword",className:"text-black",children:"Senha"}),(0,jr.jsx)(Gs,{id:"artistPassword",type:"password",placeholder:"Sua senha",value:E,onChange:e=>A(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"artistCidade",className:"text-black",children:"Cidade"}),(0,jr.jsx)(Gs,{id:"artistCidade",type:"text",placeholder:"Sua cidade",value:C,onChange:e=>T(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"artistEstado",className:"text-black",children:"Estado"}),(0,jr.jsx)(Gs,{id:"artistEstado",type:"text",placeholder:"Seu estado",value:R,onChange:e=>P(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"artistGenero",className:"text-black",children:"G\xeanero"}),(0,jr.jsxs)("select",{id:"artistGenero",value:O,onChange:e=>D(e.target.value),className:"w-full bg-white border border-gray-300 rounded px-3 py-2 text-black",required:!0,children:[(0,jr.jsx)("option",{value:"",children:"Selecione"}),(0,jr.jsx)("option",{value:"masculino",children:"Masculino"}),(0,jr.jsx)("option",{value:"feminino",children:"Feminino"})]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"artistEstiloMusical",className:"text-black",children:"Estilo Musical"}),(0,jr.jsxs)("select",{id:"artistEstiloMusical",value:I,onChange:e=>L(e.target.value),className:"w-full bg-white border border-gray-300 rounded px-3 py-2 text-black",required:!0,children:[(0,jr.jsx)("option",{value:"",children:"Selecione"}),(0,jr.jsx)("option",{value:"forro",children:"Forr\xf3"}),(0,jr.jsx)("option",{value:"arrocha",children:"Arrocha"}),(0,jr.jsx)("option",{value:"piseiro",children:"Piseiro"}),(0,jr.jsx)("option",{value:"arrochadeira",children:"Arrochadeira"}),(0,jr.jsx)("option",{value:"pagode",children:"Pagode"}),(0,jr.jsx)("option",{value:"sertanejo",children:"Sertanejo"}),(0,jr.jsx)("option",{value:"brega-funk",children:"Brega Funk"}),(0,jr.jsx)("option",{value:"variados",children:"Variados"}),(0,jr.jsx)("option",{value:"samba",children:"Samba"}),(0,jr.jsx)("option",{value:"funk",children:"Funk"}),(0,jr.jsx)("option",{value:"axe",children:"Ax\xe9"}),(0,jr.jsx)("option",{value:"reggae",children:"Reggae"}),(0,jr.jsx)("option",{value:"brega",children:"Brega"}),(0,jr.jsx)("option",{value:"gospel",children:"Gospel"}),(0,jr.jsx)("option",{value:"rap",children:"Rap/Hip-Hop"}),(0,jr.jsx)("option",{value:"pop",children:"Pop"}),(0,jr.jsx)("option",{value:"mpb",children:"MPB"}),(0,jr.jsx)("option",{value:"rock",children:"Rock"}),(0,jr.jsx)("option",{value:"eletronica",children:"Eletr\xf4nica"}),(0,jr.jsx)("option",{value:"podcast",children:"Podcast"}),(0,jr.jsx)("option",{value:"trap",children:"Trap"}),(0,jr.jsx)("option",{value:"frevo",children:"Frevo"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,jr.jsx)("input",{type:"checkbox",id:"artistAcceptTerms",checked:M,readOnly:!0,required:!0}),(0,jr.jsxs)("label",{htmlFor:"artistAcceptTerms",className:"text-black",children:["Li e aceito os"," ",(0,jr.jsx)("span",{className:"text-red-600 underline cursor-pointer",onClick:()=>K("artist"),children:"termos de uso"})]})]}),(0,jr.jsx)(si,{className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded shadow",type:"submit",children:"Cadastrar"})]})})]}),(0,jr.jsxs)("div",{className:"relative my-6",children:[(0,jr.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,jr.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,jr.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,jr.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Ou"})})]}),(0,jr.jsxs)(si,{type:"button",onClick:()=>{a(e),qr({title:"Login realizado!",description:"Bem-vindo!"}),r("/")},className:"w-full bg-white hover:bg-gray-100 text-black border border-gray-300",children:[(0,jr.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,jr.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,jr.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,jr.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,jr.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Fazer Login com o Google"]}),(0,jr.jsxs)("p",{className:"text-center text-gray-600 text-sm mt-6",children:["J\xe1 tem uma conta?"," ",(0,jr.jsx)(bt,{to:"/login",className:"text-red-600 underline",children:"Fazer login"})]})]})]})]})}),U&&(0,jr.jsx)(jv,{open:U,onOpenChange:B,children:(0,jr.jsxs)(kv,{style:{maxWidth:600,padding:0},children:[(0,jr.jsx)(Av,{style:{padding:"24px 24px 0 24px",fontWeight:700,fontSize:20},children:"Termos de Uso"}),(0,jr.jsxs)(Cv,{children:[(0,jr.jsx)("div",{style:{maxHeight:"50vh",overflowY:"auto",textAlign:"left",fontSize:13,whiteSpace:"pre-wrap",padding:24},children:'Termos de uso\n\nEste documento, de agora em diante chamado simplesmente de "Termos de Uso", concentra as regras e condi\xe7\xf5es mais importantes que voc\xea precisa conhecer se quiser utilizar os sites www.cifraclub.com.br (Cifra Club), www.palcomp3.com (Palco MP3), www.forum.cifraclub.com.br (F\xf3rum Cifra Club), www.guitarbattle.com.br (Guitar Battle) e www.formesuabanda.com.br (Forme Sua Banda) todos de propriedade da STUDIO SOL COMUNICA\xc7\xc3O DIGITAL LTDA, chamada de "Studio Sol" daqui em diante. Esse documento \xe9 complementado pelas diretrizes previstas em nossa Pol\xedtica de Privacidade para tratamento dos dados.\n\nATEN\xc7\xc3O:\n\nO simples acesso a qualquer dos nossos sites gera a presun\xe7\xe3o de que voc\xea leu a vers\xe3o mais recente e atualizada dos Termos de Uso. Al\xe9m disso, n\xf3s consideraremos que voc\xea concordou com todas as condi\xe7\xf5es aqui indicadas e tamb\xe9m com todas as outras pol\xedticas publicadas em qualquer desses sites. Por essa raz\xe3o, recomendamos que voc\xea leia com aten\xe7\xe3o este documento ANTES de come\xe7ar a usar algum dos nossos sites ou baixar nossos aplicativos. Recomendamos, tamb\xe9m, a leitura de todas as outras pol\xedticas que adotamos, como, por exemplo, a nossa Pol\xedtica de Privacidade. Se voc\xea por acaso n\xe3o concordar com alguma condi\xe7\xe3o prevista nos Termos de Uso ou se n\xe3o concordar com alguma de nossas pol\xedticas, sugerimos que n\xe3o acesse os nossos sites e que n\xe3o utilize os nossos servi\xe7os e produtos. Mas, claro, se simplesmente tiver alguma d\xfavida sobre as regras de uso, fique \xe0 vontade para nos consultar. Teremos prazer em lhe responder!'}),(0,jr.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:24},children:(0,jr.jsx)("button",{type:"button",style:{background:"#dc2626",color:"#fff",border:"none",borderRadius:6,padding:"12px 48px",fontWeight:700,fontSize:16,cursor:"pointer"},onClick:()=>{"user"===H?y(!0):F(!0),B(!1)},children:"Concordo"})})]})]})}),q&&(0,jr.jsx)(jv,{open:q,onOpenChange:V,children:(0,jr.jsx)(kv,{className:"text-center",children:(0,jr.jsxs)("div",{className:"flex flex-col items-center justify-center py-4",children:[(0,jr.jsx)("div",{className:"text-green-500 text-6xl mb-4",children:"\u2713"}),(0,jr.jsx)(Av,{className:"text-xl font-bold text-black mb-4",children:"Cadastro realizado com sucesso!"}),(0,jr.jsx)(Cv,{className:"text-gray-600 text-center",children:"Enviamos um e-mail de confirma\xe7\xe3o. Por favor, verifique sua caixa de entrada para confirmar o cadastro."}),(0,jr.jsx)(si,{onClick:()=>{V(!1),r("/")},className:"mt-6 bg-gray-200 hover:bg-gray-300 text-black px-8",children:"OK"})]})})})]})},Rv=to("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Pv=to("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ov=to("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Dv=()=>{const e=ge(),[t,r]=(0,n.useState)(0),[a,o]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{const{data:e,error:t}=await xr.from("slides").select("*").eq("active",!0).order("order_index",{ascending:!0});if(e&&e.length>0){const t=e.map(e=>({id:e.id,image:e.image_url,title:e.title,link:e.link}));o(t)}i(!1)})()},[]),(0,n.useEffect)(()=>{const e=setInterval(()=>{r(e=>(e+1)%a.length)},5e3);return()=>clearInterval(e)},[a.length]);const l=e=>{r(e)};return s?(0,jr.jsx)("div",{className:"relative w-full h-[400px] bg-gray-100 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-pulse text-gray-400",children:"Carregando..."})}):0===a.length?null:(0,jr.jsx)("div",{className:"relative w-full",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,jr.jsxs)("div",{className:"flex gap-2 p-2",children:[(0,jr.jsxs)("div",{className:"relative flex-1 h-[400px] overflow-hidden rounded-lg group",children:[a.map((r,n)=>(0,jr.jsx)("div",{onClick:()=>r.link&&e(r.link),className:"absolute inset-0 transition-opacity duration-700 ".concat(n===t?"opacity-100 z-10":"opacity-0 z-0"," ").concat(r.link?"cursor-pointer":""),children:(0,jr.jsx)("img",{src:r.image,alt:r.title||"Slide ".concat(n+1),className:"w-full h-full object-cover"})},r.id)),(0,jr.jsx)("button",{onClick:e=>{e.stopPropagation(),r(e=>(e-1+a.length)%a.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-black/40 hover:bg-black/60 rounded flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:(0,jr.jsx)(Rv,{className:"w-5 h-5 text-white"})}),(0,jr.jsx)("button",{onClick:e=>{e.stopPropagation(),r(e=>(e+1)%a.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-black/40 hover:bg-black/60 rounded flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:(0,jr.jsx)(Jf,{className:"w-5 h-5 text-white"})}),(0,jr.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex space-x-2",children:a.map((e,r)=>(0,jr.jsx)("button",{onClick:()=>l(r),className:"h-2 rounded-full transition-all ".concat(r===t?"bg-red-600 w-8":"bg-white/50 w-2")},r))})]}),(0,jr.jsx)("div",{className:"hidden lg:flex flex-col gap-2 w-48",children:a.slice(0,4).map((e,r)=>(0,jr.jsx)("button",{onClick:()=>l(r),className:"relative h-[95px] overflow-hidden rounded-lg transition-all ".concat(r===t?"ring-2 ring-red-600 opacity-100":"opacity-70 hover:opacity-100"),children:(0,jr.jsx)("img",{src:e.image,alt:"Thumbnail ".concat(r+1),className:"w-full h-full object-cover"})},e.id))})]})})})},Iv=()=>{const{playSong:e}=Or(),t=(0,n.useRef)(null),r=(0,n.useRef)(null),[a,o]=(0,n.useState)("mes"),[s,i]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),u=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";(0,n.useEffect)(()=>{(async()=>{const{data:e,error:t}=await xr.from("albums").select("\n          *,\n          artist:artists(id, name, slug, is_verified)\n        ");if(t&&console.error("Erro ao buscar \xe1lbuns:",t),e&&e.length>0){const t=e.map(e=>{var t,r,n;return{id:e.id,slug:e.slug,title:e.title,artistName:(null===(t=e.artist)||void 0===t?void 0:t.name)||e.artist_name,artistId:e.artist_id,artistSlug:(null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id,artistVerified:(null===(n=e.artist)||void 0===n?void 0:n.is_verified)||!1,coverImage:e.cover_url||"/images/default-album.png",releaseYear:e.release_year,playCount:e.play_count||0,downloadCount:e.download_count||0}});i(t)}const{data:r}=await xr.from("artists").select("*").limit(20);if(r&&r.length>0){const e=r.map(e=>({id:e.id,slug:e.slug,name:e.name,avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",verified:e.is_verified,monthlyListeners:e.followers_count||0,bio:e.bio}));c(e)}})()},[]);const d=(e,t)=>{if(e.current){const r="left"===t?-800:800;e.current.scrollBy({left:r,behavior:"smooth"})}},h=(()=>{const e=[...s];return"dia"===a?e.sort((e,t)=>(t.plays_day||0)-(e.plays_day||0)):"semana"===a?e.sort((e,t)=>(t.plays_week||0)-(e.plays_week||0)):"mes"===a?e.sort((e,t)=>(t.plays_month||0)-(e.plays_month||0)):"geral"===a?e.sort((e,t)=>(t.plays_total||0)-(e.plays_total||0)):e})();return(0,jr.jsxs)("div",{className:"flex-1 overflow-y-auto bg-white",children:[(0,jr.jsx)(Dv,{}),(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,jr.jsxs)("section",{className:"mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(zs,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Lan\xe7amentos Recentes"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(bt,{to:"/lancamentos",className:"text-red-600 hover:text-red-500 font-bold text-sm",children:"VER TODOS"}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)(si,{onClick:()=>d(t,"left"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(Rv,{className:"w-4 h-4"})}),(0,jr.jsx)(si,{onClick:()=>d(t,"right"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(Jf,{className:"w-4 h-4"})})]})]})]}),(0,jr.jsx)("div",{ref:t,className:"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:0===s.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8",children:"Nenhum lan\xe7amento dispon\xedvel no momento."}):s.map(e=>(0,jr.jsxs)("div",{className:"flex-shrink-0",style:{width:"180px"},children:[(0,jr.jsxs)(bt,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)(bt,{to:"/".concat(e.artistSlug),className:"flex items-center gap-1 text-gray-600 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,jr.jsx)("span",{className:"truncate",children:e.artistName}),e.artistVerified&&(0,jr.jsx)(Pv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:u(e.playCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:u(e.downloadCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))})]}),(0,jr.jsxs)("section",{className:"mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Ov,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"TOP CDS"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-sm ml-4",children:[(0,jr.jsx)("button",{onClick:()=>o("dia"),className:"font-bold pb-1 transition-colors ".concat("dia"===a?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-red-600"),children:"DIA"}),(0,jr.jsx)("span",{className:"text-gray-400",children:"/"}),(0,jr.jsx)("button",{onClick:()=>o("semana"),className:"font-medium transition-colors ".concat("semana"===a?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"SEMANA"}),(0,jr.jsx)("span",{className:"text-gray-400",children:"/"}),(0,jr.jsx)("button",{onClick:()=>o("mes"),className:"font-medium transition-colors ".concat("mes"===a?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"M\xcaS"}),(0,jr.jsx)("span",{className:"text-gray-400",children:"/"}),(0,jr.jsx)("button",{onClick:()=>o("geral"),className:"font-medium transition-colors ".concat("geral"===a?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"GERAL"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(bt,{to:"/top-cds",className:"text-red-600 hover:text-red-500 font-bold text-sm",children:"VER TODOS"}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)(si,{onClick:()=>d(r,"left"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(Rv,{className:"w-4 h-4"})}),(0,jr.jsx)(si,{onClick:()=>d(r,"right"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(Jf,{className:"w-4 h-4"})})]})]})]}),(0,jr.jsx)("div",{ref:r,className:"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:0===h.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8",children:"Nenhum CD dispon\xedvel no momento."}):h.map((e,t)=>(0,jr.jsxs)("div",{className:"flex-shrink-0",style:{width:"180px"},children:[(0,jr.jsxs)(bt,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-red-600 text-white font-bold text-lg w-10 h-10 flex items-center justify-center rounded shadow-lg",children:t+1}),(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)(bt,{to:"/".concat(e.artistSlug),className:"flex items-center gap-1 text-gray-600 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,jr.jsx)("span",{className:"truncate",children:e.artistName}),e.artistVerified&&(0,jr.jsx)(Pv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:u(e.playCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:u(e.downloadCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},"".concat(e.id,"-").concat(a)))})]}),(0,jr.jsxs)("section",{className:"mb-16",children:[(0,jr.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Ms,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Artistas em Destaque"})]})}),(0,jr.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-6",children:0===l.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum artista dispon\xedvel no momento."}):l.map(e=>{var t;return(0,jr.jsxs)(bt,{to:"/".concat(e.slug||e.id),className:"group cursor-pointer text-center",children:[(0,jr.jsxs)("div",{className:"relative mb-3 inline-block",children:[(0,jr.jsx)("img",{src:e.avatar,alt:e.name,className:"w-28 h-28 rounded-full object-cover transform group-hover:scale-110 transition-transform duration-300 shadow-lg"}),e.verified&&(0,jr.jsx)("div",{className:"absolute bottom-1 right-1 w-7 h-7 rounded-full bg-blue-500 flex items-center justify-center",children:(0,jr.jsx)(Pv,{className:"w-4 h-4",color:"#fff"})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.name}),(0,jr.jsxs)("p",{className:"text-gray-600 text-xs",children:[null===(t=e.monthlyListeners)||void 0===t?void 0:t.toLocaleString()," ouvintes"]})]},e.id)})})]})]})]})},Lv=to("sliders-horizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Mv=e=>{let{src:t,alt:r="",className:n="",showBadge:a=!0,badgeClassName:o=""}=e;const s=o||"w-7 h-7",i=null!==o&&void 0!==o&&o.includes("w-5")?"w-3 h-3":"w-4 h-4";return(0,jr.jsxs)("div",{className:"relative inline-block ".concat((n.includes("w-"),"")),children:[(0,jr.jsx)("img",{src:t,alt:r,className:"".concat(n," block")}),a&&(0,jr.jsx)("div",{className:"absolute bottom-2 right-2",children:(0,jr.jsx)("div",{className:"".concat(s," rounded-full bg-blue-500 flex items-center justify-center shadow-md"),children:(0,jr.jsx)(Pv,{className:i,color:"#fff"})})})]})},Fv=()=>{const[e,t]=_t(),r=e.get("q")||"",[a,o]=(0,n.useState)(r),[s,i]=(0,n.useState)("todos"),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)("recent"),[h,f]=(0,n.useState)("recent"),[p,m]=(0,n.useState)([]),[g,v]=(0,n.useState)([]),[y,b]=(0,n.useState)([]),x=[{id:"recent",label:"MAIS RECENTES"},{id:"plays",label:"MAIS OUVIDAS"},{id:"downloads",label:"MAIS BAIXADAS"},{id:"oldest",label:"MAIS ANTIGOS"}];(0,n.useEffect)(()=>{r&&w(r)},[r]);const w=async e=>{c(!0);try{const t=await xr.from("artists").select("*").or("name.ilike.%".concat(e,"%,slug.ilike.%").concat(e,"%")).limit(20),r=(t.data||[]).map(e=>e.id),[n,a]=await Promise.all([xr.from("albums").select("\n            *,\n            artist:artists(id, name, slug, is_verified, avatar_url)\n          ").or("title.ilike.%".concat(e,"%,slug.ilike.%").concat(e,"%").concat(r.length>0?",artist_id.in.(".concat(r.join(","),")"):"")).order("created_at",{ascending:!1}).limit(50),xr.from("playlists").select("*").eq("is_public",!0).ilike("title","%".concat(e,"%")).order("created_at",{ascending:!1}).limit(20)]);console.log("Playlists encontradas:",a.data,"Erro:",a.error),m(t.data||[]),v(n.data||[]),b(a.data||[])}catch(t){console.error("Erro na busca:",t)}c(!1)},j="todos"===s||"perfis"===s,_="todos"===s||"albums"===s,N="todos"===s||"playlists"===s,k=(e,t)=>{const r=[...e];switch(t){case"plays":return r.sort((e,t)=>(t.play_count||0)-(e.play_count||0));case"downloads":return r.sort((e,t)=>(t.download_count||0)-(e.download_count||0));case"oldest":return r.sort((e,t)=>new Date(e.created_at)-new Date(t.created_at));default:return r.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))}},S=k(g,u),E=k(y,h),A=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,jr.jsx)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&t({q:a.trim()})},className:"mb-8",children:(0,jr.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[(0,jr.jsx)(Ls,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,jr.jsx)(Gs,{type:"text",placeholder:"Buscar artistas, \xe1lbuns, playlists...",value:a,onChange:e=>o(e.target.value),className:"pl-12 h-12 bg-white border-gray-200 text-gray-900"})]})}),r&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)("div",{className:"flex gap-2 mb-8 flex-wrap",children:[{id:"todos",label:"Todos"},{id:"perfis",label:"Perfis"},{id:"albums",label:"CDS/SINGLES"},{id:"playlists",label:"Playlists"}].map(e=>(0,jr.jsx)("button",{onClick:()=>i(e.id),className:"px-6 py-2 rounded-full font-medium transition-colors ".concat(s===e.id?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.label},e.id))}),(0,jr.jsx)("main",{children:l?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,jr.jsx)("p",{className:"text-gray-500 mt-4",children:"Buscando..."})]}):(0,jr.jsxs)("div",{className:"space-y-10",children:[j&&p.length>0&&(0,jr.jsxs)("section",{children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4 pb-2 border-b-2 border-red-600",children:"PERFIS"}),(0,jr.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-8 gap-4",children:("todos"===s?p.slice(0,8):p).map(e=>{var t;return(0,jr.jsxs)(bt,{to:"/".concat(e.slug),className:"group cursor-pointer text-center",children:[(0,jr.jsx)("div",{className:"relative mb-2 mx-auto",style:{maxWidth:"120px"},children:(0,jr.jsx)(Mv,{src:e.avatar_url||"/images/default-avatar.png",alt:e.name,className:"w-full aspect-square rounded-full object-cover transform group-hover:scale-105 transition-transform duration-300 shadow-md",badgeClassName:"w-6 h-6",showBadge:e.is_verified})}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-xs mb-0.5 truncate group-hover:text-red-600 transition-colors",children:e.name}),(0,jr.jsxs)("p",{className:"text-gray-500 text-xs",children:[(null===(t=e.followers_count)||void 0===t?void 0:t.toLocaleString())||0," ouvintes"]})]},e.id)})}),"todos"===s&&p.length>8&&(0,jr.jsx)("button",{onClick:()=>i("perfis"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODOS PERFIS"})]}),_&&g.length>0&&(0,jr.jsxs)("section",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"CDS/SINGLES"}),(0,jr.jsxs)(sp,{modal:!1,children:[(0,jr.jsxs)(ip,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,jr.jsx)(Lv,{className:"w-4 h-4"}),"Filtros",(0,jr.jsx)(Is,{className:"w-4 h-4"})]}),(0,jr.jsx)(lp,{align:"end",className:"bg-white",children:x.map(e=>(0,jr.jsx)(cp,{onClick:()=>d(e.id),className:"cursor-pointer ".concat(u===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:("todos"===s?S.slice(0,12):S).map(e=>{var t,r;return(0,jr.jsxs)(bt,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||"artista","/").concat(e.slug),className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,jr.jsx)("p",{className:"text-gray-500 text-xs truncate mb-2",children:(null===(r=e.artist)||void 0===r?void 0:r.name)||"Artista"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:A(e.play_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:A(e.download_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})}),"todos"===s&&g.length>12&&(0,jr.jsx)("button",{onClick:()=>i("albums"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODOS CDS/SINGLES"})]}),N&&y.length>0&&(0,jr.jsxs)("section",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"PLAYLISTS"}),(0,jr.jsxs)(sp,{modal:!1,children:[(0,jr.jsxs)(ip,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,jr.jsx)(Lv,{className:"w-4 h-4"}),"Filtros",(0,jr.jsx)(Is,{className:"w-4 h-4"})]}),(0,jr.jsx)(lp,{align:"end",className:"bg-white",children:x.map(e=>(0,jr.jsx)(cp,{onClick:()=>f(e.id),className:"cursor-pointer ".concat(h===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:("todos"===s?E.slice(0,6):E).map(e=>(0,jr.jsxs)(bt,{to:"/playlist/".concat(e.id),className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,jr.jsx)("p",{className:"text-gray-500 text-xs truncate",children:"Playlist"})]},e.id))}),"todos"===s&&y.length>6&&(0,jr.jsx)("button",{onClick:()=>i("playlists"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODAS PLAYLISTS"})]}),!l&&0===p.length&&0===g.length&&0===y.length&&(0,jr.jsxs)("div",{className:"text-center py-16",children:[(0,jr.jsx)(Ls,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum resultado encontrado"}),(0,jr.jsxs)("p",{className:"text-gray-500",children:['N\xe3o encontramos resultados para "',r,'"']})]})]})})]}),!r&&(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(Ls,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"O que voc\xea quer encontrar?"}),(0,jr.jsx)("p",{className:"text-gray-500",children:"Busque por artistas, \xe1lbuns ou playlists"})]})]})})},zv=to("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Uv=()=>{const{playSong:e}=Or();return(0,jr.jsxs)("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-red-950/20 to-black p-8",children:[(0,jr.jsx)("h1",{className:"text-4xl font-bold text-white mb-8",children:"Sua Biblioteca"}),(0,jr.jsxs)(dg,{defaultValue:"songs",className:"w-full",children:[(0,jr.jsxs)(hg,{className:"bg-zinc-900 border-red-900/30 mb-6",children:[(0,jr.jsx)(fg,{value:"songs",className:"data-[state=active]:bg-red-600",children:"M\xfasicas"}),(0,jr.jsx)(fg,{value:"albums",className:"data-[state=active]:bg-red-600",children:"\xc1lbuns"})]}),(0,jr.jsx)(pg,{value:"songs",children:(0,jr.jsxs)("div",{className:"bg-zinc-900/50 rounded-lg p-6",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,jr.jsx)("div",{className:"w-48 h-48 bg-gradient-to-br from-red-600 to-red-900 rounded-lg flex items-center justify-center",children:(0,jr.jsx)(Vs,{className:"w-20 h-20 text-white"})}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"PLAYLIST"}),(0,jr.jsx)("h2",{className:"text-5xl font-bold text-white mb-4",children:"M\xfasicas Curtidas"}),(0,jr.jsxs)("p",{className:"text-gray-400",children:[Cr.length," m\xfasicas"]})]})]}),(0,jr.jsxs)("div",{className:"space-y-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-2 text-gray-400 text-sm border-b border-red-900/30",children:[(0,jr.jsx)("span",{className:"w-8",children:"#"}),(0,jr.jsx)("span",{className:"flex-1",children:"T\xcdTULO"}),(0,jr.jsx)("span",{className:"w-32",children:"REPRODU\xc7\xd5ES"}),(0,jr.jsx)(zv,{className:"w-5 h-5"})]}),Cr.map((t,r)=>{var n;return(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 rounded hover:bg-red-900/20 transition-colors group cursor-pointer",onClick:()=>e(t,Cr),children:[(0,jr.jsx)("span",{className:"text-gray-400 w-8",children:r+1}),(0,jr.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-12 h-12 rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-white font-medium truncate",children:t.title}),(0,jr.jsx)("p",{className:"text-gray-400 text-sm truncate",children:t.artistName})]}),(0,jr.jsx)("span",{className:"text-gray-400 text-sm w-32",children:null===(n=t.plays)||void 0===n?void 0:n.toLocaleString()}),(0,jr.jsx)("span",{className:"text-gray-400 text-sm",children:Tr(t.duration)}),(0,jr.jsx)(si,{className:"w-10 h-10 rounded-full bg-red-600 hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,jr.jsx)(_p,{className:"w-4 h-4 ml-0.5"})})]},t.id)})]})]})}),(0,jr.jsx)(pg,{value:"albums",children:(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:Ar.map(t=>(0,jr.jsxs)(Om,{className:"bg-zinc-900 border-red-900/20 p-4 hover:bg-zinc-800 transition-colors cursor-pointer group",children:[(0,jr.jsxs)("div",{className:"relative mb-4",children:[(0,jr.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-full aspect-square object-cover rounded-md"}),(0,jr.jsx)(si,{onClick:()=>{const r=Cr.filter(e=>e.albumId===t.id);r.length>0&&e(r[0],r)},className:"absolute bottom-2 right-2 w-12 h-12 rounded-full bg-red-600 hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,jr.jsx)(_p,{className:"w-5 h-5 ml-0.5"})})]}),(0,jr.jsx)("h3",{className:"text-white font-semibold mb-1 truncate",children:t.title}),(0,jr.jsx)("p",{className:"text-gray-400 text-sm truncate",children:t.artistName}),(0,jr.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:[t.songCount," m\xfasicas"]})]},t.id))})})]})]})},Bv=to("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),qv=to("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Vv=()=>{const{isPremium:e,upgradeToPremium:t}=Nr(),r=ge(),n=[{icon:Sp,title:"Download Ilimitado",description:"Baixe suas m\xfasicas favoritas e ou\xe7a offline"},{icon:Ws,title:"Qualidade de \xc1udio Superior",description:"\xc1udio em alta qualidade at\xe9 320kbps"},{icon:Bv,title:"Sem An\xfancios",description:"Experimente m\xfasica sem interrup\xe7\xf5es"},{icon:qv,title:"Reprodu\xe7\xe3o Ilimitada",description:"Pule quantas m\xfasicas quiser"}];return e?(0,jr.jsx)("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-red-950/20 to-black p-8",children:(0,jr.jsxs)("div",{className:"max-w-4xl mx-auto text-center py-20",children:[(0,jr.jsx)("div",{className:"w-24 h-24 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,jr.jsx)(Yf,{className:"w-12 h-12 text-white"})}),(0,jr.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Voc\xea j\xe1 \xe9 Premium!"}),(0,jr.jsx)("p",{className:"text-gray-400 text-lg mb-8",children:"Aproveite todos os recursos exclusivos do RedMusic Premium"}),(0,jr.jsx)(si,{onClick:()=>r("/"),className:"bg-red-600 hover:bg-red-700",children:"Voltar ao In\xedcio"})]})}):(0,jr.jsx)("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-red-950/20 to-black p-8",children:(0,jr.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,jr.jsxs)("div",{className:"text-center mb-12",children:[(0,jr.jsx)("h1",{className:"text-5xl font-bold text-white mb-4",children:"Seja Premium"}),(0,jr.jsx)("p",{className:"text-gray-400 text-xl",children:"Libere todo o potencial da sua experi\xeancia musical"})]}),(0,jr.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:n.map((e,t)=>{const r=e.icon;return(0,jr.jsxs)(Om,{className:"bg-zinc-900 border-red-900/20 text-center",children:[(0,jr.jsxs)(Dm,{children:[(0,jr.jsx)("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,jr.jsx)(r,{className:"w-8 h-8 text-red-600"})}),(0,jr.jsx)(Im,{className:"text-white text-lg",children:e.title})]}),(0,jr.jsx)(Mm,{children:(0,jr.jsx)(Lm,{className:"text-gray-400",children:e.description})})]},t)})}),(0,jr.jsxs)(Om,{className:"bg-gradient-to-br from-red-600 to-red-800 border-0 max-w-2xl mx-auto",children:[(0,jr.jsxs)(Dm,{className:"text-center",children:[(0,jr.jsx)(Im,{className:"text-white text-3xl mb-2",children:"Plano Premium"}),(0,jr.jsxs)("div",{className:"text-white",children:[(0,jr.jsx)("span",{className:"text-5xl font-bold",children:"R$ 19,90"}),(0,jr.jsx)("span",{className:"text-xl",children:"/m\xeas"})]})]}),(0,jr.jsxs)(Mm,{className:"space-y-4",children:[(0,jr.jsx)("div",{className:"space-y-3",children:["Download ilimitado de m\xfasicas","Qualidade de \xe1udio superior","Sem an\xfancios","Reprodu\xe7\xe3o offline","Pulos ilimitados","Acesso antecipado a novos recursos"].map((e,t)=>(0,jr.jsxs)("div",{className:"flex items-center gap-3 text-white",children:[(0,jr.jsx)(Yf,{className:"w-5 h-5 flex-shrink-0"}),(0,jr.jsx)("span",{children:e})]},t))}),(0,jr.jsx)(si,{onClick:()=>{t(),qr({title:"Bem-vindo ao Premium!",description:"Agora voc\xea tem acesso a todos os recursos premium"}),r("/")},className:"w-full bg-white text-red-600 hover:bg-gray-100 h-12 text-lg font-semibold",children:"Assinar Premium"}),(0,jr.jsx)("p",{className:"text-white/80 text-sm text-center",children:"Cancele quando quiser. Termos e condi\xe7\xf5es aplic\xe1veis."})]})]})]})})},Hv=to("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Wv=to("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Kv=to("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Gv=["children"],$v=["children"];function Jv(e){const t=Yv(e),r=n.forwardRef((e,r)=>{const{children:a}=e,o=s(e,Gv),l=n.Children.toArray(a),c=l.find(Xv);if(c){const e=c.props.children,a=l.map(t=>t===c?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t);return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}function Yv(e){const t=n.forwardRef((e,t)=>{const{children:r}=e,a=s(e,$v);if(n.isValidElement(r)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),o=function(e,t){const r=(0,i.A)({},t);for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=function(){const e=o(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,i.A)((0,i.A)({},a),o):"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return(0,i.A)((0,i.A)({},e),r)}(a,r.props);return r.type!==n.Fragment&&(o.ref=t?Kr(t,e):e),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Qv=Symbol("radix.slottable");function Xv(e){return n.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Qv}const Zv=["__scopePopover"],ey=["__scopePopover"],ty=["forceMount"],ry=["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"],ny=["__scopePopover"],ay=["__scopePopover"];var oy="Popover",[sy,iy]=en(oy,[Ec]),ly=Ec(),[cy,uy]=sy(oy),dy=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:o,onOpenChange:s,modal:l=!1}=e,c=ly(t),u=n.useRef(null),[d,h]=n.useState(!1),[f,p]=Vn({prop:a,defaultProp:null!==o&&void 0!==o&&o,onChange:s,caller:oy});return(0,jr.jsx)(Vc,(0,i.A)((0,i.A)({},c),{},{children:(0,jr.jsx)(cy,{scope:t,contentId:ki(),triggerRef:u,open:f,onOpenChange:p,onOpenToggle:n.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:d,onCustomAnchorAdd:n.useCallback(()=>h(!0),[]),onCustomAnchorRemove:n.useCallback(()=>h(!1),[]),modal:l,children:r})}))};dy.displayName=oy;var hy="PopoverAnchor",fy=n.forwardRef((e,t)=>{const{__scopePopover:r}=e,a=s(e,Zv),o=uy(hy,r),l=ly(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return n.useEffect(()=>(c(),()=>u()),[c,u]),(0,jr.jsx)(Hc,(0,i.A)((0,i.A)((0,i.A)({},l),a),{},{ref:t}))});fy.displayName=hy;var py="PopoverTrigger",my=n.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=s(e,ey),a=uy(py,r),o=ly(r),l=Gr(t,a.triggerRef),c=(0,jr.jsx)(jn.button,(0,i.A)((0,i.A)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Cy(a.open)},n),{},{ref:l,onClick:Hr(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?c:(0,jr.jsx)(Hc,(0,i.A)((0,i.A)({asChild:!0},o),{},{children:c}))});my.displayName=py;var gy="PopoverPortal",[vy,yy]=sy(gy,{forceMount:void 0}),by=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=uy(gy,t);return(0,jr.jsx)(vy,{scope:t,forceMount:r,children:(0,jr.jsx)(Un,{present:r||o.open,children:(0,jr.jsx)(zn,{asChild:!0,container:a,children:n})})})};by.displayName=gy;var xy="PopoverContent",wy=n.forwardRef((e,t)=>{const r=yy(xy,e.__scopePopover),{forceMount:n=r.forceMount}=e,a=s(e,ty),o=uy(xy,e.__scopePopover);return(0,jr.jsx)(Un,{present:n||o.open,children:o.modal?(0,jr.jsx)(_y,(0,i.A)((0,i.A)({},a),{},{ref:t})):(0,jr.jsx)(Ny,(0,i.A)((0,i.A)({},a),{},{ref:t}))})});wy.displayName=xy;var jy=Jv("PopoverContent.RemoveScroll"),_y=n.forwardRef((e,t)=>{const r=uy(xy,e.__scopePopover),a=n.useRef(null),o=Gr(t,a),s=n.useRef(!1);return n.useEffect(()=>{const e=a.current;if(e)return Su(e)},[]),(0,jr.jsx)(md,{as:jy,allowPinchZoom:!0,children:(0,jr.jsx)(ky,(0,i.A)((0,i.A)({},e),{},{ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Hr(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),s.current||null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:Hr(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;s.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:Hr(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})}))})}),Ny=n.forwardRef((e,t)=>{const r=uy(xy,e.__scopePopover),a=n.useRef(!1),o=n.useRef(!1);return(0,jr.jsx)(ky,(0,i.A)((0,i.A)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,s;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(a.current||null===(s=r.triggerRef.current)||void 0===s||s.focus(),t.preventDefault());a.current=!1,o.current=!1},onInteractOutside:t=>{var n,s;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));const i=t.target;(null===(s=r.triggerRef.current)||void 0===s?void 0:s.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))}),ky=n.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h}=e,f=s(e,ry),p=uy(xy,r),m=ly(r);return ui(),(0,jr.jsx)(gi,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,jr.jsx)(Rn,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:(0,jr.jsx)(Wc,(0,i.A)((0,i.A)((0,i.A)({"data-state":Cy(p.open),role:"dialog",id:p.contentId},m),f),{},{ref:t,style:(0,i.A)((0,i.A)({},f.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),Sy="PopoverClose",Ey=n.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=s(e,ny),a=uy(Sy,r);return(0,jr.jsx)(jn.button,(0,i.A)((0,i.A)({type:"button"},n),{},{ref:t,onClick:Hr(e.onClick,()=>a.onOpenChange(!1))}))});Ey.displayName=Sy;var Ay=n.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=s(e,ay),a=ly(r);return(0,jr.jsx)(Kc,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});function Cy(e){return e?"open":"closed"}Ay.displayName="PopoverArrow";var Ty=by,Ry=wy;const Py=["className","align","sideOffset"],Oy=dy,Dy=my,Iy=n.forwardRef((e,t)=>{let{className:r,align:n="center",sideOffset:a=4}=e,o=s(e,Py);return(0,jr.jsx)(Ty,{children:(0,jr.jsx)(Ry,(0,i.A)({ref:t,align:n,sideOffset:a,className:bs("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",r)},o))})});Iy.displayName=Ry.displayName;const Ly=()=>{var e,t;const{artistSlug:r,albumSlug:a}=ve(),{playSong:o}=(ge(),Or()),{user:s,isPremium:l}=Nr(),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(null),[f,p]=(0,n.useState)([]),[m,g]=(0,n.useState)(null),[v,y]=(0,n.useState)(!0),[b,x]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{(async()=>{if("album"===r)return x(!0),void y(!1);let{data:e}=await xr.from("artists").select("*").eq("slug",r).maybeSingle();if(!e){const{data:t}=await xr.from("artists").select("*").eq("id",r).maybeSingle();e=t}if(!e)return x(!0),void y(!1);g(e);let{data:t}=await xr.from("albums").select("*").eq("slug",a).maybeSingle();if(!t){const{data:e}=await xr.from("albums").select("*").eq("id",a).maybeSingle();t=e}if(!t)return x(!0),void y(!1);h({id:t.id,slug:t.slug,title:t.title,artistName:t.artist_name,artistId:t.artist_id,coverImage:t.cover_url||"/images/default-album.png",releaseYear:t.release_year,description:t.description,genre:t.genre,archiveUrl:t.archive_url,download_count:t.download_count||0,play_count:t.play_count||0});const{data:n}=await xr.from("songs").select("*").eq("album_id",t.id).order("track_number",{ascending:!0});n&&p(n.map(e=>({id:e.id,title:e.title,artistName:e.artist_name,artistId:e.artist_id,albumId:e.album_id,albumName:e.album_name,coverImage:e.cover_url,audioUrl:e.audio_url,duration:e.duration||0,trackNumber:e.track_number}))),y(!1)})()},[r,a]),v)return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(b||!d)return(0,jr.jsxs)("div",{className:"fixed inset-0 top-16 bg-white flex flex-col items-center justify-center pb-32",children:[(0,jr.jsxs)("div",{className:"relative mb-6",children:[(0,jr.jsx)("div",{className:"w-24 h-24 rounded-full bg-red-100 flex items-center justify-center",children:(0,jr.jsx)(zs,{className:"w-12 h-12 text-red-600"})}),(0,jr.jsx)("div",{className:"absolute -top-1 -right-1 w-8 h-8 rounded-full bg-red-600 flex items-center justify-center",children:(0,jr.jsx)(ro,{className:"w-5 h-5 text-white"})})]}),(0,jr.jsx)("p",{className:"text-gray-900 text-2xl font-bold mb-2",children:"\xc1lbum n\xe3o encontrado"}),(0,jr.jsx)("p",{className:"text-gray-500 mb-6",children:"O \xe1lbum que voc\xea procura n\xe3o existe ou foi removido."}),(0,jr.jsx)(bt,{to:"/",children:(0,jr.jsx)(si,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Voltar para Home"})})]});const w=async()=>{if(f.length>0&&(o(f[0],f),d.id)){const{error:e}=await xr.rpc("increment_play_count",{album_id:d.id});e?(await xr.from("albums").update({play_count:(d.play_count||0)+1}).eq("id",d.id),h(e=>(0,i.A)((0,i.A)({},e),{},{play_count:(e.play_count||0)+1}))):h(e=>(0,i.A)((0,i.A)({},e),{},{play_count:(e.play_count||0)+1}))}},j=e=>{if(!e)return"0:00";const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(String(r).padStart(2,"0"))};return(0,jr.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,jr.jsx)("div",{className:"relative bg-gradient-to-b from-red-900 to-black pt-20 pb-8",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"flex items-end gap-8",children:[(0,jr.jsxs)("div",{className:"relative w-64 h-64 group cursor-pointer",onClick:w,children:[(0,jr.jsx)("img",{src:d.coverImage,alt:d.title,className:"w-full h-full rounded-lg shadow-2xl object-cover"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-lg",children:(0,jr.jsx)(_p,{className:"w-8 h-8 text-white ml-1",fill:"white"})})})]}),(0,jr.jsxs)("div",{className:"text-white pb-4 flex flex-col justify-between h-56",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-sm uppercase tracking-wider mb-2",children:"\xc1lbum"}),(0,jr.jsx)("h1",{className:"text-3xl font-bold mb-2 max-w-xl",children:d.title}),d.description&&(0,jr.jsxs)("p",{className:"text-gray-300 text-sm max-w-xl leading-relaxed",children:[(0,jr.jsx)("span",{className:"text-gray-400",children:"Descri\xe7\xe3o:"})," ",d.description.length>150?"".concat(d.description.slice(0,150),"..."):d.description]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsxs)(bt,{to:"/".concat((null===m||void 0===m?void 0:m.slug)||d.artistId),className:"flex items-center gap-2 hover:text-red-400 transition-colors",children:[(0,jr.jsx)("img",{src:(null===m||void 0===m?void 0:m.avatar_url)||(null===m||void 0===m?void 0:m.profile_image)||"/images/default-avatar.png",alt:d.artistName,className:"w-8 h-8 rounded-full object-cover"}),(0,jr.jsxs)("span",{className:"text-xl flex items-center gap-2",children:[d.artistName,(null===m||void 0===m?void 0:m.is_verified)&&(0,jr.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:(0,jr.jsx)(Pv,{className:"w-3 h-3 text-white"})})]})]}),(0,jr.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,jr.jsx)("span",{className:"text-gray-400",children:d.releaseYear}),(0,jr.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,jr.jsxs)("span",{className:"text-gray-400",children:[f.length," m\xfasicas"]})]})]})]})})}),(0,jr.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,jr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jr.jsx)(si,{onClick:w,className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 text-white shadow-lg",children:(0,jr.jsx)(_p,{className:"w-6 h-6 ml-1",fill:"white"})}),(0,jr.jsx)(si,{variant:"outline",size:"icon",onClick:()=>{s?(u(!c),qr({title:c?"Removido dos favoritos":"Adicionado aos favoritos",description:d.title})):qr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar aos favoritos",variant:"destructive"})},className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,jr.jsx)(Vs,{className:"w-5 h-5 ".concat(c?"fill-red-600 text-red-600":"text-gray-600")})}),(0,jr.jsxs)(si,{onClick:async()=>{if(d.archiveUrl){qr({title:"Download Iniciado",description:"Baixando ".concat(d.title,"...")});try{if(d.id){const{data:e,error:t}=await xr.rpc("increment_download_count",{album_id:d.id});t?(await xr.from("albums").update({download_count:(d.download_count||0)+1}).eq("id",d.id),h(e=>(0,i.A)((0,i.A)({},e),{},{download_count:(e.download_count||0)+1}))):h(e=>(0,i.A)((0,i.A)({},e),{},{download_count:(e.download_count||0)+1}))}const e=await fetch(d.archiveUrl),t=await e.blob(),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r;const a=d.archiveUrl.includes(".rar")?"rar":"zip";n.download="".concat(d.title,".").concat(a),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)}catch(e){console.error("Download error:",e),qr({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else qr({title:"Download Indispon\xedvel",description:"O arquivo do \xe1lbum n\xe3o est\xe1 dispon\xedvel",variant:"destructive"})},className:"bg-red-600 hover:bg-red-700 text-white px-8 h-12 text-base font-bold shadow-lg",children:[(0,jr.jsx)(Sp,{className:"w-5 h-5 mr-2"}),"BAIXAR CD COMPLETO"]}),(0,jr.jsxs)(Oy,{children:[(0,jr.jsx)(Dy,{asChild:!0,children:(0,jr.jsx)(si,{variant:"outline",size:"icon",className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,jr.jsx)(Hv,{className:"w-5 h-5 text-gray-600"})})}),(0,jr.jsx)(Iy,{className:"w-auto p-3",side:"right",align:"center",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-green-500 hover:bg-green-600 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://wa.me/?text=".concat(encodeURIComponent("".concat(d.title," - ").concat(d.artistName,"\n").concat(e))),"_blank")},title:"WhatsApp",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-blue-600 hover:bg-blue-700 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e)),"_blank")},title:"Facebook",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-black hover:bg-gray-800 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(e),"&text=").concat(encodeURIComponent("".concat(d.title," - ").concat(d.artistName))),"_blank")},title:"Twitter / X",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,jr.jsx)("div",{className:"w-px h-8 bg-gray-300"}),(0,jr.jsxs)(si,{variant:"outline",className:"h-10 gap-2",onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e),qr({title:"Link copiado!",description:"O link foi copiado para a \xe1rea de transfer\xeancia"})},children:[(0,jr.jsx)(Wv,{className:"w-4 h-4"}),"Copiar Link"]})]})})]}),(0,jr.jsx)("div",{className:"flex-1"}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,jr.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,jr.jsx)("span",{className:"text-lg font-bold text-red-600",children:(null===(e=d.download_count)||void 0===e?void 0:e.toLocaleString())||0})}),(0,jr.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,jr.jsx)("span",{className:"text-xs text-gray-500",children:"Downloads"})})]}),(0,jr.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,jr.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,jr.jsx)("span",{className:"text-lg font-bold text-gray-800",children:(null===(t=d.play_count)||void 0===t?void 0:t.toLocaleString())||0})}),(0,jr.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,jr.jsx)("span",{className:"text-xs text-gray-500",children:"Plays"})})]})]})]})})}),(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-8",children:[(0,jr.jsx)("div",{className:"bg-red-600 text-white px-4 py-3 rounded-t-lg",children:(0,jr.jsx)("h2",{className:"text-xl font-bold",children:"M\xdaSICAS DO CD"})}),(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-b-lg",children:[f.map((e,t)=>(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-red-50 transition-colors border-b border-gray-100 last:border-0 group cursor-pointer",onClick:()=>o(e,f),children:[(0,jr.jsxs)("span",{className:"text-gray-600 w-8 text-center font-medium",children:[String(t+1).padStart(2,"0"),"."]}),(0,jr.jsx)("div",{className:"flex-1 min-w-0",children:(0,jr.jsx)("p",{className:"text-black font-medium truncate",children:e.title})}),(0,jr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jr.jsx)(si,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),s||qr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar \xe0 playlist"})},children:(0,jr.jsx)(Kv,{className:"w-5 h-5 text-gray-600"})}),(0,jr.jsx)("span",{className:"text-gray-600 text-sm w-12 text-right",children:j(e.duration)}),(0,jr.jsx)(si,{onClick:async t=>{if(t.stopPropagation(),e.audioUrl){qr({title:"Download Iniciado",description:e.title});try{const t=await fetch(e.audioUrl),r=await t.blob(),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(e.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(r){console.error("Download error:",r),qr({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else qr({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})},variant:"outline",size:"sm",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",children:"\u2193 BAIXAR"})]})]},e.id)),0===f.length&&(0,jr.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma m\xfasica encontrada neste \xe1lbum"})]})]})]})},My=()=>{const{playlistSlug:e}=ve(),{playSong:t,currentSong:r,isPlaying:a}=Or(),{user:o}=Nr(),[s,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)([]),[h,f]=(0,n.useState)(null),[p,m]=(0,n.useState)(!0),[g,v]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{(async()=>{let{data:t}=await xr.from("playlists").select("*").eq("slug",e).maybeSingle();if(!t){const{data:r}=await xr.from("playlists").select("*").eq("id",e).maybeSingle();t=r}if(!t)return v(!0),void m(!1);c(t);const{data:r}=await xr.from("artists").select("id, name, slug, avatar_url, is_verified").eq("id",t.user_id).maybeSingle();if(f(r),t.song_ids&&t.song_ids.length>0){const{data:e}=await xr.from("songs").select("*").in("id",t.song_ids);if(e){const r=t.song_ids.map(t=>e.find(e=>e.id===t)).filter(Boolean).map(e=>({id:e.id,title:e.title,artistName:e.artist_name,artistId:e.artist_id,albumId:e.album_id,albumName:e.album_name,coverImage:e.cover_url,audioUrl:e.audio_url,duration:e.duration||0}));d(r)}}m(!1)})()},[e]),p)return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(g||!l)return(0,jr.jsxs)("div",{className:"fixed inset-0 top-16 bg-white flex flex-col items-center justify-center pb-32",children:[(0,jr.jsxs)("div",{className:"relative mb-6",children:[(0,jr.jsx)("div",{className:"w-24 h-24 rounded-full bg-red-100 flex items-center justify-center",children:(0,jr.jsx)(Hs,{className:"w-12 h-12 text-red-600"})}),(0,jr.jsx)("div",{className:"absolute -top-1 -right-1 w-8 h-8 rounded-full bg-red-600 flex items-center justify-center",children:(0,jr.jsx)(ro,{className:"w-5 h-5 text-white"})})]}),(0,jr.jsx)("p",{className:"text-gray-900 text-2xl font-bold mb-2",children:"Playlist n\xe3o encontrada"}),(0,jr.jsx)("p",{className:"text-gray-500 mb-6",children:"A playlist que voc\xea procura n\xe3o existe ou foi removida."}),(0,jr.jsx)(bt,{to:"/",children:(0,jr.jsx)(si,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Voltar para Home"})})]});const y=()=>{u.length>0&&t(u[0],u)},b=e=>{if(!e)return"0:00";const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(String(r).padStart(2,"0"))};return(0,jr.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,jr.jsx)("div",{className:"relative bg-gradient-to-b from-red-900 to-black pt-20 pb-8",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"flex items-end gap-8",children:[(0,jr.jsxs)("div",{className:"relative w-64 h-64 group cursor-pointer",onClick:y,children:[(0,jr.jsx)("img",{src:l.cover_url||"/images/default-playlist.jpg",alt:l.title,className:"w-full h-full rounded-lg shadow-2xl object-cover"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-lg",children:(0,jr.jsx)(_p,{className:"w-8 h-8 text-white ml-1",fill:"white"})})})]}),(0,jr.jsxs)("div",{className:"text-white pb-4 flex flex-col justify-between h-56",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-sm uppercase tracking-wider mb-2",children:"Playlist"}),(0,jr.jsx)("h1",{className:"text-3xl font-bold mb-2 max-w-xl",children:l.title}),l.description&&(0,jr.jsx)("p",{className:"text-gray-300 text-sm max-w-xl leading-relaxed",children:l.description})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[h&&(0,jr.jsxs)(bt,{to:"/".concat(h.slug||h.id),className:"flex items-center gap-2 hover:text-red-400 transition-colors",children:[(0,jr.jsx)("img",{src:h.avatar_url||"/images/default-avatar.png",alt:h.name,className:"w-8 h-8 rounded-full object-cover"}),(0,jr.jsxs)("span",{className:"text-xl flex items-center gap-2",children:[h.name,h.is_verified&&(0,jr.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:(0,jr.jsx)(Pv,{className:"w-3 h-3 text-white"})})]})]}),(0,jr.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,jr.jsxs)("span",{className:"text-gray-400",children:[u.length," m\xfasicas"]})]})]})]})})}),(0,jr.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,jr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jr.jsx)(si,{onClick:y,className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 text-white shadow-lg",children:(0,jr.jsx)(_p,{className:"w-6 h-6 ml-1",fill:"white"})}),(0,jr.jsx)(si,{variant:"outline",size:"icon",onClick:()=>{o?(i(!s),qr({title:s?"Removido dos favoritos":"Adicionado aos favoritos",description:l.title})):qr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar aos favoritos",variant:"destructive"})},className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,jr.jsx)(Vs,{className:"w-5 h-5 ".concat(s?"fill-red-600 text-red-600":"text-gray-600")})}),(0,jr.jsxs)(si,{onClick:async()=>{qr({title:"Download Iniciado",description:"Baixando ".concat(u.length," m\xfasicas...")});for(const t of u)if(t.audioUrl)try{const e=await fetch(t.audioUrl),r=await e.blob(),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(t.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Download error:",e)}},className:"bg-red-600 hover:bg-red-700 text-white px-8 h-12 text-base font-bold shadow-lg",children:[(0,jr.jsx)(Sp,{className:"w-5 h-5 mr-2"}),"BAIXAR PLAYLIST"]}),(0,jr.jsxs)(Oy,{children:[(0,jr.jsx)(Dy,{asChild:!0,children:(0,jr.jsx)(si,{variant:"outline",size:"icon",className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,jr.jsx)(Hv,{className:"w-5 h-5 text-gray-600"})})}),(0,jr.jsx)(Iy,{className:"w-auto p-3",side:"right",align:"center",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-green-500 hover:bg-green-600 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://wa.me/?text=".concat(encodeURIComponent("".concat(l.title,"\n").concat(e))),"_blank")},title:"WhatsApp",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-blue-600 hover:bg-blue-700 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e)),"_blank")},title:"Facebook",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-black hover:bg-gray-800 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(e),"&text=").concat(encodeURIComponent(l.title)),"_blank")},title:"Twitter / X",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,jr.jsx)("div",{className:"w-px h-8 bg-gray-300"}),(0,jr.jsxs)(si,{variant:"outline",className:"h-10 gap-2",onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e),qr({title:"Link copiado!",description:"O link foi copiado para a \xe1rea de transfer\xeancia"})},children:[(0,jr.jsx)(Wv,{className:"w-4 h-4"}),"Copiar Link"]})]})})]})]})})}),(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 mt-8",children:0===u.length?(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(Hs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Esta playlist ainda n\xe3o tem m\xfasicas"})]}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"bg-red-600 text-white px-4 py-3 rounded-t-lg",children:(0,jr.jsx)("h2",{className:"text-xl font-bold",children:"M\xdaSICAS DA PLAYLIST"})}),(0,jr.jsx)("div",{className:"bg-white border border-gray-200 rounded-b-lg",children:u.map((e,r)=>(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-red-50 transition-colors border-b border-gray-100 last:border-0 group cursor-pointer",onClick:()=>t(e,u),children:[(0,jr.jsxs)("span",{className:"text-gray-600 w-8 text-center font-medium",children:[String(r+1).padStart(2,"0"),"."]}),(0,jr.jsx)("img",{src:e.coverImage||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-black font-medium truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-gray-500 text-sm truncate",children:e.artistName})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jr.jsx)(si,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),o||qr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar \xe0 playlist"})},children:(0,jr.jsx)(Kv,{className:"w-5 h-5 text-gray-600"})}),(0,jr.jsx)("span",{className:"text-gray-600 text-sm w-12 text-right",children:b(e.duration)}),(0,jr.jsxs)(si,{onClick:t=>(async(e,t)=>{if(t.stopPropagation(),e.audioUrl){qr({title:"Download Iniciado",description:e.title});try{const t=await fetch(e.audioUrl),r=await t.blob(),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(e.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(r){qr({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else qr({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})})(e,t),variant:"outline",size:"sm",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,jr.jsx)(Sp,{className:"w-4 h-4 mr-1"}),"Baixar"]})]})]},e.id))})]})})]})},Fy=()=>{var e;const[t,r]=(0,n.useState)([]),[a,o]=(0,n.useState)(!0),[s,i]=(0,n.useState)("geral"),l=[{id:"dia",label:"DIA"},{id:"semana",label:"SEMANA"},{id:"mes",label:"M\xcaS"},{id:"geral",label:"GERAL"}];(0,n.useEffect)(()=>{c()},[s]);const c=async()=>{o(!0);let e=xr.from("albums").select("\n        *,\n        artist:artists(id, name, slug, is_verified, avatar_url)\n      ").order("play_count",{ascending:!1,nullsFirst:!1});const t=new Date;if("dia"===s){const r=new Date(t.getFullYear(),t.getMonth(),t.getDate());e=e.gte("created_at",r.toISOString())}else if("semana"===s){const r=new Date(t.getTime()-6048e5);e=e.gte("created_at",r.toISOString())}else if("mes"===s){const r=new Date(t.getTime()-2592e6);e=e.gte("created_at",r.toISOString())}const{data:n,error:a}=await e.limit(100);!a&&n&&r(n),o(!1)},u=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"TOP CDS"}),(0,jr.jsxs)(sp,{modal:!1,children:[(0,jr.jsxs)(ip,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,jr.jsx)(Lv,{className:"w-4 h-4"}),(null===(e=l.find(e=>e.id===s))||void 0===e?void 0:e.label)||"GERAL",(0,jr.jsx)(Is,{className:"w-4 h-4"})]}),(0,jr.jsx)(lp,{align:"end",className:"bg-white",children:l.map(e=>(0,jr.jsx)(cp,{onClick:()=>i(e.id),className:"cursor-pointer ".concat(s===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),a?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,jr.jsx)("p",{className:"text-gray-500 mt-4",children:"Carregando..."})]}):0===t.length?(0,jr.jsxs)("div",{className:"text-center py-16",children:[(0,jr.jsx)(Ov,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum CD encontrado"}),(0,jr.jsx)("p",{className:"text-gray-500",children:"N\xe3o h\xe1 CDs para o per\xedodo selecionado"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:t.map((e,t)=>{var r,n,a,o;return(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(bt,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-red-600 text-white font-bold text-lg w-10 h-10 flex items-center justify-center rounded shadow-lg",children:t+1}),(0,jr.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)(bt,{to:"/".concat((null===(n=e.artist)||void 0===n?void 0:n.slug)||e.artist_id),className:"flex items-center gap-1 text-gray-500 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,jr.jsx)("span",{className:"truncate",children:(null===(a=e.artist)||void 0===a?void 0:a.name)||e.artist_name}),(null===(o=e.artist)||void 0===o?void 0:o.is_verified)&&(0,jr.jsx)(Pv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:u(e.play_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:u(e.download_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})})]})})},zy=to("disc-3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]]),Uy=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0);(0,n.useEffect)(()=>{o()},[]);const o=async()=>{a(!0);const{data:e,error:r}=await xr.from("albums").select("\n        *,\n        artist:artists(id, name, slug, is_verified, avatar_url)\n      ").order("created_at",{ascending:!1}).limit(100);!r&&e&&t(e),a(!1)},s=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,jr.jsx)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"LAN\xc7AMENTOS RECENTES"})}),r?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,jr.jsx)("p",{className:"text-gray-500 mt-4",children:"Carregando..."})]}):0===e.length?(0,jr.jsxs)("div",{className:"text-center py-16",children:[(0,jr.jsx)(zy,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum lan\xe7amento encontrado"}),(0,jr.jsx)("p",{className:"text-gray-500",children:"N\xe3o h\xe1 lan\xe7amentos recentes no momento"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:e.map(e=>{var t,r,n,a;return(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(bt,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)(bt,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id),className:"flex items-center gap-1 text-gray-500 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,jr.jsx)("span",{className:"truncate",children:(null===(n=e.artist)||void 0===n?void 0:n.name)||e.artist_name}),(null===(a=e.artist)||void 0===a?void 0:a.is_verified)&&(0,jr.jsx)(Pv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:s(e.play_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:s(e.download_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})})]})})},By=to("music-2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]),qy=()=>{const{genre:e}=ve(),[t,r]=(0,n.useState)([]),[a,o]=(0,n.useState)(!0),s={"forr\xf3":"Forr\xf3",forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega funk":"Brega Funk","brega-funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk","ax\xe9":"Ax\xe9",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel","rap/hip-hop":"Rap/Hip-Hop","rap-hip-hop":"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock","eletr\xf4nica":"Eletr\xf4nica",eletronica:"Eletr\xf4nica",trap:"Trap",frevo:"Frevo"},i=e=>{if(!e)return"";const t=decodeURIComponent(e).toLowerCase();return s[t]||t.charAt(0).toUpperCase()+t.slice(1)};(0,n.useEffect)(()=>{l()},[e]);const l=async()=>{o(!0);const t=decodeURIComponent(e).toLowerCase(),n=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/-/g," "),a=n(t),{data:s}=await xr.from("artists").select("id, estilo_musical"),i=(s||[]).filter(e=>{if(!e.estilo_musical)return!1;const r=n(e.estilo_musical);return r.includes(a)||r.includes(t.replace(/-/g," "))}).map(e=>e.id);if(0===i.length)return r([]),void o(!1);const{data:l,error:c}=await xr.from("albums").select("\n        *,\n        artist:artists(id, name, slug, is_verified, avatar_url)\n      ").in("artist_id",i).order("created_at",{ascending:!1});!c&&l&&r(l),o(!1)},c=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,jr.jsx)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:i(e)})}),a?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,jr.jsx)("p",{className:"text-gray-500 mt-4",children:"Carregando..."})]}):0===t.length?(0,jr.jsxs)("div",{className:"text-center py-16",children:[(0,jr.jsx)(By,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum \xe1lbum encontrado"}),(0,jr.jsxs)("p",{className:"text-gray-500",children:["N\xe3o h\xe1 \xe1lbuns do g\xeanero ",i(e)," no momento"]})]}):(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:t.map(e=>{var t,r,n,a;return(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(bt,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)(bt,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id),className:"flex items-center gap-1 text-gray-500 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,jr.jsx)("span",{className:"truncate",children:(null===(n=e.artist)||void 0===n?void 0:n.name)||e.artist_name}),(null===(a=e.artist)||void 0===a?void 0:a.is_verified)&&(0,jr.jsx)(Pv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:c(e.play_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:c(e.download_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})})]})})},Vy=to("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Hy=to("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Wy=()=>{var e,t;const{slug:r}=ve(),{playSong:a}=Or(),{user:o}=Nr(),[s,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)("albums"),[f,p]=(0,n.useState)(null),[m,g]=(0,n.useState)(!0),[v,y]=(0,n.useState)([]),[b,x]=(0,n.useState)([]),w=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0",j={"forr\xf3":"Forr\xf3",forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk","ax\xe9":"Ax\xe9",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel","rap/hip-hop":"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock","eletr\xf4nica":"Eletr\xf4nica",eletronica:"Eletr\xf4nica",trap:"Trap",frevo:"Frevo"},_={"forr\xf3":"forro",forro:"forro",arrocha:"arrocha",piseiro:"piseiro",arrochadeira:"arrochadeira",pagode:"pagode",sertanejo:"sertanejo","brega funk":"brega-funk",variados:"variados",samba:"samba",funk:"funk","ax\xe9":"axe",axe:"axe",reggae:"reggae",brega:"brega",gospel:"gospel","rap/hip-hop":"rap-hip-hop",pop:"pop",mpb:"mpb",rock:"rock","eletr\xf4nica":"eletronica",eletronica:"eletronica",trap:"trap",frevo:"frevo"};(0,n.useEffect)(()=>{(async()=>{let{data:e}=await xr.from("artists").select("*").eq("slug",r).maybeSingle();if(!e){const{data:t}=await xr.from("artists").select("*").eq("id",r).maybeSingle();e=t}if(e){const{count:t}=await xr.from("follows").select("*",{count:"exact",head:!0}).eq("artist_id",e.id),{data:r}=await xr.from("albums").select("play_count").eq("artist_id",e.id),n=(r||[]).reduce((e,t)=>e+(t.play_count||0),0);p({id:e.id,name:e.name,bio:e.bio,avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",verified:e.is_verified,followers:t||0,monthlyListeners:n,genre:e.estilo_musical,location:e.cidade&&e.estado?"".concat(e.cidade,", ").concat(e.estado):e.cidade||e.estado||"",instagram:e.instagram||"",twitter:e.twitter||"",youtube:e.youtube||""})}else if(o&&o.id===r){const{error:e}=await xr.from("artists").insert({id:o.id,email:o.email,name:o.name||"Artista",slug:(o.name||"artista").toLowerCase().replace(/[^a-z0-9]/g,""),bio:"",estilo_musical:o.estilo_musical||"",cidade:o.cidade||"",estado:o.estado||"",avatar_url:"",cover_url:"",followers_count:0,is_verified:!1});e?(console.error("Erro ao criar artista:",e),p(null)):p({id:o.id,name:o.name||"Artista",bio:"",avatar:"/images/default-avatar.png",coverImage:"",verified:!1,followers:0,monthlyListeners:0,genre:o.estilo_musical||""})}else{const e=Er.find(e=>e.id===r||e.slug===r);p(e||null),e&&y(Ar.filter(t=>t.artistId===e.id))}g(!1)})().then(()=>{})},[r,o]),(0,n.useEffect)(()=>{(async()=>{if(o&&null!==f&&void 0!==f&&f.id){const{data:e}=await xr.from("follows").select("id").eq("follower_id",o.id).eq("artist_id",f.id).maybeSingle();l(!!e)}})()},[o,null===f||void 0===f?void 0:f.id]),(0,n.useEffect)(()=>{if(null!==f&&void 0!==f&&f.id){const e=async()=>{const{data:e,error:t}=await xr.from("playlists").select("*").eq("user_id",f.id).eq("is_public",!0).order("created_at",{ascending:!1});console.log("Playlists do artista:",e,"Erro:",t),e&&x(e)};(async()=>{const{data:e}=await xr.from("albums").select("*").eq("artist_id",f.id).order("created_at",{ascending:!1});e&&e.length>0&&y(e.map(e=>({id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-album.png",songCount:e.song_count||0,releaseYear:e.release_year,playCount:e.play_count||0,downloadCount:e.download_count||0})))})(),e()}},[null===f||void 0===f?void 0:f.id]);f&&Cr.filter(e=>e.artistId===f.id);if(m)return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(!f)return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,jr.jsx)("p",{className:"text-black text-xl",children:"Artista n\xe3o encontrado"})});const N=async()=>{try{const{error:e}=await xr.from("follows").insert({follower_id:o.id,artist_id:f.id});if(e)return console.error("Erro ao seguir:",e),"23505"===e.code?void l(!0):void qr({title:"Erro",description:"N\xe3o foi poss\xedvel seguir. Tente novamente.",variant:"destructive"});l(!0),p(e=>(0,i.A)((0,i.A)({},e),{},{followers:(e.followers||0)+1})),qr({title:"Seguindo",description:f.name})}catch(Hj){console.error("Erro ao seguir:",Hj),qr({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}};return(0,jr.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("div",{className:"h-96 bg-cover bg-center",style:{backgroundImage:"url(".concat(f.coverImage,")"),backgroundPosition:"center"},children:(0,jr.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/50 to-black"})}),(0,jr.jsx)("div",{className:"absolute bottom-0 left-0 right-0",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 pb-6",children:(0,jr.jsxs)("div",{className:"flex items-end gap-6",children:[(0,jr.jsx)("div",{className:"relative",children:(0,jr.jsx)("img",{src:f.avatar,alt:f.name,className:"w-40 h-40 rounded-full border-4 border-white shadow-2xl object-cover"})}),(0,jr.jsxs)("div",{className:"flex-1 pb-2",children:[(0,jr.jsxs)("h1",{className:"text-5xl font-bold text-white mb-2 flex items-center",children:[f.name,f.verified&&(0,jr.jsx)("div",{className:"ml-4 inline-flex items-center",children:(0,jr.jsx)("div",{className:"w-7 h-7 rounded-full bg-blue-500 flex items-center justify-center",children:(0,jr.jsx)(Pv,{className:"w-4 h-4",color:"#fff"})})})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-6 text-white/80 text-sm mt-3",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)(Vy,{className:"w-4 h-4"}),(0,jr.jsxs)("span",{children:[null===(e=f.followers)||void 0===e?void 0:e.toLocaleString()," seguidores"]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)(Ws,{className:"w-4 h-4"}),(0,jr.jsxs)("span",{children:[null===(t=f.monthlyListeners)||void 0===t?void 0:t.toLocaleString()," ouvintes mensais"]})]})]})]}),(0,jr.jsx)("div",{className:"pb-2",children:(0,jr.jsx)(si,{onClick:()=>{o?s?u(!0):N():qr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para seguir artistas",variant:"destructive"})},className:"px-8 h-12 rounded-full font-semibold ".concat(s?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-red-600 text-white hover:bg-red-700"),children:s?"DEIXAR DE SEGUIR":"+ SEGUIR"})})]})})})]}),(0,jr.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"flex gap-8",children:[(0,jr.jsx)("button",{onClick:()=>h("albums"),className:"py-4 px-2 font-semibold border-b-2 transition-colors ".concat("albums"===d?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:"\xc1LBUNS"}),(0,jr.jsx)("button",{onClick:()=>h("playlist"),className:"py-4 px-2 font-semibold border-b-2 transition-colors ".concat("playlist"===d?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:"PLAYLIST"})]})})}),(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,jr.jsxs)("div",{className:"flex gap-8",children:[(0,jr.jsxs)("div",{className:"flex-1",children:["albums"===d&&(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"\xc1LBUNS"}),(0,jr.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700",children:[(0,jr.jsx)("option",{children:"MAIS RECENTES"}),(0,jr.jsx)("option",{children:"MAIS ANTIGOS"}),(0,jr.jsx)("option",{children:"A-Z"})]})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:v.map(e=>(0,jr.jsxs)(bt,{to:"/".concat((null===f||void 0===f?void 0:f.slug)||r,"/").concat(e.slug||e.id),className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-14 h-14 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-6 h-6 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs mb-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:w(e.playCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:w(e.downloadCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))}),0===v.length&&(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(Ws,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Nenhum \xe1lbum publicado ainda"})]})]}),"playlist"===d&&(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"PLAYLISTS"}),(0,jr.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700",children:[(0,jr.jsx)("option",{children:"MAIS RECENTES"}),(0,jr.jsx)("option",{children:"MAIS ANTIGOS"}),(0,jr.jsx)("option",{children:"A-Z"})]})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:b.map(e=>(0,jr.jsxs)(bt,{to:"/playlist/".concat(e.slug||e.id),className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-14 h-14 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(_p,{className:"w-6 h-6 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,jr.jsxs)("p",{className:"text-gray-600 text-sm",children:[(e.song_ids||[]).length," m\xfasicas"]})]},e.id))}),0===b.length&&(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(Ws,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Nenhuma playlist ainda"})]})]})]}),(0,jr.jsx)("div",{className:"w-[420px] flex-shrink-0 hidden lg:block",children:(0,jr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-4",children:[f.bio&&(0,jr.jsxs)("div",{className:"mb-6",children:[(0,jr.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Biografia"}),(0,jr.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed text-justify",children:f.bio})]}),(f.instagram||f.twitter||f.youtube)&&(0,jr.jsxs)("div",{className:"mb-6",children:[(0,jr.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Redes Sociais"}),(0,jr.jsxs)("div",{className:"space-y-2",children:[f.instagram&&(0,jr.jsxs)("a",{href:f.instagram.startsWith("http")?f.instagram:"https://instagram.com/".concat(f.instagram.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,jr.jsx)(mp,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:f.instagram.includes("/")?f.instagram.split("/").filter(Boolean).pop():f.instagram.replace("@","")})]}),f.twitter&&(0,jr.jsxs)("a",{href:f.twitter.startsWith("http")?f.twitter:"https://twitter.com/".concat(f.twitter.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,jr.jsx)(gp,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:f.twitter.includes("/")?f.twitter.split("/").filter(Boolean).pop():f.twitter.replace("@","")})]}),f.youtube&&(0,jr.jsxs)("a",{href:f.youtube.startsWith("http")?f.youtube:"https://youtube.com/".concat(f.youtube),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,jr.jsx)(vp,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:f.youtube.includes("/")?f.youtube.split("/").filter(Boolean).pop():f.youtube})]})]})]}),f.location&&(0,jr.jsxs)("div",{className:"mb-6",children:[(0,jr.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Localiza\xe7\xe3o"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[(0,jr.jsx)(Hy,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:f.location})]})]}),f.genre&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Estilo Musical"}),(0,jr.jsxs)(bt,{to:"/genero/".concat((e=>{if(!e)return"";const t=e.toLowerCase();return _[t]||t.replace(/\s+/g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,"")})(f.genre)),className:"flex items-center gap-2 text-gray-600 text-sm hover:text-red-600 transition-colors",children:[(0,jr.jsx)(By,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:(e=>{if(!e)return"";const t=e.toLowerCase();return j[t]||e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})(f.genre)})]})]})]})})]})}),c&&(0,jr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4 shadow-xl",children:[(0,jr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-4",children:["Deixar de seguir @",null===f||void 0===f?void 0:f.name,"?"]}),(0,jr.jsx)("p",{className:"text-gray-600 text-sm text-center mb-6",children:"Tem certeza de que deseja deixar de seguir este Artista?"}),(0,jr.jsx)("div",{className:"border-t border-gray-200",children:(0,jr.jsx)("button",{onClick:async()=>{try{const{error:e}=await xr.from("follows").delete().eq("follower_id",o.id).eq("artist_id",f.id);if(e)return console.error("Erro ao deixar de seguir:",e),void qr({title:"Erro",description:"N\xe3o foi poss\xedvel deixar de seguir. Tente novamente.",variant:"destructive"});l(!1),p(e=>(0,i.A)((0,i.A)({},e),{},{followers:Math.max((e.followers||1)-1,0)})),u(!1),qr({title:"Deixou de seguir",description:f.name})}catch(Hj){console.error("Erro ao deixar de seguir:",Hj)}},className:"w-full py-3 text-red-600 font-semibold hover:bg-gray-50 transition-colors",children:"Deixar de seguir"})}),(0,jr.jsx)("div",{className:"border-t border-gray-200",children:(0,jr.jsx)("button",{onClick:()=>u(!1),className:"w-full py-3 text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancelar"})})]})})]})},Ky=to("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Gy=()=>{const{user:e,logout:t}=Nr(),r=fe(),[a,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{if(null!==e&&void 0!==e&&e.id){const{data:t}=await xr.from("artists").select("*").eq("id",e.id).maybeSingle();t&&o(t)}})()},[null===e||void 0===e?void 0:e.id]);const s=e=>r.pathname===e;return(0,jr.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col h-full",children:[(0,jr.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,jr.jsx)("img",{src:(null===a||void 0===a?void 0:a.avatar_url)||(null===e||void 0===e?void 0:e.avatar)||"/images/default-avatar.png",alt:(null===a||void 0===a?void 0:a.name)||(null===e||void 0===e?void 0:e.name),className:"w-12 h-12 rounded-full object-cover"}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"font-semibold text-gray-900",children:null===e||void 0===e?void 0:e.name}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Artista"})]})]}),(0,jr.jsx)(bt,{to:"/premium",children:(0,jr.jsx)(si,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm",children:"premium"})})]}),(0,jr.jsxs)("nav",{className:"flex-1 py-4 overflow-y-auto",children:[(0,jr.jsxs)("div",{className:"px-4 mb-4",children:[(0,jr.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"ADICIONAR"}),(0,jr.jsxs)(bt,{to:"/artist/upload",className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(s("/artist/upload")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Fs,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Novo Upload"})]})]}),(0,jr.jsxs)("div",{className:"px-4 mb-4",children:[(0,jr.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"EDITAR PERFIL"}),(0,jr.jsxs)(bt,{to:"/artist/albums",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(s("/artist/albums")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(zs,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Meus \xc1lbuns"})]}),(0,jr.jsxs)(bt,{to:"/artist/playlists",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(s("/artist/playlists")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Hs,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Minhas Playlists"})]}),(0,jr.jsxs)(bt,{to:"/".concat((null===a||void 0===a?void 0:a.slug)||(null===e||void 0===e?void 0:e.id)),className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(r.pathname.includes("/profile-public")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Ms,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Meu Perfil"})]}),(0,jr.jsxs)(bt,{to:"/artist/settings",className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(s("/artist/settings")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Bs,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Configura\xe7\xf5es"})]})]}),(0,jr.jsxs)("div",{className:"px-4 mb-4",children:[(0,jr.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"DASHBOARD"}),(0,jr.jsxs)(bt,{to:"/artist/dashboard",className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(s("/artist/dashboard")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Us,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Estat\xedsticas"})]})]})]}),(0,jr.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,jr.jsxs)("button",{onClick:t,className:"flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg w-full",children:[(0,jr.jsx)(qs,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Sair"})]})})]})},$y=()=>{var e;const{user:t}=Nr(),[r,a]=(0,n.useState)("geral"),[o,s]=(0,n.useState)("7"),[i,l]=(0,n.useState)("plays"),[c,u]=(0,n.useState)(!0),[d,h]=(0,n.useState)({plays:0,downloads:0}),[f,p]=(0,n.useState)([]),[m,g]=(0,n.useState)(null),[v,y]=(0,n.useState)([]),[b,x]=(0,n.useState)(!1),[w,j]=(0,n.useState)(!1),_=new Date,N=new Date(_);N.setDate(N.getDate()-1);const k=_.toLocaleDateString("pt-BR"),S=N.toLocaleDateString("pt-BR");(0,n.useEffect)(()=>{E()},[null===t||void 0===t?void 0:t.id,r,o,m]);const E=async()=>{if(null!==t&&void 0!==t&&t.id){u(!0);try{const{data:e}=await xr.from("albums").select("*").eq("artist_id",t.id).order("created_at",{ascending:!1});p(e||[]);let n=xr.from("songs").select("id, plays, downloads, created_at").eq("artist_id",t.id);"cds"===r&&m&&(n=n.eq("album_id",m));const{data:a}=await n,s=(a||[]).reduce((e,t)=>e+(t.plays||0),0),i=(a||[]).reduce((e,t)=>e+(t.downloads||0),0);h({plays:s,downloads:i});const l=parseInt(o),c=[];for(let t=l-1;t>=0;t--){const e=new Date;e.setDate(e.getDate()-t);const r=e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});c.push({date:r,plays:0,downloads:0})}y(c)}catch(e){console.error("Erro ao carregar dados:",e)}finally{u(!1)}}},A=[{value:"7",label:"\xdaltimos 7 dias"},{value:"14",label:"\xdaltimos 14 dias"},{value:"30",label:"\xdaltimos 30 dias"}],C=Math.max(...v.map(e=>"plays"===i?e.plays:e.downloads),1);return(0,jr.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,jr.jsx)(Gy,{}),(0,jr.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,jr.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,jr.jsx)("div",{className:"mb-6",children:(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Estat\xedsticas"})}),(0,jr.jsx)("div",{className:"flex gap-2 mb-6",children:[{id:"geral",label:"GERAL"},{id:"cds",label:"CDS/SINGLES"},{id:"playlists",label:"PLAYLISTS"}].map(e=>(0,jr.jsx)(si,{onClick:()=>{a(e.id),g(null)},className:"rounded-full px-6 ".concat(r===e.id?"bg-red-600 hover:bg-red-700 text-white":"bg-white border border-red-600 text-red-600 hover:bg-red-50"),children:e.label},e.id))}),"cds"===r&&(0,jr.jsx)(Om,{className:"mb-6 border-red-200",children:(0,jr.jsx)(Mm,{className:"p-0",children:c&&0===f.length?(0,jr.jsxs)("div",{className:"p-4 flex items-center gap-2 text-red-600",children:[(0,jr.jsx)(Ky,{className:"w-4 h-4 animate-spin"}),"Carregando..."]}):0===f.length?(0,jr.jsx)("div",{className:"p-4 text-gray-500",children:"Nenhum \xe1lbum encontrado"}):f.map(e=>(0,jr.jsxs)("div",{onClick:()=>g(m===e.id?null:e.id),className:"flex items-center gap-4 p-4 border-b last:border-b-0 cursor-pointer hover:bg-gray-50 ".concat(m===e.id?"bg-red-50":""),children:[(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-12 h-12 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"font-medium text-red-600",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:["Enviado: ",new Date(e.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),(0,jr.jsx)(Is,{className:"w-5 h-5 text-red-400 transition-transform ".concat(m===e.id?"rotate-180":"")})]},e.id))})}),"playlists"===r&&(0,jr.jsx)(Om,{className:"mb-6 border-red-200",children:(0,jr.jsx)(Mm,{className:"p-4",children:(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,jr.jsx)(Ky,{className:"w-4 h-4 animate-spin"}),"Carregando..."]})})}),(0,jr.jsx)(Om,{className:"border-gray-200",children:(0,jr.jsxs)(Mm,{className:"p-6",children:[(0,jr.jsx)("div",{className:"flex justify-end mb-4",children:(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsxs)(si,{variant:"outline",onClick:()=>x(!b),className:"flex items-center gap-2",children:[null===(e=A.find(e=>e.value===o))||void 0===e?void 0:e.label,(0,jr.jsx)(Is,{className:"w-4 h-4"})]}),b&&(0,jr.jsx)("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-lg z-10 min-w-[160px]",children:A.map(e=>(0,jr.jsx)("div",{onClick:()=>{s(e.value),x(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat(o===e.value?"bg-blue-50 text-blue-600":""),children:e.label},e.value))})]})}),"cds"===r&&(0,jr.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["* CDs lan\xe7ados na data de hoje (",(0,jr.jsx)("span",{className:"font-medium",children:k}),") n\xe3o est\xe3o contabilizados abaixo."]}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["* Dados atualizados at\xe9 o dia (",(0,jr.jsx)("span",{className:"font-medium",children:S}),")"]}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["** O carregamento pode demorar entre ",(0,jr.jsx)("span",{className:"font-medium",children:"20-30 segundos"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-8 mb-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"PLAYS"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:d.plays.toLocaleString("pt-BR")})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"DOWNLOADS"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:d.downloads.toLocaleString("pt-BR")})]}),(0,jr.jsx)("div",{className:"flex-1"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)("span",{className:"text-sm text-gray-500",children:"Dados por filtro:"}),(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsxs)(si,{variant:"outline",onClick:()=>j(!w),className:"flex items-center gap-2",children:["plays"===i?"PLAYS":"DOWNLOADS",(0,jr.jsx)(Is,{className:"w-4 h-4"})]}),w&&(0,jr.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-lg z-10 min-w-[120px]",children:[(0,jr.jsx)("div",{onClick:()=>{l("plays"),j(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat("plays"===i?"bg-blue-50 text-blue-600":""),children:"PLAYS"}),(0,jr.jsx)("div",{onClick:()=>{l("downloads"),j(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat("downloads"===i?"bg-blue-50 text-blue-600":""),children:"DOWNLOADS"})]})]})]})]}),(0,jr.jsx)("div",{className:"relative h-64 border-l border-b border-gray-300",children:c?(0,jr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"flex flex-col items-center gap-2",children:(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600"}),(0,jr.jsx)(Ws,{className:"w-6 h-6 text-red-400 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]})})}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none",children:[0,1,2,3,4].map(e=>(0,jr.jsx)("div",{className:"border-t border-gray-100 w-full"},e))}),(0,jr.jsx)("div",{className:"absolute inset-0 flex items-end justify-around px-2",children:v.map((e,t)=>{const r="plays"===i?e.plays:e.downloads,n=C>0?r/C*100:0;return(0,jr.jsx)("div",{className:"flex flex-col items-center flex-1",children:(0,jr.jsx)("div",{className:"w-2 bg-blue-500 rounded-t transition-all",style:{height:"".concat(Math.max(n,2),"%")}})},t)})}),(0,jr.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",children:[(0,jr.jsx)("polyline",{fill:"none",stroke:"#3b82f6",strokeWidth:"2",points:v.map((e,t)=>{const r="plays"===i?e.plays:e.downloads,n=(t+.5)/v.length*100,a=100-(C>0?r/C*100:0);return"".concat(n,"%,").concat(a,"%")}).join(" ")}),v.map((e,t)=>{const r="plays"===i?e.plays:e.downloads,n=(t+.5)/v.length*100,a=100-(C>0?r/C*100:0);return(0,jr.jsx)("circle",{cx:"".concat(n,"%"),cy:"".concat(a,"%"),r:"4",fill:"#3b82f6"},t)})]})]})}),(0,jr.jsx)("div",{className:"flex justify-around mt-2 text-xs text-gray-500",children:v.map((e,t)=>(0,jr.jsx)("span",{children:e.date},t))})]})})]})})]})},Jy=to("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Yy=to("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Qy=["scope","children"];function Xy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const a=t[0];if(1===t.length)return a;const o=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const r=e.reduce((e,r)=>{let{useScope:n,scopeName:a}=r;const o=n(t)["__scope".concat(a)];return(0,i.A)((0,i.A)({},e),o)},{});return n.useMemo(()=>({["__scope".concat(a.scopeName)]:r}),[r])}};return o.scopeName=a.scopeName,o}const Zy=["asChild"];var eb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const r=Zs("Primitive.".concat(t)),a=n.forwardRef((e,n)=>{const{asChild:a}=e,o=s(e,Zy),l=a?r:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,jr.jsx)(l,(0,i.A)((0,i.A)({},o),{},{ref:n}))});return a.displayName="Primitive.".concat(t),(0,i.A)((0,i.A)({},e),{},{[t]:a})},{});const tb=["__scopeProgress","value","max","getValueLabel"],rb=["__scopeProgress"];var nb="Progress",ab=100,[ob,sb]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const a=()=>{const t=r.map(e=>n.createContext(e));return function(r){const a=(null===r||void 0===r?void 0:r[e])||t;return n.useMemo(()=>({["__scope".concat(e)]:(0,i.A)((0,i.A)({},r),{},{[e]:a})}),[r,a])}};return a.scopeName=e,[function(t,a){const o=n.createContext(a);o.displayName=t+"Context";const i=r.length;r=[...r,a];const l=t=>{var r;const{scope:a,children:l}=t,c=s(t,Qy),u=(null===a||void 0===a||null===(r=a[e])||void 0===r?void 0:r[i])||o,d=n.useMemo(()=>c,Object.values(c));return(0,jr.jsx)(u.Provider,{value:d,children:l})};return l.displayName=t+"Provider",[l,function(r,s){var l;const c=(null===s||void 0===s||null===(l=s[e])||void 0===l?void 0:l[i])||o,u=n.useContext(c);if(u)return u;if(void 0!==a)return a;throw new Error("`".concat(r,"` must be used within `").concat(t,"`"))}]},Xy(a,...t)]}(nb),[ib,lb]=ob(nb),cb=n.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=hb}=e,l=s(e,tb);var c,u;!a&&0!==a||mb(a)||console.error((c="".concat(a),u="Progress","Invalid prop `max` of value `".concat(c,"` supplied to `").concat(u,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(ab,"`.")));const d=mb(a)?a:ab;null===n||gb(n,d)||console.error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(ab," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}("".concat(n),"Progress"));const h=gb(n,d)?n:null,f=pb(h)?o(h,d):void 0;return(0,jr.jsx)(ib,{scope:r,value:h,max:d,children:(0,jr.jsx)(eb.div,(0,i.A)((0,i.A)({"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":pb(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":fb(h,d),"data-value":null!==h&&void 0!==h?h:void 0,"data-max":d},l),{},{ref:t}))})});cb.displayName=nb;var ub="ProgressIndicator",db=n.forwardRef((e,t)=>{var r;const{__scopeProgress:n}=e,a=s(e,rb),o=lb(ub,n);return(0,jr.jsx)(eb.div,(0,i.A)((0,i.A)({"data-state":fb(o.value,o.max),"data-value":null!==(r=o.value)&&void 0!==r?r:void 0,"data-max":o.max},a),{},{ref:t}))});function hb(e,t){return"".concat(Math.round(e/t*100),"%")}function fb(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function pb(e){return"number"===typeof e}function mb(e){return pb(e)&&!isNaN(e)&&e>0}function gb(e,t){return pb(e)&&!isNaN(e)&&e<=t&&e>=0}db.displayName=ub;var vb=cb,yb=db;const bb=["className","value"],xb=n.forwardRef((e,t)=>{let{className:r,value:n}=e,a=s(e,bb);return(0,jr.jsx)(vb,(0,i.A)((0,i.A)({ref:t,className:bs("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r)},a),{},{children:(0,jr.jsx)(yb,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})}))});xb.displayName=vb.displayName;const wb=["className"],jb=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,wb);return(0,jr.jsx)("textarea",(0,i.A)({className:bs("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},n))});jb.displayName="Textarea";const _b=["children"],Nb=["children"];function kb(e){const t=Sb(e),r=n.forwardRef((e,r)=>{const{children:a}=e,o=s(e,_b),l=n.Children.toArray(a),c=l.find(Ab);if(c){const e=c.props.children,a=l.map(t=>t===c?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t);return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(t,(0,i.A)((0,i.A)({},o),{},{ref:r,children:a}))});return r.displayName="".concat(e,".Slot"),r}function Sb(e){const t=n.forwardRef((e,t)=>{const{children:r}=e,a=s(e,Nb);if(n.isValidElement(r)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),o=function(e,t){const r=(0,i.A)({},t);for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=function(){const e=o(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,i.A)((0,i.A)({},a),o):"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return(0,i.A)((0,i.A)({},e),r)}(a,r.props);return r.type!==n.Fragment&&(o.ref=t?Kr(t,e):e),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Eb=Symbol("radix.slottable");function Ab(e){return n.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Eb}const Cb=["__scopeSelect","disabled"],Tb=["__scopeSelect","className","style","children","placeholder"],Rb=["__scopeSelect","children"],Pb=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],Ob=["__scopeSelect","onPlaced"],Db=["__scopeSelect","align","collisionPadding"],Ib=["__scopeSelect","nonce"],Lb=["__scopeSelect"],Mb=["__scopeSelect"],Fb=["__scopeSelect","value","disabled","textValue"],zb=["__scopeSelect","className","style"],Ub=["__scopeSelect"],Bb=["__scopeSelect","onAutoScroll"],qb=["__scopeSelect"],Vb=["__scopeSelect"],Hb=["__scopeSelect","value"];var Wb=[" ","Enter","ArrowUp","ArrowDown"],Kb=[" ","Enter"],Gb="Select",[$b,Jb,Yb]=dn(Gb),[Qb,Xb]=en(Gb,[Yb,Ec]),Zb=Ec(),[ex,tx]=Qb(Gb),[rx,nx]=Qb(Gb),ax=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:o,onOpenChange:s,value:l,defaultValue:c,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:p,required:m,form:g}=e,v=Zb(t),[y,b]=n.useState(null),[x,w]=n.useState(null),[j,_]=n.useState(!1),N=li(d),[k,S]=Vn({prop:a,defaultProp:null!==o&&void 0!==o&&o,onChange:s,caller:Gb}),[E,A]=Vn({prop:l,defaultProp:c,onChange:u,caller:Gb}),C=n.useRef(null),T=!y||(g||!!y.closest("form")),[R,P]=n.useState(new Set),O=Array.from(R).map(e=>e.props.value).join(";");return(0,jr.jsx)(Vc,(0,i.A)((0,i.A)({},v),{},{children:(0,jr.jsxs)(ex,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:ki(),value:E,onValueChange:A,open:k,onOpenChange:S,dir:N,triggerPointerDownPosRef:C,disabled:p,children:[(0,jr.jsx)($b.Provider,{scope:t,children:(0,jr.jsx)(rx,{scope:e.__scopeSelect,onNativeOptionAdd:n.useCallback(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:n.useCallback(e=>{P(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:r})}),T?(0,jr.jsxs)(Kx,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:E,onChange:e=>A(e.target.value),disabled:p,form:g,children:[void 0===E?(0,jr.jsx)("option",{value:""}):null,Array.from(R)]},O):null]})}))};ax.displayName=Gb;var ox="SelectTrigger",sx=n.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1}=e,o=s(e,Cb),l=Zb(r),c=tx(ox,r),u=c.disabled||a,d=Gr(t,c.onTriggerChange),h=Jb(r),f=n.useRef("touch"),[p,m,g]=$x(e=>{const t=h().filter(e=>!e.disabled),r=t.find(e=>e.value===c.value),n=Jx(t,e,r);void 0!==n&&c.onValueChange(n.value)}),v=e=>{u||(c.onOpenChange(!0),g()),e&&(c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,jr.jsx)(Hc,(0,i.A)((0,i.A)({asChild:!0},l),{},{children:(0,jr.jsx)(jn.button,(0,i.A)((0,i.A)({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Gx(c.value)?"":void 0},o),{},{ref:d,onClick:Hr(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&v(e)}),onPointerDown:Hr(o.onPointerDown,e=>{f.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:Hr(o.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||Wb.includes(e.key)&&(v(),e.preventDefault())})}))}))});sx.displayName=ox;var ix="SelectValue",lx=n.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:l=""}=e,c=s(e,Tb),u=tx(ix,r),{onValueNodeHasChildrenChange:d}=u,h=void 0!==o,f=Gr(t,u.onValueNodeChange);return Mn(()=>{d(h)},[d,h]),(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({},c),{},{ref:f,style:{pointerEvents:"none"},children:Gx(u.value)?(0,jr.jsx)(jr.Fragment,{children:l}):o}))});lx.displayName=ix;var cx=n.forwardRef((e,t)=>{const{__scopeSelect:r,children:n}=e,a=s(e,Rb);return(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({"aria-hidden":!0},a),{},{ref:t,children:n||"\u25bc"}))});cx.displayName="SelectIcon";var ux=e=>(0,jr.jsx)(zn,(0,i.A)({asChild:!0},e));ux.displayName="SelectPortal";var dx="SelectContent",hx=n.forwardRef((e,t)=>{const r=tx(dx,e.__scopeSelect),[a,o]=n.useState();if(Mn(()=>{o(new DocumentFragment)},[]),!r.open){const t=a;return t?Vr.createPortal((0,jr.jsx)(px,{scope:e.__scopeSelect,children:(0,jr.jsx)($b.Slot,{scope:e.__scopeSelect,children:(0,jr.jsx)("div",{children:e.children})})}),t):null}return(0,jr.jsx)(vx,(0,i.A)((0,i.A)({},e),{},{ref:t}))});hx.displayName=dx;var fx=10,[px,mx]=Qb(dx),gx=kb("SelectContent.RemoveScroll"),vx=n.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}=e,x=s(e,Pb),w=tx(dx,r),[j,_]=n.useState(null),[N,k]=n.useState(null),S=Gr(t,e=>_(e)),[E,A]=n.useState(null),[C,T]=n.useState(null),R=Jb(r),[P,O]=n.useState(!1),D=n.useRef(!1);n.useEffect(()=>{if(j)return Su(j)},[j]),ui();const I=n.useCallback(e=>{const[t,...r]=R().map(e=>e.ref.current),[n]=r.slice(-1),a=document.activeElement;for(const o of e){if(o===a)return;if(null===o||void 0===o||o.scrollIntoView({block:"nearest"}),o===t&&N&&(N.scrollTop=0),o===n&&N&&(N.scrollTop=N.scrollHeight),null===o||void 0===o||o.focus(),document.activeElement!==a)return}},[R,N]),L=n.useCallback(()=>I([E,j]),[I,E,j]);n.useEffect(()=>{P&&L()},[P,L]);const{onOpenChange:M,triggerPointerDownPosRef:F}=w;n.useEffect(()=>{if(j){let e={x:0,y:0};const t=t=>{var r,n,a,o;e={x:Math.abs(Math.round(t.pageX)-(null!==(r=null===(n=F.current)||void 0===n?void 0:n.x)&&void 0!==r?r:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(o=F.current)||void 0===o?void 0:o.y)&&void 0!==a?a:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():j.contains(r.target)||M(!1),document.removeEventListener("pointermove",t),F.current=null};return null!==F.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[j,M,F]),n.useEffect(()=>{const e=()=>M(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[M]);const[z,U]=$x(e=>{const t=R().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=Jx(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),B=n.useCallback((e,t,r)=>{const n=!D.current&&!r;(void 0!==w.value&&w.value===t||n)&&(A(e),n&&(D.current=!0))},[w.value]),q=n.useCallback(()=>null===j||void 0===j?void 0:j.focus(),[j]),V=n.useCallback((e,t,r)=>{const n=!D.current&&!r;(void 0!==w.value&&w.value===t||n)&&T(e)},[w.value]),H="popper"===a?bx:yx,W=H===bx?{side:u,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return(0,jr.jsx)(px,{scope:r,content:j,viewport:N,onViewportChange:k,itemRefCallback:B,selectedItem:E,onItemLeave:q,itemTextRefCallback:V,focusSelectedItem:L,selectedItemText:C,position:a,isPositioned:P,searchRef:z,children:(0,jr.jsx)(md,{as:gx,allowPinchZoom:!0,children:(0,jr.jsx)(gi,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Hr(o,e=>{var t;null===(t=w.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,jr.jsx)(Rn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,jr.jsx)(H,(0,i.A)((0,i.A)((0,i.A)({role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault()},x),W),{},{onPlaced:()=>O(!0),ref:S,style:(0,i.A)({display:"flex",flexDirection:"column",outline:"none"},x.style),onKeyDown:Hr(x.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||U(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=R().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>I(t)),e.preventDefault()}})}))})})})})});vx.displayName="SelectContentImpl";var yx=n.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a}=e,o=s(e,Ob),l=tx(dx,r),c=mx(dx,r),[u,d]=n.useState(null),[h,f]=n.useState(null),p=Gr(t,e=>f(e)),m=Jb(r),g=n.useRef(!1),v=n.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:x,focusSelectedItem:w}=c,j=n.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&y&&b&&x){const e=l.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),n=x.getBoundingClientRect();if("rtl"!==l.dir){const a=n.left-t.left,o=r.left-a,s=e.left-o,i=e.width+s,l=Math.max(i,t.width),c=window.innerWidth-fx,d=Tp(o,[fx,Math.max(fx,c-l)]);u.style.minWidth=i+"px",u.style.left=d+"px"}else{const a=t.right-n.right,o=window.innerWidth-r.right-a,s=window.innerWidth-e.right-o,i=e.width+s,l=Math.max(i,t.width),c=window.innerWidth-fx,d=Tp(o,[fx,Math.max(fx,c-l)]);u.style.minWidth=i+"px",u.style.right=d+"px"}const o=m(),s=window.innerHeight-2*fx,i=y.scrollHeight,c=window.getComputedStyle(h),d=parseInt(c.borderTopWidth,10),f=parseInt(c.paddingTop,10),p=parseInt(c.borderBottomWidth,10),v=d+f+i+parseInt(c.paddingBottom,10)+p,w=Math.min(5*b.offsetHeight,v),j=window.getComputedStyle(y),_=parseInt(j.paddingTop,10),N=parseInt(j.paddingBottom,10),k=e.top+e.height/2-fx,S=s-k,E=b.offsetHeight/2,A=d+f+(b.offsetTop+E),C=v-A;if(A<=k){const e=o.length>0&&b===o[o.length-1].ref.current;u.style.bottom="0px";const t=h.clientHeight-y.offsetTop-y.offsetHeight,r=A+Math.max(S,E+(e?N:0)+t+p);u.style.height=r+"px"}else{const e=o.length>0&&b===o[0].ref.current;u.style.top="0px";const t=Math.max(k,d+y.offsetTop+(e?_:0)+E)+C;u.style.height=t+"px",y.scrollTop=A-k+y.offsetTop}u.style.margin="".concat(fx,"px 0"),u.style.minHeight=w+"px",u.style.maxHeight=s+"px",null===a||void 0===a||a(),requestAnimationFrame(()=>g.current=!0)}},[m,l.trigger,l.valueNode,u,h,y,b,x,l.dir,a]);Mn(()=>j(),[j]);const[_,N]=n.useState();Mn(()=>{h&&N(window.getComputedStyle(h).zIndex)},[h]);const k=n.useCallback(e=>{e&&!0===v.current&&(j(),null===w||void 0===w||w(),v.current=!1)},[j,w]);return(0,jr.jsx)(xx,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:k,children:(0,jr.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({},o),{},{ref:p,style:(0,i.A)({boxSizing:"border-box",maxHeight:"100%"},o.style)}))})})});yx.displayName="SelectItemAlignedPosition";var bx=n.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=fx}=e,o=s(e,Db),l=Zb(r);return(0,jr.jsx)(Wc,(0,i.A)((0,i.A)((0,i.A)({},l),o),{},{ref:t,align:n,collisionPadding:a,style:(0,i.A)((0,i.A)({boxSizing:"border-box"},o.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});bx.displayName="SelectPopperPosition";var[xx,wx]=Qb(dx,{}),jx="SelectViewport",_x=n.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a}=e,o=s(e,Ib),l=mx(jx,r),c=wx(jx,r),u=Gr(t,l.onViewportChange),d=n.useRef(0);return(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,jr.jsx)($b.Slot,{scope:r,children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({"data-radix-select-viewport":"",role:"presentation"},o),{},{ref:u,style:(0,i.A)({position:"relative",flex:1,overflow:"hidden auto"},o.style),onScroll:Hr(o.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=c;if(null!==n&&void 0!==n&&n.current&&r){const e=Math.abs(d.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*fx,a=parseFloat(r.style.minHeight),o=parseFloat(r.style.height),s=Math.max(a,o);if(s<n){const a=s+e,o=Math.min(n,a),i=a-o;r.style.height=o+"px","0px"===r.style.bottom&&(t.scrollTop=i>0?i:0,r.style.justifyContent="flex-end")}}}d.current=t.scrollTop})}))})]})});_x.displayName=jx;var Nx="SelectGroup",[kx,Sx]=Qb(Nx),Ex=n.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=s(e,Lb),a=ki();return(0,jr.jsx)(kx,{scope:r,id:a,children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({role:"group","aria-labelledby":a},n),{},{ref:t}))})});Ex.displayName=Nx;var Ax="SelectLabel",Cx=n.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=s(e,Mb),a=Sx(Ax,r);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({id:a.id},n),{},{ref:t}))});Cx.displayName=Ax;var Tx="SelectItem",[Rx,Px]=Qb(Tx),Ox=n.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:o=!1,textValue:l}=e,c=s(e,Fb),u=tx(Tx,r),d=mx(Tx,r),h=u.value===a,[f,p]=n.useState(null!==l&&void 0!==l?l:""),[m,g]=n.useState(!1),v=Gr(t,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,a,o)}),y=ki(),b=n.useRef("touch"),x=()=>{o||(u.onValueChange(a),u.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,jr.jsx)(Rx,{scope:r,value:a,disabled:o,textId:y,isSelected:h,onItemTextChange:n.useCallback(e=>{p(t=>{var r;return t||(null!==(r=null===e||void 0===e?void 0:e.textContent)&&void 0!==r?r:"").trim()})},[]),children:(0,jr.jsx)($b.ItemSlot,{scope:r,value:a,disabled:o,textValue:f,children:(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":h&&m,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},c),{},{ref:v,onFocus:Hr(c.onFocus,()=>g(!0)),onBlur:Hr(c.onBlur,()=>g(!1)),onClick:Hr(c.onClick,()=>{"mouse"!==b.current&&x()}),onPointerUp:Hr(c.onPointerUp,()=>{"mouse"===b.current&&x()}),onPointerDown:Hr(c.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:Hr(c.onPointerMove,e=>{var t;(b.current=e.pointerType,o)?null===(t=d.onItemLeave)||void 0===t||t.call(d):"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Hr(c.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=d.onItemLeave)||void 0===t||t.call(d))}),onKeyDown:Hr(c.onKeyDown,e=>{var t;""!==(null===(t=d.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(Kb.includes(e.key)&&x()," "===e.key&&e.preventDefault())})}))})})});Ox.displayName=Tx;var Dx="SelectItemText",Ix=n.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:o}=e,l=s(e,zb),c=tx(Dx,r),u=mx(Dx,r),d=Px(Dx,r),h=nx(Dx,r),[f,p]=n.useState(null),m=Gr(t,e=>p(e),d.onItemTextChange,e=>{var t;return null===(t=u.itemTextRefCallback)||void 0===t?void 0:t.call(u,e,d.value,d.disabled)}),g=null===f||void 0===f?void 0:f.textContent,v=n.useMemo(()=>(0,jr.jsx)("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=h;return Mn(()=>(y(v),()=>b(v)),[y,b,v]),(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({id:d.textId},l),{},{ref:m})),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Vr.createPortal(l.children,c.valueNode):null]})});Ix.displayName=Dx;var Lx="SelectItemIndicator",Mx=n.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=s(e,Ub);return Px(Lx,r).isSelected?(0,jr.jsx)(jn.span,(0,i.A)((0,i.A)({"aria-hidden":!0},n),{},{ref:t})):null});Mx.displayName=Lx;var Fx="SelectScrollUpButton",zx=n.forwardRef((e,t)=>{const r=mx(Fx,e.__scopeSelect),a=wx(Fx,e.__scopeSelect),[o,s]=n.useState(!1),l=Gr(t,a.onScrollButtonChange);return Mn(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,jr.jsx)(qx,(0,i.A)((0,i.A)({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});zx.displayName=Fx;var Ux="SelectScrollDownButton",Bx=n.forwardRef((e,t)=>{const r=mx(Ux,e.__scopeSelect),a=wx(Ux,e.__scopeSelect),[o,s]=n.useState(!1),l=Gr(t,a.onScrollButtonChange);return Mn(()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;s(r)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),o?(0,jr.jsx)(qx,(0,i.A)((0,i.A)({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Bx.displayName=Ux;var qx=n.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a}=e,o=s(e,Bb),l=mx("SelectScrollButton",r),c=n.useRef(null),u=Jb(r),d=n.useCallback(()=>{null!==c.current&&(window.clearInterval(c.current),c.current=null)},[]);return n.useEffect(()=>()=>d(),[d]),Mn(()=>{var e;const t=u().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[u]),(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({"aria-hidden":!0},o),{},{ref:t,style:(0,i.A)({flexShrink:0},o.style),onPointerDown:Hr(o.onPointerDown,()=>{null===c.current&&(c.current=window.setInterval(a,50))}),onPointerMove:Hr(o.onPointerMove,()=>{var e;null===(e=l.onItemLeave)||void 0===e||e.call(l),null===c.current&&(c.current=window.setInterval(a,50))}),onPointerLeave:Hr(o.onPointerLeave,()=>{d()})}))}),Vx=n.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=s(e,qb);return(0,jr.jsx)(jn.div,(0,i.A)((0,i.A)({"aria-hidden":!0},n),{},{ref:t}))});Vx.displayName="SelectSeparator";var Hx="SelectArrow",Wx=n.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=s(e,Vb),a=Zb(r),o=tx(Hx,r),l=mx(Hx,r);return o.open&&"popper"===l.position?(0,jr.jsx)(Kc,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t})):null});Wx.displayName=Hx;var Kx=n.forwardRef((e,t)=>{let{__scopeSelect:r,value:a}=e,o=s(e,Hb);const l=n.useRef(null),c=Gr(t,l),u=Rp(a);return n.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(u!==a&&r){const t=new Event("change",{bubbles:!0});r.call(e,a),e.dispatchEvent(t)}},[u,a]),(0,jr.jsx)(jn.select,(0,i.A)((0,i.A)({},o),{},{style:(0,i.A)((0,i.A)({},Hn),o.style),ref:c,defaultValue:a}))});function Gx(e){return""===e||void 0===e}function $x(e){const t=Nn(e),r=n.useRef(""),a=n.useRef(0),o=n.useCallback(e=>{const n=r.current+e;t(n),function e(t){r.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(n)},[t]),s=n.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,o,s]}function Jx(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=(s=e,i=Math.max(a,0),s.map((e,t)=>s[(i+t)%s.length]));var s,i;1===n.length&&(o=o.filter(e=>e!==r));const l=o.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}Kx.displayName="SelectBubbleInput";var Yx=sx,Qx=cx,Xx=ux,Zx=hx,ew=_x,tw=Cx,rw=Ox,nw=Ix,aw=Mx,ow=zx,sw=Bx,iw=Vx;const lw=["className","children"],cw=["className"],uw=["className"],dw=["className","children","position"],hw=["className"],fw=["className","children"],pw=["className"],mw=ax,gw=lx,vw=n.forwardRef((e,t)=>{let{className:r,children:n}=e,a=s(e,lw);return(0,jr.jsxs)(Yx,(0,i.A)((0,i.A)({ref:t,className:bs("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},a),{},{children:[n,(0,jr.jsx)(Qx,{asChild:!0,children:(0,jr.jsx)(Is,{className:"h-4 w-4 opacity-50"})})]}))});vw.displayName=Yx.displayName;const yw=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,cw);return(0,jr.jsx)(ow,(0,i.A)((0,i.A)({ref:t,className:bs("flex cursor-default items-center justify-center py-1",r)},n),{},{children:(0,jr.jsx)(bp,{className:"h-4 w-4"})}))});yw.displayName=ow.displayName;const bw=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,uw);return(0,jr.jsx)(sw,(0,i.A)((0,i.A)({ref:t,className:bs("flex cursor-default items-center justify-center py-1",r)},n),{},{children:(0,jr.jsx)(Is,{className:"h-4 w-4"})}))});bw.displayName=sw.displayName;const xw=n.forwardRef((e,t)=>{let{className:r,children:n,position:a="popper"}=e,o=s(e,dw);return(0,jr.jsx)(Xx,{children:(0,jr.jsxs)(Zx,(0,i.A)((0,i.A)({ref:t,className:bs("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a},o),{},{children:[(0,jr.jsx)(yw,{}),(0,jr.jsx)(ew,{className:bs("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,jr.jsx)(bw,{})]}))})});xw.displayName=Zx.displayName;n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,hw);return(0,jr.jsx)(tw,(0,i.A)({ref:t,className:bs("px-2 py-1.5 text-sm font-semibold",r)},n))}).displayName=tw.displayName;const ww=n.forwardRef((e,t)=>{let{className:r,children:n}=e,a=s(e,fw);return(0,jr.jsxs)(rw,(0,i.A)((0,i.A)({ref:t,className:bs("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{},{children:[(0,jr.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,jr.jsx)(aw,{children:(0,jr.jsx)(Yf,{className:"h-4 w-4"})})}),(0,jr.jsx)(nw,{children:n})]}))});ww.displayName=rw.displayName;n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,pw);return(0,jr.jsx)(iw,(0,i.A)({ref:t,className:bs("-mx-1 my-1 h-px bg-muted",r)},n))}).displayName=iw.displayName;const jw=()=>{const{user:e}=Nr(),t=ge(),[r,a]=(0,n.useState)(!1),[o,s]=(0,n.useState)(0),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)({title:"",description:"",genre:"",coverImage:null,albumFile:null}),h=(e,t)=>{const r=e.target.files[0];r&&d(e=>(0,i.A)((0,i.A)({},e),{},{[t]:r}))};return(0,jr.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,jr.jsx)(Gy,{}),(0,jr.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,jr.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,jr.jsxs)("div",{className:"mb-8",children:[(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Upload de M\xfasicas"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Envie seu \xe1lbum completo em um arquivo ZIP contendo as m\xfasicas em MP3"})]}),(0,jr.jsx)(Om,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),u.title&&u.albumFile&&u.genre){a(!0),s(0),c(!1);try{const r=new FormData;r.append("title",u.title),r.append("description",u.description||""),r.append("genre",u.genre),r.append("artistId",(null===e||void 0===e?void 0:e.id)||""),r.append("artistName",(null===e||void 0===e?void 0:e.name)||"Artista"),r.append("albumFile",u.albumFile),u.coverImage&&r.append("coverImage",u.coverImage);const n=setInterval(()=>{s(e=>e<90?e+10:e)},500),o="http://localhost:8000",i=await fetch("".concat(o,"/api/album-upload/upload"),{method:"POST",body:r});if(clearInterval(n),!i.ok){const e=await i.json();throw new Error(e.detail||"Erro ao fazer upload")}const l=await i.json();s(100),a(!1),c(!0),qr({title:"\xc1lbum publicado!",description:'"'.concat(l.album.title,'" foi enviado com ').concat(l.songs.length," m\xfasicas!")}),setTimeout(()=>{d({title:"",description:"",genre:"",coverImage:null,albumFile:null}),c(!1),s(0);document.querySelectorAll('input[type="file"]').forEach(e=>e.value=""),t("/artist/albums")},3e3)}catch(n){a(!1),s(0),qr({title:"Erro no upload",description:n.message||"N\xe3o foi poss\xedvel enviar o \xe1lbum. Tente novamente.",variant:"destructive"})}}else qr({title:"Campos obrigat\xf3rios",description:"Por favor, preencha t\xedtulo, g\xeanero e arquivo do \xe1lbum",variant:"destructive"})},className:"p-6 space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Novo \xc1lbum"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Preencha as informa\xe7\xf5es do \xe1lbum e envie um arquivo ZIP com as m\xfasicas"})]}),(0,jr.jsxs)("div",{className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Sm,{htmlFor:"title",className:"text-gray-700",children:"T\xedtulo do \xc1lbum *"}),(0,jr.jsx)(Gs,{id:"title",name:"title",value:u.title,onChange:e=>{const{name:t,value:r}=e.target;d(e=>(0,i.A)((0,i.A)({},e),{},{[t]:r}))},placeholder:"Ex: Meu Primeiro \xc1lbum",className:"mt-1",required:!0})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Sm,{htmlFor:"description",className:"text-gray-700",children:"Descri\xe7\xe3o"}),(0,jr.jsx)(jb,{id:"description",name:"description",value:u.description,onChange:e=>{e.target.value.length<=150&&d(t=>(0,i.A)((0,i.A)({},t),{},{description:e.target.value}))},placeholder:"Descreva seu \xe1lbum...",rows:4,maxLength:150,className:"mt-1 resize-none"}),(0,jr.jsxs)("p",{className:"text-xs mt-1 ".concat(u.description.length>=150?"text-red-500":"text-gray-500"),children:[u.description.length,"/150 caracteres"]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Sm,{htmlFor:"genre",className:"text-gray-700",children:"G\xeanero Musical *"}),(0,jr.jsxs)(mw,{value:u.genre,onValueChange:e=>d(t=>(0,i.A)((0,i.A)({},t),{},{genre:e})),children:[(0,jr.jsx)(vw,{className:"mt-1",children:(0,jr.jsx)(gw,{placeholder:"Selecione o g\xeanero"})}),(0,jr.jsxs)(xw,{children:[(0,jr.jsx)(ww,{value:"forro",children:"Forr\xf3"}),(0,jr.jsx)(ww,{value:"arrocha",children:"Arrocha"}),(0,jr.jsx)(ww,{value:"piseiro",children:"Piseiro"}),(0,jr.jsx)(ww,{value:"arrochadeira",children:"Arrochadeira"}),(0,jr.jsx)(ww,{value:"pagode",children:"Pagode"}),(0,jr.jsx)(ww,{value:"sertanejo",children:"Sertanejo"}),(0,jr.jsx)(ww,{value:"brega-funk",children:"Brega Funk"}),(0,jr.jsx)(ww,{value:"variados",children:"Variados"}),(0,jr.jsx)(ww,{value:"samba",children:"Samba"}),(0,jr.jsx)(ww,{value:"funk",children:"Funk"}),(0,jr.jsx)(ww,{value:"axe",children:"Ax\xe9"}),(0,jr.jsx)(ww,{value:"reggae",children:"Reggae"}),(0,jr.jsx)(ww,{value:"brega",children:"Brega"}),(0,jr.jsx)(ww,{value:"gospel",children:"Gospel"}),(0,jr.jsx)(ww,{value:"rap-hiphop",children:"Rap/Hip-Hop"}),(0,jr.jsx)(ww,{value:"pop",children:"Pop"}),(0,jr.jsx)(ww,{value:"mpb",children:"MPB"}),(0,jr.jsx)(ww,{value:"rock",children:"Rock"}),(0,jr.jsx)(ww,{value:"eletronica",children:"Eletr\xf4nica"}),(0,jr.jsx)(ww,{value:"podcast",children:"Podcast"}),(0,jr.jsx)(ww,{value:"trap",children:"Trap"}),(0,jr.jsx)(ww,{value:"frevo",children:"Frevo"})]})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Sm,{htmlFor:"coverImage",className:"text-gray-700",children:"Capa do \xc1lbum"}),(0,jr.jsx)("div",{className:"mt-1",children:(0,jr.jsxs)("label",{htmlFor:"coverImage",className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-red-500 transition-colors",children:[(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(Jy,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600",children:u.coverImage?u.coverImage.name:"Escolher arquivo"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formatos aceitos: JPG, PNG, GIF"})]}),(0,jr.jsx)("input",{id:"coverImage",type:"file",accept:"image/*",onChange:e=>h(e,"coverImage"),className:"hidden"})]})})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Sm,{htmlFor:"albumFile",className:"text-gray-700",children:"Arquivo ZIP com M\xfasicas *"}),(0,jr.jsx)("div",{className:"mt-1",children:(0,jr.jsxs)("label",{htmlFor:"albumFile",className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-red-500 transition-colors",children:[(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(Fs,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600",children:u.albumFile?u.albumFile.name:"Escolher arquivo"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Envie um arquivo ZIP contendo todas as m\xfasicas em formato MP3"})]}),(0,jr.jsx)("input",{id:"albumFile",type:"file",accept:".zip,.rar",onChange:e=>h(e,"albumFile"),className:"hidden",required:!0})]})})]})]}),r&&(0,jr.jsxs)("div",{className:"space-y-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,jr.jsx)("span",{className:"text-gray-700 font-medium",children:"Enviando \xe1lbum..."}),(0,jr.jsxs)("span",{className:"text-gray-900 font-bold",children:[o,"%"]})]}),(0,jr.jsx)(xb,{value:o,className:"h-2"}),(0,jr.jsx)("p",{className:"text-xs text-gray-600",children:"Por favor, n\xe3o feche esta p\xe1gina"})]}),l&&(0,jr.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200 flex items-center gap-3",children:[(0,jr.jsx)(Yy,{className:"w-6 h-6 text-green-600"}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-green-900 font-semibold",children:"\xc1lbum publicado com sucesso!"}),(0,jr.jsx)("p",{className:"text-green-700 text-sm",children:"Seu \xe1lbum j\xe1 est\xe1 dispon\xedvel na plataforma"})]})]}),(0,jr.jsxs)(si,{type:"submit",disabled:r||l,className:"w-full bg-red-600 hover:bg-red-700 text-white h-12 text-base font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,jr.jsx)(Fs,{className:"w-5 h-5 mr-2"}),r?"Enviando...":l?"Enviado!":"Fazer Upload"]})]})}),(0,jr.jsx)(Om,{className:"bg-blue-50 border-blue-200 mt-6",children:(0,jr.jsx)("div",{className:"p-6",children:(0,jr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,jr.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,jr.jsx)("span",{className:"text-white text-sm font-bold",children:"!"})}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Como preparar seu arquivo ZIP"}),(0,jr.jsxs)("ol",{className:"text-sm text-gray-700 space-y-1 list-decimal list-inside",children:[(0,jr.jsx)("li",{children:"Crie uma pasta com todas as suas m\xfasicas em formato MP3"}),(0,jr.jsx)("li",{children:"Nomeie os arquivos de forma organizada (ex: 01-Nome da M\xfasica.mp3)"}),(0,jr.jsx)("li",{children:"Compacte a pasta em um arquivo ZIP"}),(0,jr.jsx)("li",{children:"Fa\xe7a o upload do arquivo ZIP nesta p\xe1gina"})]}),(0,jr.jsx)("p",{className:"text-xs text-gray-600 mt-3",children:"\ud83d\udca1 Dica: Voc\xea poder\xe1 adicionar cifras para cada m\xfasica ap\xf3s o upload"})]})]})})})]})})]})},_w=to("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Nw=to("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var kw=Symbol("radix.slottable");function Sw(e){const t=e=>{let{children:t}=e;return(0,jr.jsx)(jr.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=kw,t}const Ew=["__scopeAlertDialog"],Aw=["__scopeAlertDialog"],Cw=["__scopeAlertDialog"],Tw=["__scopeAlertDialog"],Rw=["__scopeAlertDialog","children"],Pw=["__scopeAlertDialog"],Ow=["__scopeAlertDialog"],Dw=["__scopeAlertDialog"],Iw=["__scopeAlertDialog"];var Lw="AlertDialog",[Mw,Fw]=en(Lw,[Rg]),zw=Rg(),Uw=e=>{const{__scopeAlertDialog:t}=e,r=s(e,Ew),n=zw(t);return(0,jr.jsx)(lv,(0,i.A)((0,i.A)((0,i.A)({},n),r),{},{modal:!0}))};Uw.displayName=Lw;var Bw=n.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=s(e,Aw),a=zw(r);return(0,jr.jsx)(cv,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Bw.displayName="AlertDialogTrigger";var qw=e=>{const{__scopeAlertDialog:t}=e,r=s(e,Cw),n=zw(t);return(0,jr.jsx)(uv,(0,i.A)((0,i.A)({},n),r))};qw.displayName="AlertDialogPortal";var Vw=n.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=s(e,Tw),a=zw(r);return(0,jr.jsx)(dv,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Vw.displayName="AlertDialogOverlay";var Hw="AlertDialogContent",[Ww,Kw]=Mw(Hw),Gw=Sw("AlertDialogContent"),$w=n.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a}=e,o=s(e,Rw),l=zw(r),c=n.useRef(null),u=Gr(t,c),d=n.useRef(null);return(0,jr.jsx)(av,{contentName:Hw,titleName:Jw,docsSlug:"alert-dialog",children:(0,jr.jsx)(Ww,{scope:r,cancelRef:d,children:(0,jr.jsxs)(hv,(0,i.A)((0,i.A)((0,i.A)({role:"alertdialog"},l),o),{},{ref:u,onOpenAutoFocus:Hr(o.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=d.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,jr.jsx)(Gw,{children:a}),(0,jr.jsx)(rj,{contentRef:c})]}))})})});$w.displayName=Hw;var Jw="AlertDialogTitle",Yw=n.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=s(e,Pw),a=zw(r);return(0,jr.jsx)(fv,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Yw.displayName=Jw;var Qw="AlertDialogDescription",Xw=n.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=s(e,Ow),a=zw(r);return(0,jr.jsx)(pv,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Xw.displayName=Qw;var Zw=n.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=s(e,Dw),a=zw(r);return(0,jr.jsx)(mv,(0,i.A)((0,i.A)((0,i.A)({},a),n),{},{ref:t}))});Zw.displayName="AlertDialogAction";var ej="AlertDialogCancel",tj=n.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=s(e,Iw),{cancelRef:a}=Kw(ej,r),o=zw(r),l=Gr(t,a);return(0,jr.jsx)(mv,(0,i.A)((0,i.A)((0,i.A)({},o),n),{},{ref:l}))});tj.displayName=ej;var rj=e=>{let{contentRef:t}=e;const r="`".concat(Hw,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Hw,"` by passing a `").concat(Qw,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Hw,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return n.useEffect(()=>{var e;document.getElementById(null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},nj=Vw,aj=$w,oj=Zw,sj=tj,ij=Yw,lj=Xw;const cj=["className"],uj=["className"],dj=["className"],hj=["className"],fj=["className"],pj=["className"],mj=["className"],gj=["className"],vj=Uw,yj=qw,bj=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,cj);return(0,jr.jsx)(nj,(0,i.A)((0,i.A)({className:bs("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n),{},{ref:t}))});bj.displayName=nj.displayName;const xj=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,uj);return(0,jr.jsxs)(yj,{children:[(0,jr.jsx)(bj,{}),(0,jr.jsx)(aj,(0,i.A)({ref:t,className:bs("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},n))]})});xj.displayName=aj.displayName;const wj=e=>{let{className:t}=e,r=s(e,dj);return(0,jr.jsx)("div",(0,i.A)({className:bs("flex flex-col space-y-2 text-center sm:text-left",t)},r))};wj.displayName="AlertDialogHeader";const jj=e=>{let{className:t}=e,r=s(e,hj);return(0,jr.jsx)("div",(0,i.A)({className:bs("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},r))};jj.displayName="AlertDialogFooter";const _j=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,fj);return(0,jr.jsx)(ij,(0,i.A)({ref:t,className:bs("text-lg font-semibold",r)},n))});_j.displayName=ij.displayName;const Nj=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,pj);return(0,jr.jsx)(lj,(0,i.A)({ref:t,className:bs("text-sm text-muted-foreground",r)},n))});Nj.displayName=lj.displayName;const kj=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,mj);return(0,jr.jsx)(oj,(0,i.A)({ref:t,className:bs(oi(),r)},n))});kj.displayName=oj.displayName;const Sj=n.forwardRef((e,t)=>{let{className:r}=e,n=s(e,gj);return(0,jr.jsx)(sj,(0,i.A)({ref:t,className:bs(oi({variant:"outline"}),"mt-2 sm:mt-0",r)},n))});Sj.displayName=sj.displayName;const Ej=()=>{const{user:e}=Nr(),[t,r]=(0,n.useState)([]),[a,o]=(0,n.useState)([]),[s,l]=(0,n.useState)(!0),[c,u]=(0,n.useState)("published"),[d,h]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),[m,g]=(0,n.useState)(null),[v,y]=(0,n.useState)({title:"",description:"",coverImage:""}),[b,x]=(0,n.useState)([]),[w,j]=(0,n.useState)(null),[_,N]=(0,n.useState)(null),[k,S]=(0,n.useState)(!1),E=(0,n.useRef)(null),[A,C]=(0,n.useState)(!1),[T,R]=(0,n.useState)(null),[P,O]=(0,n.useState)(!1),[D,I]=(0,n.useState)(null);(0,n.useEffect)(()=>{M(),L()},[null===e||void 0===e?void 0:e.id]);const L=async()=>{if(null===e||void 0===e||!e.id)return;const{data:t}=await xr.from("artists").select("slug").eq("id",e.id).maybeSingle();null!==t&&void 0!==t&&t.slug&&h(t.slug)},M=async()=>{if(null!==e&&void 0!==e&&e.id)try{const{data:t,error:n}=await xr.from("albums").select("*").eq("artist_id",e.id).order("created_at",{ascending:!1});if(n)throw n;const a=new Date,s=[],i=[];(t||[]).forEach(e=>{const t={id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-album.png",songCount:e.song_count||0,releaseYear:e.release_year,genre:e.genre,description:e.description,deletedAt:e.deleted_at};if(e.deleted_at){const r=new Date(e.deleted_at),n=Math.floor((a-r)/864e5);t.daysRemaining=30-n,t.daysRemaining>0&&i.push(t)}else s.push(t)}),r(s),o(i)}catch(t){console.error("Erro ao carregar \xe1lbuns:",t),qr({title:"Erro",description:"N\xe3o foi poss\xedvel carregar os \xe1lbuns",variant:"destructive"})}finally{l(!1)}else l(!1)},F=function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,jr.jsx)(Om,{className:"bg-white shadow-sm hover:shadow-md transition-shadow",children:(0,jr.jsxs)("div",{className:"p-4",children:[(0,jr.jsxs)("div",{className:"relative mb-4 group",children:[(0,jr.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-full aspect-square object-cover rounded-lg ".concat(r?"opacity-60":"")}),!r&&(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,jr.jsx)(bt,{to:"/".concat(d||(null===e||void 0===e?void 0:e.id),"/").concat(t.slug||t.id),children:(0,jr.jsx)(si,{className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,jr.jsx)(_p,{className:"w-6 h-6 ml-1",fill:"white"})})})}),r&&(0,jr.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,jr.jsx)(zv,{className:"w-3 h-3"}),t.daysRemaining," dias"]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:t.title}),(0,jr.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,jr.jsxs)("span",{children:[t.songCount," m\xfasicas"]}),(0,jr.jsx)("span",{children:t.releaseYear})]}),r?(0,jr.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,jr.jsxs)(si,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{const{error:t}=await xr.from("albums").update({deleted_at:null}).eq("id",e.id);if(t)throw t;qr({title:"\xc1lbum restaurado",description:'"'.concat(e.title,'" foi restaurado com sucesso')}),M()}catch(t){console.error("Erro ao restaurar:",t),qr({title:"Erro",description:"N\xe3o foi poss\xedvel restaurar o \xe1lbum",variant:"destructive"})}})(t),className:"flex-1 border-green-300 text-green-600 hover:bg-green-50",children:[(0,jr.jsx)(_w,{className:"w-4 h-4 mr-1"}),"Restaurar"]}),(0,jr.jsx)(si,{variant:"outline",size:"sm",onClick:()=>{I(t),O(!0)},className:"border-red-300 text-red-600 hover:bg-red-50",children:(0,jr.jsx)(dp,{className:"w-4 h-4"})})]}):(0,jr.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,jr.jsxs)(si,{variant:"outline",size:"sm",onClick:()=>(async e=>{g(e),y({title:e.title,description:e.description||"",coverImage:e.coverImage}),j(null),N(null);const{data:t}=await xr.from("songs").select("*").eq("album_id",e.id).order("track_number",{ascending:!0});x(t||[]),p(!0)})(t),className:"flex-1 border-gray-300 text-gray-700",children:[(0,jr.jsx)(Nw,{className:"w-4 h-4 mr-1"}),"Editar"]}),(0,jr.jsx)(si,{variant:"outline",size:"sm",onClick:()=>{R(t),C(!0)},className:"border-red-300 text-red-600 hover:bg-red-50",children:(0,jr.jsx)(dp,{className:"w-4 h-4"})})]})]})]})},t.id)};return(0,jr.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,jr.jsx)(Gy,{}),(0,jr.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto p-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meus \xc1lbuns"}),(0,jr.jsx)("p",{className:"text-gray-600",children:s?"Carregando...":"".concat(t.length," \xe1lbuns publicados")})]}),(0,jr.jsx)(bt,{to:"/artist/upload",children:(0,jr.jsxs)(si,{className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,jr.jsx)(Kv,{className:"w-5 h-5 mr-2"}),"Novo \xc1lbum"]})})]}),(0,jr.jsxs)(dg,{value:c,onValueChange:u,className:"w-full",children:[(0,jr.jsxs)(hg,{className:"mb-6",children:[(0,jr.jsxs)(fg,{value:"published",className:"flex items-center gap-2",children:[(0,jr.jsx)(zs,{className:"w-4 h-4"}),"Publicados (",t.length,")"]}),(0,jr.jsxs)(fg,{value:"trash",className:"flex items-center gap-2",children:[(0,jr.jsx)(dp,{className:"w-4 h-4"}),"Lixeira (",a.length,")"]})]}),(0,jr.jsx)(pg,{value:"published",children:t.length>0?(0,jr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>F(e,!1))}):(0,jr.jsx)(Om,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("div",{className:"p-12 text-center",children:[(0,jr.jsx)(zs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum \xe1lbum ainda"}),(0,jr.jsx)("p",{className:"text-gray-600 mb-6",children:"Comece a compartilhar sua m\xfasica com o mundo"}),(0,jr.jsx)(bt,{to:"/artist/upload",children:(0,jr.jsxs)(si,{className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,jr.jsx)(Kv,{className:"w-5 h-5 mr-2"}),"Fazer Primeiro Upload"]})})]})})}),(0,jr.jsx)(pg,{value:"trash",children:a.length>0?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,jr.jsxs)("p",{className:"text-red-800 text-sm",children:[(0,jr.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Os \xe1lbuns na lixeira ser\xe3o exclu\xeddos permanentemente ap\xf3s 30 dias. Voc\xea pode restaur\xe1-los a qualquer momento antes disso."]})}),(0,jr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(e=>F(e,!0))})]}):(0,jr.jsx)(Om,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("div",{className:"p-12 text-center",children:[(0,jr.jsx)(dp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lixeira vazia"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Nenhum \xe1lbum na lixeira"})]})})})]})]})}),(0,jr.jsx)(jv,{open:f,onOpenChange:p,children:(0,jr.jsxs)(kv,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,jr.jsxs)(Sv,{children:[(0,jr.jsx)(Av,{children:"Editar \xc1lbum"}),(0,jr.jsx)(Cv,{children:"Altere as informa\xe7\xf5es do \xe1lbum ou remova m\xfasicas"})]}),(0,jr.jsxs)("div",{className:"space-y-6 py-4",children:[(0,jr.jsxs)("div",{className:"flex gap-6",children:[(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("img",{src:_||v.coverImage,alt:"Capa do \xe1lbum",className:"w-40 h-40 object-cover rounded-lg"}),(0,jr.jsx)("input",{type:"file",ref:E,onChange:e=>{const t=e.target.files[0];if(t){j(t);const e=new FileReader;e.onloadend=()=>{N(e.result)},e.readAsDataURL(t)}},accept:"image/*",className:"hidden"}),(0,jr.jsx)(si,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()},className:"absolute bottom-2 right-2 bg-white/90",children:(0,jr.jsx)(Jy,{className:"w-4 h-4"})})]}),(0,jr.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"T\xedtulo"}),(0,jr.jsx)(Gs,{value:v.title,onChange:e=>y((0,i.A)((0,i.A)({},v),{},{title:e.target.value})),className:"mt-1"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),(0,jr.jsx)(jb,{value:v.description,onChange:e=>{e.target.value.length<=150&&y((0,i.A)((0,i.A)({},v),{},{description:e.target.value}))},className:"mt-1",rows:3,maxLength:150}),(0,jr.jsxs)("p",{className:"text-xs mt-1 ".concat(v.description.length>=150?"text-red-500":"text-gray-500"),children:[v.description.length,"/150 caracteres"]})]})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[(0,jr.jsx)(Ws,{className:"w-4 h-4"}),"M\xfasicas do \xc1lbum (",b.length,")"]}),(0,jr.jsx)("div",{className:"border rounded-lg divide-y max-h-60 overflow-y-auto",children:b.length>0?b.map((e,t)=>(0,jr.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)("span",{className:"text-gray-500 w-6 text-center",children:t+1}),(0,jr.jsx)("span",{className:"font-medium",children:e.title})]}),(0,jr.jsx)(si,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{const{error:t}=await xr.from("songs").delete().eq("id",e);if(t)throw t;x(t=>t.filter(t=>t.id!==e)),await xr.from("albums").update({song_count:b.length-1}).eq("id",m.id),qr({title:"M\xfasica removida",description:"A m\xfasica foi removida do \xe1lbum"})}catch(t){console.error("Erro ao remover m\xfasica:",t),qr({title:"Erro",description:"N\xe3o foi poss\xedvel remover a m\xfasica",variant:"destructive"})}})(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,jr.jsx)(ro,{className:"w-4 h-4"})})]},e.id)):(0,jr.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma m\xfasica neste \xe1lbum"})})]})]}),(0,jr.jsxs)(Ev,{children:[(0,jr.jsx)(si,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),(0,jr.jsx)(si,{onClick:async()=>{if(m){S(!0);try{let e=v.coverImage;if(w){const t=w.name.split(".").pop(),r="albums/".concat(m.id,"/cover_").concat(Date.now(),".").concat(t),{error:n}=await xr.storage.from("music").upload(r,w,{upsert:!0});if(n)throw n;const{data:{publicUrl:a}}=xr.storage.from("music").getPublicUrl(r);e=a}const{error:t}=await xr.from("albums").update({title:v.title,description:v.description,cover_url:e,song_count:b.length}).eq("id",m.id);if(t)throw t;qr({title:"\xc1lbum atualizado",description:"As altera\xe7\xf5es foram salvas com sucesso"}),p(!1),M()}catch(e){console.error("Erro ao salvar:",e),qr({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es",variant:"destructive"})}finally{S(!1)}}},disabled:k,className:"bg-red-600 hover:bg-red-700 text-white",children:k?"Salvando...":"Salvar Altera\xe7\xf5es"})]})]})}),(0,jr.jsx)(vj,{open:A,onOpenChange:C,children:(0,jr.jsxs)(xj,{children:[(0,jr.jsxs)(wj,{children:[(0,jr.jsx)(_j,{children:"Mover para lixeira?"}),(0,jr.jsxs)(Nj,{children:['O \xe1lbum "',null===T||void 0===T?void 0:T.title,'" ser\xe1 movido para a lixeira e ficar\xe1 l\xe1 por 30 dias. Voc\xea pode restaur\xe1-lo a qualquer momento durante esse per\xedodo.']})]}),(0,jr.jsxs)(jj,{children:[(0,jr.jsx)(Sj,{children:"Cancelar"}),(0,jr.jsx)(kj,{onClick:async()=>{if(T)try{const{error:e}=await xr.from("albums").update({deleted_at:(new Date).toISOString()}).eq("id",T.id);if(e)throw e;qr({title:"\xc1lbum movido para lixeira",description:'"'.concat(T.title,'" ficar\xe1 na lixeira por 30 dias')}),M()}catch(e){console.error("Erro ao mover para lixeira:",e),qr({title:"Erro",description:"N\xe3o foi poss\xedvel mover o \xe1lbum para lixeira",variant:"destructive"})}finally{C(!1),R(null)}},className:"bg-red-600 hover:bg-red-700",children:"Mover para Lixeira"})]})]})}),(0,jr.jsx)(vj,{open:P,onOpenChange:O,children:(0,jr.jsxs)(xj,{children:[(0,jr.jsxs)(wj,{children:[(0,jr.jsx)(_j,{children:"Excluir permanentemente?"}),(0,jr.jsxs)(Nj,{children:['O \xe1lbum "',null===D||void 0===D?void 0:D.title,'" e todas as suas m\xfasicas ser\xe3o exclu\xeddos permanentemente. Esta a\xe7\xe3o n\xe3o pode ser desfeita.']})]}),(0,jr.jsxs)(jj,{children:[(0,jr.jsx)(Sj,{children:"Cancelar"}),(0,jr.jsx)(kj,{onClick:async()=>{if(D)try{await xr.from("songs").delete().eq("album_id",D.id);const{error:e}=await xr.from("albums").delete().eq("id",D.id);if(e)throw e;qr({title:"\xc1lbum exclu\xeddo permanentemente",description:'"'.concat(D.title,'" foi exclu\xeddo')}),M()}catch(e){console.error("Erro ao excluir:",e),qr({title:"Erro",description:"N\xe3o foi poss\xedvel excluir o \xe1lbum",variant:"destructive"})}finally{O(!1),I(null)}},className:"bg-red-600 hover:bg-red-700",children:"Excluir Permanentemente"})]})]})})]})},Aj=()=>{var e;const{user:t}=Nr(),[r,a]=(0,n.useState)([]),[o,s]=(0,n.useState)(!0),[l,c]=(0,n.useState)(""),[u,d]=(0,n.useState)("recent"),[h,f]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!1),[g,v]=(0,n.useState)("create"),[y,b]=(0,n.useState)({title:"",description:"",isPrivate:!1,coverImage:null}),[x,w]=(0,n.useState)(null),[j,_]=(0,n.useState)(!1),N=(0,n.useRef)(null),[k,S]=(0,n.useState)(!1),[E,A]=(0,n.useState)(null),[C,T]=(0,n.useState)(""),[R,P]=(0,n.useState)([]),[O,D]=(0,n.useState)([]),[I,L]=(0,n.useState)(!1),[M,F]=(0,n.useState)([]),[z,U]=(0,n.useState)(null),[B,q]=(0,n.useState)(!1),[V,H]=(0,n.useState)(null),[W,K]=(0,n.useState)({title:"",description:"",isPrivate:!1}),[G,$]=(0,n.useState)(null),[J,Y]=(0,n.useState)(null),[Q,X]=(0,n.useState)(!1),Z=(0,n.useRef)(null),[ee,te]=(0,n.useState)([]),[re,ne]=(0,n.useState)(!1),[ae,oe]=(0,n.useState)(null),se=[{value:"recent",label:"MAIS RECENTES"},{value:"played",label:"MAIS OUVIDAS"},{value:"oldest",label:"MAIS ANTIGOS"}];(0,n.useEffect)(()=>{ie(),le()},[null===t||void 0===t?void 0:t.id]);const ie=async()=>{if(null!==t&&void 0!==t&&t.id){s(!0);try{let e=xr.from("playlists").select("*").eq("user_id",t.id);"recent"===u?e=e.order("created_at",{ascending:!1}):"oldest"===u?e=e.order("created_at",{ascending:!0}):"played"===u&&(e=e.order("play_count",{ascending:!1}));const{data:r,error:n}=await e;if(n)throw n;a(r||[])}catch(e){console.error("Erro ao carregar playlists:",e)}finally{s(!1)}}},le=async()=>{try{const{data:e}=await xr.from("albums").select("id, title, artist_name, cover_url").order("created_at",{ascending:!1}).limit(10);P(e||[])}catch(e){console.error("Erro ao carregar \xe1lbuns recentes:",e)}},ce=async e=>{U(e);try{const{data:t}=await xr.from("songs").select("id, title, artist_name, cover_url").eq("album_id",e.id).order("track_number",{ascending:!0});F(t||[])}catch(t){console.error("Erro ao carregar m\xfasicas do \xe1lbum:",t)}},ue=r.filter(e=>e.title.toLowerCase().includes(l.toLowerCase())),de=async(e,t)=>{if(t&&t.stopPropagation(),H(e),K({title:e.title,description:e.description||"",isPrivate:!e.is_public}),Y(e.cover_url),$(null),q(!0),e.song_ids&&e.song_ids.length>0){const{data:t}=await xr.from("songs").select("id, title, artist_name, cover_url").in("id",e.song_ids);if(t){const r=e.song_ids.map(e=>t.find(t=>t.id===e)).filter(Boolean);te(r)}}else te([])};return(0,jr.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,jr.jsx)(Gy,{}),(0,jr.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,jr.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,jr.jsx)("div",{className:"mb-6",children:(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Minhas Playlists"})}),(0,jr.jsx)("div",{className:"flex justify-center mb-8",children:(0,jr.jsxs)(si,{onClick:()=>m(!0),className:"bg-red-600 hover:bg-red-700 text-white rounded-full px-8 py-3",children:[(0,jr.jsx)(Kv,{className:"w-5 h-5 mr-2"}),"Nova playlist"]})}),(0,jr.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,jr.jsxs)("div",{className:"flex-1 relative",children:[(0,jr.jsx)(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,jr.jsx)(Gs,{placeholder:"Buscar Playlists",value:l,onChange:e=>c(e.target.value),className:"pl-10 rounded-full border-gray-300"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)("span",{className:"text-sm text-gray-600",children:"ORDENAR POR:"}),(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsxs)(si,{variant:"outline",onClick:()=>f(!h),className:"bg-red-600 hover:bg-red-700 text-white border-0 rounded",children:[null===(e=se.find(e=>e.value===u))||void 0===e?void 0:e.label,(0,jr.jsx)(Is,{className:"w-4 h-4 ml-2"})]}),h&&(0,jr.jsx)("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-lg z-10 min-w-[160px]",children:se.map(e=>(0,jr.jsx)("div",{onClick:()=>{d(e.value),f(!1),ie()},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat(u===e.value?"bg-red-600 text-white":""),children:e.label},e.value))})]})]})]}),o?(0,jr.jsx)("div",{className:"flex justify-center py-12",children:(0,jr.jsx)(Ky,{className:"w-8 h-8 animate-spin text-gray-400"})}):0===ue.length?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)(Ws,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum Resultado encontrado"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ue.map(e=>(0,jr.jsx)(Om,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>de(e),children:(0,jr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-16 h-16 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.song_ids||[]).length," m\xfasicas"]}),!e.is_public&&(0,jr.jsx)("span",{className:"text-xs text-red-500",children:"Privada"})]}),(0,jr.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,jr.jsx)(si,{variant:"outline",size:"icon",onClick:t=>de(e,t),className:"h-8 w-8 border-gray-300 text-gray-600 hover:bg-gray-50",children:(0,jr.jsx)(Nw,{className:"w-4 h-4"})}),(0,jr.jsx)(si,{variant:"outline",size:"icon",onClick:t=>{t.stopPropagation(),oe(e),ne(!0)},className:"h-8 w-8 border-red-300 text-red-600 hover:bg-red-50",children:(0,jr.jsx)(dp,{className:"w-4 h-4"})})]})]})},e.id))})]})}),(0,jr.jsx)(jv,{open:p,onOpenChange:m,children:(0,jr.jsxs)(kv,{className:"max-w-lg",children:[(0,jr.jsx)(Sv,{children:(0,jr.jsxs)("div",{className:"flex gap-8 border-b pb-2",children:[(0,jr.jsx)("button",{onClick:()=>v("list"),className:"font-medium ".concat("list"===g?"text-gray-900":"text-gray-400"),children:"MINHAS PLAYLISTS"}),(0,jr.jsx)("button",{onClick:()=>v("create"),className:"font-medium ".concat("create"===g?"text-red-600":"text-gray-400"),children:"CRIAR PLAYLIST"})]})}),"create"===g?(0,jr.jsxs)("div",{className:"py-4",children:[(0,jr.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,jr.jsxs)("div",{onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 bg-red-500 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-red-600 transition-colors flex-shrink-0",children:[x?(0,jr.jsx)("img",{src:x,alt:"Capa",className:"w-full h-full object-cover rounded-lg"}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(Ws,{className:"w-10 h-10 text-white mb-2"}),(0,jr.jsx)("span",{className:"text-white text-xs text-center px-2",children:"Adicionar capa da playlist"})]}),(0,jr.jsx)("input",{ref:N,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){b((0,i.A)((0,i.A)({},y),{},{coverImage:t}));const e=new FileReader;e.onloadend=()=>w(e.result),e.readAsDataURL(t)}},className:"hidden"})]}),(0,jr.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,jr.jsx)(Gs,{placeholder:"T\xedtulo da playlist",value:y.title,onChange:e=>b((0,i.A)((0,i.A)({},y),{},{title:e.target.value})),maxLength:100}),(0,jr.jsxs)("p",{className:"text-xs text-gray-500",children:["M\xednimo e m\xe1ximo de caracteres permitidos: 5 a 100",(0,jr.jsx)("br",{}),"Caracteres especiais permitidos: _ # & ( ) [ ]"]}),(0,jr.jsx)(jb,{placeholder:"Descri\xe7\xe3o",value:y.description,onChange:e=>b((0,i.A)((0,i.A)({},y),{},{description:e.target.value})),rows:3,className:"bg-gray-100 border-0"})]})]}),(0,jr.jsxs)("div",{className:"mb-4",children:[(0,jr.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Tamanho m\xe1ximo da imagem 500x500 px."}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Carregue apenas imagens pr\xf3prias ou sobre as quais voc\xea legalmente det\xe9m os direitos."})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsx)("span",{className:"text-gray-700",children:"Tornar a playlist privada?"}),(0,jr.jsx)("button",{onClick:()=>b((0,i.A)((0,i.A)({},y),{},{isPrivate:!y.isPrivate})),className:"w-12 h-6 rounded-full transition-colors ".concat(y.isPrivate?"bg-red-600":"bg-gray-300"),children:(0,jr.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform ".concat(y.isPrivate?"translate-x-6":"translate-x-0.5")})})]}),(0,jr.jsx)("div",{className:"flex justify-end",children:(0,jr.jsxs)(si,{onClick:async()=>{if(!y.title||y.title.length<5)qr({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{_(!0);try{let e=null;if(y.coverImage){const r=y.coverImage.name.split(".").pop(),n="playlists/".concat(t.id,"/").concat(Date.now(),".").concat(r),{error:a}=await xr.storage.from("music").upload(n,y.coverImage,{upsert:!0});if(!a){const{data:{publicUrl:t}}=xr.storage.from("music").getPublicUrl(n);e=t}}const n=(e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())(y.title),{data:o,error:s}=await xr.from("playlists").insert({user_id:t.id,slug:n,title:y.title,description:y.description,cover_url:e,is_public:!y.isPrivate,song_ids:[],play_count:0}).select().single();if(s)throw console.error("Erro ao criar playlist:",s),s;qr({title:"Playlist criada!",description:'"'.concat(y.title,'" foi criada com sucesso')}),a([o,...r]),m(!1),b({title:"",description:"",isPrivate:!1,coverImage:null}),w(null),A(o),S(!0)}catch(e){console.error("Erro ao criar playlist:",e),qr({title:"Erro",description:"N\xe3o foi poss\xedvel criar a playlist",variant:"destructive"})}finally{_(!1)}}},disabled:j,className:"bg-red-600 hover:bg-red-700 text-white px-8",children:[j?(0,jr.jsx)(Ky,{className:"w-4 h-4 animate-spin mr-2"}):null,"CRIAR PLAYLIST"]})})]}):(0,jr.jsx)("div",{className:"py-4 max-h-96 overflow-y-auto",children:0===r.length?(0,jr.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma playlist criada"}):r.map(e=>(0,jr.jsxs)("div",{onClick:()=>{A(e),m(!1),S(!0)},className:"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-12 h-12 rounded object-cover"}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"font-medium",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.song_ids||[]).length," m\xfasicas"]})]})]},e.id))})]})}),(0,jr.jsx)(jv,{open:k,onOpenChange:S,children:(0,jr.jsxs)(kv,{className:"max-w-md bg-zinc-900 text-white border-zinc-800",children:[(0,jr.jsx)(Sv,{children:(0,jr.jsxs)(Av,{className:"text-white flex items-center gap-2",children:[(0,jr.jsx)("button",{onClick:()=>{z?(U(null),F([])):S(!1)},children:"\u2190"}),z?z.title:"Adicionar a esta playlist"]})}),(0,jr.jsxs)("div",{className:"relative mb-4",children:[(0,jr.jsx)(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,jr.jsx)(Gs,{placeholder:"Buscar",value:C,onChange:e=>{T(e.target.value),(async e=>{if(!e||e.length<2)D([]);else{L(!0);try{const{data:t}=await xr.from("albums").select("id, title, artist_name, cover_url").ilike("title","%".concat(e,"%")).limit(10);D(t||[])}catch(t){console.error("Erro na busca:",t)}finally{L(!1)}}})(e.target.value)},className:"pl-10 bg-zinc-800 border-zinc-700 text-white placeholder-gray-400"})]}),(0,jr.jsx)("div",{className:"max-h-96 overflow-y-auto",children:z?(0,jr.jsx)("div",{className:"space-y-2",children:M.map(e=>(0,jr.jsxs)("div",{className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded",children:[(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,jr.jsx)("button",{onClick:()=>(async e=>{if(E)try{const t=E.song_ids||[];if(t.includes(e.id))return void qr({title:"M\xfasica j\xe1 adicionada",description:"Esta m\xfasica j\xe1 est\xe1 na playlist"});const n=[...t,e.id],{error:o}=await xr.from("playlists").update({song_ids:n}).eq("id",E.id);if(o)throw o;const s=(0,i.A)((0,i.A)({},E),{},{song_ids:n});A(s),H(s),a(r.map(e=>e.id===E.id?(0,i.A)((0,i.A)({},e),{},{song_ids:n}):e)),te([...ee,{id:e.id,title:e.title,artist_name:e.artist_name,cover_url:e.cover_url}]),qr({title:"M\xfasica adicionada!",description:'"'.concat(e.title,'" foi adicionada \xe0 playlist')})}catch(t){console.error("Erro ao adicionar m\xfasica:",t),qr({title:"Erro",description:"N\xe3o foi poss\xedvel adicionar a m\xfasica",variant:"destructive"})}})(e),className:"w-8 h-8 rounded-full border border-gray-500 flex items-center justify-center hover:bg-zinc-700",children:(0,jr.jsx)(Kv,{className:"w-4 h-4"})})]},e.id))}):C&&O.length>0?(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)("p",{className:"text-xs text-gray-400 uppercase mb-2",children:"\xc1lbuns encontrados"}),O.map(e=>(0,jr.jsxs)("div",{onClick:()=>ce(e),className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded cursor-pointer",children:[(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,jr.jsx)(Is,{className:"w-4 h-4 -rotate-90"})]},e.id))]}):(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)("p",{className:"text-xs text-gray-400 uppercase mb-2",children:"\xc1lbuns recentes"}),R.map(e=>(0,jr.jsxs)("div",{onClick:()=>ce(e),className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded cursor-pointer",children:[(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,jr.jsx)(Is,{className:"w-4 h-4 -rotate-90 text-gray-400"})]},e.id)),0===R.length&&(0,jr.jsxs)("div",{className:"text-center py-8",children:[(0,jr.jsx)(Ws,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),(0,jr.jsx)("p",{className:"text-gray-400 font-semibold mb-1",children:"Adicione m\xfasicas a esta playlist"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Clique na op\xe7\xe3o 'Criar/Adicionar' e adicione a m\xfasica ou um CD as playlists."})]})]})})]})}),(0,jr.jsx)(jv,{open:B,onOpenChange:q,children:(0,jr.jsxs)(kv,{className:"max-w-lg",children:[(0,jr.jsx)(Sv,{children:(0,jr.jsx)(Av,{children:"Editar Playlist"})}),(0,jr.jsxs)("div",{className:"py-4",children:[(0,jr.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,jr.jsxs)("div",{onClick:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 bg-red-500 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-red-600 transition-colors flex-shrink-0 overflow-hidden",children:[J?(0,jr.jsx)("img",{src:J,alt:"Capa",className:"w-full h-full object-cover"}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(Ws,{className:"w-10 h-10 text-white mb-2"}),(0,jr.jsx)("span",{className:"text-white text-xs text-center px-2",children:"Alterar capa"})]}),(0,jr.jsx)("input",{ref:Z,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){$(t);const e=new FileReader;e.onloadend=()=>Y(e.result),e.readAsDataURL(t)}},className:"hidden"})]}),(0,jr.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,jr.jsx)(Gs,{placeholder:"T\xedtulo da playlist",value:W.title,onChange:e=>K((0,i.A)((0,i.A)({},W),{},{title:e.target.value})),maxLength:100}),(0,jr.jsx)(jb,{placeholder:"Descri\xe7\xe3o",value:W.description,onChange:e=>K((0,i.A)((0,i.A)({},W),{},{description:e.target.value})),rows:3,className:"bg-gray-100 border-0"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,jr.jsx)("span",{className:"text-gray-700",children:"Tornar a playlist privada?"}),(0,jr.jsx)("button",{onClick:()=>K((0,i.A)((0,i.A)({},W),{},{isPrivate:!W.isPrivate})),className:"w-12 h-6 rounded-full transition-colors ".concat(W.isPrivate?"bg-red-600":"bg-gray-300"),children:(0,jr.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform ".concat(W.isPrivate?"translate-x-6":"translate-x-0.5")})})]}),(0,jr.jsxs)(si,{onClick:()=>{A(V),S(!0)},variant:"outline",className:"w-full mb-4 border-dashed border-2",children:[(0,jr.jsx)(Kv,{className:"w-4 h-4 mr-2"}),"Adicionar m\xfasicas \xe0 playlist"]}),ee.length>0&&(0,jr.jsx)("div",{className:"border rounded-lg max-h-48 overflow-y-auto mb-4",children:ee.map((e,t)=>(0,jr.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b last:border-0 hover:bg-gray-50",children:[(0,jr.jsxs)("span",{className:"text-gray-500 text-sm w-6",children:[t+1,"."]}),(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"font-medium text-sm truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.artist_name})]}),(0,jr.jsx)(si,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if(V)try{const t=(V.song_ids||[]).filter(t=>t!==e),{error:n}=await xr.from("playlists").update({song_ids:t}).eq("id",V.id);if(n)throw n;H((0,i.A)((0,i.A)({},V),{},{song_ids:t})),te(ee.filter(t=>t.id!==e)),a(r.map(e=>e.id===V.id?(0,i.A)((0,i.A)({},e),{},{song_ids:t}):e)),qr({title:"M\xfasica removida",description:"A m\xfasica foi removida da playlist"})}catch(t){console.error("Erro ao remover m\xfasica:",t),qr({title:"Erro",description:"N\xe3o foi poss\xedvel remover a m\xfasica",variant:"destructive"})}})(e.id),className:"h-8 w-8 text-gray-400 hover:text-red-600",children:(0,jr.jsx)(ro,{className:"w-4 h-4"})})]},e.id))}),(0,jr.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,jr.jsx)(si,{variant:"outline",onClick:()=>q(!1),children:"Cancelar"}),(0,jr.jsxs)(si,{onClick:async()=>{if(!W.title||W.title.length<5)qr({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{X(!0);try{let e=V.cover_url;if(G){const r=G.name.split(".").pop(),n="playlists/".concat(t.id,"/").concat(Date.now(),".").concat(r),{error:a}=await xr.storage.from("music").upload(n,G,{upsert:!0});if(!a){const{data:{publicUrl:t}}=xr.storage.from("music").getPublicUrl(n);e=t}}const{error:n}=await xr.from("playlists").update({title:W.title,description:W.description,cover_url:e,is_public:!W.isPrivate}).eq("id",V.id);if(n)throw n;qr({title:"Playlist atualizada!",description:'"'.concat(W.title,'" foi atualizada')}),a(r.map(t=>t.id===V.id?(0,i.A)((0,i.A)({},t),{},{title:W.title,description:W.description,cover_url:e,is_public:!W.isPrivate}):t)),q(!1)}catch(e){console.error("Erro ao atualizar:",e),qr({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar a playlist",variant:"destructive"})}finally{X(!1)}}},disabled:Q,className:"bg-red-600 hover:bg-red-700 text-white",children:[Q?(0,jr.jsx)(Ky,{className:"w-4 h-4 animate-spin mr-2"}):null,"Salvar"]})]})]})]})}),(0,jr.jsx)(jv,{open:re,onOpenChange:ne,children:(0,jr.jsxs)(kv,{className:"max-w-sm",children:[(0,jr.jsx)(Sv,{children:(0,jr.jsx)(Av,{children:"Excluir Playlist"})}),(0,jr.jsxs)("p",{className:"text-gray-600 py-4",children:['Tem certeza que deseja excluir a playlist "',(0,jr.jsx)("span",{className:"font-semibold",children:null===ae||void 0===ae?void 0:ae.title}),'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.']}),(0,jr.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,jr.jsx)(si,{variant:"outline",onClick:()=>ne(!1),children:"Cancelar"}),(0,jr.jsx)(si,{onClick:async()=>{if(ae)try{const{error:e}=await xr.from("playlists").delete().eq("id",ae.id);if(e)throw e;qr({title:"Playlist exclu\xedda",description:'"'.concat(ae.title,'" foi exclu\xedda')}),a(r.filter(e=>e.id!==ae.id)),ne(!1),oe(null)}catch(e){console.error("Erro ao excluir:",e),qr({title:"Erro",description:"N\xe3o foi poss\xedvel excluir a playlist",variant:"destructive"})}},className:"bg-red-600 hover:bg-red-700 text-white",children:"Excluir"})]})]})})]})},Cj={async getArtistStats(e){try{console.log("getArtistStats - userId:",e);const{data:t,error:r}=await xr.from("artists").select("id, followers_count, monthly_listeners").eq("id",e).maybeSingle();console.log("Artist data:",t,r);const{data:n,error:a}=await xr.from("albums").select("id, title").eq("artist_id",e);console.log("Albums data:",n,a);const{data:o,error:s}=await xr.from("songs").select("id, title, plays, cover_url, album_id").eq("artist_id",e).order("plays",{ascending:!1});console.log("Songs data:",o,s);const i=(o||[]).reduce((e,t)=>e+(t.plays||0),0),l=(o||[]).slice(0,5).map(e=>({songId:e.id,title:e.title,plays:e.plays||0,coverImage:e.cover_url})),c=[],u=new Date,d=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];for(let e=5;e>=0;e--){const t=new Date(u.getFullYear(),u.getMonth()-e,1),r=(6-e)/21,n=Math.floor(i*r);c.push({month:d[t.getMonth()],plays:n})}return{data:{totalPlays:i,monthlyListeners:(null===t||void 0===t?void 0:t.monthly_listeners)||Math.floor(.023*i),followers:(null===t||void 0===t?void 0:t.followers_count)||0,totalSongs:(null===o||void 0===o?void 0:o.length)||0,totalAlbums:(null===n||void 0===n?void 0:n.length)||0,topSongs:l,playsByMonth:c},error:null}}catch(Hj){return console.error("getArtistStats error:",Hj),{data:null,error:{message:String(Hj)}}}},async getArtist(e){try{const{data:t,error:r}=await xr.from("artists").select("*").eq("id",e).maybeSingle();return{data:t,error:r}}catch(Hj){return console.error("getArtist error:",Hj),{data:null,error:{message:String(Hj)}}}},async saveArtist(e,t,r){try{console.log("Salvando artista:",e,r);const{data:n}=await xr.from("artists").select("id").eq("id",e).maybeSingle(),a={name:r.name||"",bio:r.bio||"",estilo_musical:r.estilo_musical||"",cidade:r.cidade||"",estado:r.estado||"",avatar_url:r.avatar_url||"",cover_url:r.cover_url||"",instagram:r.instagram||"",twitter:r.twitter||"",youtube:r.youtube||""};if(r.slug&&(a.slug=r.slug),n){console.log("Artista existe, atualizando...");const{error:t}=await xr.from("artists").update(a).eq("id",e);return t?(console.error("Erro no update:",t),{data:null,error:t}):(console.log("Update sucesso!"),{data:{id:e},error:null})}{console.log("Artista n\xe3o existe, criando...");const{error:n}=await xr.from("artists").insert({id:e,email:t,name:r.name||"",slug:(r.name||"").toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),bio:r.bio||"",estilo_musical:r.estilo_musical||"",cidade:r.cidade||"",estado:r.estado||"",avatar_url:r.avatar_url||"",cover_url:r.cover_url||"",instagram:r.instagram||"",twitter:r.twitter||"",youtube:r.youtube||"",followers_count:0,is_verified:!1});return n?(console.error("Erro no insert:",n),{data:null,error:n}):(console.log("Insert sucesso!"),{data:{id:e},error:null})}}catch(Hj){return console.error("saveArtist exception:",Hj),{data:null,error:{message:String(Hj)}}}}},Tj=to("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Rj=to("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Pj=to("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Oj={forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega-funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel",rap:"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock",eletronica:"Eletr\xf4nica",podcast:"Podcast",trap:"Trap",frevo:"Frevo"},Dj=()=>{var e,t;const{user:r,updateUser:a}=Nr(),[o,s]=(0,n.useState)(null),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!0),[h,f]=(0,n.useState)(!1),[p,m]=(0,n.useState)(null),[g,v]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{if(null!==r&&void 0!==r&&r.id){try{const{data:e,error:t}=await Cj.getArtist(r.id);s(e&&!t?{id:e.id,name:e.name||r.name,slug:e.slug||"",bio:e.bio||"",genre:e.estilo_musical||"",cidade:e.cidade||"",estado:e.estado||"",location:e.cidade&&e.estado?"".concat(e.cidade,", ").concat(e.estado):e.cidade||e.estado||"",avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",followers:e.followers_count||0,monthlyListeners:0,instagram:e.instagram||"",twitter:e.twitter||"",youtube:e.youtube||""}:{id:r.id,name:r.name||"",slug:"",bio:"",genre:r.estilo_musical||"",cidade:r.cidade||"",estado:r.estado||"",location:r.cidade&&r.estado?"".concat(r.cidade,", ").concat(r.estado):r.cidade||r.estado||"",avatar:r.avatar||"/images/default-avatar.png",coverImage:"",followers:0,monthlyListeners:0,instagram:"",twitter:"",youtube:""})}catch(e){console.error("Erro ao carregar dados do artista:",e),s({id:r.id,name:r.name||"",slug:"",bio:"",genre:r.estilo_musical||"",cidade:r.cidade||"",estado:r.estado||"",location:"",avatar:r.avatar||"/images/default-avatar.png",coverImage:"",followers:0,monthlyListeners:0,instagram:"",twitter:"",youtube:""})}d(!1)}else d(!1)})()},[r]);const y=e=>{const{name:t,value:r}=e.target;s(e=>(0,i.A)((0,i.A)({},e),{},{[t]:r}))},b=async(e,t)=>{if(!e||null===r||void 0===r||!r.id)return null;const n=e.name.split(".").pop(),a="".concat(r.id,"_").concat(t,"_").concat(Date.now(),".").concat(n),o="".concat(t,"s/").concat(a);console.log("Fazendo upload:",o);const{error:s}=await xr.storage.from("avatars").upload(o,e,{cacheControl:"3600",upsert:!0});if(s)throw console.error("Erro no upload:",s),s;const{data:i}=xr.storage.from("avatars").getPublicUrl(o);return console.log("URL p\xfablica:",i.publicUrl),i.publicUrl};if(u||!o)return(0,jr.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,jr.jsx)(Gy,{}),(0,jr.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,jr.jsx)("p",{className:"text-gray-600",children:"Carregando..."})})]});const x=(e,t)=>{var r,n;const a=null===e||void 0===e||null===(r=e.target)||void 0===r||null===(n=r.files)||void 0===n?void 0:n[0];if(!a)return;"avatar"===t?m(a):v(a);const o=new FileReader;o.onload=()=>{const e=o.result;s("avatar"===t?t=>(0,i.A)((0,i.A)({},t),{},{avatar:e}):t=>(0,i.A)((0,i.A)({},t),{},{coverImage:e})),qr({title:"Imagem selecionada",description:'Clique em "Salvar Altera\xe7\xf5es" para confirmar'})},o.readAsDataURL(a)};return(0,jr.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,jr.jsx)(Gy,{}),(0,jr.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,jr.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Configura\xe7\xf5es do Perfil"}),(0,jr.jsx)(si,{onClick:()=>l?(async()=>{if(r&&o){f(!0);try{var e,t;let n=o.avatar||"",l=o.coverImage||"";if(p)try{const e=await b(p,"avatar");e&&(n=e)}catch(Hj){console.error("Erro upload avatar:",Hj),qr({title:"Aviso",description:"N\xe3o foi poss\xedvel enviar a foto de perfil."})}if(g)try{const e=await b(g,"cover");e&&(l=e)}catch(Hj){console.error("Erro upload capa:",Hj),qr({title:"Aviso",description:"N\xe3o foi poss\xedvel enviar a capa."})}null!==(e=n)&&void 0!==e&&e.startsWith("data:")&&(n=""),null!==(t=l)&&void 0!==t&&t.startsWith("data:")&&(l="");const u={name:o.name||"",slug:o.slug||"",bio:o.bio||"",estilo_musical:o.genre||"",cidade:o.cidade||"",estado:o.estado||"",avatar_url:n,cover_url:l,instagram:o.instagram||"",twitter:o.twitter||"",youtube:o.youtube||""},{data:d,error:h}=await Cj.saveArtist(r.id,r.email,u);if(h)return console.error("Erro ao salvar:",h),qr({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es. Verifique sua conex\xe3o.",variant:"destructive"}),void f(!1);console.log("Salvo com sucesso:",d),s(e=>(0,i.A)((0,i.A)({},e),{},{avatar:n||e.avatar,coverImage:l||e.coverImage})),m(null),v(null);const y=(0,i.A)((0,i.A)({},r),{},{name:o.name,avatar:n||o.avatar});"function"===typeof a&&a(y),qr({title:"Perfil atualizado!",description:"Suas informa\xe7\xf5es foram salvas com sucesso"}),c(!1)}catch(Hj){console.error("Erro inesperado:",Hj),qr({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}finally{f(!1)}}})():c(!0),className:"bg-red-600 hover:bg-red-700 text-white",disabled:h,children:h?"Salvando...":l?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(Tj,{className:"w-4 h-4 mr-2"}),"Salvar Altera\xe7\xf5es"]}):"Editar Perfil"})]}),(0,jr.jsx)(Om,{className:"bg-white shadow-sm mb-6 overflow-hidden",children:(0,jr.jsxs)("div",{className:"relative h-64 bg-gradient-to-r from-red-600 to-red-800",children:[o.coverImage&&(0,jr.jsx)("img",{src:o.coverImage,alt:"Capa",className:"w-full h-full object-cover"}),l&&(0,jr.jsxs)("label",{htmlFor:"coverUpload",className:"absolute inset-0 bg-black/50 flex items-center justify-center cursor-pointer hover:bg-black/60 transition-colors",children:[(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(Rj,{className:"w-12 h-12 text-white mx-auto mb-2"}),(0,jr.jsx)("p",{className:"text-white font-medium",children:"Alterar Capa"})]}),(0,jr.jsx)("input",{id:"coverUpload",type:"file",accept:"image/*",className:"hidden",onChange:e=>x(e,"cover")})]})]})}),(0,jr.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,jr.jsx)(Om,{className:"bg-white shadow-sm lg:col-span-1",children:(0,jr.jsxs)("div",{className:"p-6",children:[(0,jr.jsxs)("div",{className:"relative w-48 h-48 mx-auto mb-4",children:[(0,jr.jsx)("img",{src:o.avatar,alt:o.name,className:"w-full h-full rounded-full object-cover bg-gray-200"}),l&&(0,jr.jsxs)("label",{htmlFor:"avatarUpload",className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center cursor-pointer hover:bg-black/60 transition-colors",children:[(0,jr.jsx)(Rj,{className:"w-8 h-8 text-white"}),(0,jr.jsx)("input",{id:"avatarUpload",type:"file",accept:"image/*",className:"hidden",onChange:e=>x(e,"avatar")})]})]}),(0,jr.jsxs)("div",{className:"text-center space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm",children:"Seguidores"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=o.followers)||void 0===e?void 0:e.toLocaleString())||0})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm",children:"Ouvintes Mensais"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(t=o.monthlyListeners)||void 0===t?void 0:t.toLocaleString())||0})]})]})]})}),(0,jr.jsx)(Om,{className:"bg-white shadow-sm lg:col-span-2",children:(0,jr.jsxs)("div",{className:"p-6",children:[(0,jr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informa\xe7\xf5es do Perfil"}),(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"name",className:"text-gray-700",children:"Nome Art\xedstico"}),(0,jr.jsx)(Gs,{id:"name",name:"name",value:o.name||"",onChange:y,disabled:!l,className:"disabled:opacity-70"})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsxs)(Sm,{htmlFor:"slug",className:"text-gray-700 flex items-center gap-2",children:[(0,jr.jsx)(Pj,{className:"w-4 h-4"}),"URL do Perfil"]}),(0,jr.jsxs)("div",{className:"flex items-center",children:[(0,jr.jsx)("span",{className:"text-gray-500 text-sm mr-2",children:"musicasua.com/"}),(0,jr.jsx)(Gs,{id:"slug",name:"slug",value:o.slug||"",onChange:e=>{const t=e.target.value.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9]/g,"");s(e=>(0,i.A)((0,i.A)({},e),{},{slug:t}))},disabled:!l,placeholder:"seunome",className:"disabled:opacity-70 flex-1"})]}),l&&(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Apenas letras min\xfasculas e n\xfameros, sem espa\xe7os ou caracteres especiais."})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"bio",className:"text-gray-700",children:"Biografia"}),(0,jr.jsx)(jb,{id:"bio",name:"bio",value:o.bio||"",onChange:y,disabled:!l,rows:4,className:"disabled:opacity-70 resize-none"})]}),(0,jr.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"genre",className:"text-gray-700",children:"Estilo Musical"}),l?(0,jr.jsxs)(mw,{value:o.genre||"",onValueChange:e=>s(t=>(0,i.A)((0,i.A)({},t),{},{genre:e})),disabled:!l,children:[(0,jr.jsx)(vw,{children:(0,jr.jsx)(gw,{placeholder:"Selecione o estilo"})}),(0,jr.jsx)(xw,{children:Object.entries(Oj).map(e=>{let[t,r]=e;return(0,jr.jsx)(ww,{value:t,children:r},t)})})]}):(0,jr.jsx)(Gs,{value:Oj[o.genre]||o.genre||"",disabled:!0,className:"disabled:opacity-70"})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{htmlFor:"location",className:"text-gray-700",children:"Localiza\xe7\xe3o"}),l?(0,jr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,jr.jsx)(Gs,{id:"cidade",name:"cidade",placeholder:"Cidade",value:o.cidade||"",onChange:y}),(0,jr.jsx)(Gs,{id:"estado",name:"estado",placeholder:"Estado",value:o.estado||"",onChange:y})]}):(0,jr.jsx)(Gs,{value:o.location||"",disabled:!0,className:"disabled:opacity-70"})]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Sm,{className:"text-gray-700",children:"Redes Sociais"}),(0,jr.jsxs)("div",{className:"space-y-3",children:[(0,jr.jsx)(Gs,{name:"instagram",placeholder:"Instagram",value:o.instagram||"",onChange:y,disabled:!l,className:"disabled:opacity-70"}),(0,jr.jsx)(Gs,{name:"twitter",placeholder:"Twitter/X",value:o.twitter||"",onChange:y,disabled:!l,className:"disabled:opacity-70"}),(0,jr.jsx)(Gs,{name:"youtube",placeholder:"YouTube",value:o.youtube||"",onChange:y,disabled:!l,className:"disabled:opacity-70"})]})]})]})]})})]})]})})]})},Ij=to("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Lj=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[o,s]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l()},[]);const l=async()=>{const{data:e,error:r}=await xr.from("slides").select("*").order("order_index",{ascending:!0});e&&t(e),a(!1)},c=async(r,n,a)=>{const{error:o}=await xr.from("slides").update({[n]:a}).eq("id",r);o||t(e.map(e=>e.id===r?(0,i.A)((0,i.A)({},e),{},{[n]:a}):e))};return r?(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,jr.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,jr.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Gerenciar Slides"}),(0,jr.jsxs)("div",{className:"mb-8 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,jr.jsxs)("label",{className:"flex flex-col items-center cursor-pointer",children:[(0,jr.jsx)(Fs,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,jr.jsx)("span",{className:"text-gray-600 mb-2",children:"Clique para adicionar novo slide"}),(0,jr.jsx)("span",{className:"text-sm text-gray-400",children:"JPG, PNG (recomendado: 1920x400px)"}),(0,jr.jsx)("input",{type:"file",accept:"image/*",onChange:async r=>{const n=r.target.files[0];if(!n)return;s(!0);const a="slide-".concat(Date.now(),"-").concat(n.name),{data:o,error:i}=await xr.storage.from("slides").upload(a,n);if(i)return qr({title:"Erro no upload",description:i.message,variant:"destructive"}),void s(!1);const l="".concat(br,"/storage/v1/object/public/slides/").concat(a),{data:c,error:u}=await xr.from("slides").insert({image_url:l,order_index:e.length+1,active:!0}).select().single();u?qr({title:"Erro ao salvar",description:u.message,variant:"destructive"}):(t([...e,c]),qr({title:"Slide adicionado!",description:"Imagem enviada com sucesso"})),s(!1)},className:"hidden",disabled:o})]}),o&&(0,jr.jsx)("p",{className:"text-center text-red-600 mt-2",children:"Enviando..."})]}),(0,jr.jsxs)("div",{className:"space-y-4",children:[e.map((r,n)=>(0,jr.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg ".concat(r.active?"bg-white":"bg-gray-100 opacity-60"),children:[(0,jr.jsx)(Ij,{className:"w-5 h-5 text-gray-400 cursor-grab"}),(0,jr.jsx)("span",{className:"w-8 h-8 flex items-center justify-center bg-red-600 text-white rounded font-bold",children:n+1}),(0,jr.jsx)("img",{src:r.image_url,alt:r.title||"Slide ".concat(n+1),className:"w-32 h-20 object-cover rounded"}),(0,jr.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Sm,{className:"text-xs text-gray-500",children:"T\xedtulo (opcional)"}),(0,jr.jsx)(Gs,{value:r.title||"",onChange:e=>c(r.id,"title",e.target.value),placeholder:"T\xedtulo do slide",className:"h-9"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Sm,{className:"text-xs text-gray-500",children:"Link do \xc1lbum"}),(0,jr.jsx)(Gs,{value:r.link||"",onChange:e=>c(r.id,"link",e.target.value),placeholder:"/album/ID-DO-ALBUM",className:"h-9"})]})]}),(0,jr.jsx)(si,{variant:"outline",size:"sm",onClick:()=>(async(e,t)=>{await c(e,"active",!t)})(r.id,r.active),className:r.active?"text-green-600":"text-gray-400",children:r.active?"Ativo":"Inativo"}),(0,jr.jsx)(si,{variant:"outline",size:"icon",onClick:()=>(async(r,n)=>{const a=n.split("/").pop();await xr.storage.from("slides").remove([a]);const{error:o}=await xr.from("slides").delete().eq("id",r);o||(t(e.filter(e=>e.id!==r)),qr({title:"Slide removido",description:"Slide deletado com sucesso"}))})(r.id,r.image_url),className:"text-red-600 hover:bg-red-50",children:(0,jr.jsx)(dp,{className:"w-4 h-4"})})]},r.id)),0===e.length&&(0,jr.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Nenhum slide cadastrado. Adicione o primeiro acima."})]})]})})})},Mj=()=>{const{pathname:e}=fe();return(0,n.useEffect)(()=>{window.scrollTo(0,0)},[e]),null},Fj=e=>{let{children:t}=e;const{user:r,loading:n}=Nr();return n?(0,jr.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):r?t:(0,jr.jsx)(De,{to:"/login",replace:!0})},zj=e=>{let{children:t,showFooter:r=!0}=e;return(0,jr.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,jr.jsx)(fp,{}),(0,jr.jsx)("main",{className:"flex-1",children:t}),r&&(0,jr.jsx)(yp,{}),(0,jr.jsx)(bm,{})]})},Uj=e=>{let{children:t}=e;return(0,jr.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[(0,jr.jsx)(fp,{}),(0,jr.jsx)("main",{className:"flex-1 pb-24",children:t}),(0,jr.jsx)(bm,{})]})};function Bj(){const{user:e}=Nr();return(0,jr.jsxs)(Me,{children:[(0,jr.jsx)(Ie,{path:"/login",element:e?(0,jr.jsx)(De,{to:"/",replace:!0}):(0,jr.jsx)(zm,{})}),(0,jr.jsx)(Ie,{path:"/cadastrar",element:e?(0,jr.jsx)(De,{to:"/",replace:!0}):(0,jr.jsx)(Tv,{})}),(0,jr.jsx)(Ie,{path:"/",element:(0,jr.jsx)(zj,{children:(0,jr.jsx)(Iv,{})})}),(0,jr.jsx)(Ie,{path:"/:artistSlug/:albumSlug",element:(0,jr.jsx)(zj,{showFooter:!1,children:(0,jr.jsx)(Ly,{})})}),(0,jr.jsx)(Ie,{path:"/playlist/:playlistSlug",element:(0,jr.jsx)(zj,{showFooter:!1,children:(0,jr.jsx)(My,{})})}),(0,jr.jsx)(Ie,{path:"/search",element:(0,jr.jsx)(zj,{children:(0,jr.jsx)(Fv,{})})}),(0,jr.jsx)(Ie,{path:"/top-cds",element:(0,jr.jsx)(zj,{children:(0,jr.jsx)(Fy,{})})}),(0,jr.jsx)(Ie,{path:"/lancamentos",element:(0,jr.jsx)(zj,{children:(0,jr.jsx)(Uy,{})})}),(0,jr.jsx)(Ie,{path:"/genero/:genre",element:(0,jr.jsx)(zj,{children:(0,jr.jsx)(qy,{})})}),(0,jr.jsx)(Ie,{path:"/library",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(zj,{children:(0,jr.jsx)(Uv,{})})})}),(0,jr.jsx)(Ie,{path:"/favorites",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(zj,{children:(0,jr.jsx)(Uv,{})})})}),(0,jr.jsx)(Ie,{path:"/premium",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(zj,{children:(0,jr.jsx)(Vv,{})})})}),(0,jr.jsx)(Ie,{path:"/artist/dashboard",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(Uj,{children:(0,jr.jsx)($y,{})})})}),(0,jr.jsx)(Ie,{path:"/artist/upload",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(Uj,{children:(0,jr.jsx)(jw,{})})})}),(0,jr.jsx)(Ie,{path:"/artist/albums",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(Uj,{children:(0,jr.jsx)(Ej,{})})})}),(0,jr.jsx)(Ie,{path:"/artist/playlists",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(Uj,{children:(0,jr.jsx)(Aj,{})})})}),(0,jr.jsx)(Ie,{path:"/artist/settings",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(Uj,{children:(0,jr.jsx)(Dj,{})})})}),(0,jr.jsx)(Ie,{path:"/admin/slides",element:(0,jr.jsx)(Fj,{children:(0,jr.jsx)(Uj,{children:(0,jr.jsx)(Lj,{})})})}),(0,jr.jsx)(Ie,{path:"/:slug",element:(0,jr.jsx)(zj,{showFooter:!1,children:(0,jr.jsx)(Wy,{})})}),(0,jr.jsx)(Ie,{path:"*",element:(0,jr.jsx)(De,{to:"/",replace:!0})})]})}const qj=function(){return(0,jr.jsx)(vt,{children:(0,jr.jsx)(kr,{children:(0,jr.jsxs)(Dr,{children:[(0,jr.jsx)(Mj,{}),(0,jr.jsx)(Bj,{}),(0,jr.jsx)(Ds,{})]})})})};o.createRoot(document.getElementById("root")).render((0,jr.jsx)(n.StrictMode,{children:(0,jr.jsx)(qj,{})}))})();
//# sourceMappingURL=main.9d301549.js.map
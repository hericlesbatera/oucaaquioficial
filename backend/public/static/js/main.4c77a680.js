/*! For license information please see main.4c77a680.js.LICENSE.txt */
(()=>{var e={100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;t.resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)};t.resolveHeadersConstructor=()=>Headers;t.fetchWithAuth=(e,r,n)=>{const a=(0,t.resolveFetch)(n),s=(0,t.resolveHeadersConstructor)();return async(t,n)=>{var i;const o=null!==(i=await r())&&void 0!==i?i:e;let l=new s(null===n||void 0===n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),a(t,Object.assign(Object.assign({},n),{headers:l}))}}},219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthAdminApi:()=>We,AuthApiError:()=>m,AuthClient:()=>He,AuthError:()=>u,AuthImplicitGrantRedirectError:()=>w,AuthInvalidCredentialsError:()=>b,AuthInvalidJwtError:()=>E,AuthInvalidTokenResponseError:()=>y,AuthPKCEGrantCodeExchangeError:()=>N,AuthRetryableFetchError:()=>_,AuthSessionMissingError:()=>v,AuthUnknownError:()=>p,AuthWeakPasswordError:()=>k,CustomAuthError:()=>g,GoTrueAdminApi:()=>me,GoTrueClient:()=>Ve,NavigatorLockAcquireTimeoutError:()=>ve,SIGN_OUT_SCOPES:()=>he,isAuthApiError:()=>f,isAuthError:()=>h,isAuthImplicitGrantRedirectError:()=>j,isAuthRetryableFetchError:()=>S,isAuthSessionMissingError:()=>x,isAuthWeakPasswordError:()=>A,lockInternals:()=>pe,navigatorLock:()=>ye,processLock:()=>we});var n=r(6326);const a="2.86.2",s=3e4,i=9e4,o={"X-Client-Info":"gotrue-js/".concat(a)},l="X-Supabase-Api-Version",c={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},d=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class u extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function h(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class m extends u{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function f(e){return h(e)&&"AuthApiError"===e.name}class p extends u{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class g extends u{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class v extends g{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function x(e){return h(e)&&"AuthSessionMissingError"===e.name}class y extends g{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class b extends g{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class w extends g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j(e){return h(e)&&"AuthImplicitGrantRedirectError"===e.name}class N extends g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _ extends g{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function S(e){return h(e)&&"AuthRetryableFetchError"===e.name}class k extends g{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}function A(e){return h(e)&&"AuthWeakPasswordError"===e.name}class E extends g{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O=" \t\n\r=".split(""),P=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<O.length;t+=1)e[O[t].charCodeAt(0)]=-2;for(let t=0;t<C.length;t+=1)e[C[t].charCodeAt(0)]=t;return e})();function D(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(C[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(C[e]),t.queuedBits-=6}}function T(e,t,r){const n=P[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function R(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)T(e.charCodeAt(i),a,s);return t.join("")}function I(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function M(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}I(n,t)}}function L(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)T(e.charCodeAt(a),r,n);return new Uint8Array(t)}function z(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>D(e,r,n)),D(null,r,n),t.join("")}const F=()=>"undefined"!==typeof window&&"undefined"!==typeof document,B={tested:!1,writable:!1},U=()=>{if(!F())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(B.tested)return B.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),B.tested=!0,B.writable=!0}catch(t){B.tested=!0,B.writable=!1}return B.writable};const q=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},V=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},W=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},H=async(e,t)=>{await e.removeItem(t)};class K{constructor(){this.promise=new K.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function $(e){const t=e.split(".");if(3!==t.length)throw new E("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!d.test(t[r]))throw new E("JWT not in base64url format");return{header:JSON.parse(R(t[0])),payload:JSON.parse(R(t[1])),signature:L(t[2]),raw:{header:t[0],payload:t[1]}}}function G(e){return("0"+e.toString(16)).substr(-2)}async function Y(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function J(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,G).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await V(e,"".concat(t,"-code-verifier"),a);const s=await Y(n);return[s,n===s?"plain":"s256"]}K.promiseConstructor=Promise;const X=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Z=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Q(e){if(!Z.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ee(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function te(e){return JSON.parse(JSON.stringify(e))}const re=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ne=[502,503,504];async function ae(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new _(re(e),0);if(ne.includes(e.status))throw new _(re(e),e.status);let n,a;try{n=await e.json()}catch(i){throw new p(re(i),i)}const s=function(e){const t=e.headers.get(l);if(!t)return null;if(!t.match(X))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(i){return null}}(e);if(s&&s.getTime()>=c.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new k(re(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new v}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new k(re(n),e.status,n.weak_password.reasons);throw new m(re(n),e.status||500,a)}async function se(e,t,r,n){var a;const s=Object.assign({},null===n||void 0===n?void 0:n.headers);s[l]||(s[l]=c.name),(null===n||void 0===n?void 0:n.jwt)&&(s.Authorization="Bearer ".concat(n.jwt));const i=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",d=await async function(e,t,r,n,a,s){const i=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new _(re(l),0)}o.ok||await ae(o);if(null===n||void 0===n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(l){await ae(l)}}(e,t,r+o,{headers:s,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(d):{data:Object.assign({},d),error:null}}function ie(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function oe(e){const t=ie(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function le(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ce(e){return{data:e,error:null}}function de(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:i}=e,o=(0,n.__rest)(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:i},user:Object.assign({},o)},error:null}}function ue(e){return e}const he=["global","local","others"];class me{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=q(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he[0];if(he.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(he.join(", ")));try{return await se(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(h(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await se(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=(0,n.__rest)(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=null===r||void 0===r?void 0:r.newEmail,delete a.newEmail),await se(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:de,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(h(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await se(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:le})}catch(t){if(h(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await se(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:ue});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(h(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Q(e);try{return await se(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:le})}catch(t){if(h(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Q(e);try{return await se(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Q(e);try{return await se(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Q(e.userId);try{const{data:t,error:r}=await se(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Q(e.userId),Q(e.id);try{return{data:await se(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,n,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await se(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:ue});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(h(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await se(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await se(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await se(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(h(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await se(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await se(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const pe={debug:!!(globalThis&&U()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class ge extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ve extends ge{}class xe extends ge{}async function ye(e,t,r){pe.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),pe.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw pe.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ve('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(pe.debug)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}pe.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{pe.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}const be={};async function we(e,t,r){var n;const a=null!==(n=be[e])&&void 0!==n?n:Promise.resolve(),s=Promise.race([a.catch(()=>null),t>=0?new Promise((r,n)=>{setTimeout(()=>{n(new xe('Acquring process lock with name "'.concat(e,'" timed out')))},t)}):null].filter(e=>e)).catch(e=>{if(e&&e.isAcquireTimeout)throw e;return null}).then(async()=>await r());return be[e]=s.catch(async e=>{if(e&&e.isAcquireTimeout)return await a,null;throw e}),await s}function je(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Ne(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class _e extends Error{constructor(e){let{message:t,code:r,cause:n,name:a}=e;var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=null!==(s=null!==a&&void 0!==a?a:n instanceof Error?n.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=r}}class Se extends _e{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function ke(e){let{error:t,options:r}=e;var n,a,s;const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new _e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(n=i.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new _e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===r.mediation&&"required"===(null===(a=i.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new _e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(s=i.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new _e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new _e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new _e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Te(e))return new _e({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new _e({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new _e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ae(e){let{error:t,options:r}=e;const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new _e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Te(e))return new _e({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(n.rpId!==e)return new _e({message:'The RP ID "'.concat(n.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new _e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ee=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Ce(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,s=(0,n.__rest)(e,["challenge","user","excludeCredentials"]),i=L(t).buffer,o=Object.assign(Object.assign({},r),{id:L(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];l.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:L(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return l}function Oe(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=(0,n.__rest)(e,["challenge","allowCredentials"]),s=L(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];i.allowCredentials[e]=Object.assign(Object.assign({},t),{id:L(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return i}function Pe(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:z(new Uint8Array(e.response.attestationObject)),clientDataJSON:z(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function De(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:z(new Uint8Array(a.authenticatorData)),clientDataJSON:z(new Uint8Array(a.clientDataJSON)),signature:z(new Uint8Array(a.signature)),userHandle:a.userHandle?z(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function Te(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Re(){var e,t;return!!(F()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const Ie={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Me={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Le(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];for(const i of a)if(i)for(const n in i){const a=i[n];if(void 0!==a)if(Array.isArray(a))r[n]=a;else if(t(a))r[n]=a;else if(e(a)){const t=r[n];e(t)?r[n]=Le(t,a):r[n]=Le(a)}else r[n]=a}return r}class ze{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:r,webauthn:n,friendlyName:a,signal:s}=e;try{const{data:e,error:i}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!e)return{data:null,error:i};const o=null!==s&&void 0!==s?s:Ee.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(a)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const n=function(e,t){return Le(Ie,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Se("Browser returned unexpected credential type",t)}:{data:null,error:new Se("Empty credential response",t)}}catch(t){return{data:null,error:ke({error:t,options:e})}}}({publicKey:n,signal:o});return a?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}case"request":{const n=function(e,t){return Le(Me,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Se("Browser returned unexpected credential type",t)}:{data:null,error:new Se("Empty credential response",t)}}catch(t){return{data:null,error:Ae({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:n,signal:o}));return a?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}}}catch(i){return h(i)?{data:null,error:i}:{data:null,error:new p("Unexpected error in challenge",i)}}}async _verify(e){let{challengeId:t,factorId:r,webauthn:n}=e;return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate(e,t){let{factorId:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!n)return{data:null,error:new u("rpId is required for WebAuthn authentication")};try{if(!Re())return{data:null,error:new p("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:t});if(!e)return{data:null,error:i};const{webauthn:o}=e;return this._verify({factorId:r,challengeId:e.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(i){return h(i)?{data:null,error:i}:{data:null,error:new p("Unexpected error in authenticate",i)}}}async _register(e,t){let{friendlyName:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!n)return{data:null,error:new u("rpId is required for WebAuthn registration")};try{if(!Re())return{data:null,error:new p("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this._enroll({friendlyName:r});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===r&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:t});return o?this._verify({factorId:e.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(i){return h(i)?{data:null,error:i}:{data:null,error:new p("Unexpected error in register",i)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Fe={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:o,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Be(e,t,r){return await r()}const Ue={};class qe{get jwks(){var e,t;return null!==(t=null===(e=Ue[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Ue[this.storageKey]=Object.assign(Object.assign({},Ue[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Ue[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ue[this.storageKey]=Object.assign(Object.assign({},Ue[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Fe),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=qe.nextInstanceID[this.storageKey])&&void 0!==t?t:0,qe.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&F()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new me({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=q(a.fetch),this.lock=a.lock||Be,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:F()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=ye:this.lock=Be,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ze(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:U()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fe(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=fe(this.memoryStorage)),F()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(a,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(F()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(n){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),F()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),j(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return h(t)?this._returnResult({error:t}):this._returnResult({error:new p("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await se(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:ie}),{data:s,error:i}=a;if(i||!s)return this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(h(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await J(this.storage,this.storageKey)),a=await se(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:ie})}else{if(!("phone"in e))throw new b("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await se(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null===i||void 0===i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ie})}}const{data:s,error:i}=a;if(i||!s)return await H(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(await H(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await se(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:oe})}else{if(!("phone"in e))throw new b("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await se(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:oe})}}const{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const e=new y;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,r,n,a,s,i,o,l,c,d,u;let m,f;if("message"in e)m=e.message,f=e.signature;else{const{chain:d,wallet:u,statement:h,options:p}=e;let g;if(F())if("object"===typeof u)g=u;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof u||!(null===p||void 0===p?void 0:p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=u}const v=new URL(null!==(t=null===p||void 0===p?void 0:p.url)&&void 0!==t?t:window.location.href),x=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||0===x.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=je(x[0]);let b=null===(r=null===p||void 0===p?void 0:p.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!b){const e=await g.request({method:"eth_chainId"});b=parseInt(e,16)}m=function(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(r))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(r));if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(i));if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const m=je(e.address),f=d?"".concat(d,"://").concat(n):n,p=e.statement?"".concat(e.statement,"\n"):"",g="".concat(f," wants you to sign in with your Ethereum account:\n").concat(m,"\n\n").concat(p);let v="URI: ".concat(u,"\nVersion: ").concat(h,"\nChain ID: ").concat(r).concat(i?"\nNonce: ".concat(i):"","\nIssued At: ").concat(s.toISOString());if(a&&(v+="\nExpiration Time: ".concat(a.toISOString())),o&&(v+="\nNot Before: ".concat(o.toISOString())),l&&(v+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}v+=e}return"".concat(g,"\n").concat(v)}({domain:v.host,address:y,statement:h,uri:v.href,version:"1",chainId:b,nonce:null===(n=null===p||void 0===p?void 0:p.signInWithEthereum)||void 0===n?void 0:n.nonce,issuedAt:null!==(s=null===(a=null===p||void 0===p?void 0:p.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(i=null===p||void 0===p?void 0:p.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null===p||void 0===p?void 0:p.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null===p||void 0===p?void 0:p.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===p||void 0===p?void 0:p.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await g.request({method:"personal_sign",params:[Ne(m),y]})}try{const{data:t,error:r}=await se(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:f},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:ie});if(r)throw r;if(!t||!t.session||!t.user){const e=new y;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(p){if(h(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,r,n,a,s,i,o,l,c,d,u,m;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:m,options:g}=e;let v;if(F())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const x=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(x.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(x.href),"Issued At: ".concat(null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(d=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await se(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:z(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(m=e.options)||void 0===m?void 0:m.captchaToken}}:null),xform:ie});if(r)throw r;if(!t||!t.session||!t.user){const e=new y;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(g){if(h(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await W(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await se(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ie});if(await H(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new y;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a})}catch(a){if(await H(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,i=await se(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ie}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new y;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,n,a,s;try{if("email"in e){const{email:n,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await J(this.storage,this.storageKey));const{error:o}=await se(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await se(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o})}throw new b("You must provide either an email or phone number.")}catch(i){if(await H(this.storage,"".concat(this.storageKey,"-code-verifier")),h(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await se(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:ie});if(i)throw i;if(!s){throw new Error("An error occurred on token verification.")}const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(n){if(h(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var t,r,n,a,s;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await J(this.storage,this.storageKey));const l=await se(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ce});return(null===(a=l.data)||void 0===a?void 0:a.url)&&F()&&!(null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(await H(this.storage,"".concat(this.storageKey,"-code-verifier")),h(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new v;const{error:n}=await se(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(h(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=await se(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:i}=await se(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i})}throw new b("You must provide either an email or phone number and a type")}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await W(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<i;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.userStorage){const t=await W(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=ee()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,n)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"===typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,n)}return t.value||"string"!==typeof r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,n)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await se(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:le}):await this._useSession(async e=>{var t,r,n;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await se(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:le}):{data:{user:null},error:new v}})}catch(t){if(h(t))return x(t)&&(await this._removeSession(),await H(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new v;const s=n.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await J(this.storage,this.storageKey));const{data:l,error:c}=await se(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:le});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await H(this.storage,"".concat(this.storageKey,"-code-verifier")),h(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new v;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:s}=$(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(h(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new v;const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!F())throw new w("No browser detected.");if(e.error||e.error_description||e.error_code)throw new w(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new N("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new w("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new N("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!i||!c)throw new w("No session defined in URL");const d=Math.round(Date.now()/1e3),u=parseInt(o);let h=d+u;l&&(h=parseInt(l));const m=h-d;1e3*m<=s&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(m,"s, should have been closer to ").concat(u,"s"));const f=h-u;d-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,d):d-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,d);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:h,refresh_token:i,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(h(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await W(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({error:a});const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!f(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await H(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await J(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await H(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(n)throw n;return F()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null})}catch(r){if(h(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:n,data:{session:a}}=t;if(n)throw n;const{options:s,provider:i,token:o,access_token:l,nonce:c}=e,d=await se(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(r=null===a||void 0===a?void 0:a.access_token)&&void 0!==r?r:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ie}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new y})}catch(n){if(await H(this.storage,"".concat(this.storageKey,"-code-verifier")),h(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)throw s;return await se(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await se(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:ie})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&S(t)&&Date.now()+r-a<s},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await r(s);if(!n(s,null,t))return void e(t)}catch(a){if(!n(s,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),h(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),F()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await W(this.storage,this.storageKey);if(a&&this.userStorage){let t=await W(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await V(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:ee()}else if(a&&!a.user&&!a.user){const e=await W(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await H(this.storage,this.storageKey+"-user"),await V(this.storage,this.storageKey,a)):a.user=ee()}if(this._debug(r,"session from storage",a),!this._isValidSession(a))return this._debug(r,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<i;if(this._debug(r,"session has".concat(s?"":" not"," expired with margin of ").concat(i,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),S(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(r,"error",a),void console.error(a)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new v;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new K;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new v;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),h(a)){const e={data:null,error:a};return S(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(a){n.push(a)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await H(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await V(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=te(e);await V(this.storage,this.storageKey,n)}else{const e=te(t);await V(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await H(this.storage,this.storageKey),await H(this.storage,this.storageKey+"-code-verifier"),await H(this.storage,this.storageKey+"-user"),this.userStorage&&await H(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&F()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),s);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/s);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(s,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof ge))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!F()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await J(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?this._returnResult({data:null,error:a}):await se(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await se(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(n=null===o||void 0===o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),this._returnResult({data:o,error:null}))})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Pe(e.webauthn.credential_response):De(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await se(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:s,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=await se(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});if(s.error)return s;const{data:i}=s;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Ce(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Oe(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])n.all.push(a),"verified"===a.status&&n[a.factor_type].push(a);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=$(r.access_token);let s=null;a.aal&&(s=a.aal);let i=s;(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(i="aal2");return{data:{currentLevel:s,nextLevel:i,currentAuthenticationMethods:a.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await se(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new v})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new v});const s=await se(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&F()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new v});const s=await se(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&F()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await se(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new v})})}catch(e){if(h(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?(await se(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new v})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:a}=await se(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:n,payload:a,signature:s,raw:{header:i,payload:o}}=$(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,function(e){const t=[];return M(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new E("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}}qe.nextInstanceID={};const Ve=qe,We=me,He=qe},356:(e,t,r)=>{e.exports=r(9645).last},418:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},448:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=s(r(4087));a(r(219),t);var o=r(7980);Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var l=r(9642);Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),a(r(2292),t);var c=r(4087);Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return s(c).default}});t.createClient=(e,t,r)=>new i.default(e,t,r),function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18}()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},579:(e,t,r)=>{"use strict";e.exports=r(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},917:(e,t,r)=>{"use strict";r.d(t,{F:()=>c});var n=r(9379),a=r(3986),s=r(8387);const i=["class","className"],o=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,l=s.$,c=(e,t)=>r=>{var s;if(null==(null===t||void 0===t?void 0:t.variants))return l(e,null===r||void 0===r?void 0:r.class,null===r||void 0===r?void 0:r.className);const{variants:c,defaultVariants:d}=t,u=Object.keys(c).map(e=>{const t=null===r||void 0===r?void 0:r[e],n=null===d||void 0===d?void 0:d[e];if(null===t)return null;const a=o(t)||o(n);return c[e][a]}),h=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),m=null===t||void 0===t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s}=t,o=(0,a.A)(t,i);return Object.entries(o).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes((0,n.A)((0,n.A)({},d),h)[t]):(0,n.A)((0,n.A)({},d),h)[t]===r})?[...e,r,s]:e},[]);return l(e,u,m,null===r||void 0===r?void 0:r.class,null===r||void 0===r?void 0:r.className)}},1203:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},1210:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326),a=n.__importDefault(r(8829)),s=n.__importDefault(r(5736));class i{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:n=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let o;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;l.searchParams.append(t,r)})):(o="POST",c=t);const d=new Headers(this.headers);return a&&d.set("Prefer","count=".concat(a)),new s.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}t.default=i},1293:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof r&&(r={});const{leading:a=!1,trailing:s=!0,maxWait:i}=r,o=Array(2);let l;a&&(o[0]="leading"),s&&(o[1]="trailing");let c=null;const d=n.debounce(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l=e.apply(this,r),c=null},t,{edges:o}),u=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null!=i&&(null===c&&(c=Date.now()),Date.now()-c>=i)?(l=e.apply(this,r),c=Date.now(),d.cancel(),d.schedule(),l):(d.apply(this,r),l)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),l),u}},1444:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(418),a=r(3272);t.toPath=function(e){if(Array.isArray(e))return e.map(a.toKey);if("symbol"===typeof e)return[e];const t=[],r=(e=n.toString(e)).length;if(0===r)return t;let s=0,i="",o="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),s++);s<r;){const n=e[s];o?"\\"===n&&s+1<r?(s++,i+=e[s]):n===o?o="":i+=n:l?'"'===n||"'"===n?o=n:"]"===n?(l=!1,t.push(i),i=""):i+=n:"["===n?(l=!0,i&&(t.push(i),i="")):"."===n?i&&(t.push(i),i=""):i+=n,s++}return i&&t.push(i),t}},2086:(e,t,r)=>{"use strict";e.exports=r(5082)},2104:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1203),a=r(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&n.isArrayLike(e)}},2132:(e,t,r)=>{"use strict";var n=r(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=r(870),s=r(4803),i=r(9972);function o(e,t,r,d){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,s]of t.entries()){if(!1===r(e.get(a),s,a,e,t,n))return!1}return!0}(e,t,r,n);if(t instanceof Set)return c(e,t,r,n);const a=Object.keys(t);if(null==e||s.isPrimitive(e))return 0===a.length;if(0===a.length)return!0;if(null!==n&&void 0!==n&&n.has(t))return n.get(t)===e;null===n||void 0===n||n.set(t,e);try{for(let i=0;i<a.length;i++){const o=a[i];if(!s.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{null===n||void 0===n||n.delete(t)}}(e,t,r,d);case"function":return Object.keys(t).length>0?o(e,n({},t),r,d):i.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:i.eq(e,t)}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let s=0;s<t.length;s++){const i=t[s];let o=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(r(e[l],i,s,e,t,n)&&(c=!0),c){a.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}t.isMatchWith=function e(t,r,n){return"function"!==typeof n?e(t,r,()=>{}):o(t,r,function e(t,r,a,s,i,l){const c=n(t,r,a,s,i,l);return void 0!==c?Boolean(c):o(t,r,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5316),a=r(7312),s=r(3799);t.sortBy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];const o=r.length;return o>1&&s.isIterateeCall(e,r[0],r[1])?r=[]:o>2&&s.isIterateeCall(r[0],r[1],r[2])&&(r=[r[0]]),n.orderBy(e,a.flatten(r),["asc"])}},2292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{REALTIME_CHANNEL_STATES:()=>D,REALTIME_LISTEN_TYPES:()=>C,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>E,REALTIME_PRESENCE_LISTEN_EVENTS:()=>A,REALTIME_SUBSCRIBE_STATES:()=>O,RealtimeChannel:()=>T,RealtimeClient:()=>F,RealtimePresence:()=>P,WebSocketFactory:()=>n});const n=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(r," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(r," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},a="realtime-js/".concat("2.86.2"),s="1.0.0",i=s,o=1e4;var l,c,d,u,h,m;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(l||(l={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(c||(c={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(d||(d={})),function(e){e.websocket="websocket"}(u||(u={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(h||(h={}));class f{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},a=(new TextEncoder).encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,r){var n,a;const s=e.topic,i=null!==(n=e.ref)&&void 0!==n?n:"",o=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error("joinRef length ".concat(o.length," exceeds maximum of 255"));if(i.length>255)throw new Error("ref length ".concat(i.length," exceeds maximum of 255"));if(s.length>255)throw new Error("topic length ".concat(s.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(d.length>255)throw new Error("metadata length ".concat(d.length," exceeds maximum of 255"));const u=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+s.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let m=new DataView(h),f=0;m.setUint8(f++,this.KINDS.userBroadcastPush),m.setUint8(f++,o.length),m.setUint8(f++,i.length),m.setUint8(f++,s.length),m.setUint8(f++,l.length),m.setUint8(f++,d.length),m.setUint8(f++,t),Array.from(o,e=>m.setUint8(f++,e.charCodeAt(0))),Array.from(i,e=>m.setUint8(f++,e.charCodeAt(0))),Array.from(s,e=>m.setUint8(f++,e.charCodeAt(0))),Array.from(l,e=>m.setUint8(f++,e.charCodeAt(0))),Array.from(d,e=>m.setUint8(f++,e.charCodeAt(0)));var p=new Uint8Array(h.byteLength+r.byteLength);return p.set(new Uint8Array(h),0),p.set(new Uint8Array(r),h.byteLength),p.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const r=JSON.parse(e),[n,a,s,i,o]=r;return t({join_ref:n,ref:a,topic:s,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,n)}_decodeUserBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2),s=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=r.decode(e.slice(o,o+n));o+=n;const c=r.decode(e.slice(o,o+a));o+=a;const d=r.decode(e.slice(o,o+s));o+=s;const u=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(r.decode(u)):u,m={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[r]=e;return t.includes(r)})):{}}}class p{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(m||(m={}));const g=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((r,a)=>(r[a]=v(a,e,t,n),r),{}):{}},v=(e,t,r,n)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=r[e];return s&&!n.includes(s)?x(s,i):y(i)},x=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return N(t,r)}switch(e){case m.bool:return b(t);case m.float4:case m.float8:case m.int2:case m.int4:case m.int8:case m.numeric:case m.oid:return w(t);case m.json:case m.jsonb:return j(t);case m.timestamp:return _(t);case m.abstime:case m.date:case m.daterange:case m.int4range:case m.int8range:case m.money:case m.reltime:case m.text:case m.time:case m.timestamptz:case m.timetz:case m.tsrange:case m.tstzrange:default:return y(t)}},y=e=>e,b=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},w=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},j=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},N=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const s=e.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(a){n=s?s.split(","):[]}return n.map(e=>x(t,e))}return e},_=e=>"string"===typeof e?e.replace(" ","T"):e,S=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class k{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var A,E,C,O;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(A||(A={}));class P{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=P.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=P.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=P.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map(e=>e.presence_ref),n=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let a=e[t];if(!a)return;const s=r.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(E||(E={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(C||(C={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(O||(O={}));const D=c;class T{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;var n,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=c.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new k(this,d.join,this.params,this.timeout),this.rejoinTimer=new p(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=c.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=c.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this._on(d.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new P(this),this.broadcastEndpointURL=S(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(n=this.params.config)||void 0===n?void 0:n.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==c.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],d=!!this.bindings[C.PRESENCE]&&this.bindings[C.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},h={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:d}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(O.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(O.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,s=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:i,schema:o,table:l,filter:d}}=a,u=r&&r[n];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==d)return this.unsubscribe(),this.state=c.errored,void(null===e||void 0===e||e(O.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(O.SUBSCRIBED))}null===e||void 0===e||e(O.SUBSCRIBED)}).receive("error",t=>{this.state=c.errored,null===e||void 0===e||e(O.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(O.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===c.joined&&e===C.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;const a=this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"";if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=r.timeout)&&void 0!==n?n:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=c.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(d.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new k(this,d.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=c.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new k(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=d;if(r&&[i,o,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let u=this._onMessage(s,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(u,r)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var r,n,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:s}=e,i={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===c.closed}_isJoined(){return this.state===c.joined}_isJoining(){return this.state===c.joining}_isLeaving(){return this.state===c.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&T.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(d.close,{},e)}_onError(e){this._on(d.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=c.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=g(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=g(e.columns,e.old_record)),t}}const R=()=>{},I=25e3,M=10,L=100,z=[1e3,2e3,5e3,1e4];class F{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=o,this.transport=null,this.heartbeatIntervalMs=I,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=R,this.ref=0,this.reconnectTimer=null,this.vsn=i,this.logger=R,this.conn=null,this.sendBuffer=[],this.serializer=new f,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(u.websocket),this.httpEndpoint=S(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case l.connecting:return h.Connecting;case l.open:return h.Open;case l.closing:return h.Closing;default:return h.Closed}}isConnected(){return this.connectionState()===h.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new T("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},L)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:a}=e,s=a?"(".concat(a,")"):"",i=n.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(r," ").concat(s).trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===l.open||this.conn.readyState===l.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(d.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:a};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(d.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(n){this.log("error","error in ".concat(e," callback"),n)}})}catch(r){this.log("error","error triggering ".concat(e," callbacks"),r)}}_setupReconnectionTimer(){this.reconnectTimer=new p(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},M)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,a,l,c,d,u,h,m,f,p;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:o,this.heartbeatIntervalMs=null!==(n=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:I,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(l=null===e||void 0===e?void 0:e.accessToken)&&void 0!==l?l:null,this.heartbeatCallback=null!==(c=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==c?c:R,this.vsn=null!==(d=null===e||void 0===e?void 0:e.vsn)&&void 0!==d?d:i,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(u=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==u?u:e=>z[e-1]||1e4,this.vsn){case s:this.encode=null!==(h=null===e||void 0===e?void 0:e.encode)&&void 0!==h?h:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(m=null===e||void 0===e?void 0:e.decode)&&void 0!==m?m:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(f=null===e||void 0===e?void 0:e.encode)&&void 0!==f?f:this.serializer.encode.bind(this.serializer),this.decode=null!==(p=null===e||void 0===e?void 0:e.decode)&&void 0!==p?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}},2330:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=n.useState,i=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(n){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),a=n[0].inst,d=n[1];return o(function(){a.value=r,a.getSnapshot=t,c(a)&&d({inst:a})},[e,r,t]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},2360:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(7784).A)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2574:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(7784).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},2681:(e,t)=>{"use strict";function r(e){return e.endsWith("/")?e:e+"/"}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=void 0,t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},t.ensureTrailingSlash=r,t.applySettingDefaults=function(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(r=null===u||void 0===u?void 0:u.headers)&&void 0!==r?r:{}),null!==(n=null===o||void 0===o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:async()=>""};e.accessToken?h.accessToken=e.accessToken:delete h.accessToken;return h},t.validateSupabaseUrl=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(t))}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}};t.isBrowser=()=>"undefined"!==typeof window},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const r=e[Symbol.toStringTag];if(null==r)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(r,"]")}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}},2715:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9599),a=r(7330),s=r(3808),i=r(8845);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):s.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in n={},t)"key"!==s&&(n[s]=t[s]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},2814:(e,t,r)=>{"use strict";r.d(t,{s:()=>i,t:()=>s});var n=r(5043);function a(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=!1;const n=t.map(t=>{const n=a(t,e);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let e=0;e<n.length;e++){const r=n[e];"function"==typeof r?r():a(t[e],null)}}}}function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useCallback(s(...t),t)}},2897:(e,t,r)=>{var n=r(3693);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3390:(e,t,r)=>{"use strict";r.d(t,{$:()=>h,r:()=>u});var n=r(9379),a=r(3986),s=r(5043),i=r(6851),o=r(917),l=r(9766),c=r(579);const d=["className","variant","size","asChild"],u=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),h=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:h=!1}=e,m=(0,a.A)(e,d);const f=h?i.DX:"button";return(0,c.jsx)(f,(0,n.A)({className:(0,l.cn)(u({variant:s,size:o,className:r})),ref:t},m))});h.displayName="Button"},3425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const n=r(9488);let a="";a="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node",t.DEFAULT_HEADERS={"X-Client-Info":"supabase-js-".concat(a,"/").concat(n.version)},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}},3693:(e,t,r)=>{var n=r(7736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4704),a=r(1203),s=r(870),i=r(9972);t.isIterateeCall=function(e,t,r){return!!s.isObject(r)&&(!!("number"===typeof t&&a.isArrayLike(r)&&n.isIndex(t)&&t<r.length||"string"===typeof t&&t in r)&&i.eq(r[t],e))}},3808:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>n.isMatch(t,e)}},3821:(e,t,r)=>{e.exports=r(2204).sortBy},3986:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{A:()=>n})},4087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9642),a=r(7980),s=r(2292),i=r(5887),o=r(3425),l=r(100),c=r(2681),d=r(7337);t.default=class{constructor(e,t,r){var n,s,d;this.supabaseUrl=e,this.supabaseKey=t;const u=(0,c.validateSupabaseUrl)(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h="sb-".concat(u.hostname.split(".")[0],"-auth-token"),m={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:h}),global:o.DEFAULT_GLOBAL_OPTIONS},f=(0,c.applySettingDefaults)(null!==r&&void 0!==r?r:{},m);this.storageKey=null!==(n=f.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(s=f.global.headers)&&void 0!==s?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(d=f.auth)&&void 0!==d?d:{},this.headers,f.global.fetch),this.fetch=(0,l.fetchWithAuth)(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new a.PostgrestClient(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:l,flowType:c,lock:u,debug:h,throwOnError:m}=e;const f={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),t),storageKey:l,autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,flowType:c,lock:u,debug:h,throwOnError:m,fetch:r,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const a=e[n],s=t(a);r.has(s)||r.set(s,a)}return Array.from(r.values())}},4218:(e,t,r)=>{"use strict";var n;r.d(t,{BV:()=>Le,C5:()=>Re,Kd:()=>vt,N_:()=>yt,Zp:()=>ge,g:()=>ve,ok:()=>Nt,qh:()=>Ie,zy:()=>me});var a=r(3986),s=r(9379),i=r(5043);const o=["sri"],l=["page"],c=["page","matches"],d=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function f(){return w(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return x("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:y(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function v(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return(0,s.A)((0,s.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function y(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function b(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function w(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,d=u();function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let e=u(),t=null==e?null:e-d;d=e,c&&c({action:l,location:p.location,delta:t})}function f(e){return j(e)}null==d&&(d=0,o.replaceState((0,s.A)((0,s.A)({},o.state),{},{idx:d}),""));let p={get action(){return l},get location(){return e(a,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(m,h),c=e,()=>{a.removeEventListener(m,h),c=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let n=x(p.location,e,t);r&&r(n,e),d=u()+1;let s=v(n,d),h=p.createHref(n);try{o.pushState(s,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;a.location.assign(h)}i&&c&&c({action:l,location:p.location,delta:1})},replace:function(e,t){l="REPLACE";let n=x(p.location,e,t);r&&r(n,e),d=u();let a=v(n,d),s=p.createHref(n);o.replaceState(a,"",s),i&&c&&c({action:l,location:p.location,delta:0})},go:e=>o.go(e)};return p}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),p(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:y(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function N(e,t){return _(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function _(e,t,r,n){let a=F(("string"===typeof t?b(t):t).pathname||"/",r);if(null==a)return null;let s=S(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=z(a);i=I(s[o],e,n)}return i}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(n)&&i)return;p(l.relativePath.startsWith(n),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(n.length)}let c=$([n,l.relativePath]),d=r.concat(l);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),S(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:R(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of k(e.path))s(e,t,!0,n);else s(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let i=k(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var A=/^:[\w-]+$/,E=3,C=2,O=1,P=10,D=-2,T=e=>"*"===e;function R(e,t){let r=e.split("/"),n=r.length;return r.some(T)&&(n+=D),t&&(n+=C),r.filter(e=>!T(e)).reduce((e,t)=>e+(A.test(t)?E:""===t?O:P),n)}function I(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:$([s,d.pathname]),pathnameBase:G($([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=$([s,d.pathnameBase]))}return i}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=L(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function L(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}var B=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U=e=>B.test(e);function q(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function V(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function H(e){let t=W(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=b(e):(n=(0,s.A)({},e),p(!n.pathname||!n.pathname.includes("?"),V("?","pathname","search",n)),p(!n.pathname||!n.pathname.includes("#"),V("#","pathname","hash",n)),p(!n.search||!n.search.includes("#"),V("#","search","hash",n)));let i,o=""===e||""===n.pathname,l=o?"/":n.pathname;if(null==l)i=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:a="",hash:s=""}="string"===typeof e?b(e):e;if(n)if(U(n))t=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),g(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(n))}t=n.startsWith("/")?q(n.substring(1),"/"):q(n,r)}else t=r;return{pathname:t,search:Y(a),hash:J(s)}}(n,i),d=l&&"/"!==l&&l.endsWith("/"),u=(o||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var $=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function Z(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q=["POST","PUT","PATCH","DELETE"],ee=(new Set(Q),["GET",...Q]);new Set(ee),Symbol("ResetLoaderData");var te=i.createContext(null);te.displayName="DataRouter";var re=i.createContext(null);re.displayName="DataRouterState";var ne=i.createContext(!1);var ae=i.createContext({isTransitioning:!1});ae.displayName="ViewTransition";var se=i.createContext(new Map);se.displayName="Fetchers";var ie=i.createContext(null);ie.displayName="Await";var oe=i.createContext(null);oe.displayName="Navigation";var le=i.createContext(null);le.displayName="Location";var ce=i.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var de=i.createContext(null);de.displayName="RouteError";var ue=!0;function he(){return null!=i.useContext(le)}function me(){return p(he(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){i.useContext(oe).static||i.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=i.useContext(ce);return e?function(){let{router:e}=ke("useNavigate"),t=Ee("useNavigate"),r=i.useRef(!1);pe(()=>{r.current=!0});let n=i.useCallback(async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(r.current,fe),r.current&&("number"===typeof n?await e.navigate(n):await e.navigate(n,(0,s.A)({fromRouteId:t},a)))},[e,t]);return n}():function(){p(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(te),{basename:t,navigator:r}=i.useContext(oe),{matches:n}=i.useContext(ce),{pathname:a}=me(),s=JSON.stringify(H(n)),o=i.useRef(!1);pe(()=>{o.current=!0});let l=i.useCallback(function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(o.current,fe),!o.current)return;if("number"===typeof n)return void r.go(n);let l=K(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:$([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,s,a,e]);return l}()}i.createContext(null);function ve(){let{matches:e}=i.useContext(ce),t=e[e.length-1];return t?t.params:{}}function xe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=i.useContext(ce),{pathname:n}=me(),a=JSON.stringify(H(r));return i.useMemo(()=>K(e,JSON.parse(a),n,"path"===t),[e,a,n,t])}function ye(e,t,r,n,a){p(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=i.useContext(oe),{matches:l}=i.useContext(ce),c=l[l.length-1],d=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",m=c&&c.route;if(ue){let e=m&&m.path||"";Pe(u,!m||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,v=me();if(t){var x;let e="string"===typeof t?b(t):t;p("/"===h||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=v;let y=f.pathname||"/",w=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let j=N(e,{pathname:w});ue&&(g(m||null!=j,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),g(null==j||void 0!==j[j.length-1].route.element||void 0!==j[j.length-1].route.Component||void 0!==j[j.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.')));let _=_e(j&&j.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:$([h,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:$([h,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,r,n,a);return t&&_?i.createElement(le.Provider,{value:{location:(0,s.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},_):_}function be(){let e=Ce(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return ue&&(console.error("Error handled by React Router default ErrorBoundary:",e),o=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:s},"ErrorBoundary")," or"," ",i.createElement("code",{style:s},"errorElement")," prop on your route."))),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),r?i.createElement("pre",{style:a},r):null,o)}var we=i.createElement(be,null),je=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?i.createElement(ce.Provider,{value:this.props.routeContext},i.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ne(e){let{routeContext:t,match:r,children:n}=e,a=i.useContext(te);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),i.createElement(ce.Provider,{value:t},n)}function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(r)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=i),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}let c=r&&n?(e,t)=>{var a,s;n(e,{location:r.location,params:null!==(a=null===(s=r.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==a?a:{},unstable_pattern:Z(r.matches),errorInfo:t})}:void 0;return a.reduceRight((e,n,d)=>{let u,h=!1,m=null,f=null;r&&(u=s&&n.route.id?s[n.route.id]:void 0,m=n.route.errorElement||we,o&&(l<0&&0===d?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===d&&(h=!0,f=n.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,d+1)),g=()=>{let t;return t=u?m:h?f:n.route.Component?i.createElement(n.route.Component,null):n.route.element?n.route.element:e,i.createElement(Ne,{match:n,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===d)?i.createElement(je,{location:r.location,revalidation:r.revalidation,component:m,error:u,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:c}):g()},null)}function Se(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ke(e){let t=i.useContext(te);return p(t,Se(e)),t}function Ae(e){let t=i.useContext(re);return p(t,Se(e)),t}function Ee(e){let t=function(e){let t=i.useContext(ce);return p(t,Se(e)),t}(e),r=t.matches[t.matches.length-1];return p(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ce(){var e;let t=i.useContext(de),r=Ae("useRouteError"),n=Ee("useRouteError");return void 0!==t?t:null===(e=r.errors)||void 0===e?void 0:e[n]}var Oe={};function Pe(e,t,r){t||Oe[e]||(Oe[e]=!0,g(!1,r))}var De={};function Te(e,t){e||De[t]||(De[t]=!0,console.warn(t))}(n||(n=r.t(i,2))).useOptimistic;i.memo(function(e){let{routes:t,future:r,state:n,unstable_onError:a}=e;return ye(t,void 0,n,a,r)});function Re(e){let{to:t,replace:r,state:n,relative:a}=e;p(he(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=i.useContext(oe);g(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=i.useContext(ce),{pathname:l}=me(),c=ge(),d=K(t,H(o),l,"path"===a),u=JSON.stringify(d);return i.useEffect(()=>{c(JSON.parse(u),{replace:r,state:n,relative:a})},[c,u,a,r,n]),null}function Ie(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Me(e){let{basename:t="/",children:r=null,location:n,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:l}=e;p(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:l,future:{}}),[c,s,o,l]);"string"===typeof n&&(n=b(n));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:v="default"}=n,x=i.useMemo(()=>{let e=F(u,c);return null==e?null:{location:{pathname:e,search:h,hash:m,state:f,key:v},navigationType:a}},[c,u,h,m,f,v,a]);return g(null!=x,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(h).concat(m,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==x?null:i.createElement(oe.Provider,{value:d},i.createElement(le.Provider,{children:r,value:x}))}function Le(e){let{children:t,location:r}=e;return ye(ze(t),r)}i.Component;function ze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return i.Children.forEach(e,(e,n)=>{if(!i.isValidElement(e))return;let a=[...t,n];if(e.type===i.Fragment)return void r.push.apply(r,ze(e.props.children,a));p(e.type===Ie,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ze(e.props.children,a)),r.push(s)}),r}var Fe="get",Be="application/x-www-form-urlencoded";function Ue(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}function qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}var Ve=null;var We=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||We.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Be,'"')),null)}function Ke(e,t){let r,n,a,s,i;if(Ue(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?F(i,t):null,r=e.getAttribute("method")||Fe,a=He(e.getAttribute("enctype"))||Be,s=new FormData(e)}else if(function(e){return Ue(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ue(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(n=o?F(o,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||Fe,a=He(e.getAttribute("formenctype"))||He(i.getAttribute("enctype"))||Be,s=new FormData(i,e),!function(){if(null===Ve)try{new FormData(document.createElement("form"),0),Ve=!1}catch(e){Ve=!0}return Ve}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,n)}}else{if(Ue(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Fe,n=null,a=Be,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function $e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ge(e,t,r){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.".concat(r):t&&"/"===F(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):n.pathname="".concat(n.pathname.replace(/\/$/,""),".").concat(r),n}async function Ye(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Je(e){return null!=e&&"string"===typeof e.page}function Xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ze(e,t,r,n,a,s){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Qe(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function et(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!Je(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let s=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(s)||(r.add(s),e.push({key:s,link:a})),e},[])}function tt(e,t){return"lazy"===e.mode&&!0===t}function rt(){let e=i.useContext(te);return $e(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nt(){let e=i.useContext(re);return $e(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var at=i.createContext(void 0);function st(){let e=i.useContext(at);return $e(e,"You must render this element inside a <HydratedRouter> element"),e}function it(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function ot(e,t,r){if(r&&!ut)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}at.displayName="FrameworkContext";function lt(e){let{page:t}=e,r=(0,a.A)(e,l),{router:n}=rt(),o=i.useMemo(()=>N(n.routes,t,n.basename),[n.routes,t,n.basename]);return o?i.createElement(dt,(0,s.A)({page:t,matches:o},r)):null}function ct(e){let{manifest:t,routeModules:r}=st(),[n,a]=i.useState([]);return i.useEffect(()=>{let n=!1;return async function(e,t,r){return et((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await Ye(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Xe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,s.A)((0,s.A)({},e),{},{rel:"prefetch",as:"style"}):(0,s.A)((0,s.A)({},e),{},{rel:"prefetch"})))}(e,t,r).then(e=>{n||a(e)}),()=>{n=!0}},[e,t,r]),n}function dt(e){let{page:t,matches:r}=e,n=(0,a.A)(e,c),o=me(),{manifest:l,routeModules:d}=st(),{basename:u}=rt(),{loaderData:h,matches:m}=nt(),f=i.useMemo(()=>Ze(t,r,m,l,o,"data"),[t,r,m,l,o]),p=i.useMemo(()=>Ze(t,r,m,l,o,"assets"),[t,r,m,l,o]),g=i.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,n=!1;if(r.forEach(t=>{var r;let a=l.routes[t.route.id];a&&a.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(r=d[t.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?n=!0:e.add(t.route.id))}),0===e.size)return[];let a=Ge(t,u,"data");return n&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[u,h,o,l,f,r,t,d]),v=i.useMemo(()=>Qe(p,l),[p,l]),x=ct(p);return i.createElement(i.Fragment,null,g.map(e=>i.createElement("link",(0,s.A)({key:e,rel:"prefetch",as:"fetch",href:e},n))),v.map(e=>i.createElement("link",(0,s.A)({key:e,rel:"modulepreload",href:e},n))),x.map(e=>{let{key:t,link:r}=e;return i.createElement("link",(0,s.A)({key:t,nonce:n.nonce},r))}))}var ut=!1;function ht(e){let{manifest:t,serverHandoffString:r,isSpaMode:n,renderMeta:l,routeDiscovery:c,ssr:d}=st(),{router:u,static:h,staticContext:m}=rt(),{matches:f}=nt(),p=i.useContext(ne),g=tt(c,d);l&&(l.didRenderScripts=!0);let v=ot(f,null,n);i.useEffect(()=>{ut=!0},[]);let x=i.useMemo(()=>{var n;if(p)return null;let l=m?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(n=t.hmr)&&void 0!==n&&n.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,r)=>{let n="route".concat(r),a=t.routes[e.route.id];$e(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,d=[...s?[{module:s,varName:"".concat(n,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(n,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(n,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===d.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,n=(0,a.A)(e,o),i=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let r=N(t.routes,e,t.basename);r&&r.forEach(e=>i.add(e.route.id))});let d=[...i].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return(0,s.A)((0,s.A)({},n),{},{routes:d,sri:!!r||void 0})}(t,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),i.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),y=ut||p?[]:(b=t.entry.imports.concat(Qe(v,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return Te(!p,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ut||p?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),y.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),x)}function mt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}i.Component;function ft(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let n,a=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return i.createElement(pt,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),ue?a:null);if(t instanceof Error)n=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);n=new Error(e)}return i.createElement(pt,{title:"Application Error!",isOutsideRemixApp:r},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),a)}function pt(e){var t;let{title:r,renderScripts:n,isOutsideRemixApp:a,children:s}=e,{routeModules:o}=st();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!a?s:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,r)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,n?i.createElement(ht,null):null)))}var gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{gt&&(window.__reactRouterVersion="7.10.1")}catch(At){}function vt(e){let{basename:t,children:r,unstable_useTransitions:n,window:a}=e,s=i.useRef();null==s.current&&(s.current=f({window:a,v5Compat:!0}));let o=s.current,[l,c]=i.useState({action:o.action,location:o.location}),d=i.useCallback(e=>{!1===n?c(e):i.startTransition(()=>c(e))},[n]);return i.useLayoutEffect(()=>o.listen(d),[o,d]),i.createElement(Me,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:!0===n})}var xt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=i.forwardRef(function(e,t){let r,{onClick:n,discover:o="render",prefetch:l="none",relative:c,reloadDocument:u,replace:h,state:m,target:f,to:v,preventScrollReset:x,viewTransition:b}=e,w=(0,a.A)(e,d),{basename:j,unstable_useTransitions:N}=i.useContext(oe),_="string"===typeof v&&xt.test(v),S=!1;if("string"===typeof v&&_&&(r=v,gt))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),r=F(t.pathname,j);t.origin===e.origin&&null!=r?v=r+t.search+t.hash:S=!0}catch(At){g(!1,'<Link to="'.concat(v,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=i.useContext(oe),{hash:a,pathname:s,search:o}=xe(e,{relative:t}),l=s;return"/"!==r&&(l="/"===s?r:$([r,s])),n.createHref({pathname:l,search:o,hash:a})}(v,{relative:c}),[A,E,C]=function(e,t){let r=i.useContext(at),[n,a]=i.useState(!1),[s,o]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,m=i.useRef(null);i.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(n){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[n]);let f=()=>{a(!0)},p=()=>{a(!1),o(!1)};return r?"intent"!==e?[s,m,{}]:[s,m,{onFocus:it(l,f),onBlur:it(c,p),onMouseEnter:it(d,f),onMouseLeave:it(u,p),onTouchStart:it(h,f)}]:[!1,m,{}]}(l,w),O=function(e){let{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o,unstable_useTransitions:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ge(),d=me(),u=xe(e,{relative:s});return i.useCallback(h=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(h,t)){h.preventDefault();let t=void 0!==r?r:y(d)===y(u),m=()=>c(e,{replace:t,state:n,preventScrollReset:a,relative:s,viewTransition:o});l?i.startTransition(()=>m()):m()}},[d,c,u,r,n,t,e,a,s,o,l])}(v,{replace:h,state:m,target:f,preventScrollReset:x,relative:c,viewTransition:b,unstable_useTransitions:N});let P=i.createElement("a",(0,s.A)((0,s.A)((0,s.A)({},w),C),{},{href:r||k,onClick:S||u?n:function(e){n&&n(e),e.defaultPrevented||O(e)},ref:mt(t,E),target:f,"data-discover":_||"render"!==o?void 0:"true"}));return A&&!_?i.createElement(i.Fragment,null,P,i.createElement(lt,{page:k})):P});yt.displayName="Link",i.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:o="",end:l=!1,style:c,to:d,viewTransition:h,children:m}=e,f=(0,a.A)(e,u),g=xe(d,{relative:f.relative}),v=me(),x=i.useContext(re),{navigator:y,basename:b}=i.useContext(oe),w=null!=x&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.useContext(ae);p(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=jt("useViewTransitionState"),a=xe(e,{relative:t});if(!r.isTransitioning)return!1;let s=F(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=F(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=M(a.pathname,o)||null!=M(a.pathname,s)}(g)&&!0===h,j=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,N=v.pathname,_=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),_=_?_.toLowerCase():null,j=j.toLowerCase()),_&&b&&(_=F(_,b)||_);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let k,A=N===j||!l&&N.startsWith(j)&&"/"===N.charAt(S),E=null!=_&&(_===j||!l&&_.startsWith(j)&&"/"===_.charAt(j.length)),C={isActive:A,isPending:E,isTransitioning:w},O=A?r:void 0;k="function"===typeof o?o(C):[o,A?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof c?c(C):c;return i.createElement(yt,(0,s.A)((0,s.A)({},f),{},{"aria-current":O,className:k,ref:t,style:P,to:d,viewTransition:h}),"function"===typeof m?m(C):m)}).displayName="NavLink";var bt=i.forwardRef((e,t)=>{let{discover:r="render",fetcherKey:n,navigate:o,reloadDocument:l,replace:c,state:d,method:u=Fe,action:m,onSubmit:f,relative:g,preventScrollReset:v,viewTransition:x}=e,b=(0,a.A)(e,h),{unstable_useTransitions:w}=i.useContext(oe),j=kt(),N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=i.useContext(oe),n=i.useContext(ce);p(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o=(0,s.A)({},xe(e||".",{relative:t})),l=me();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();o.search=r?"?".concat(r):""}}e&&"."!==e||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:$([r,o.pathname]));return y(o)}(m,{relative:g}),_="get"===u.toLowerCase()?"get":"post",S="string"===typeof m&&xt.test(m);return i.createElement("form",(0,s.A)((0,s.A)({ref:t,method:_,action:N,onSubmit:l?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,a=()=>j(t||e.currentTarget,{fetcherKey:n,method:r,navigate:o,replace:c,state:d,relative:g,preventScrollReset:v,viewTransition:x});w&&!1!==o?i.startTransition(()=>a()):a()}},b),{},{"data-discover":S||"render"!==r?void 0:"true"}))});function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function jt(e){let t=i.useContext(te);return p(t,wt(e)),t}function Nt(e){g("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=i.useRef(qe(e)),r=i.useRef(!1),n=me(),a=i.useMemo(()=>function(e,t){let r=qe(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(n.search,r.current?null:t.current),[n.search]),s=ge(),o=i.useCallback((e,t)=>{const n=qe("function"===typeof e?e(new URLSearchParams(a)):e);r.current=!0,s("?"+n,t)},[s,a]);return[a,o]}bt.displayName="Form";var _t=0,St=()=>"__".concat(String(++_t),"__");function kt(){let{router:e}=jt("useSubmit"),{basename:t}=i.useContext(oe),r=Ee("useRouteId"),n=e.fetch,a=e.navigate;return i.useCallback(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:l,formData:c,body:d}=Ke(e,t);if(!1===s.navigate){let e=s.fetcherKey||St();await n(e,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await a(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,t,r])}},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function x(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var w=b.prototype=new y;w.constructor=b,g(w,x.prototype),w.isPureReactComponent=!0;var j=Array.isArray;function N(){}var _={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function k(e,t,n){var a=n.ref;return{$$typeof:r,type:e,key:t,ref:void 0!==a?a:null,props:n}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case n:d=!0;break;case h:return O((d=e._init)(e._payload),t,a,s,i)}}if(d)return i=i(e),d=""===s?"."+C(e,0):s,j(i)?(a="",null!=d&&(a=d.replace(E,"$&/")+"/"),O(i,t,a,"",function(e){return e})):null!=i&&(A(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+d,i=k(l.type,c,l.props)),t.push(i)),1;d=0;var u,m=""===s?".":s+":";if(j(e))for(var p=0;p<e.length;p++)d+=O(s=e[p],t,a,o=m+C(s,p),i);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=f&&u[f]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(s=e.next()).done;)d+=O(s=s.value,t,a,o=m+C(s,p++),i);else if("object"===o){if("function"===typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,r){if(null==e)return e;var n=[],a=0;return O(e,n,"","",function(e){return t.call(r,e,a++)}),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=m,t.Children=R,t.Component=x,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=g({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.key&&(a=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(n[s]=t[s]);var s=arguments.length-2;if(1===s)n.children=r;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];n.children=i}return k(e.type,a,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,a={},s=null;if(null!=t)for(n in void 0!==t.key&&(s=""+t.key),t)S.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var i=arguments.length-2;if(1===i)a.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===a[n]&&(a[n]=i[n]);return k(e,s,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,r={};_.T=r;try{var n=e(),a=_.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(N,T)}catch(s){T(s)}finally{null!==t&&null!==r.types&&(t.types=r.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,r){return _.H.useActionState(e,t,r)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,r){return _.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return _.H.useReducer(e,t,r)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return _.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.1"},4332:(e,t,r)=>{e.exports=r(5053).uniqBy},4354:(e,t,r)=>{"use strict";r.d(t,{VI:()=>Y,ND:()=>J});var n=r(448),a=r.t(n,2);const{PostgrestError:s,FunctionsHttpError:i,FunctionsFetchError:o,FunctionsRelayError:l,FunctionsError:c,FunctionRegion:d,SupabaseClient:u,createClient:h,GoTrueAdminApi:m,GoTrueClient:f,AuthAdminApi:p,AuthClient:g,navigatorLock:v,NavigatorLockAcquireTimeoutError:x,lockInternals:y,processLock:b,SIGN_OUT_SCOPES:w,AuthError:j,AuthApiError:N,AuthUnknownError:_,CustomAuthError:S,AuthSessionMissingError:k,AuthInvalidTokenResponseError:A,AuthInvalidCredentialsError:E,AuthImplicitGrantRedirectError:C,AuthPKCEGrantCodeExchangeError:O,AuthRetryableFetchError:P,AuthWeakPasswordError:D,AuthInvalidJwtError:T,isAuthError:R,isAuthApiError:I,isAuthSessionMissingError:M,isAuthImplicitGrantRedirectError:L,isAuthRetryableFetchError:z,isAuthWeakPasswordError:F,RealtimePresence:B,RealtimeChannel:U,RealtimeClient:q,REALTIME_LISTEN_TYPES:V,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:W,REALTIME_PRESENCE_LISTEN_EVENTS:H,REALTIME_SUBSCRIBE_STATES:K,REALTIME_CHANNEL_STATES:$}=n||a,G="https://rtdxqthhhwqnlrevzmap.supabase.co",Y=G,J=h(G,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0ZHhxdGhoaHdxbmxyZXZ6bWFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5ODI4MjYsImV4cCI6MjA4MDU1ODgyNn0.njhKNQVbMWn-MlAhWfnHOVIRh988xksKry8ofEtEnOw")},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return r.test(e)}}},4705:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>s})},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let r,{signal:n,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null;const i=null!=a&&a.includes("leading"),o=null==a||a.includes("trailing"),l=()=>{null!==s&&(e.apply(r,s),r=void 0,s=null)};let c=null;const d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),r=void 0,s=null},h=function(){if(null!==n&&void 0!==n&&n.aborted)return;r=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];s=t;const o=null==c;d(),i&&o&&l()};return h.schedule=d,h.cancel=u,h.flush=()=>{l()},null===n||void 0===n||n.addEventListener("abort",u,{once:!0}),h}},4879:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5053:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4208),a=r(9599),s=r(2104),i=r(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return s.isArrayLikeObject(e)?n.uniqBy(Array.from(e),i.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,p=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,x=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case s:case o:case i:case m:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case p:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===u}t.isFragment=function(e){return w(e)===s}},5261:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2489),a=r(4704),s=r(6321),i=r(1444);t.has=function(e,t){let r;if(r=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?i.toPath(t):[t],0===r.length)return!1;let o=e;for(let n=0;n<r.length;n++){const e=r[n];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||s.isArguments(o))&&a.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9709),a=r(7043),s=r(1444);t.orderBy=function(e,t,r,i){if(null==e)return[];r=i?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));const o=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:s.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const s=n.compareValues(e.criteria[a],t.criteria[a],r[a]);if(0!==s)return s}return 0}).map(e=>e.original)}},5414:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:s=!0}=r;return n.debounce(e,t,{leading:a,maxWait:t,trailing:s})}},5508:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433),a=r(7599);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,s,i,o)=>{const l=null===t||void 0===t?void 0:t(r,s,i,o);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return n.copyProperties(t,e),t}case a.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(9379),a=r(5043),s=r(4218),i=r(4354),o=r(8773),l=r(3390),c=r(6920),d=r(2574),u=r(2360),h=r(5746);const m=(0,r(7784).A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var f=r(9855),p=r(579);const g=e=>{var t,r;let{albumId:g,artistId:v}=e;const{user:x}=(0,o.A)(),y=(0,s.Zp)(),[b,w]=(0,a.useState)([]),[j,N]=(0,a.useState)(""),[_,S]=(0,a.useState)(!0),[k,A]=(0,a.useState)(!1),[E,C]=(0,a.useState)(null),[O,P]=(0,a.useState)(""),[D,T]=(0,a.useState)(null),[R,I]=(0,a.useState)(null),[M,L]=(0,a.useState)(!1),[z,F]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(null!==x&&void 0!==x&&x.id&&(L(x.isAdmin||!1),x.isAdmin&&F({id:x.id,avatar_url:x.avatar}),!x.isAdmin))try{const{data:e}=await i.ND.from("artists").select("id, name, avatar_url, is_verified").eq("id",x.id).maybeSingle();e&&T(e)}catch(e){console.error("Erro ao carregar info do artista:",e)}})()},[null===x||void 0===x?void 0:x.id]),(0,a.useEffect)(()=>{b.length>0&&!_||B()},[g]);const B=async()=>{try{S(!0);const{data:e,error:t}=await i.ND.from("album_comments").select("id, user_id, comment_text, user_name, user_avatar, user_verified, created_at").eq("album_id",g).order("created_at",{ascending:!1});if(t)throw t;w(e||[])}catch(e){console.error("Erro ao carregar coment\xe1rios:",e),w([])}finally{S(!1)}};return(0,p.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-16 mb-16",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,p.jsx)(d.A,{className:"w-8 h-8 text-red-600"}),(0,p.jsx)("h2",{className:"text-3xl font-bold text-black",children:"COMENT\xc1RIOS"})]}),(0,p.jsx)("div",{className:"w-full h-1 bg-red-600 rounded mb-8"}),x?(0,p.jsxs)("div",{className:"mb-8",children:[(0,p.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[M&&null!==z&&void 0!==z&&z.avatar_url?(0,p.jsx)("img",{src:z.avatar_url,alt:"Ou\xe7a Aqui",className:"w-12 h-12 rounded-full object-cover flex-shrink-0 border-2 border-red-600"}):null!==D&&void 0!==D&&D.avatar_url?(0,p.jsx)("img",{src:D.avatar_url,alt:D.name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0 border-2 border-red-600"}):(0,p.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:(M?"O":null===D||void 0===D||null===(t=D.name)||void 0===t?void 0:t.charAt(0))||(null===(r=x.email)||void 0===r?void 0:r.charAt(0).toUpperCase())}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,p.jsx)("p",{className:"text-black font-semibold",children:M?"Ou\xe7a Aqui":(null===D||void 0===D?void 0:D.name)||x.email}),(null===D||void 0===D?void 0:D.is_verified)&&(0,p.jsx)(u.A,{className:"w-4 h-4 text-blue-500"})]}),(0,p.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x)if(j.trim())try{A(!0);const e=M?(null===z||void 0===z?void 0:z.avatar_url)||null:(null===D||void 0===D?void 0:D.avatar_url)||null,t=M?"Ou\xe7a Aqui":(null===D||void 0===D?void 0:D.name)||x.email,{data:r,error:a}=await i.ND.from("album_comments").insert([{album_id:g,user_id:x.id,comment_text:j.trim(),user_name:t,user_avatar:e,created_at:(new Date).toISOString()}]).select();if(a)throw a;if(r&&r.length>0){const e=(0,n.A)((0,n.A)({},r[0]),{},{user_verified:!M&&(null===D||void 0===D?void 0:D.is_verified)});w([e,...b]),N(""),(0,c.oR)({title:"Coment\xe1rio publicado!",description:"Seu coment\xe1rio foi adicionado com sucesso"})}}catch(t){console.error("Erro ao publicar coment\xe1rio:",t),(0,c.oR)({title:"Erro",description:"Erro ao publicar coment\xe1rio",variant:"destructive"})}finally{A(!1)}else(0,c.oR)({title:"Coment\xe1rio vazio",description:"Digite algo antes de comentar",variant:"destructive"});else(0,c.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para comentar",variant:"destructive"})},className:"flex flex-col gap-3",children:[(0,p.jsx)("input",{type:"text",placeholder:"Seja o primeiro a comentar...",value:j,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),(0,p.jsx)("div",{className:"flex justify-end",children:(0,p.jsxs)(l.$,{type:"submit",disabled:k||!j.trim(),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,p.jsx)(h.A,{className:"w-4 h-4"}),"Comentar"]})})]})]})]}),(0,p.jsx)("div",{className:"h-px bg-gray-200 mb-8"})]}):(0,p.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200 mb-8",children:[(0,p.jsx)("p",{className:"text-gray-700 text-lg mb-6",children:"Fa\xe7a login para deixar um coment\xe1rio"}),(0,p.jsx)(l.$,{onClick:()=>y("/login"),className:"bg-red-600 hover:bg-red-700 text-white px-8 py-2 rounded-lg",children:"Iniciar Sess\xe3o"})]}),(0,p.jsx)("div",{children:_?(0,p.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Carregando coment\xe1rios..."}):0===b.length?(0,p.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Seja o primeiro a comentar!"}):(0,p.jsx)("div",{className:"space-y-6",children:b.map(e=>{var t;return(0,p.jsxs)("div",{className:"flex items-start gap-4 pb-6 border-b border-gray-200 last:border-b-0",children:[e.user_avatar?(0,p.jsx)("img",{src:e.user_avatar,alt:e.user_name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0 border-2 border-red-600"}):(0,p.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:(null===(t=e.user_name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("p",{className:"text-black font-semibold",children:e.user_name||"Usu\xe1rio"}),e.user_verified&&(0,p.jsx)(u.A,{className:"w-4 h-4 text-blue-500"})]}),((null===x||void 0===x?void 0:x.id)===e.user_id||M)&&(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)("button",{onClick:()=>I(R===e.id?null:e.id),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,p.jsx)(m,{className:"w-4 h-4 text-gray-500"})}),R===e.id&&(0,p.jsx)("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:(0,p.jsxs)("button",{onClick:()=>(async e=>{try{const{error:t}=await i.ND.from("album_comments").delete().eq("id",e);if(t)throw t;await B(),I(null),(0,c.oR)({title:"Coment\xe1rio deletado",description:"Seu coment\xe1rio foi removido"})}catch(t){console.error("Erro ao deletar coment\xe1rio:",t),(0,c.oR)({title:"Erro",description:"Erro ao deletar coment\xe1rio",variant:"destructive"})}})(e.id),className:"w-full text-left px-4 py-2 hover:bg-red-50 text-red-600 flex items-center gap-2 rounded-lg",children:[(0,p.jsx)(f.A,{className:"w-4 h-4"}),"Deletar ",M&&(null===x||void 0===x?void 0:x.id)!==e.user_id?"(Admin)":""]})})]})]}),(0,p.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.comment_text}),(0,p.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:new Date(e.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},e.id)})})})]})}},5736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326).__importDefault(r(7374)),a=new RegExp("[,()]");class s extends n.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&a.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=s},5746:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(7784).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},5887:(e,t,r)=>{"use strict";r.r(t),r.d(t,{StorageAnalyticsClient:()=>I,StorageApiError:()=>i,StorageClient:()=>re,StorageError:()=>a,StorageUnknownError:()=>o,StorageVectorsApiError:()=>F,StorageVectorsClient:()=>Q,StorageVectorsError:()=>L,StorageVectorsErrorCode:()=>U,StorageVectorsUnknownError:()=>B,VectorBucketApi:()=>Z,VectorBucketScope:()=>ee,VectorDataApi:()=>X,VectorIndexApi:()=>J,VectorIndexScope:()=>te,isPlainObject:()=>W,isStorageError:()=>s,isStorageVectorsError:()=>z,normalizeToFloat32:()=>H,resolveFetch:()=>q,resolveResponse:()=>V,validateVectorDimension:()=>K});var n=r(6326);class a extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function s(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class i extends a{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class o extends a{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const l=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},c=e=>{if(Array.isArray(e))return e.map(e=>c(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=c(n)}),t},d=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},u=(e,t,r)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){const n=yield Response;e instanceof n&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(r=>{const n=e.status||500,a=(null===r||void 0===r?void 0:r.statusCode)||n+"";t(new i(d(r),n,a))}).catch(e=>{t(new o(d(e),e))}):t(new o(d(e),e))}),h=(e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r)):a};function m(e,t,r,a,s,i){return(0,n.__awaiter)(this,void 0,void 0,function*(){return new Promise((n,o)=>{e(r,h(t,a,s,i)).then(e=>{if(!e.ok)throw e;return(null===a||void 0===a?void 0:a.noResolveJson)?e:e.json()}).then(e=>n(e)).catch(e=>u(e,o,a))})})}function f(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){return m(e,"GET",t,r,a)})}function p(e,t,r,a,s){return(0,n.__awaiter)(this,void 0,void 0,function*(){return m(e,"POST",t,a,s,r)})}function g(e,t,r,a,s){return(0,n.__awaiter)(this,void 0,void 0,function*(){return m(e,"PUT",t,a,s,r)})}function v(e,t,r,a,s){return(0,n.__awaiter)(this,void 0,void 0,function*(){return m(e,"DELETE",t,a,s,r)})}class x{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(s(e))return{data:null,error:e};throw e}})}}var y;y=Symbol.toStringTag;const b=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[y]="BlobDownloadBuilder",this.promise=null}asStream(){return new x(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(s(e))return{data:null,error:e};throw e}})}},w={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=l(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let n;const s=Object.assign(Object.assign({},j),a);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;if("undefined"!==typeof Blob&&r instanceof Blob)n=new FormData,n.append("cacheControl",s.cacheControl),o&&n.append("metadata",this.encodeMetadata(o)),n.append("",r);else if("undefined"!==typeof FormData&&r instanceof FormData)n=r,n.has("cacheControl")||n.append("cacheControl",s.cacheControl),o&&!n.has("metadata")&&n.append("metadata",this.encodeMetadata(o));else{n=r,i["cache-control"]="max-age=".concat(s.cacheControl),i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)));("undefined"!==typeof ReadableStream&&n instanceof ReadableStream||n&&"object"===typeof n&&"pipe"in n&&"function"===typeof n.pipe)&&!s.duplex&&(s.duplex="half")}(null===a||void 0===a?void 0:a.headers)&&(i=Object.assign(Object.assign({},i),a.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield("PUT"==e?g:p)(this.fetch,"".concat(this.url,"/object/").concat(c),n,Object.assign({headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(s(n))return{data:null,error:n};throw n}})}upload(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),i=this._getFinalPath(n),o=new URL(this.url+"/object/upload/sign/".concat(i));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:j.upsert},a),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:n,fullPath:(yield g(this.fetch,o.toString(),e,{headers:s})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(s(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const s=yield p(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:n}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new a("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(s(r))return{data:null,error:r};throw r}})}update(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield p(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(s(n))return{data:null,error:n};throw n}})}copy(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield p(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(s(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield p(this.fetch,"".concat(this.url,"/object/sign/").concat(n),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(s(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const n=yield p(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(s(n))return{data:null,error:n};throw n}})}download(e,t){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"",s=this._getFinalPath(e);return new b(()=>f(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(s).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield f(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:c(e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(s(r))return{data:null,error:r};throw r}})}exists(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){return m(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(s(r)&&r instanceof o){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&n.push(i);let o=n.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(o))}}}remove(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(s(t))return{data:null,error:t};throw t}})}list(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},w),t),{prefix:e||""});return{data:yield p(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(s(n))return{data:null,error:n};throw n}})}listV2(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield p(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(s(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const _="2.86.2",S={"X-Client-Info":"storage-js/".concat(_)};class k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const a=new URL(e);if(null===n||void 0===n?void 0:n.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S),t),this.fetch=l(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield f(this.fetch,"".concat(this.url,"/bucket").concat(t),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(s(t))return{data:null,error:t};throw t}})}getBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield f(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(s(t))return{data:null,error:t};throw t}})}createBucket(e){return(0,n.__awaiter)(this,arguments,void 0,function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return function*(){try{return{data:yield p(t.fetch,"".concat(t.url,"/bucket"),{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(s(n))return{data:null,error:n};throw n}}()})}updateBucket(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield g(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(s(r))return{data:null,error:r};throw r}})}emptyBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield p(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(s(t))return{data:null,error:t};throw t}})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(s(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var A=r(9379),E=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(r=t.icebergType)||void 0===r?void 0:r.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function C(e){var t;const r=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:n,path:a,query:s,body:i,headers:o}=t;const l=function(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))void 0!==s&&n.searchParams.set(a,s);return n.toString()}(e.baseUrl,a,s),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),d=await r(l,{method:n,headers:(0,A.A)((0,A.A)((0,A.A)({},i?{"Content-Type":"application/json"}:{}),c),o),body:i?JSON.stringify(i):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),m=h&&u?JSON.parse(u):u;if(!d.ok){var f;const e=h?m:void 0,t=null===e||void 0===e?void 0:e.error;throw new E(null!==(f=null===t||void 0===t?void 0:t.message)&&void 0!==f?f:"Request failed with status ".concat(d.status),{status:d.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:m}}}}function O(e){return e.join("\x1f")}var P=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:O(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(O(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(O(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(O(e.namespace))}),!0}catch(t){if(t instanceof E&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof E&&409===r.status)return;throw r}}};function D(e){return e.join("\x1f")}var T=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(D(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(D(e.namespace),"/tables"),body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(D(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){var r;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(D(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(r=null===t||void 0===t?void 0:t.purge)&&void 0!==r&&r)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(D(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(D(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(r){if(r instanceof E&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof E&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},R=class{constructor(e){var t;let r="v1";e.catalogName&&(r+="/".concat(e.catalogName));const n=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=C({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new P(this.client,r),this.tableOps=new T(this.client,r,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class I{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S),t),this.fetch=l(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield p(this.fetch,"".concat(this.url,"/bucket"),{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(s(t))return{data:null,error:t};throw t}})}listBuckets(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&t.set("search",e.search);const r=t.toString(),n=r?"".concat(this.url,"/bucket?").concat(r):"".concat(this.url,"/bucket");return{data:yield f(this.fetch,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(s(t))return{data:null,error:t};throw t}})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(s(t))return{data:null,error:t};throw t}})}from(e){if(!(e=>!(!e||"string"!==typeof e)&&(!(0===e.length||e.length>100)&&(e.trim()===e&&(!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)))))(e))throw new a("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new R({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>(0,n.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const M={"X-Client-Info":"storage-js/".concat(_),"Content-Type":"application/json"};class L extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function z(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}class F extends L{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class B extends L{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var U;!function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"}(U||(U={}));const q=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},V=()=>Response,W=e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},H=e=>Array.from(new Float32Array(e)),K=(e,t)=>{if(void 0!==t&&e.float32.length!==t)throw new Error("Vector dimension mismatch: expected ".concat(t,", got ").concat(e.float32.length))},$=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function G(e,t,r,a,s,i){return(0,n.__awaiter)(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?(W(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a})(t,a,s,i)).then(e=>{if(!e.ok)throw e;if(null===a||void 0===a?void 0:a.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>o(e)).catch(e=>((e,t,r)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===r||void 0===r?void 0:r.noResolveJson)){const r=e.status||500,n=e;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||r+"";t(new F($(e),r,n))}).catch(()=>{const e=r+"",a=n.statusText||"HTTP ".concat(r," error");t(new F(a,r,e))});else{const e=r+"",a=n.statusText||"HTTP ".concat(r," error");t(new F(a,r,e))}}else t(new B($(e),e))}))(e,l,a))})})}function Y(e,t,r,a,s){return(0,n.__awaiter)(this,void 0,void 0,function*(){return G(e,"POST",t,a,s,r)})}class J{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},M),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Y(this.fetch,"".concat(this.url,"/CreateIndex"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}getIndex(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Y(this.fetch,"".concat(this.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(z(r))return{data:null,error:r};throw r}})}listIndexes(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Y(this.fetch,"".concat(this.url,"/ListIndexes"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Y(this.fetch,"".concat(this.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(z(r))return{data:null,error:r};throw r}})}}class X{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},M),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Y(this.fetch,"".concat(this.url,"/PutVectors"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}getVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Y(this.fetch,"".concat(this.url,"/GetVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}listVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:yield Y(this.fetch,"".concat(this.url,"/ListVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}queryVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Y(this.fetch,"".concat(this.url,"/QueryVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}deleteVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Y(this.fetch,"".concat(this.url,"/DeleteVectors"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}}class Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},M),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Y(this.fetch,"".concat(this.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}getBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Y(this.fetch,"".concat(this.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}listBuckets(){return(0,n.__awaiter)(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){try{return{data:yield Y(e.fetch,"".concat(e.url,"/ListVectorBuckets"),t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(z(r))return{data:null,error:r};throw r}}()})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Y(this.fetch,"".concat(this.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}}class Q extends Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new ee(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listBuckets.call(t,r)}()})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class ee extends J{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listIndexes.call(t,Object.assign(Object.assign({},r),{vectorBucketName:t.vectorBucketName}))}()})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new te(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class te extends X{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listVectors.call(t,Object.assign(Object.assign({},r),{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}()})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class re extends k{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new N(this.url,this.headers,e,this.fetch)}get vectors(){return new Q(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new I(this.url+"/iceberg",this.headers,this.fetch)}}},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,r))c<a&&0>s(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,p=!1,g=!1,v=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(g=!1,w(e),!p)if(null!==n(c))p=!0,_||(_=!0,N());else{var t=n(d);null!==t&&D(j,t.startTime-e)}}var N,_=!1,S=-1,k=5,A=-1;function E(){return!!v||!(t.unstable_now()-A<k)}function C(){if(v=!1,_){var e=t.unstable_now();A=e;var r=!0;try{e:{p=!1,g&&(g=!1,y(S),S=-1),f=!0;var s=m;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&E());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),r=!0;break t}h===n(c)&&a(c),w(e)}else a(c);h=n(c)}if(null!==h)r=!0;else{var l=n(d);null!==l&&D(j,l.startTime-e),r=!1}}break e}finally{h=null,m=s,f=!1}r=void 0}}finally{r?N():_=!1}}}if("function"===typeof b)N=function(){b(C)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=C,N=function(){P.postMessage(null)}}else N=function(){x(C,0)};function D(e,r){S=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(g?(y(S),S=-1):g=!0,D(j,s-i))):(e.sortIndex=o,r(c,e),p||f||(p=!0,_||(_=!0,N()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},6326:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>I,__assign:()=>s,__asyncDelegator:()=>S,__asyncGenerator:()=>_,__asyncValues:()=>k,__await:()=>N,__awaiter:()=>f,__classPrivateFieldGet:()=>D,__classPrivateFieldIn:()=>R,__classPrivateFieldSet:()=>T,__createBinding:()=>g,__decorate:()=>o,__disposeResources:()=>L,__esDecorate:()=>c,__exportStar:()=>v,__extends:()=>a,__generator:()=>p,__importDefault:()=>P,__importStar:()=>O,__makeTemplateObject:()=>A,__metadata:()=>m,__param:()=>l,__propKey:()=>u,__read:()=>y,__rest:()=>i,__rewriteRelativeImportExtension:()=>z,__runInitializers:()=>d,__setFunctionName:()=>h,__spread:()=>b,__spreadArray:()=>j,__spreadArrays:()=>w,__values:()=>x,default:()=>F});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function o(e,t,r,n){var a,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t,r,n,a,s){function i(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var o,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),h=!1,m=r.length-1;m>=0;m--){var f={};for(var p in n)f[p]="access"===p?{}:n[p];for(var p in n.access)f.access[p]=n.access[p];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(e||null))};var g=(0,r[m])("accessor"===l?{get:u.get,set:u.set}:u[c],f);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!==typeof g)throw new TypeError("Object expected");(o=i(g.get))&&(u.get=o),(o=i(g.set))&&(u.set=o),(o=i(g.init))&&a.unshift(o)}else(o=i(g))&&("field"===l?a.unshift(o):u[c]=o)}d&&Object.defineProperty(d,n.name,u),h=!0}function d(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function u(e){return"symbol"===typeof e?e:"".concat(e)}function h(e,t,r){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function m(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})}function p(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var g=Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function v(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function x(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(o){a={error:o}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var s=arguments[t],i=0,o=s.length;i<o;i++,a++)n[a]=s[i];return n}function j(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function N(e){return this instanceof N?(this.v=e,this):new N(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),s=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function i(e,t){a[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||o(e,t)})},t&&(n[e]=t(n[e])))}function o(e,t){try{(r=a[e](t)).value instanceof N?Promise.resolve(r.value.v).then(l,c):d(s[0][2],r)}catch(n){d(s[0][3],n)}var r}function l(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function S(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:N(e[n](t)),done:!1}:a?a(t):t}:a}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=x(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return C=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},C(e)};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=C(e),n=0;n<r.length;n++)"default"!==r[n]&&g(t,e,r[n]);return E(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function D(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}function R(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function I(e,t,r){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if("function"!==typeof n)throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var M="function"===typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function L(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function a(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(e){return t(e),a()})}else n|=1}catch(i){t(i)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function z(e,t){return"string"===typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,a,s){return r?t?".jsx":".js":!n||a&&s?n+a+"."+s.toLowerCase()+"js":e}):e}const F={__extends:a,__assign:s,__rest:i,__decorate:o,__param:l,__esDecorate:c,__runInitializers:d,__propKey:u,__setFunctionName:h,__metadata:m,__awaiter:f,__generator:p,__createBinding:g,__exportStar:v,__values:x,__read:y,__spread:b,__spreadArrays:w,__spreadArray:j,__await:N,__asyncGenerator:_,__asyncDelegator:S,__asyncValues:k,__makeTemplateObject:A,__importStar:O,__importDefault:P,__classPrivateFieldGet:D,__classPrivateFieldSet:T,__classPrivateFieldIn:R,__addDisposableResource:I,__disposeResources:L,__rewriteRelativeImportExtension:z}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6443),a=r(5990),s=r(7599),i=r(4803),o=r(3757);function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u=null===d||void 0===d?void 0:d(e,t,r,n);if(void 0!==u)return u;if(i.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[a,s]of e)t.set(a,l(s,a,r,n,d));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const a of e)t.add(l(a,void 0,r,n,d));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,d);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,r,n,d),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,r,n,d),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,r,n,d),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,n,d),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return n.set(e,t),c(t,e,r,n,d),t}if(e instanceof Number){const t=new Number(e.valueOf());return n.set(e,t),c(t,e,r,n,d),t}if(e instanceof String){const t=new String(e.valueOf());return n.set(e,t),c(t,e,r,n,d),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,r,n,d),t}return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const i=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<i.length;n++){const o=i[n],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,r,a,s))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,r)=>{"use strict";var n=r(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=r,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:s}):"script"===r&&i.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);i.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.1"},6770:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},6851:(e,t,r)=>{"use strict";var n;r.d(t,{DX:()=>p,TL:()=>f});var a=r(9379),s=r(3986),i=r(5043),o=r(2814),l=r(579);const c=["children"],d=["children"];var u=Symbol.for("react.lazy"),h=(n||(n=r.t(i,2)))[" use ".trim().toString()];function m(e){return null!=e&&"object"===typeof e&&"$$typeof"in e&&e.$$typeof===u&&"_payload"in e&&("object"===typeof(t=e._payload)&&null!==t&&"then"in t);var t}function f(e){const t=g(e),r=i.forwardRef((e,r)=>{let{children:n}=e,o=(0,s.A)(e,c);m(n)&&"function"===typeof h&&(n=h(n._payload));const d=i.Children.toArray(n),u=d.find(x);if(u){const e=u.props.children,n=d.map(t=>t===u?i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null:t);return(0,l.jsx)(t,(0,a.A)((0,a.A)({},o),{},{ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null}))}return(0,l.jsx)(t,(0,a.A)((0,a.A)({},o),{},{ref:r,children:n}))});return r.displayName="".concat(e,".Slot"),r}var p=f("Slot");function g(e){const t=i.forwardRef((e,t)=>{let{children:r}=e,n=(0,s.A)(e,d);if(m(r)&&"function"===typeof h&&(r=h(r._payload)),i.isValidElement(r)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(r),s=function(e,t){const r=(0,a.A)({},t);for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=function(){const e=i(...arguments);return s(...arguments),e}:s&&(r[n]=s):"style"===n?r[n]=(0,a.A)((0,a.A)({},s),i):"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return(0,a.A)((0,a.A)({},e),r)}(n,r.props);return r.type!==i.Fragment&&(s.ref=t?(0,o.t)(t,e):e),i.cloneElement(r,s)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var v=Symbol("radix.slottable");function x(e){return i.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===v}},6920:(e,t,r)=>{"use strict";r.d(t,{oR:()=>h,dj:()=>m});var n=r(9379),a=r(5043);let s=0;const i=new Map,o=e=>{if(i.has(e))return;const t=setTimeout(()=>{i.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return(0,n.A)((0,n.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,1)});case"UPDATE_TOAST":return(0,n.A)((0,n.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,n.A)((0,n.A)({},e),t.toast):e)});case"DISMISS_TOAST":{const{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),(0,n.A)((0,n.A)({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?(0,n.A)((0,n.A)({},e),{},{open:!1}):e)})}case"REMOVE_TOAST":return void 0===t.toastId?(0,n.A)((0,n.A)({},e),{},{toasts:[]}):(0,n.A)((0,n.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)})}},c=[];let d={toasts:[]};function u(e){d=l(d,e),c.forEach(e=>{e(d)})}function h(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const r=(s=(s+1)%Number.MAX_SAFE_INTEGER,s.toString()),a=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:(0,n.A)((0,n.A)({},t),{},{id:r,open:!0,onOpenChange:e=>{e||a()}})}),{id:r,dismiss:a,update:e=>u({type:"UPDATE_TOAST",toast:(0,n.A)((0,n.A)({},e),{},{id:r})})}}function m(){const[e,t]=a.useState(d);return a.useEffect(()=>(c.push(t),()=>{const e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),(0,n.A)((0,n.A)({},e),{},{toast:h,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})})}},7004:(e,t,r)=>{"use strict";var n=r(8853),a=r(5043),s=r(7950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var m=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case y:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case _:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return D(e(t))}catch(r){}}return null}var T=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],z=-1;function F(e){return{current:e}}function B(e){0>z||(e.current=L[z],L[z]=null,z--)}function U(e,t){z++,L[z]=e.current,e.current=t}var q,V,W=F(null),H=F(null),K=F(null),$=F(null);function G(e,t){switch(U(K,t),U(H,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=xu(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),U(W,e)}function Y(){B(W),B(H),B(K)}function J(e){null!==e.memoizedState&&U($,e);var t=W.current,r=xu(t,e.type);t!==r&&(U(H,e),U(W,r))}function X(e){H.current===e&&(B(W),B(H)),$.current===e&&(B($),dh._currentValue=M)}function Z(e){if(void 0===q)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",V=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+V}var Q=!1;function ee(e,t){if(!e||Q)return"";Q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){n=s}e.call(r.prototype)}}else{try{throw Error()}catch(i){n=i}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var d="\n"+l[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=a);break}}}finally{Q=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Z(r):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function re(e){try{var t="",r=null;do{t+=te(e,r),r=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ne=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,se=n.unstable_cancelCallback,ie=n.unstable_shouldYield,oe=n.unstable_requestPaint,le=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,he=n.unstable_NormalPriority,me=n.unstable_LowPriority,fe=n.unstable_IdlePriority,pe=n.log,ge=n.unstable_setDisableYieldValue,ve=null,xe=null;function ye(e){if("function"===typeof pe&&ge(e),xe&&"function"===typeof xe.setStrictMode)try{xe.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/je|0)|0},we=Math.log,je=Math.LN2;var Ne=256,_e=262144,Se=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~s)?a=ke(n):0!==(i&=o)?a=ke(i):r||0!==(r=o&~e)&&(a=ke(r)):0!==(o=n&~s)?a=ke(o):0!==i?a=ke(i):r||0!==(r=n&~e)&&(a=ke(r)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(r=t&-t)||32===s&&0!==(4194048&r))?t:a}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Oe(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Pe(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-be(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&r}function Re(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-be(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Ie(e,t){var r=t&-t;return 0!==((r=0!==(42&r)?1:Me(r))&(e.suspendedLanes|t))?0:r}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:kh(e.type)}function Fe(e,t){var r=I.p;try{return I.p=e,t()}finally{I.p=r}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,qe="__reactProps$"+Be,Ve="__reactContainer$"+Be,We="__reactEvents$"+Be,He="__reactListeners$"+Be,Ke="__reactHandles$"+Be,$e="__reactResources$"+Be,Ge="__reactMarker$"+Be;function Ye(e){delete e[Ue],delete e[qe],delete e[We],delete e[He],delete e[Ke]}function Je(e){var t=e[Ue];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ve]||r[Ue]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Mu(e);null!==e;){if(r=e[Ue])return r;e=Mu(e)}return t}r=(e=r).parentNode}return null}function Xe(e){if(e=e[Ue]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Qe(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,rt={};function nt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(rt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function lt(e,t,r){if(a=t,ne.call(ot,a)||!ne.call(it,a)&&(st.test(a)?ot[a]=!0:(it[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function ct(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function dt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ht(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,r,n,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?bt(e,i,ut(t)):null!=r?bt(e,i,ut(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function yt(e,t,r,n,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=r){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void mt(e);r=null!=r?""+ut(r):"",t=null!=t?""+ut(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),mt(e)}function bt(e,t,r){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function wt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ut(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function jt(e,t,r){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ut(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(i(92));if(T(n)){if(1<n.length)throw Error(i(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ut(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n),mt(e)}function _t(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||St.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function At(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&kt(e,a,n)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dt(){}var Tt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Mt=null;function Lt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var r=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[qe]||null;if(!a)throw Error(i(90));xt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ft(n)}break e;case"textarea":jt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&wt(e,!!r.multiple,t,!1)}}}var zt=!1;function Ft(e,t,r){if(zt)return e(t,r);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==It||null!==Mt)&&(Qc(),It&&(t=It,e=Mt,Mt=It=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Bt(e,t){var r=e.stateNode;if(null===r)return null;var n=r[qe]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Ut)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Xh){qt=!1}var Wt=null,Ht=null,Kt=null;function $t(){if(Kt)return Kt;var e,t,r=Ht,n=r.length,a="value"in Wt?Wt.value:Wt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[s-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Jt(){return!1}function Xt(e){function t(t,r,n,a,s){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Yt:Jt,this.isPropagationStopped=Jt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Zt,Qt,er,tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Xt(tr),nr=m({},tr,{view:0,detail:0}),ar=Xt(nr),sr=m({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&"mousemove"===e.type?(Zt=e.screenX-er.screenX,Qt=e.screenY-er.screenY):Qt=Zt=0,er=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),ir=Xt(sr),or=Xt(m({},sr,{dataTransfer:0})),lr=Xt(m({},nr,{relatedTarget:0})),cr=Xt(m({},tr,{animationName:0,elapsedTime:0,pseudoElement:0})),dr=Xt(m({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ur=Xt(m({},tr,{data:0})),hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fr[e])&&!!t[e]}function gr(){return pr}var vr=Xt(m({},nr,{key:function(e){if(e.key){var t=hr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xr=Xt(m({},sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yr=Xt(m({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr})),br=Xt(m({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0})),wr=Xt(m({},sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jr=Xt(m({},tr,{newState:0,oldState:0})),Nr=[9,13,27,32],_r=Ut&&"CompositionEvent"in window,Sr=null;Ut&&"documentMode"in document&&(Sr=document.documentMode);var kr=Ut&&"TextEvent"in window&&!Sr,Ar=Ut&&(!_r||Sr&&8<Sr&&11>=Sr),Er=String.fromCharCode(32),Cr=!1;function Or(e,t){switch(e){case"keyup":return-1!==Nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dr=!1;var Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tr[e.type]:"textarea"===t}function Ir(e,t,r,n){It?Mt?Mt.push(n):Mt=[n]:It=n,0<(t=nu(t,"onChange")).length&&(r=new rr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mr=null,Lr=null;function zr(e){Yd(e,0)}function Fr(e){if(ft(Ze(e)))return e}function Br(e,t){if("change"===e)return t}var Ur=!1;if(Ut){var qr;if(Ut){var Vr="oninput"in document;if(!Vr){var Wr=document.createElement("div");Wr.setAttribute("oninput","return;"),Vr="function"===typeof Wr.oninput}qr=Vr}else qr=!1;Ur=qr&&(!document.documentMode||9<document.documentMode)}function Hr(){Mr&&(Mr.detachEvent("onpropertychange",Kr),Lr=Mr=null)}function Kr(e){if("value"===e.propertyName&&Fr(Lr)){var t=[];Ir(t,Lr,e,Rt(e)),Ft(zr,t)}}function $r(e,t,r){"focusin"===e?(Hr(),Lr=r,(Mr=t).attachEvent("onpropertychange",Kr)):"focusout"===e&&Hr()}function Gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fr(Lr)}function Yr(e,t){if("click"===e)return Fr(t)}function Jr(e,t){if("input"===e||"change"===e)return Fr(t)}var Xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zr(e,t){if(Xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ne.call(t,a)||!Xr(e[a],t[a]))return!1}return!0}function Qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var r,n=Qr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qr(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rn(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=pt((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var an=Ut&&"documentMode"in document&&11>=document.documentMode,sn=null,on=null,ln=null,cn=!1;function dn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;cn||null==sn||sn!==pt(n)||("selectionStart"in(n=sn)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ln&&Zr(ln,n)||(ln=n,0<(n=nu(on,"onSelect")).length&&(t=new rr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sn)))}function un(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},mn={},fn={};function pn(e){if(mn[e])return mn[e];if(!hn[e])return e;var t,r=hn[e];for(t in r)if(r.hasOwnProperty(t)&&t in fn)return mn[e]=r[t];return e}Ut&&(fn=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);var gn=pn("animationend"),vn=pn("animationiteration"),xn=pn("animationstart"),yn=pn("transitionrun"),bn=pn("transitionstart"),wn=pn("transitioncancel"),jn=pn("transitionend"),Nn=new Map,_n="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Nn.set(e,t),nt(t,[e])}_n.push("scrollEnd");var kn="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},An=[],En=0,Cn=0;function On(){for(var e=En,t=Cn=En=0;t<e;){var r=An[t];An[t++]=null;var n=An[t];An[t++]=null;var a=An[t];An[t++]=null;var s=An[t];if(An[t++]=null,null!==n&&null!==a){var i=n.pending;null===i?a.next=a:(a.next=i.next,i.next=a),n.pending=a}0!==s&&Rn(r,a,s)}}function Pn(e,t,r,n){An[En++]=e,An[En++]=t,An[En++]=r,An[En++]=n,Cn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Dn(e,t,r,n){return Pn(e,t,r,n),In(e)}function Tn(e,t){return Pn(e,null,null,t),In(e)}function Rn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(n=s.alternate)&&(n.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-be(r),null===(n=(e=s.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),s):null}function In(e){if(50<Wc)throw Wc=0,Hc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function Ln(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,r,n){return new Ln(e,t,r,n)}function Fn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bn(e,t){var r=e.alternate;return null===r?((r=zn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Un(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qn(e,t,r,n,a,s){var o=0;if(n=e,"function"===typeof e)Fn(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=zn(31,r,t,a)).elementType=A,e.lanes=s,e;case v:return Vn(r.children,a,s,t);case x:o=8,a|=24;break;case y:return(e=zn(12,r,t,2|a)).elementType=y,e.lanes=s,e;case N:return(e=zn(13,r,t,a)).elementType=N,e.lanes=s,e;case _:return(e=zn(19,r,t,a)).elementType=_,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:o=10;break e;case b:o=9;break e;case j:o=11;break e;case S:o=14;break e;case k:o=16,n=null;break e}o=29,r=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=zn(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Vn(e,t,r,n){return(e=zn(7,e,n,t)).lanes=r,e}function Wn(e,t,r){return(e=zn(6,e,null,t)).lanes=r,e}function Hn(e){var t=zn(18,null,null,0);return t.stateNode=e,t}function Kn(e,t,r){return(t=zn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $n=new WeakMap;function Gn(e,t){if("object"===typeof e&&null!==e){var r=$n.get(e);return void 0!==r?r:(t={value:e,source:t,stack:re(t)},$n.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Yn=[],Jn=0,Xn=null,Zn=0,Qn=[],ea=0,ta=null,ra=1,na="";function aa(e,t){Yn[Jn++]=Zn,Yn[Jn++]=Xn,Xn=e,Zn=t}function sa(e,t,r){Qn[ea++]=ra,Qn[ea++]=na,Qn[ea++]=ta,ta=e;var n=ra;e=na;var a=32-be(n)-1;n&=~(1<<a),r+=1;var s=32-be(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ra=1<<32-be(t)+a|r<<a|n,na=s+e}else ra=1<<s|r<<a|n,na=e}function ia(e){null!==e.return&&(aa(e,1),sa(e,1,0))}function oa(e){for(;e===Xn;)Xn=Yn[--Jn],Yn[Jn]=null,Zn=Yn[--Jn],Yn[Jn]=null;for(;e===ta;)ta=Qn[--ea],Qn[ea]=null,na=Qn[--ea],Qn[ea]=null,ra=Qn[--ea],Qn[ea]=null}function la(e,t){Qn[ea++]=ra,Qn[ea++]=na,Qn[ea++]=ta,ra=t.id,na=t.overflow,ta=e}var ca=null,da=null,ua=!1,ha=null,ma=!1,fa=Error(i(519));function pa(e){throw wa(Gn(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fa}function ga(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Ue]=e,t[qe]=n,r){case"dialog":Jd("cancel",t),Jd("close",t);break;case"iframe":case"object":case"embed":Jd("load",t);break;case"video":case"audio":for(r=0;r<$d.length;r++)Jd($d[r],t);break;case"source":Jd("error",t);break;case"img":case"image":case"link":Jd("error",t),Jd("load",t);break;case"details":Jd("toggle",t);break;case"input":Jd("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Jd("invalid",t);break;case"textarea":Jd("invalid",t),Nt(t,n.value,n.defaultValue,n.children)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||cu(t.textContent,r)?(null!=n.popover&&(Jd("beforetoggle",t),Jd("toggle",t)),null!=n.onScroll&&Jd("scroll",t),null!=n.onScrollEnd&&Jd("scrollend",t),null!=n.onClick&&(t.onclick=Dt),t=!0):t=!1,t||pa(e,!0)}function va(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(ma=!1);case 27:case 3:return void(ma=!0);default:ca=ca.return}}function xa(e){if(e!==ca)return!1;if(!ua)return va(e),ua=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yu(e.type,e.memoizedProps)),t=!t),t&&da&&pa(e),va(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Iu(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Iu(e)}else 27===r?(r=da,ku(e.type)?(e=Ru,Ru=null,da=e):da=r):da=ca?Tu(e.stateNode.nextSibling):null;return!0}function ya(){da=ca=null,ua=!1}function ba(){var e=ha;return null!==e&&(null===Oc?Oc=e:Oc.push.apply(Oc,e),ha=null),e}function wa(e){null===ha?ha=[e]:ha.push(e)}var ja=F(null),Na=null,_a=null;function Sa(e,t,r){U(ja,t._currentValue),t._currentValue=r}function ka(e){e._currentValue=ja.current,B(ja)}function Aa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ea(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Aa(s.return,r,e),n||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),Aa(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ca(e,t,r,n){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Xr(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===$.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}a=a.return}null!==e&&Ea(t,e,r,n),t.flags|=262144}function Oa(e){for(e=e.firstContext;null!==e;){if(!Xr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Na=e,_a=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Da(e){return Ra(Na,e)}function Ta(e,t){return null===Na&&Pa(e),Ra(e,t)}function Ra(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===_a){if(null===e)throw Error(i(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return r}var Ia="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ma=n.unstable_scheduleCallback,La=n.unstable_NormalPriority,za={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Ia,data:new Map,refCount:0}}function Ba(e){e.refCount--,0===e.refCount&&Ma(La,function(){e.controller.abort()})}var Ua=null,qa=0,Va=0,Wa=null;function Ha(){if(0===--qa&&null!==Ua){null!==Wa&&(Wa.status="fulfilled");var e=Ua;Ua=null,Va=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ka=R.S;R.S=function(e,t){Tc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ua){var r=Ua=[];qa=0,Va=qd(),Wa={status:"pending",value:void 0,then:function(e){r.push(e)}}}qa++,t.then(Ha,Ha)}(0,t),null!==Ka&&Ka(e,t)};var $a=F(null);function Ga(){var e=$a.current;return null!==e?e:fc.pooledCache}function Ya(e,t){U($a,null===t?$a.current:t.pool)}function Ja(){var e=Ga();return null===e?null:{parent:za._currentValue,pool:e}}var Xa=Error(i(460)),Za=Error(i(474)),Qa=Error(i(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Dt,Dt),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e;default:if("string"===typeof t.status)t.then(Dt,Dt);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e}throw as=t,Xa}}function ns(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw as=t,Xa;throw t}}var as=null;function ss(){if(null===as)throw Error(i(459));var e=as;return as=null,e}function is(e){if(e===Xa||e===Qa)throw Error(i(483))}var os=null,ls=0;function cs(e){var t=ls;return ls+=1,null===os&&(os=[]),rs(os,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function us(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Bn(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Wn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===v?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===k&&ns(s)===t.type)?(ds(t=a(t,r.props),r),t.return=e,t):(ds(t=qn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Kn(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Vn(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return ds(r=qn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case g:return(t=Kn(t,e.mode,r)).return=e,t;case k:return h(e,t=ns(t),r)}if(T(t)||O(t))return(t=Vn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,cs(t),r);if(t.$$typeof===w)return h(e,Ta(e,t),r);us(e,t)}return null}function m(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===a?c(e,t,r,n):null;case g:return r.key===a?d(e,t,r,n):null;case k:return m(e,t,r=ns(r),n)}if(T(r)||O(r))return null!==a?null:u(e,t,r,n,null);if("function"===typeof r.then)return m(e,t,cs(r),n);if(r.$$typeof===w)return m(e,t,Ta(e,r),n);us(e,r)}return null}function f(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case g:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case k:return f(e,t,r,n=ns(n),a)}if(T(n)||O(n))return u(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return f(e,t,r,cs(n),a);if(n.$$typeof===w)return f(e,t,r,Ta(t,n),a);us(t,n)}return null}function x(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===v&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case p:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===v){if(7===c.tag){r(l,c.sibling),(u=a(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===k&&ns(y)===c.type){r(l,c.sibling),ds(u=a(c,d.props),d),u.return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}d.type===v?((u=Vn(d.props.children,l.mode,u,d.key)).return=l,l=u):(ds(u=qn(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case g:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(l,c.sibling),(u=a(c,d.children||[])).return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}(u=Kn(d,l.mode,u)).return=l,l=u}return o(l);case k:return x(l,c,d=ns(d),u)}if(T(d))return function(a,i,o,l){for(var c=null,d=null,u=i,p=i=0,g=null;null!==u&&p<o.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var v=m(a,u,o[p],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(a,u),i=s(v,i,p),null===d?c=v:d.sibling=v,d=v,u=g}if(p===o.length)return r(a,u),ua&&aa(a,p),c;if(null===u){for(;p<o.length;p++)null!==(u=h(a,o[p],l))&&(i=s(u,i,p),null===d?c=u:d.sibling=u,d=u);return ua&&aa(a,p),c}for(u=n(u);p<o.length;p++)null!==(g=f(u,a,p,o[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),i=s(g,i,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),ua&&aa(a,p),c}(l,c,d,u);if(O(d)){if("function"!==typeof(y=O(d)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,p=o,g=o=0,v=null,x=l.next();null!==p&&!x.done;g++,x=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var y=m(a,p,x.value,c);if(null===y){null===p&&(p=v);break}e&&p&&null===y.alternate&&t(a,p),o=s(y,o,g),null===u?d=y:u.sibling=y,u=y,p=v}if(x.done)return r(a,p),ua&&aa(a,g),d;if(null===p){for(;!x.done;g++,x=l.next())null!==(x=h(a,x.value,c))&&(o=s(x,o,g),null===u?d=x:u.sibling=x,u=x);return ua&&aa(a,g),d}for(p=n(p);!x.done;g++,x=l.next())null!==(x=f(p,a,g,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?g:x.key),o=s(x,o,g),null===u?d=x:u.sibling=x,u=x);return e&&p.forEach(function(e){return t(a,e)}),ua&&aa(a,g),d}(l,c,d=y.call(d),u)}if("function"===typeof d.then)return x(l,c,cs(d),u);if(d.$$typeof===w)return x(l,c,Ta(l,d),u);us(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(r(l,c.sibling),(u=a(c,d)).return=l,l=u):(r(l,c),(u=Wn(d,l.mode,u)).return=l,l=u),o(l)):r(l,c)}return function(e,t,r,n){try{ls=0;var a=x(e,t,r,n);return os=null,a}catch(i){if(i===Xa||i===Qa)throw i;var s=zn(29,i,null,e.mode);return s.lanes=n,s.return=e,s}}}var ms=hs(!0),fs=hs(!1),ps=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ys(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&mc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=In(e),Rn(e,null,r),t}return Pn(e,n,t,r),In(e)}function bs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Re(e,r)}}function ws(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var js=!1;function Ns(){if(js){if(null!==Wa)throw Wa}}function _s(e,t,r,n){js=!1;var a=e.updateQueue;ps=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(gc&h)===h:(n&h)===h){0!==h&&h===Va&&(js=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;h=t;var v=r;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(v,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(v,u,h):p)||void 0===h)break e;u=m({},u,h);break e;case 2:ps=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===s&&(a.shared.lanes=0),_c|=i,e.lanes=i,e.memoizedState=u}}function Ss(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function ks(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)Ss(r[e],t)}var As=F(null),Es=F(0);function Cs(e,t){U(Es,e=jc),U(As,t),jc=e|t.baseLanes}function Os(){U(Es,jc),U(As,As.current)}function Ps(){jc=Es.current,B(As),B(Es)}var Ds=F(null),Ts=null;function Rs(e){var t=e.alternate;U(Fs,1&Fs.current),U(Ds,e),null===Ts&&(null===t||null!==As.current||null!==t.memoizedState)&&(Ts=e)}function Is(e){U(Fs,Fs.current),U(Ds,e),null===Ts&&(Ts=e)}function Ms(e){22===e.tag?(U(Fs,Fs.current),U(Ds,e),null===Ts&&(Ts=e)):Ls()}function Ls(){U(Fs,Fs.current),U(Ds,Ds.current)}function zs(e){B(Ds),Ts===e&&(Ts=null),B(Fs)}var Fs=F(0);function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Pu(r)||Du(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=0,qs=null,Vs=null,Ws=null,Hs=!1,Ks=!1,$s=!1,Gs=0,Ys=0,Js=null,Xs=0;function Zs(){throw Error(i(321))}function Qs(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function ei(e,t,r,n,a,s){return Us=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?go:vo,$s=!1,s=r(n,a),$s=!1,Ks&&(s=ri(t,r,n,a)),ti(e),s}function ti(e){R.H=po;var t=null!==Vs&&null!==Vs.next;if(Us=0,Ws=Vs=qs=null,Hs=!1,Ys=0,Js=null,t)throw Error(i(300));null===e||To||null!==(e=e.dependencies)&&Oa(e)&&(To=!0)}function ri(e,t,r,n){qs=e;var a=0;do{if(Ks&&(Js=null),Ys=0,Ks=!1,25<=a)throw Error(i(301));if(a+=1,Ws=Vs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=xo,s=t(r,n)}while(Ks);return s}function ni(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?ci(t):t,e=e.useState()[0],(null!==Vs?Vs.memoizedState:null)!==e&&(qs.flags|=1024),t}function ai(){var e=0!==Gs;return Gs=0,e}function si(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ii(e){if(Hs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Hs=!1}Us=0,Ws=Vs=qs=null,Ks=!1,Ys=Gs=0,Js=null}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ws?qs.memoizedState=Ws=e:Ws=Ws.next=e,Ws}function li(){if(null===Vs){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=Vs.next;var t=null===Ws?qs.memoizedState:Ws.next;if(null!==t)Ws=t,Vs=e;else{if(null===e){if(null===qs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Vs=e).memoizedState,baseState:Vs.baseState,baseQueue:Vs.baseQueue,queue:Vs.queue,next:null},null===Ws?qs.memoizedState=Ws=e:Ws=Ws.next=e}return Ws}function ci(e){var t=Ys;return Ys+=1,null===Js&&(Js=[]),e=rs(Js,e,t),t=qs,null===(null===Ws?t.memoizedState:Ws.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?go:vo),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ci(e);if(e.$$typeof===w)return Da(e)}throw Error(i(438,String(e)))}function ui(e){var t=null,r=qs.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=qs.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=E;return t.index++,r}function hi(e,t){return"function"===typeof t?t(e):t}function mi(e){return fi(li(),Vs,e)}function fi(e,t,r){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=r;var a=e.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,n.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,d=t=a.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(gc&h)===h:(Us&h)===h){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Va&&(u=!0);else{if((Us&m)===m){d=d.next,m===Va&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,qs.lanes|=m,_c|=m}h=d.action,$s&&r(s,h),s=d.hasEagerState?d.eagerState:r(s,h)}else m={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,o=s):c=c.next=m,qs.lanes|=h,_c|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=s:c.next=l,!Xr(s,e.memoizedState)&&(To=!0,u&&null!==(r=Wa)))throw r;e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function pi(e){var t=li(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Xr(s,t.memoizedState)||(To=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function gi(e,t,r){var n=qs,a=li(),s=ua;if(s){if(void 0===r)throw Error(i(407));r=r()}else r=t();var o=!Xr((Vs||a).memoizedState,r);if(o&&(a.memoizedState=r,To=!0),a=a.queue,Ui(yi.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==Ws&&1&Ws.memoizedState.tag){if(n.flags|=2048,Mi(9,{destroy:void 0},xi.bind(null,n,a,r,t),null),null===fc)throw Error(i(349));s||0!==(127&Us)||vi(n,t,r)}return r}function vi(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=qs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function xi(e,t,r,n){t.value=r,t.getSnapshot=n,bi(t)&&wi(e)}function yi(e,t,r){return r(function(){bi(t)&&wi(e)})}function bi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch(n){return!0}}function wi(e){var t=Tn(e,2);null!==t&&Gc(t,e,2)}function ji(e){var t=oi();if("function"===typeof e){var r=e;if(e=r(),$s){ye(!0);try{r()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t}function Ni(e,t,r,n){return e.baseState=r,fi(e,Vs,"function"===typeof n?n:hi)}function _i(e,t,r,n,a){if(ho(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?r(!0):s.isTransition=!1,n(s),null===(r=t.pending)?(s.next=t.pending=s,Si(t,s)):(s.next=r.next,t.pending=r.next=s)}}function Si(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var s=R.T,i={};R.T=i;try{var o=r(a,n),l=R.S;null!==l&&l(i,o),ki(e,t,o)}catch(c){Ei(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),R.T=s}}else try{ki(e,t,s=r(a,n))}catch(d){Ei(e,t,d)}}function ki(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){Ai(e,t,r)},function(r){return Ei(e,t,r)}):Ai(e,t,r)}function Ai(e,t,r){t.status="fulfilled",t.value=r,Ci(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,Si(e,r)))}function Ei(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,Ci(t),t=t.next}while(t!==n)}e.action=null}function Ci(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oi(e,t){return t}function Pi(e,t){if(ua){var r=fc.formState;if(null!==r){e:{var n=qs;if(ua){if(da){t:{for(var a=da,s=ma;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=Tu(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){da=Tu(a.nextSibling),n="F!"===a.data;break e}}pa(n)}n=!1}n&&(t=r[0])}}return(r=oi()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},r.queue=n,r=lo.bind(null,qs,n),n.dispatch=r,n=ji(!1),s=uo.bind(null,qs,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=oi()).queue=a,r=_i.bind(null,qs,a,s,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function Di(e){return Ti(li(),Vs,e)}function Ti(e,t,r){if(t=fi(e,t,Oi)[0],e=mi(hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=ci(t)}catch(i){if(i===Xa)throw Qa;throw i}else n=t;var a=(t=li()).queue,s=a.dispatch;return r!==t.memoizedState&&(qs.flags|=2048,Mi(9,{destroy:void 0},Ri.bind(null,a,r),null)),[n,s,e]}function Ri(e,t){e.action=t}function Ii(e){var t=li(),r=Vs;if(null!==r)return Ti(t,r,e);li(),t=t.memoizedState;var n=(r=li()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Mi(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=qs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Li(){return li().memoizedState}function zi(e,t,r,n){var a=oi();qs.flags|=e,a.memoizedState=Mi(1|t,{destroy:void 0},r,void 0===n?null:n)}function Fi(e,t,r,n){var a=li();n=void 0===n?null:n;var s=a.memoizedState.inst;null!==Vs&&null!==n&&Qs(n,Vs.memoizedState.deps)?a.memoizedState=Mi(t,s,r,n):(qs.flags|=e,a.memoizedState=Mi(1|t,s,r,n))}function Bi(e,t){zi(8390656,8,e,t)}function Ui(e,t){Fi(2048,8,e,t)}function qi(e){var t=li().memoizedState;return function(e){qs.flags|=4;var t=qs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&mc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Vi(e,t){return Fi(4,2,e,t)}function Wi(e,t){return Fi(4,4,e,t)}function Hi(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ki(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Fi(4,4,Hi.bind(null,t,e),r)}function $i(){}function Gi(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Qs(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Yi(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Qs(t,n[1]))return n[0];if(n=e(),$s){ye(!0);try{e()}finally{ye(!1)}}return r.memoizedState=[n,t],n}function Ji(e,t,r){return void 0===r||0!==(1073741824&Us)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=r,e=$c(),qs.lanes|=e,_c|=e,r)}function Xi(e,t,r,n){return Xr(r,t)?r:null!==As.current?(e=Ji(e,r,n),Xr(e,t)||(To=!0),e):0===(42&Us)||0!==(1073741824&Us)&&0===(261930&gc)?(To=!0,e.memoizedState=r):(e=$c(),qs.lanes|=e,_c|=e,t)}function Zi(e,t,r,n,a){var s=I.p;I.p=0!==s&&8>s?s:8;var i=R.T,o={};R.T=o,uo(e,!1,t,r);try{var l=a(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)co(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n),Kc());else co(e,t,n,Kc())}catch(d){co(e,t,{then:function(){},status:"rejected",reason:d},Kc())}finally{I.p=s,null!==i&&null!==o.types&&(i.types=o.types),R.T=i}}function Qi(){}function eo(e,t,r,n){if(5!==e.tag)throw Error(i(476));var a=to(e).queue;Zi(e,a,t,M,null===r?Qi:function(){return ro(e),r(n)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:M},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Kc())}function no(){return Da(dh)}function ao(){return li().memoizedState}function so(){return li().memoizedState}function io(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Kc(),n=ys(t,e=xs(r),r);return null!==n&&(Gc(n,t,r),bs(n,t,r)),t={cache:Fa()},void(e.payload=t)}t=t.return}}function oo(e,t,r){var n=Kc();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ho(e)?mo(t,r):null!==(r=Dn(e,t,r,n))&&(Gc(r,e,n),fo(r,t,n))}function lo(e,t,r){co(e,t,r,Kc())}function co(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ho(e))mo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,Xr(o,i))return Pn(e,t,a,0),null===fc&&On(),!1}catch(l){}if(null!==(r=Dn(e,t,a,n)))return Gc(r,e,n),fo(r,t,n),!0}return!1}function uo(e,t,r,n){if(n={lane:2,revertLane:qd(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(t)throw Error(i(479))}else null!==(t=Dn(e,r,n,2))&&Gc(t,e,2)}function ho(e){var t=e.alternate;return e===qs||null!==t&&t===qs}function mo(e,t){Ks=Hs=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fo(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Re(e,r)}}var po={readContext:Da,use:di,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};po.useEffectEvent=Zs;var go={readContext:Da,use:di,useCallback:function(e,t){return oi().memoizedState=[e,void 0===t?null:t],e},useContext:Da,useEffect:Bi,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,zi(4194308,4,Hi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){zi(4,2,e,t)},useMemo:function(e,t){var r=oi();t=void 0===t?null:t;var n=e();if($s){ye(!0);try{e()}finally{ye(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=oi();if(void 0!==r){var a=r(t);if($s){ye(!0);try{r(t)}finally{ye(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=oo.bind(null,qs,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},oi().memoizedState=e},useState:function(e){var t=(e=ji(e)).queue,r=lo.bind(null,qs,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:$i,useDeferredValue:function(e,t){return Ji(oi(),e,t)},useTransition:function(){var e=ji(!1);return e=Zi.bind(null,qs,e.queue,!0,!1),oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=qs,a=oi();if(ua){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===fc)throw Error(i(349));0!==(127&gc)||vi(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Bi(yi.bind(null,n,s,e),[e]),n.flags|=2048,Mi(9,{destroy:void 0},xi.bind(null,n,s,r,t),null),r},useId:function(){var e=oi(),t=fc.identifierPrefix;if(ua){var r=na;t="_"+t+"R_"+(r=(ra&~(1<<32-be(ra)-1)).toString(32)+r),0<(r=Gs++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Xs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:no,useFormState:Pi,useActionState:Pi,useOptimistic:function(e){var t=oi();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=uo.bind(null,qs,!0,r),r.dispatch=t,[e,t]},useMemoCache:ui,useCacheRefresh:function(){return oi().memoizedState=io.bind(null,qs)},useEffectEvent:function(e){var t=oi(),r={impl:e};return t.memoizedState=r,function(){if(0!==(2&mc))throw Error(i(440));return r.impl.apply(void 0,arguments)}}},vo={readContext:Da,use:di,useCallback:Gi,useContext:Da,useEffect:Ui,useImperativeHandle:Ki,useInsertionEffect:Vi,useLayoutEffect:Wi,useMemo:Yi,useReducer:mi,useRef:Li,useState:function(){return mi(hi)},useDebugValue:$i,useDeferredValue:function(e,t){return Xi(li(),Vs.memoizedState,e,t)},useTransition:function(){var e=mi(hi)[0],t=li().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:gi,useId:ao,useHostTransitionStatus:no,useFormState:Di,useActionState:Di,useOptimistic:function(e,t){return Ni(li(),0,e,t)},useMemoCache:ui,useCacheRefresh:so};vo.useEffectEvent=qi;var xo={readContext:Da,use:di,useCallback:Gi,useContext:Da,useEffect:Ui,useImperativeHandle:Ki,useInsertionEffect:Vi,useLayoutEffect:Wi,useMemo:Yi,useReducer:pi,useRef:Li,useState:function(){return pi(hi)},useDebugValue:$i,useDeferredValue:function(e,t){var r=li();return null===Vs?Ji(r,e,t):Xi(r,Vs.memoizedState,e,t)},useTransition:function(){var e=pi(hi)[0],t=li().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:gi,useId:ao,useHostTransitionStatus:no,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){var r=li();return null!==Vs?Ni(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ui,useCacheRefresh:so};function yo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:m({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}xo.useEffectEvent=qi;var bo={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kc(),a=xs(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ys(e,a,n))&&(Gc(t,e,n),bs(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kc(),a=xs(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ys(e,a,n))&&(Gc(t,e,n),bs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kc(),n=xs(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ys(e,n,r))&&(Gc(t,e,r),bs(t,e,r))}};function wo(e,t,r,n,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zr(r,n)||!Zr(a,s))}function jo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function No(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=m({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}function _o(e){kn(e)}function So(e){console.error(e)}function ko(e){kn(e)}function Ao(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Eo(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Co(e,t,r){return(r=xs(r)).tag=3,r.payload={element:null},r.callback=function(){Ao(e,t)},r}function Oo(e){return(e=xs(e)).tag=3,e}function Po(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var s=n.value;e.payload=function(){return a(s)},e.callback=function(){Eo(t,r,n)}}var i=r.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Eo(t,r,n),"function"!==typeof a&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Do=Error(i(461)),To=!1;function Ro(e,t,r,n){t.child=null===e?fs(t,null,r,n):ms(t,e.child,r,n)}function Io(e,t,r,n,a){r=r.render;var s=t.ref;if("ref"in n){var i={};for(var o in n)"ref"!==o&&(i[o]=n[o])}else i=n;return Pa(t),n=ei(e,t,r,i,s,a),o=ai(),null===e||To?(ua&&o&&ia(t),t.flags|=1,Ro(e,t,n,a),t.child):(si(e,t,a),al(e,t,a))}function Mo(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Fn(s)||void 0!==s.defaultProps||null!==r.compare?((e=qn(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Lo(e,t,s,n,a))}if(s=e.child,!sl(e,a)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:Zr)(i,n)&&e.ref===t.ref)return al(e,t,a)}return t.flags|=1,(e=Bn(s,n)).ref=t.ref,e.return=t,t.child=e}function Lo(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(Zr(s,n)&&e.ref===t.ref){if(To=!1,t.pendingProps=n=s,!sl(e,a))return t.lanes=e.lanes,al(e,t,a);0!==(131072&e.flags)&&(To=!0)}}return Wo(e,t,r,n,a)}function zo(e,t,r,n){var a=n.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|r:r,null!==e){for(n=t.child=e.child,a=0;null!==n;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~s}else n=0,t.child=null;return Bo(e,t,s,r,n)}if(0===(536870912&r))return n=t.lanes=536870912,Bo(e,t,null!==s?s.baseLanes|r:r,r,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==s?s.cachePool:null),null!==s?Cs(t,s):Os(),Ms(t)}else null!==s?(Ya(0,s.cachePool),Cs(t,s),Ls(),t.memoizedState=null):(null!==e&&Ya(0,null),Os(),Ls());return Ro(e,t,a,r),t.child}function Fo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bo(e,t,r,n,a){var s=Ga();return s=null===s?null:{parent:za._currentValue,pool:s},t.memoizedState={baseLanes:r,cachePool:s},null!==e&&Ya(0,null),Os(),Ms(t),null!==e&&Ca(e,t,n,!0),t.childLanes=a,null}function Uo(e,t){return(t=Qo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,r){return ms(t,e.child,null,r),(e=Uo(t,t.pendingProps)).flags|=2,zs(t),t.memoizedState=null,e}function Vo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(i(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Wo(e,t,r,n,a){return Pa(t),r=ei(e,t,r,n,void 0,a),n=ai(),null===e||To?(ua&&n&&ia(t),t.flags|=1,Ro(e,t,r,a),t.child):(si(e,t,a),al(e,t,a))}function Ho(e,t,r,n,a,s){return Pa(t),t.updateQueue=null,r=ri(t,n,r,a),ti(e),n=ai(),null===e||To?(ua&&n&&ia(t),t.flags|=1,Ro(e,t,r,s),t.child):(si(e,t,s),al(e,t,s))}function Ko(e,t,r,n,a){if(Pa(t),null===t.stateNode){var s=Mn,i=r.contextType;"object"===typeof i&&null!==i&&(s=Da(i)),s=new r(n,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=bo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=n,s.state=t.memoizedState,s.refs={},gs(t),i=r.contextType,s.context="object"===typeof i&&null!==i?Da(i):Mn,s.state=t.memoizedState,"function"===typeof(i=r.getDerivedStateFromProps)&&(yo(t,r,i,n),s.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&bo.enqueueReplaceState(s,s.state,null),_s(t,n,s,a),Ns(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=No(r,o);s.props=l;var c=s.context,d=r.contextType;i=Mn,"object"===typeof d&&null!==d&&(i=Da(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&jo(t,s,n,i),ps=!1;var h=t.memoizedState;s.state=h,_s(t,n,s,a),Ns(),c=t.memoizedState,o||h!==c||ps?("function"===typeof u&&(yo(t,r,u,n),c=t.memoizedState),(l=ps||wo(t,r,l,n,h,c,i))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=i,n=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,vs(e,t),d=No(r,i=t.memoizedProps),s.props=d,u=t.pendingProps,h=s.context,c=r.contextType,l=Mn,"object"===typeof c&&null!==c&&(l=Da(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||h!==l)&&jo(t,s,n,l),ps=!1,h=t.memoizedState,s.state=h,_s(t,n,s,a),Ns();var m=t.memoizedState;i!==u||h!==m||ps||null!==e&&null!==e.dependencies&&Oa(e.dependencies)?("function"===typeof o&&(yo(t,r,o,n),m=t.memoizedState),(d=ps||wo(t,r,d,n,h,m,l)||null!==e&&null!==e.dependencies&&Oa(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=d):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,Vo(e,t),n=0!==(128&t.flags),s||n?(s=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&n?(t.child=ms(t,e.child,null,a),t.child=ms(t,null,r,a)):Ro(e,t,r,a),t.memoizedState=s.state,e=t.child):e=al(e,t,a),e}function $o(e,t,r,n){return ya(),t.flags|=256,Ro(e,t,r,n),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Ja()}}function Jo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Ac),e}function Xo(e,t,r){var n,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Fs.current)),n&&(s=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ua){if(s?Rs(t):Ls(),(e=da)?null!==(e=null!==(e=Ou(e,ma))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},(r=Hn(e)).return=t,t.child=r,ca=t,da=null):e=null,null===e)throw pa(t);return Du(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Ls(),l=Qo({mode:"hidden",children:l},s=t.mode),a=Vn(a,s,r,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Yo(r),a.childLanes=Jo(e,n,r),t.memoizedState=Go,Fo(null,a)):(Rs(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Rs(t),t.flags&=-257,t=el(e,t,r)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),l=a.fallback,s=t.mode,a=Qo({mode:"visible",children:a.children},s),(l=Vn(l,s,r,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ms(t,e.child,null,r),(a=t.child).memoizedState=Yo(r),a.childLanes=Jo(e,n,r),t.memoizedState=Go,t=Fo(null,a));else if(Rs(t),Du(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var d=n.dgst;n=d,(a=Error(i(419))).stack="",a.digest=n,wa({value:a,source:null,stack:null}),t=el(e,t,r)}else if(To||Ca(e,t,r,!1),n=0!==(r&e.childLanes),To||n){if(null!==(n=fc)&&(0!==(a=Ie(n,r))&&a!==c.retryLane))throw c.retryLane=a,Tn(e,a),Gc(n,e,a),Do;Pu(l)||id(),t=el(e,t,r)}else Pu(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,da=Tu(l.nextSibling),ca=t,ua=!0,ha=null,ma=!1,null!==e&&la(t,e),(t=Zo(t,a.children)).flags|=4096);return t}return s?(Ls(),l=a.fallback,s=t.mode,d=(c=e.child).sibling,(a=Bn(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=Bn(d,l):(l=Vn(l,s,r,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Fo(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Yo(r):(null!==(s=l.cachePool)?(c=za._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Ja(),l={baseLanes:l.baseLanes|r,cachePool:s}),a.memoizedState=l,a.childLanes=Jo(e,n,r),t.memoizedState=Go,Fo(e.child,a)):(Rs(t),e=(r=e.child).sibling,(r=Bn(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Zo(e,t){return(t=Qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Qo(e,t){return(e=zn(22,e,null,t)).lanes=0,e}function el(e,t,r){return ms(t,e.child,null,r),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Aa(e.return,t,r)}function rl(e,t,r,n,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a,i.treeForkCount=s)}function nl(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;n=n.children;var i=Fs.current,o=0!==(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,U(Fs,i),Ro(e,t,n,r),n=ua?Zn:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,r,t);else if(19===e.tag)tl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Bs(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rl(t,!1,a,r,s,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Bs(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rl(t,!0,r,null,s,n);break;case"together":rl(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function al(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Ca(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Bn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Bn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Oa(e))}function il(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!sl(e,r)&&0===(128&t.flags))return To=!1,function(e,t,r){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),Sa(0,za,e.memoizedState.cache),ya();break;case 27:case 5:J(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:Sa(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Is(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Rs(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Xo(e,t,r):(Rs(t),null!==(e=al(e,t,r))?e.sibling:null);Rs(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Ca(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return nl(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(Fs,Fs.current),n)break;return null;case 22:return t.lanes=0,zo(e,t,r,t.pendingProps);case 24:Sa(0,za,e.memoizedState.cache)}return al(e,t,r)}(e,t,r);To=0!==(131072&e.flags)}else To=!1,ua&&0!==(1048576&t.flags)&&sa(t,Zn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ns(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===j){t.tag=11,t=Io(null,t,e,n,r);break e}if(a===S){t.tag=14,t=Mo(null,t,e,n,r);break e}}throw t=D(e)||e,Error(i(306,t,""))}Fn(e)?(n=No(e,n),t.tag=1,t=Ko(null,t,e,n,r)):(t.tag=0,t=Wo(null,t,e,n,r))}return t;case 0:return Wo(e,t,t.type,t.pendingProps,r);case 1:return Ko(e,t,n=t.type,a=No(n,t.pendingProps),r);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));n=t.pendingProps;var s=t.memoizedState;a=s.element,vs(e,t),_s(t,n,null,r);var o=t.memoizedState;if(n=o.cache,Sa(0,za,n),n!==s.cache&&Ea(t,[za],r,!0),Ns(),n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=$o(e,t,n,r);break e}if(n!==a){wa(a=Gn(Error(i(424)),t)),t=$o(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(da=Tu(e.firstChild),ca=t,ua=!0,ha=null,ma=!0,r=fs(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ya(),n===a){t=al(e,t,r);break e}Ro(e,t,n,r)}t=t.child}return t;case 26:return Vo(e,t),null===e?(r=Hu(t.type,null,t.pendingProps,null))?t.memoizedState=r:ua||(r=t.type,e=t.pendingProps,(n=gu(K.current).createElement(r))[Ue]=t,n[qe]=e,hu(n,r,e),et(n),t.stateNode=n):t.memoizedState=Hu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&ua&&(n=t.stateNode=Lu(t.type,t.pendingProps,K.current),ca=t,ma=!0,a=da,ku(t.type)?(Ru=a,da=Tu(n.firstChild)):da=a),Ro(e,t,t.pendingProps.children,r),Vo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ua&&((a=n=da)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=Tu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,ma))?(t.stateNode=n,ca=t,da=Tu(n.firstChild),ma=!1,a=!0):a=!1),a||pa(t)),J(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,n=s.children,yu(a,s)?n=null:null!==o&&yu(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=ei(e,t,ni,null,null,r),dh._currentValue=a),Vo(e,t),Ro(e,t,n,r),t.child;case 6:return null===e&&ua&&((e=r=da)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Tu(e.nextSibling)))return null}return e}(r,t.pendingProps,ma))?(t.stateNode=r,ca=t,da=null,e=!0):e=!1),e||pa(t)),null;case 13:return Xo(e,t,r);case 4:return G(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ms(t,null,n,r):Ro(e,t,n,r),t.child;case 11:return Io(e,t,t.type,t.pendingProps,r);case 7:return Ro(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ro(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Sa(0,t.type,n.value),Ro(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Pa(t),n=n(a=Da(a)),t.flags|=1,Ro(e,t,n,r),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,r);case 15:return Lo(e,t,t.type,t.pendingProps,r);case 19:return nl(e,t,r);case 31:return function(e,t,r){var n=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ua){if("hidden"===n.mode)return e=Uo(t,n),t.lanes=536870912,Fo(null,e);if(Is(t),(e=da)?null!==(e=null!==(e=Ou(e,ma))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},(r=Hn(e)).return=t,t.child=r,ca=t,da=null):e=null,null===e)throw pa(t);return t.lanes=536870912,null}return Uo(t,n)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Is(t),a)if(256&t.flags)t.flags&=-257,t=qo(e,t,r);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(To||Ca(e,t,r,!1),a=0!==(r&e.childLanes),To||a){if(null!==(n=fc)&&0!==(o=Ie(n,r))&&o!==s.retryLane)throw s.retryLane=o,Tn(e,o),Gc(n,e,o),Do;id(),t=qo(e,t,r)}else e=s.treeContext,da=Tu(o.nextSibling),ca=t,ua=!0,ha=null,ma=!1,null!==e&&la(t,e),(t=Uo(t,n)).flags|=4096;return t}return(e=Bn(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return zo(e,t,r,t.pendingProps);case 24:return Pa(t),n=Da(za),null===e?(null===(a=Ga())&&(a=fc,s=Fa(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=r),a=s),t.memoizedState={parent:n,cache:a},gs(t),Sa(0,za,a)):(0!==(e.lanes&r)&&(vs(e,t),_s(t,null,null,r),Ns()),a=e.memoizedState,s=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Sa(0,za,n)):(n=s.cache,Sa(0,za,n),n!==a.cache&&Ea(t,[za],r,!0))),Ro(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,r,n,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!nd())throw as=es,Za;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!nd())throw as=es,Za;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,Ec|=t)}function ul(e,t){if(!ua)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ml(e,t,r){var n=t.pendingProps;switch(oa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ka(za),Y(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(xa(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ba())),hl(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(ol(t),null!==s?(hl(t),cl(t,s)):(hl(t),ll(t,a,0,0,r))):s?s!==e.memoizedState?(ol(t),hl(t),cl(t,s)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&ol(t),hl(t),ll(t,a,0,0,r)),null;case 27:if(X(t),r=K.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return hl(t),null}e=W.current,xa(t)?ga(t):(e=Lu(a,n,r),t.stateNode=e,ol(t))}return hl(t),null;case 5:if(X(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return hl(t),null}if(s=W.current,xa(t))ga(t);else{var o=gu(K.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof n.is?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?s.multiple=!0:n.size&&(s.size=n.size);break;default:s="string"===typeof n.is?o.createElement(a,{is:n.is}):o.createElement(a)}}s[Ue]=t,s[qe]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(hu(s,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ol(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=K.current,xa(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=ca))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||cu(e.nodeValue,r)))||pa(t,!0)}else(e=gu(e).createTextNode(n))[Ue]=t,t.stateNode=e}return hl(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(n=xa(t),null!==r){if(null===e){if(!n)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Ue]=t}else ya(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else r=ba(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(zs(t),t):(zs(t),null);if(0!==(128&t.flags))throw Error(i(558))}return hl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=xa(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Ue]=t}else ya(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),a=!1}else a=ba(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(zs(t),t):(zs(t),null)}return zs(t),0!==(128&t.flags)?(t.lanes=r,t):(r=null!==n,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool),s=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),dl(t,t.updateQueue),hl(t),null);case 4:return Y(),null===e&&Qd(t.stateNode.containerInfo),hl(t),null;case 10:return ka(t.type),hl(t),null;case 19:if(B(Fs),null===(n=t.memoizedState))return hl(t),null;if(a=0!==(128&t.flags),null===(s=n.rendering))if(a)ul(n,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Bs(e))){for(t.flags|=128,ul(n,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Un(r,e),r=r.sibling;return U(Fs,1&Fs.current|2),ua&&aa(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&le()>Rc&&(t.flags|=128,a=!0,ul(n,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Bs(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),ul(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate&&!ua)return hl(t),null}else 2*le()-n.renderingStartTime>Rc&&536870912!==r&&(t.flags|=128,a=!0,ul(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=n.last)?e.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=le(),e.sibling=null,r=Fs.current,U(Fs,a?1&r|2:1&r),ua&&aa(t,n.treeForkCount),e):(hl(t),null);case 22:case 23:return zs(t),Ps(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(r=t.updateQueue)&&dl(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&B($a),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ka(za),hl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function fl(e,t){switch(oa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ka(za),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(zs(t),null===t.alternate)throw Error(i(340));ya()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ya()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Fs),null;case 4:return Y(),null;case 10:return ka(t.type),null;case 22:case 23:return zs(t),Ps(),null!==e&&B($a),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ka(za),null;default:return null}}function pl(e,t){switch(oa(t),t.tag){case 3:ka(za),Y();break;case 26:case 27:case 5:X(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&zs(t);break;case 13:zs(t);break;case 19:B(Fs);break;case 10:ka(t.type);break;case 22:case 23:zs(t),Ps(),null!==e&&B($a);break;case 24:ka(za)}}function gl(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var s=r.create,i=r.inst;n=s(),i.destroy=n}r=r.next}while(r!==a)}}catch(o){Nd(t,t.return,o)}}function vl(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var s=a.next;n=s;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=r,c=o;try{c()}catch(d){Nd(a,l,d)}}}n=n.next}while(n!==s)}}catch(d){Nd(t,t.return,d)}}function xl(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{ks(t,r)}catch(n){Nd(e,e.return,n)}}}function yl(e,t,r){r.props=No(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Nd(e,t,n)}}function bl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){Nd(e,t,a)}}function wl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){Nd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(s){Nd(e,t,s)}else r.current=null}function jl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){Nd(e,e.return,a)}}function Nl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,d=null,u=null;for(f in r){var h=r[f];if(r.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(f)||du(e,t,f,null,n,h)}}for(var m in n){var f=n[m];if(h=r[m],n.hasOwnProperty(m)&&(null!=f||null!=h))switch(m){case"type":s=f;break;case"name":a=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==h&&du(e,t,m,f,n,h)}}return void xt(e,o,l,c,d,u,s,a);case"select":for(s in f=o=l=m=null,r)if(c=r[s],r.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:n.hasOwnProperty(s)||du(e,t,s,null,n,c)}for(a in n)if(s=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&du(e,t,a,s,n,c)}return t=l,r=o,n=f,void(null!=m?wt(e,!!r,m,!1):!!n!==!!r&&(null!=t?wt(e,!!r,t,!0):wt(e,!!r,r?[]:"",!1)));case"textarea":for(l in f=m=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:du(e,t,l,null,n,a)}for(o in n)if(a=n[o],s=r[o],n.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":m=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&du(e,t,o,a,n,s)}return void jt(e,m,f);case"option":for(var p in r)if(m=r[p],r.hasOwnProperty(p)&&null!=m&&!n.hasOwnProperty(p))if("selected"===p)e.selected=!1;else du(e,t,p,null,n,m);for(c in n)if(m=n[c],f=r[c],n.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else du(e,t,c,m,n,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)m=r[g],r.hasOwnProperty(g)&&null!=m&&!n.hasOwnProperty(g)&&du(e,t,g,null,n,m);for(d in n)if(m=n[d],f=r[d],n.hasOwnProperty(d)&&m!==f&&(null!=m||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:du(e,t,d,m,n,f)}return;default:if(Et(t)){for(var v in r)m=r[v],r.hasOwnProperty(v)&&void 0!==m&&!n.hasOwnProperty(v)&&uu(e,t,v,void 0,n,m);for(u in n)m=n[u],f=r[u],!n.hasOwnProperty(u)||m===f||void 0===m&&void 0===f||uu(e,t,u,m,n,f);return}}for(var x in r)m=r[x],r.hasOwnProperty(x)&&null!=m&&!n.hasOwnProperty(x)&&du(e,t,x,null,n,m);for(h in n)m=n[h],f=r[h],!n.hasOwnProperty(h)||m===f||null==m&&null==f||du(e,t,h,m,n,f)}(n,e.type,r,t),n[qe]=t}catch(a){Nd(e,e.return,a)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ku(e.type)||4===e.tag}function Sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ku(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function kl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Dt));else if(4!==n&&(27===n&&ku(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(kl(e,t,r),e=e.sibling;null!==e;)kl(e,t,r),e=e.sibling}function Al(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&ku(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(Al(e,t,r),e=e.sibling;null!==e;)Al(e,t,r),e=e.sibling}function El(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);hu(t,n,r),t[Ue]=e,t[qe]=r}catch(s){Nd(e,e.return,s)}}var Cl=!1,Ol=!1,Pl=!1,Dl="function"===typeof WeakSet?WeakSet:Set,Tl=null;function Rl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Gl(e,r),4&n&&gl(5,r);break;case 1:if(Gl(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){Nd(r,r.return,i)}else{var a=No(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Nd(r,r.return,o)}}64&n&&xl(r),512&n&&bl(r,r.return);break;case 3:if(Gl(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{ks(e,t)}catch(i){Nd(r,r.return,i)}}break;case 27:null===t&&4&n&&El(r);case 26:case 5:Gl(e,r),null===t&&4&n&&jl(r),512&n&&bl(r,r.return);break;case 12:Gl(e,r);break;case 31:Gl(e,r),4&n&&Bl(e,r);break;case 13:Gl(e,r),4&n&&Ul(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=Ad.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||Cl)){t=null!==t&&null!==t.memoizedState||Ol,a=Cl;var s=Ol;Cl=n,(Ol=t)&&!s?Jl(e,r,0!==(8772&r.subtreeFlags)):Gl(e,r),Cl=a,Ol=s}break;case 30:break;default:Gl(e,r)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Ll=!1;function zl(e,t,r){for(r=r.child;null!==r;)Fl(e,t,r),r=r.sibling}function Fl(e,t,r){if(xe&&"function"===typeof xe.onCommitFiberUnmount)try{xe.onCommitFiberUnmount(ve,r)}catch(s){}switch(r.tag){case 26:Ol||wl(r,t),zl(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Ol||wl(r,t);var n=Ml,a=Ll;ku(r.type)&&(Ml=r.stateNode,Ll=!1),zl(e,t,r),zu(r.stateNode),Ml=n,Ll=a;break;case 5:Ol||wl(r,t);case 6:if(n=Ml,a=Ll,Ml=null,zl(e,t,r),Ll=a,null!==(Ml=n))if(Ll)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(r.stateNode)}catch(i){Nd(r,t,i)}else try{Ml.removeChild(r.stateNode)}catch(i){Nd(r,t,i)}break;case 18:null!==Ml&&(Ll?(Au(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Wh(e)):Au(Ml,r.stateNode));break;case 4:n=Ml,a=Ll,Ml=r.stateNode.containerInfo,Ll=!0,zl(e,t,r),Ml=n,Ll=a;break;case 0:case 11:case 14:case 15:vl(2,r,t),Ol||vl(4,r,t),zl(e,t,r);break;case 1:Ol||(wl(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&yl(r,t,n)),zl(e,t,r);break;case 21:zl(e,t,r);break;case 22:Ol=(n=Ol)||null!==r.memoizedState,zl(e,t,r),Ol=n;break;default:zl(e,t,r)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(r){Nd(t,t.return,r)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(r){Nd(t,t.return,r)}}function ql(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Dl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Dl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var n=Ed.bind(null,e,t);t.then(n,n)}})}function Vl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(ku(l.type)){Ml=l.stateNode,Ll=!1;break e}break;case 5:Ml=l.stateNode,Ll=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Ml)throw Error(i(160));Fl(s,o,a),Ml=null,Ll=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var Wl=null;function Hl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vl(t,e),Kl(e),4&n&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Vl(t,e),Kl(e),512&n&&(Ol||null===r||wl(r,r.return)),64&n&&Cl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Wl;if(Vl(t,e),Kl(e),512&n&&(Ol||null===r||wl(r,r.return)),4&n){var s=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Ge]||s[Ue]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(n),a.head.insertBefore(s,a.querySelector("head > title"))),hu(s,n,r),s[Ue]=e,et(s),n=s;break e;case"link":var o=rh("link","href",a).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}hu(s=a.createElement(n),n,r),a.head.appendChild(s);break;case"meta":if(o=rh("meta","content",a).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}hu(s=a.createElement(n),n,r),a.head.appendChild(s);break;default:throw Error(i(468,n))}s[Ue]=e,et(s),n=s}e.stateNode=n}else nh(a,e.type,e.stateNode);else e.stateNode=Xu(a,n,e.memoizedProps);else s!==n?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===n?nh(a,e.type,e.stateNode):Xu(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&Nl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Vl(t,e),Kl(e),512&n&&(Ol||null===r||wl(r,r.return)),null!==r&&4&n&&Nl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Vl(t,e),Kl(e),512&n&&(Ol||null===r||wl(r,r.return)),32&e.flags){a=e.stateNode;try{_t(a,"")}catch(p){Nd(e,e.return,p)}}4&n&&null!=e.stateNode&&Nl(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(Pl=!0);break;case 6:if(Vl(t,e),Kl(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){Nd(e,e.return,p)}}break;case 3:if(th=null,a=Wl,Wl=Uu(t.containerInfo),Vl(t,e),Wl=a,Kl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(p){Nd(e,e.return,p)}Pl&&(Pl=!1,$l(e));break;case 4:n=Wl,Wl=Uu(e.stateNode.containerInfo),Vl(t,e),Kl(e),Wl=n;break;case 12:default:Vl(t,e),Kl(e);break;case 31:case 19:Vl(t,e),Kl(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,ql(e,n)));break;case 13:Vl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(Dc=le()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,ql(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=Cl,u=Ol;if(Cl=d||a,Ol=u||c,Vl(t,e),Ol=u,Cl=d,Kl(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||Cl||Ol||Yl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(p){Nd(c,c.return,p)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){Nd(c,c.return,p)}}}else if(18===t.tag){if(null===r){c=t;try{var f=c.stateNode;a?Eu(f,!0):Eu(c.stateNode,!1)}catch(p){Nd(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,ql(e,r))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(_l(n)){r=n;break}n=n.return}if(null==r)throw Error(i(160));switch(r.tag){case 27:var a=r.stateNode;Al(e,Sl(e),a);break;case 5:var s=r.stateNode;32&r.flags&&(_t(s,""),r.flags&=-33),Al(e,Sl(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;kl(e,Sl(e),o);break;default:throw Error(i(161))}}catch(l){Nd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $l(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$l(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:wl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&yl(t,t.return,r),Yl(t);break;case 27:zu(t.stateNode);case 26:case 5:wl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Jl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Jl(a,s,r),gl(4,s);break;case 1:if(Jl(a,s,r),"function"===typeof(a=(n=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Nd(n,n.return,c)}if(null!==(a=(n=s).updateQueue)){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Ss(l[a],o)}catch(c){Nd(n,n.return,c)}}r&&64&i&&xl(s),bl(s,s.return);break;case 27:El(s);case 26:case 5:Jl(a,s,r),r&&null===n&&4&i&&jl(s),bl(s,s.return);break;case 12:Jl(a,s,r);break;case 31:Jl(a,s,r),r&&4&i&&Bl(a,s);break;case 13:Jl(a,s,r),r&&4&i&&Ul(a,s);break;case 22:null===s.memoizedState&&Jl(a,s,r),bl(s,s.return);break;case 30:break;default:Jl(a,s,r)}t=t.sibling}}function Xl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Ba(r))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e))}function Ql(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,r,n),t=t.sibling}function ec(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ql(e,t,r,n),2048&a&&gl(9,t);break;case 1:case 31:case 13:default:Ql(e,t,r,n);break;case 3:Ql(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e)));break;case 12:if(2048&a){Ql(e,t,r,n),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Nd(t,t.return,l)}}else Ql(e,t,r,n);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Ql(e,t,r,n):rc(e,t):2&s._visibility?Ql(e,t,r,n):(s._visibility|=2,tc(e,t,r,n,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Xl(i,t);break;case 24:Ql(e,t,r,n),2048&a&&Zl(t.alternate,t)}}function tc(e,t,r,n,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,o=r,l=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:tc(s,i,o,l,a),gl(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?tc(s,i,o,l,a):rc(s,i):(d._visibility|=2,tc(s,i,o,l,a)),a&&2048&c&&Xl(i.alternate,i);break;case 24:tc(s,i,o,l,a),a&&2048&c&&Zl(i.alternate,i);break;default:tc(s,i,o,l,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:rc(r,n),2048&a&&Xl(n.alternate,n);break;case 24:rc(r,n),2048&a&&Zl(n.alternate,n);break;default:rc(r,n)}t=t.sibling}}var nc=8192;function ac(e,t,r){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)sc(e,t,r),e=e.sibling}function sc(e,t,r){switch(e.tag){case 26:ac(e,t,r),e.flags&nc&&null!==e.memoizedState&&function(e,t,r,n){if("stylesheet"===r.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&r.state.loading)){if(null===r.instance){var a=Ku(n.href),s=t.querySelector($u(a));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ih.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=s,void et(s);s=t.ownerDocument||t,n=Gu(n),(a=Fu.get(a))&&Qu(n,a),et(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),hu(s,"link",n),r.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&0===(3&r.state.loading)&&(e.count++,r=ih.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,r);break;case 3:case 4:var n=Wl;Wl=Uu(e.stateNode.containerInfo),ac(e,t,r),Wl=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=nc,nc=16777216,ac(e,t,r),nc=n):ac(e,t,r))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Tl=n,dc(n,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Tl=n,dc(n,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Tl;){var r=Tl;switch(r.tag){case 0:case 11:case 15:vl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ba(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Tl=n;else e:for(r=e;null!==Tl;){var a=(n=Tl).sibling,s=n.return;if(Il(n),n===r){Tl=null;break e}if(null!==a){a.return=s,Tl=a;break e}Tl=s}}}var uc={getCacheForType:function(e){var t=Da(za),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Da(za).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,mc=0,fc=null,pc=null,gc=0,vc=0,xc=null,yc=!1,bc=!1,wc=!1,jc=0,Nc=0,_c=0,Sc=0,kc=0,Ac=0,Ec=0,Cc=null,Oc=null,Pc=!1,Dc=0,Tc=0,Rc=1/0,Ic=null,Mc=null,Lc=0,zc=null,Fc=null,Bc=0,Uc=0,qc=null,Vc=null,Wc=0,Hc=null;function Kc(){return 0!==(2&mc)&&0!==gc?gc&-gc:null!==R.T?qd():ze()}function $c(){if(0===Ac)if(0===(536870912&gc)||ua){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Ac=e}else Ac=536870912;return null!==(e=Ds.current)&&(e.flags|=32),Ac}function Gc(e,t,r){(e!==fc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(td(e,0),Zc(e,gc,Ac,!1)),De(e,r),0!==(2&mc)&&e===fc||(e===fc&&(0===(2&mc)&&(Sc|=r),4===Nc&&Zc(e,gc,Ac,!1)),Id(e))}function Yc(e,t,r){if(0!==(6&mc))throw Error(i(327));for(var n=!r&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),a=n?function(e,t){var r=mc;mc|=2;var n=ad(),a=sd();fc!==e||gc!==t?(Ic=null,Rc=le()+500,td(e,t)):bc=Ee(e,t);e:for(;;)try{if(0!==vc&&null!==pc){t=pc;var s=xc;t:switch(vc){case 1:vc=0,xc=null,hd(e,t,s,1);break;case 2:case 9:if(ts(s)){vc=0,xc=null,ud(t);break}t=function(){2!==vc&&9!==vc||fc!==e||(vc=7),Id(e)},s.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ts(s)?(vc=0,xc=null,ud(t)):(vc=0,xc=null,hd(e,t,s,7));break;case 5:var o=null;switch(pc.tag){case 26:o=pc.memoizedState;case 5:case 27:var l=pc;if(o?ah(o):l.stateNode.complete){vc=0,xc=null;var c=l.sibling;if(null!==c)pc=c;else{var d=l.return;null!==d?(pc=d,md(d)):pc=null}break t}}vc=0,xc=null,hd(e,t,s,5);break;case 6:vc=0,xc=null,hd(e,t,s,6);break;case 8:ed(),Nc=6;break e;default:throw Error(i(462))}}cd();break}catch(u){rd(e,u)}return _a=Na=null,R.H=n,R.A=a,mc=r,null!==pc?0:(fc=null,gc=0,On(),Nc)}(e,t):od(e,t,!0),s=n;;){if(0===a){bc&&!n&&Zc(e,t,0,!1);break}if(r=e.current.alternate,!s||Xc(r)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=Cc;var c=l.current.memoizedState.isDehydrated;if(c&&(td(l,o).flags|=256),2!==(o=od(l,o,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=s,Sc|=s,a=4;break e}s=Oc,Oc=a,null!==s&&(null===Oc?Oc=s:Oc.push.apply(Oc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){td(e,0),Zc(e,t,0,!0);break}e:{switch(n=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Zc(n,t,Ac,!yc);break e;case 2:Oc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Dc+300-le())){if(Zc(n,t,Ac,!yc),0!==Ae(n,0,!0))break e;Bc=t,n.timeoutHandle=wu(Jc.bind(null,n,r,Oc,Ic,Pc,t,Ac,Sc,Ec,yc,s,"Throttled",-0,0),a)}else Jc(n,r,Oc,Ic,Pc,t,Ac,Sc,Ec,yc,s,null,-0,0)}break}a=od(e,t,!1),s=!1}Id(e)}function Jc(e,t,r,n,a,s,i,o,l,c,d,u,h,m){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){sc(t,s,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt});var f=(62914560&s)===s?Dc-le():(4194048&s)===s?Tc-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],s=a.transferSize,i=a.initiatorType,o=a.duration;if(s&&o&&mu(i)){for(i=0,o=a.responseEnd,n+=1;n<r.length;n++){var l=r[n],c=l.startTime;if(c>o)break;var d=l.transferSize,u=l.initiatorType;d&&mu(u)&&(i+=d*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--n,t+=8*(s+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}(u,f)))return Bc=s,e.cancelPendingCommit=f(pd.bind(null,e,t,s,r,n,a,i,o,l,d,u,null,h,m)),void Zc(e,s,i,!c)}pd(e,t,s,r,n,a,i,o,l)}function Xc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Xr(s(),a))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,r,n){t&=~kc,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var s=31-be(a),i=1<<s;n[s]=-1,a&=~i}0!==r&&Te(e,r,t)}function Qc(){return 0!==(6&mc)||(Md(0,!1),!1)}function ed(){if(null!==pc){if(0===vc)var e=pc.return;else _a=Na=null,ii(e=pc),os=null,ls=0,e=pc;for(;null!==e;)pl(e.alternate,e),e=e.return;pc=null}}function td(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,ju(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Bc=0,ed(),fc=e,pc=r=Bn(e.current,null),gc=t,vc=0,xc=null,yc=!1,bc=Ee(e,t),wc=!1,Ec=Ac=kc=Sc=_c=Nc=0,Oc=Cc=null,Pc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-be(n),s=1<<a;t|=e[a],n&=~s}return jc=t,On(),r}function rd(e,t){qs=null,R.H=po,t===Xa||t===Qa?(t=ss(),vc=3):t===Za?(t=ss(),vc=4):vc=t===Do?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,xc=t,null===pc&&(Nc=1,Ao(e,Gn(t,e.current)))}function nd(){var e=Ds.current;return null===e||((4194048&gc)===gc?null===Ts:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ts)}function ad(){var e=R.H;return R.H=po,null===e?po:e}function sd(){var e=R.A;return R.A=uc,e}function id(){Nc=4,yc||(4194048&gc)!==gc&&null!==Ds.current||(bc=!0),0===(134217727&_c)&&0===(134217727&Sc)||null===fc||Zc(fc,gc,Ac,!1)}function od(e,t,r){var n=mc;mc|=2;var a=ad(),s=sd();fc===e&&gc===t||(Ic=null,td(e,t)),t=!1;var i=Nc;e:for(;;)try{if(0!==vc&&null!==pc){var o=pc,l=xc;switch(vc){case 8:ed(),i=6;break e;case 3:case 2:case 9:case 6:null===Ds.current&&(t=!0);var c=vc;if(vc=0,xc=null,hd(e,o,l,c),r&&bc){i=0;break e}break;default:c=vc,vc=0,xc=null,hd(e,o,l,c)}}ld(),i=Nc;break}catch(d){rd(e,d)}return t&&e.shellSuspendCounter++,_a=Na=null,mc=n,R.H=a,R.A=s,null===pc&&(fc=null,gc=0,On()),i}function ld(){for(;null!==pc;)dd(pc)}function cd(){for(;null!==pc&&!ie();)dd(pc)}function dd(e){var t=il(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?md(e):pc=t}function ud(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ho(r,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Ho(r,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:ii(t);default:pl(r,t),t=il(r,t=pc=Un(t,jc),jc)}e.memoizedProps=e.pendingProps,null===t?md(e):pc=t}function hd(e,t,r,n){_a=Na=null,ii(t),os=null,ls=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Ca(t,r,a,!0),null!==(r=Ds.current)){switch(r.tag){case 31:case 13:return null===Ts?id():null===r.alternate&&0===Nc&&(Nc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===es?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),_d(e,n,a)),!1;case 22:return r.flags|=65536,n===es?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),_d(e,n,a)),!1}throw Error(i(435,r.tag))}return _d(e,n,a),id(),!1}if(ua)return null!==(t=Ds.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==fa&&wa(Gn(e=Error(i(422),{cause:n}),r))):(n!==fa&&wa(Gn(t=Error(i(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=Gn(n,r),ws(e,a=Co(e.stateNode,n,a)),4!==Nc&&(Nc=2)),!1;var s=Error(i(520),{cause:n});if(s=Gn(s,r),null===Cc?Cc=[s]:Cc.push(s),4!==Nc&&(Nc=2),null===t)return!0;n=Gn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,ws(r,e=Co(r.stateNode,n,e)),!1;case 1:if(t=r.type,s=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Mc||!Mc.has(s))))return r.flags|=65536,a&=-a,r.lanes|=a,Po(a=Oo(a),e,r,n),ws(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,gc))return Nc=1,Ao(e,Gn(r,e.current)),void(pc=null)}catch(s){if(null!==a)throw pc=a,s;return Nc=1,Ao(e,Gn(r,e.current)),void(pc=null)}32768&t.flags?(ua||1===n?e=!0:bc||0!==(536870912&gc)?e=!1:(yc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=Ds.current)&&13===n.tag&&(n.flags|=16384))),fd(t,e)):md(t)}function md(e){var t=e;do{if(0!==(32768&t.flags))return void fd(t,yc);e=t.return;var r=ml(t.alternate,t,jc);if(null!==r)return void(pc=r);if(null!==(t=t.sibling))return void(pc=t);pc=t=e}while(null!==t);0===Nc&&(Nc=5)}function fd(e,t){do{var r=fl(e.alternate,e);if(null!==r)return r.flags&=32767,void(pc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(pc=e);pc=e=r}while(null!==e);Nc=6,pc=null}function pd(e,t,r,n,a,s,o,l,c){e.cancelPendingCommit=null;do{bd()}while(0!==Lc);if(0!==(6&mc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,r,n,a,s){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=i&~r;0<r;){var d=31-be(r),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];null!==m&&(m.lane&=-536870913)}r&=~u}0!==n&&Te(e,n,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,r,s|=Cn,o,l,c),e===fc&&(pc=fc=null,gc=0),Fc=t,zc=e,Bc=r,Uc=s,qc=a,Vc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return wd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null,a=I.p,I.p=2,o=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,fu=yh,nn(e=rn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===s&&++u===n&&(c=o),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pu={focusedElem:e,selectionRange:r},yh=!1,Tl=t;null!==Tl;)if(e=(t=Tl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Tl=e;else for(;null!==Tl;){switch(s=(t=Tl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(a=e[r]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,r=t,a=s.memoizedProps,s=s.memoizedState,n=r.stateNode;try{var p=No(r.type,a);e=n.getSnapshotBeforeUpdate(p,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){Nd(r,r.return,v)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))Cu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Tl=e;break}Tl=t.return}}(e,t)}finally{mc=o,I.p=a,R.T=n}}Lc=1,gd(),vd(),xd()}}function gd(){if(1===Lc){Lc=0;var e=zc,t=Fc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null;var n=I.p;I.p=2;var a=mc;mc|=4;try{Hl(t,e);var s=pu,i=rn(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&tn(o.ownerDocument.documentElement,o)){if(null!==l&&nn(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var m=h.getSelection(),f=o.textContent.length,p=Math.min(l.start,f),g=void 0===l.end?p:Math.min(l.end,f);!m.extend&&p>g&&(i=g,g=p,p=i);var v=en(o,p),x=en(o,g);if(v&&x&&(1!==m.rangeCount||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==x.node||m.focusOffset!==x.offset)){var y=u.createRange();y.setStart(v.node,v.offset),m.removeAllRanges(),p>g?(m.addRange(y),m.extend(x.node,x.offset)):(y.setEnd(x.node,x.offset),m.addRange(y))}}}}for(u=[],m=o;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var b=u[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}yh=!!fu,pu=fu=null}finally{mc=a,I.p=n,R.T=r}}e.current=t,Lc=2}}function vd(){if(2===Lc){Lc=0;var e=zc,t=Fc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=R.T,R.T=null;var n=I.p;I.p=2;var a=mc;mc|=4;try{Rl(e,t.alternate,t)}finally{mc=a,I.p=n,R.T=r}}Lc=3}}function xd(){if(4===Lc||3===Lc){Lc=0,oe();var e=zc,t=Fc,r=Bc,n=Vc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lc=5:(Lc=0,Fc=zc=null,yd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Mc=null),Le(r),t=t.stateNode,xe&&"function"===typeof xe.onCommitFiberRoot)try{xe.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=R.T,a=I.p,I.p=2,R.T=null;try{for(var s=e.onRecoverableError,i=0;i<n.length;i++){var o=n[i];s(o.value,{componentStack:o.stack})}}finally{R.T=t,I.p=a}}0!==(3&Bc)&&bd(),Id(e),a=e.pendingLanes,0!==(261930&r)&&0!==(42&a)?e===Hc?Wc++:(Wc=0,Hc=e):Wc=0,Md(0,!1)}}function yd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ba(t)))}function bd(){return gd(),vd(),xd(),wd()}function wd(){if(5!==Lc)return!1;var e=zc,t=Uc;Uc=0;var r=Le(Bc),n=R.T,a=I.p;try{I.p=32>r?32:r,R.T=null,r=qc,qc=null;var s=zc,o=Bc;if(Lc=0,Fc=zc=null,Bc=0,0!==(6&mc))throw Error(i(331));var l=mc;if(mc|=4,lc(s.current),ec(s,s.current,o,r),mc=l,Md(0,!1),xe&&"function"===typeof xe.onPostCommitFiberRoot)try{xe.onPostCommitFiberRoot(ve,s)}catch(c){}return!0}finally{I.p=a,R.T=n,yd(e,t)}}function jd(e,t,r){t=Gn(r,t),null!==(e=ys(e,t=Co(e.stateNode,t,2),2))&&(De(e,2),Id(e))}function Nd(e,t,r){if(3===e.tag)jd(e,e,r);else for(;null!==t;){if(3===t.tag){jd(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Mc||!Mc.has(n))){e=Gn(r,e),null!==(n=ys(t,r=Oo(2),2))&&(Po(r,n,t,e),De(n,2),Id(n));break}}t=t.return}}function _d(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(wc=!0,a.add(r),e=Sd.bind(null,e,t,r),t.then(e,e))}function Sd(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,fc===e&&(gc&r)===r&&(4===Nc||3===Nc&&(62914560&gc)===gc&&300>le()-Dc?0===(2&mc)&&td(e,0):kc|=r,Ec===gc&&(Ec=0)),Id(e)}function kd(e,t){0===t&&(t=Oe()),null!==(e=Tn(e,t))&&(De(e,t),Id(e))}function Ad(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),kd(e,r)}function Ed(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),kd(e,r)}var Cd=null,Od=null,Pd=!1,Dd=!1,Td=!1,Rd=0;function Id(e){e!==Od&&null===e.next&&(null===Od?Cd=Od=e:Od=Od.next=e),Dd=!0,Pd||(Pd=!0,_u(function(){0!==(6&mc)?ae(de,Ld):zd()}))}function Md(e,t){if(!Td&&Dd){Td=!0;do{for(var r=!1,n=Cd;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var s=0;else{var i=n.suspendedLanes,o=n.pingedLanes;s=(1<<31-be(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,Ud(n,s))}else s=gc,0===(3&(s=Ae(n,n===fc?s:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Ee(n,s)||(r=!0,Ud(n,s));n=n.next}}while(r);Td=!1}}function Ld(){zd()}function zd(){Dd=Pd=!1;var e=0;0!==Rd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bu&&(bu=e,!0);return bu=null,!1}()&&(e=Rd);for(var t=le(),r=null,n=Cd;null!==n;){var a=n.next,s=Fd(n,t);0===s?(n.next=null,null===r?Cd=a:r.next=a,null===a&&(Od=r)):(r=n,(0!==e||0!==(3&s))&&(Dd=!0)),n=a}0!==Lc&&5!==Lc||Md(e,!1),0!==Rd&&(Rd=0)}function Fd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-be(s),o=1<<i,l=a[i];-1===l?0!==(o&r)&&0===(o&n)||(a[i]=Ce(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(r=gc,r=Ae(e,e===(t=fc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&se(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||Ee(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&se(n),Le(r)){case 2:case 8:r=ue;break;case 32:default:r=he;break;case 268435456:r=fe}return n=Bd.bind(null,e),r=ae(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&se(n),e.callbackPriority=2,e.callbackNode=null,2}function Bd(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(bd()&&e.callbackNode!==r)return null;var n=gc;return 0===(n=Ae(e,e===fc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,n,t),Fd(e,le()),null!=e.callbackNode&&e.callbackNode===r?Bd.bind(null,e):null)}function Ud(e,t){if(bd())return null;Yc(e,t,!0)}function qd(){if(0===Rd){var e=Va;0===e&&(e=Ne,0===(261888&(Ne<<=1))&&(Ne=256)),Rd=e}return Rd}function Vd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Wd(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Hd=0;Hd<_n.length;Hd++){var Kd=_n[Hd];Sn(Kd.toLowerCase(),"on"+(Kd[0].toUpperCase()+Kd.slice(1)))}Sn(gn,"onAnimationEnd"),Sn(vn,"onAnimationIteration"),Sn(xn,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(yn,"onTransitionRun"),Sn(bn,"onTransitionStart"),Sn(wn,"onTransitionCancel"),Sn(jn,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($d));function Yd(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(d){kn(d)}a.currentTarget=null,s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(d){kn(d)}a.currentTarget=null,s=l}}}}function Jd(e,t){var r=t[We];void 0===r&&(r=t[We]=new Set);var n=e+"__bubble";r.has(n)||(eu(t,e,2,!1),r.add(n))}function Xd(e,t,r){var n=0;t&&(n|=4),eu(r,e,n,t)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[Zd]){e[Zd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Gd.has(t)||Xd(t,!1,e),Xd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zd]||(t[Zd]=!0,Xd("selectionchange",!1,t))}}function eu(e,t,r,n){switch(kh(t)){case 2:var a=bh;break;case 8:a=wh;break;default:a=jh}r=a.bind(null,t,r,e),a=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function tu(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Je(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){n=s=i;continue e}o=o.parentNode}}n=n.return}Ft(function(){var n=s,a=Rt(r),i=[];e:{var o=Nn.get(e);if(void 0!==o){var c=rr,d=e;switch(e){case"keypress":if(0===Gt(r))break e;case"keydown":case"keyup":c=vr;break;case"focusin":d="focus",c=lr;break;case"focusout":d="blur",c=lr;break;case"beforeblur":case"afterblur":c=lr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yr;break;case gn:case vn:case xn:c=cr;break;case jn:c=br;break;case"scroll":case"scrollend":c=ar;break;case"wheel":c=wr;break;case"copy":case"cut":case"paste":c=dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xr;break;case"toggle":case"beforetoggle":c=jr}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),m=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=n;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===m||null!=(g=Bt(p,m))&&u.push(ru(p,g,f)),h)break;p=p.return}0<u.length&&(o=new c(o,d,null,r,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Tt||!(d=r.relatedTarget||r.fromElement)||!Je(d)&&!d[Ve])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(d=(d=r.relatedTarget||r.toElement)?Je(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=n),c!==d)){if(u=ir,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xr,g="onPointerLeave",m="onPointerEnter",p="pointer"),h=null==c?o:Ze(c),f=null==d?o:Ze(d),(o=new u(g,p+"leave",c,r,a)).target=h,o.relatedTarget=f,g=null,Je(a)===n&&((u=new u(m,p+"enter",d,r,a)).target=f,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(u=au,p=d,f=0,g=m=c;g;g=u(g))f++;g=0;for(var v=p;v;v=u(v))g++;for(;0<f-g;)m=u(m),f--;for(;0<g-f;)p=u(p),g--;for(;f--;){if(m===p||null!==p&&m===p.alternate){u=m;break e}m=u(m),p=u(p)}u=null}else u=null;null!==c&&su(i,o,c,u,!1),null!==d&&null!==h&&su(i,h,d,u,!0)}if("select"===(c=(o=n?Ze(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var x=Br;else if(Rr(o))if(Ur)x=Jr;else{x=Gr;var y=$r}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&Et(n.elementType)&&(x=Br):x=Yr;switch(x&&(x=x(e,n))?Ir(i,x,r,a):(y&&y(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&bt(o,"number",o.value)),y=n?Ze(n):window,e){case"focusin":(Rr(y)||"true"===y.contentEditable)&&(sn=y,on=n,ln=null);break;case"focusout":ln=on=sn=null;break;case"mousedown":cn=!0;break;case"contextmenu":case"mouseup":case"dragend":cn=!1,dn(i,r,a);break;case"selectionchange":if(an)break;case"keydown":case"keyup":dn(i,r,a)}var b;if(_r)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Dr?Or(e,r)&&(w="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(w="onCompositionStart");w&&(Ar&&"ko"!==r.locale&&(Dr||"onCompositionStart"!==w?"onCompositionEnd"===w&&Dr&&(b=$t()):(Ht="value"in(Wt=a)?Wt.value:Wt.textContent,Dr=!0)),0<(y=nu(n,w)).length&&(w=new ur(w,e,null,r,a),i.push({event:w,listeners:y}),b?w.data=b:null!==(b=Pr(r))&&(w.data=b))),(b=kr?function(e,t){switch(e){case"compositionend":return Pr(t);case"keypress":return 32!==t.which?null:(Cr=!0,Er);case"textInput":return(e=t.data)===Er&&Cr?null:e;default:return null}}(e,r):function(e,t){if(Dr)return"compositionend"===e||!_r&&Or(e,t)?(e=$t(),Kt=Ht=Wt=null,Dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ar&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(w=nu(n,"onBeforeInput")).length&&(y=new ur("onBeforeInput","beforeinput",null,r,a),i.push({event:y,listeners:w}),y.data=b)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var s=Vd((a[qe]||null).action),i=n.submitter;i&&null!==(t=(t=i[qe]||null)?Vd(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new rr("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Rd){var e=i?Wd(a,i):new FormData(a);eo(r,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Wd(a,i):new FormData(a),eo(r,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,n,r,a)}Yd(i,t)})}function ru(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nu(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Bt(e,r))&&n.unshift(ru(e,a,s)),null!=(a=Bt(e,t))&&n.push(ru(e,a,s))),3===e.tag)return n;e=e.return}return[]}function au(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function su(e,t,r,n,a){for(var s=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Bt(r,s))&&i.unshift(ru(r,c,l)):a||null!=(c=Bt(r,s))&&i.push(ru(r,c,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var iu=/\r\n?/g,ou=/\u0000|\uFFFD/g;function lu(e){return("string"===typeof e?e:""+e).replace(iu,"\n").replace(ou,"")}function cu(e,t){return t=lu(t),lu(e)===t}function du(e,t,r,n,a,s){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||_t(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&_t(e,""+n);break;case"className":ct(e,"class",n);break;case"tabIndex":ct(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,r,n);break;case"style":At(e,n,s);break;case"data":if("object"!==t){ct(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Pt(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===r?("input"!==t&&du(e,t,"name",a.name,a,null),du(e,t,"formEncType",a.formEncType,a,null),du(e,t,"formMethod",a.formMethod,a,null),du(e,t,"formTarget",a.formTarget,a,null)):(du(e,t,"encType",a.encType,a,null),du(e,t,"method",a.method,a,null),du(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Pt(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Dt);break;case"onScroll":null!=n&&Jd("scroll",e);break;case"onScrollEnd":null!=n&&Jd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Pt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Jd("beforetoggle",e),Jd("toggle",e),lt(e,"popover",n);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":lt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&lt(e,r=Ct.get(r)||r,n)}}function uu(e,t,r,n,a,s){switch(r){case"style":At(e,n,s);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=r}}break;case"children":"string"===typeof n?_t(e,n):("number"===typeof n||"bigint"===typeof n)&&_t(e,""+n);break;case"onScroll":null!=n&&Jd("scroll",e);break;case"onScrollEnd":null!=n&&Jd("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(s=null!=(s=e[qe]||null)?s[r]:null)&&e.removeEventListener(t,s,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):lt(e,r,n):("function"!==typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function hu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jd("error",e),Jd("load",e);var n,a=!1,s=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,n,o,r,null)}}return s&&du(e,t,"srcSet",r.srcSet,r,null),void(a&&du(e,t,"src",r.src,r,null));case"input":Jd("invalid",e);var l=n=o=s=null,c=null,d=null;for(a in r)if(r.hasOwnProperty(a)){var u=r[a];if(null!=u)switch(a){case"name":s=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:du(e,t,a,u,r,null)}}return void yt(e,n,l,c,d,o,s,!1);case"select":for(s in Jd("invalid",e),a=o=n=null,r)if(r.hasOwnProperty(s)&&null!=(l=r[s]))switch(s){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:du(e,t,s,l,r,null)}return t=n,r=o,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=r&&wt(e,!!a,r,!0));case"textarea":for(o in Jd("invalid",e),n=s=a=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:du(e,t,o,l,r,null)}return void Nt(e,a,s,n);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else du(e,t,c,a,r,null);return;case"dialog":Jd("beforetoggle",e),Jd("toggle",e),Jd("cancel",e),Jd("close",e);break;case"iframe":case"object":Jd("load",e);break;case"video":case"audio":for(a=0;a<$d.length;a++)Jd($d[a],e);break;case"image":Jd("error",e),Jd("load",e);break;case"details":Jd("toggle",e);break;case"embed":case"source":case"link":Jd("error",e),Jd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(a=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,d,a,r,null)}return;default:if(Et(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(a=r[u])&&uu(e,t,u,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&du(e,t,l,a,r,null))}function mu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fu=null,pu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bu=null;var wu="function"===typeof setTimeout?setTimeout:void 0,ju="function"===typeof clearTimeout?clearTimeout:void 0,Nu="function"===typeof Promise?Promise:void 0,_u="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Nu?function(e){return Nu.resolve(null).then(e).catch(Su)}:wu;function Su(e){setTimeout(function(){throw e})}function ku(e){return"head"===e}function Au(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)||"/&"===r){if(0===n)return e.removeChild(a),void Wh(t);n--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)n++;else if("html"===r)zu(e.ownerDocument.documentElement);else if("head"===r){zu(r=e.ownerDocument.head);for(var s=r.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[Ge]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||r.removeChild(s),s=i}}else"body"===r&&zu(e.ownerDocument.body);r=a}while(r);Wh(t)}function Eu(e,t){var r=e;e=0;do{var n=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=n}while(r)}function Cu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cu(r),Ye(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Ou(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Tu(e.nextSibling)))return null}return e}function Pu(e){return"$?"===e.data||"$~"===e.data}function Du(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Tu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ru=null;function Iu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Tu(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Lu(e,t,r){switch(t=gu(r),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function zu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Fu=new Map,Bu=new Set;function Uu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qu=I.d;I.d={f:function(){var e=qu.f(),t=Qc();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qu.r(e)},D:function(e){qu.D(e),Wu("dns-prefetch",e,null)},C:function(e,t){qu.C(e,t),Wu("preconnect",e,t)},L:function(e,t,r){qu.L(e,t,r);var n=Vu;if(n&&e&&t){var a='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+vt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+vt(r.imageSizes)+'"]')):a+='[href="'+vt(e)+'"]';var s=a;switch(t){case"style":s=Ku(e);break;case"script":s=Yu(e)}Fu.has(s)||(e=m({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Fu.set(s,e),null!==n.querySelector(a)||"style"===t&&n.querySelector($u(s))||"script"===t&&n.querySelector(Ju(s))||(hu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){qu.m(e,t);var r=Vu;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+vt(n)+'"][href="'+vt(e)+'"]',s=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yu(e)}if(!Fu.has(s)&&(e=m({rel:"modulepreload",href:e},t),Fu.set(s,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ju(s)))return}hu(n=r.createElement("link"),"link",e),et(n),r.head.appendChild(n)}}},X:function(e,t){qu.X(e,t);var r=Vu;if(r&&e){var n=Qe(r).hoistableScripts,a=Yu(e),s=n.get(a);s||((s=r.querySelector(Ju(a)))||(e=m({src:e,async:!0},t),(t=Fu.get(a))&&eh(e,t),et(s=r.createElement("script")),hu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(a,s))}},S:function(e,t,r){qu.S(e,t,r);var n=Vu;if(n&&e){var a=Qe(n).hoistableStyles,s=Ku(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=n.querySelector($u(s)))o.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Fu.get(s))&&Qu(e,r);var l=i=n.createElement("link");et(l),hu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zu(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){qu.M(e,t);var r=Vu;if(r&&e){var n=Qe(r).hoistableScripts,a=Yu(e),s=n.get(a);s||((s=r.querySelector(Ju(a)))||(e=m({src:e,async:!0,type:"module"},t),(t=Fu.get(a))&&eh(e,t),et(s=r.createElement("script")),hu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(a,s))}}};var Vu="undefined"===typeof document?null:document;function Wu(e,t,r){var n=Vu;if(n&&"string"===typeof t&&t){var a=vt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),Bu.has(a)||(Bu.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(hu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function Hu(e,t,r,n){var a,s,o,l,c=(c=K.current)?Uu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Ku(r.href),(n=(r=Qe(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Ku(r.href);var d=Qe(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector($u(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Fu.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Fu.set(e,r),d||(a=c,s=e,o=r,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hu(s,"link",o),et(s),a.head.appendChild(s))))),t&&null===n)throw Error(i(528,""));return u}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yu(r),(n=(r=Qe(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ku(e){return'href="'+vt(e)+'"'}function $u(e){return'link[rel="stylesheet"]['+e+"]"}function Gu(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Yu(e){return'[src="'+vt(e)+'"]'}function Ju(e){return"script[async]"+e}function Xu(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+vt(r.href)+'"]');if(n)return t.instance=n,et(n),n;var a=m({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),hu(n,"style",a),Zu(n,r.precedence,e),t.instance=n;case"stylesheet":a=Ku(r.href);var s=e.querySelector($u(a));if(s)return t.state.loading|=4,t.instance=s,et(s),s;n=Gu(r),(a=Fu.get(a))&&Qu(n,a),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hu(s,"link",n),t.state.loading|=4,Zu(s,r.precedence,e),t.instance=s;case"script":return s=Yu(r.src),(a=e.querySelector(Ju(s)))?(t.instance=a,et(a),a):(n=r,(a=Fu.get(s))&&eh(n=m({},r),a),et(a=(e=e.ownerDocument||e).createElement("script")),hu(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Zu(n,r.precedence,e));return t.instance}function Zu(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,s=a,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Qu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function rh(e,t,r){if(null===th){var n=new Map,a=th=new Map;a.set(r,n)}else(n=(a=th).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var s=r[a];if(!(s[Ge]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(s):n.set(i,[s])}}return n}function nh(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ih(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var oh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,oh=new Map,t.forEach(ch,e),oh=null,ih.call(e))}function ch(e,t){if(!(4&t.state.loading)){var r=oh.get(e);if(r)var n=r.get(null);else{r=new Map,oh.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),n=i)}n&&r.set(null,n)}i=(a=t.instance).getAttribute("data-precedence"),(s=r.get(i)||n)===n&&r.set(null,a),r.set(i,a),this.count++,n=ih.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dh={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function uh(e,t,r,n,a,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,r,n,a,s,i,o,l,c,d,u){return e=new uh(e,t,r,i,l,c,d,u,o),t=1,!0===s&&(t|=24),s=zn(3,null,null,t),e.current=s,s.stateNode=e,(t=Fa()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:r,cache:t},gs(s),e}function mh(e){return e?e=Mn:Mn}function fh(e,t,r,n,a,s){a=mh(a),null===n.context?n.context=a:n.pendingContext=a,(n=xs(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(n.callback=s),null!==(r=ys(e,n,t))&&(Gc(r,0,t),bs(r,e,t))}function ph(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function gh(e,t){ph(e,t),(e=e.alternate)&&ph(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Tn(e,67108864);null!==t&&Gc(t,0,67108864),gh(e,67108864)}}function xh(e){if(13===e.tag||31===e.tag){var t=Kc(),r=Tn(e,t=Me(t));null!==r&&Gc(r,0,t),gh(e,t)}}var yh=!0;function bh(e,t,r,n){var a=R.T;R.T=null;var s=I.p;try{I.p=2,jh(e,t,r,n)}finally{I.p=s,R.T=a}}function wh(e,t,r,n){var a=R.T;R.T=null;var s=I.p;try{I.p=8,jh(e,t,r,n)}finally{I.p=s,R.T=a}}function jh(e,t,r,n){if(yh){var a=Nh(n);if(null===a)tu(e,t,n,_h,r),Ih(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Eh=Mh(Eh,e,t,r,n,a),!0;case"dragenter":return Ch=Mh(Ch,e,t,r,n,a),!0;case"mouseover":return Oh=Mh(Oh,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Ph.set(s,Mh(Ph.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Dh.set(s,Mh(Dh.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Ih(e,n),4&t&&-1<Rh.indexOf(e)){for(;null!==a;){var s=Xe(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ke(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-be(i);o.entanglements[1]|=l,i&=~l}Id(s),0===(6&mc)&&(Rc=le()+500,Md(0,!1))}}break;case 31:case 13:null!==(o=Tn(s,2))&&Gc(o,0,2),Qc(),gh(s,2)}if(null===(s=Nh(n))&&tu(e,t,n,_h,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else tu(e,t,n,null,r)}}function Nh(e){return Sh(e=Rt(e))}var _h=null;function Sh(e){if(_h=null,null!==(e=Je(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(31===r){if(null!==(e=d(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _h=e,null}function kh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case he:case me:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Ah=!1,Eh=null,Ch=null,Oh=null,Ph=new Map,Dh=new Map,Th=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":Eh=null;break;case"dragenter":case"dragleave":Ch=null;break;case"mouseover":case"mouseout":Oh=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(t.pointerId)}}function Mh(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Xe(t))&&vh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lh(e){var t=Je(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void Fe(e.priority,function(){xh(r)})}else if(31===t){if(null!==(t=d(r)))return e.blockedOn=t,void Fe(e.priority,function(){xh(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nh(e.nativeEvent);if(null!==r)return null!==(t=Xe(r))&&vh(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Tt=n,r.target.dispatchEvent(n),Tt=null,t.shift()}return!0}function Fh(e,t,r){zh(e)&&r.delete(t)}function Bh(){Ah=!1,null!==Eh&&zh(Eh)&&(Eh=null),null!==Ch&&zh(Ch)&&(Ch=null),null!==Oh&&zh(Oh)&&(Oh=null),Ph.forEach(Fh),Dh.forEach(Fh)}function Uh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ah||(Ah=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bh)))}var qh=null;function Vh(e){qh!==e&&(qh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===Sh(n||r))continue;break}var s=Xe(r);null!==s&&(e.splice(t,3),t-=3,eo(s,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Wh(e){function t(t){return Uh(t,e)}null!==Eh&&Uh(Eh,e),null!==Ch&&Uh(Ch,e),null!==Oh&&Uh(Oh,e),Ph.forEach(t),Dh.forEach(t);for(var r=0;r<Th.length;r++){var n=Th[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Th.length&&null===(r=Th[0]).blockedOn;)Lh(r),null===r.blockedOn&&Th.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],s=r[n+1],i=a[qe]||null;if("function"===typeof s)i||Vh(r);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[qe]||null)o=i.formAction;else if(null!==Sh(a))continue}else o=i.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Vh(r)}}}function Hh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Kh(e){this._internalRoot=e}function $h(e){this._internalRoot=e}$h.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));fh(t.current,Kc(),e,t,null,null)},$h.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fh(e.current,2,null,e,null,null),Qc(),t[Ve]=null}},$h.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Th.length&&0!==t&&t<Th[r].priority;r++);Th.splice(r,0,e),0===r&&Lh(e)}};var Gh=a.version;if("19.2.1"!==Gh)throw Error(i(527,Gh,"19.2.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return u(a),e;if(s===n)return u(a),t;s=s.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=s;break}if(c===n){o=!0,n=a,r=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===r){o=!0,r=s,n=a;break}if(c===n){o=!0,n=s,r=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ve=Jh.inject(Yh),xe=Jh}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var r=!1,n="",a=_o,s=So,l=ko;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,r,n,null,a,s,l,Hh),e[Ve]=t.current,Qd(e),new Kh(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(i(299));var n=!1,a="",s=_o,l=So,c=ko,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.formState&&(d=r.formState)),(t=hh(e,1,!0,t,0,n,a,d,s,l,c,Hh)).context=mh(null),r=t.current,(a=xs(n=Me(n=Kc()))).callback=null,ys(r,a,n),r=n,t.current.lanes=r,De(t,r),Id(t),e[Ve]=t.current,Qd(e),new $h(t)},t.version="19.2.1"},7043:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(s.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3799),a=r(4879);t.range=function(e,t,r){r&&"number"!==typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),r=void 0===r?e<t?1:-1:a.toFinite(r);const s=Math.max(Math.ceil((t-e)/(r||1)),0),i=new Array(s);for(let n=0;n<s;n++)i[n]=e,e+=r;return i}},7237:(e,t,r)=>{"use strict";r(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=[],n=Math.floor(t),a=(e,t)=>{for(let s=0;s<e.length;s++){const i=e[s];Array.isArray(i)&&t<n?a(i,t+1):r.push(i)}};return a(e,0),r}},7330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9323);t.property=function(e){return function(t){return n.get(t,e)}}},7337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SupabaseAuthClient=void 0;const n=r(219);class a extends n.AuthClient{constructor(e){super(e)}}t.SupabaseAuthClient=a},7374:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326).__importDefault(r(9286));class a extends n.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),s="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=a},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,r)=>{var n=r(3738).default,a=r(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,r)=>{e.exports=r(9323).get},7784:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(9379),a=r(3986),s=r(5043);const i=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],d=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:h="",children:m,iconNode:f}=e,p=(0,a.A)(e,c);return(0,s.createElement)("svg",(0,n.A)((0,n.A)((0,n.A)({ref:t},l),{},{width:i,height:i,stroke:r,strokeWidth:u?24*Number(d)/Number(i):d,className:o("lucide",h)},!m&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"}),p),[...f.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(m)?m:[m]])}),u=["className"],h=(e,t)=>{const r=(0,s.forwardRef)((r,l)=>{let{className:c}=r,h=(0,a.A)(r,u);return(0,s.createElement)(d,(0,n.A)({ref:l,iconNode:t,className:o("lucide-".concat((m=i(e),m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},h));var m});return r.displayName=i(e),r}},7820:(e,t,r)=>{e.exports=r(5414).throttle},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},7980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const n=r(6326),a=n.__importDefault(r(1210));t.PostgrestClient=a.default;const s=n.__importDefault(r(8829));t.PostgrestQueryBuilder=s.default;const i=n.__importDefault(r(5736));t.PostgrestFilterBuilder=i.default;const o=n.__importDefault(r(7374));t.PostgrestTransformBuilder=o.default;const l=n.__importDefault(r(9286));t.PostgrestBuilder=l.default;const c=n.__importDefault(r(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8210:function(e,t,r){var n;!function(){"use strict";var a,s=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,h=Math.pow,m=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,p=9007199254740991,g=u(1286742750677284.5),v={};function x(e,t){var r,n,a,s,i,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),o?E(t,h):t;if(c=e.d,d=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a){for(s<0?(n=c,s=-s,l=d.length):(n=d,a=i,l=c.length),s>(l=(i=Math.ceil(h/7))>l?i+1:l+1)&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((l=c.length)-(s=d.length)<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/f|0,c[s]%=f;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?E(t,h):t}function y(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function b(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(s+=S(r)),s+=n;(r=7-(n=(i=e[t])+"").length)&&(s+=S(r))}else if(0===i)return"0";for(;i%10===0;)i/=10;return s+i}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,r=(n=s.d.length)<(a=e.d.length)?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return N(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(o=!1,t=w(k(r,i),k(e,i),i),o=!0,E(t,s))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):x(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=w(r,e,0,1).times(e),o=!0,r.minus(t)):E(new n(r),a)},v.naturalExponential=v.exp=function(){return j(this)},v.naturalLogarithm=v.ln=function(){return k(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x(t,e):C(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},v.squareRoot=v.sqrt=function(){var e,t,r,n,a,s,i,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new d(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new d(a.toString()),a=i=(r=d.precision)+3;;)if(n=(s=n).plus(w(c,s,i+2)).times(.5),b(s.d).slice(0,i)===(t=b(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(E(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if("9999"!=t)break;i+=4}return o=!0,E(n,r)},v.times=v.mul=function(e){var t,r,n,a,s,i,l,c,d,u=this,h=u.constructor,m=u.d,p=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,(c=m.length)<(d=p.length)&&(s=m,m=p,p=s,i=c,c=d,d=i),s=[],n=i=c+d;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*m[a-n-1]+t,s[a--]=l%f|0,t=l/f|0;s[a]=(s[a]+t)%f|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,o?E(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(y(e,0,s),void 0===t?t=n.rounding:y(t,0,8),E(r,e+N(r)+1,t))},v.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=O(n,!0):(y(e,0,s),void 0===t?t=a.rounding:y(t,0,8),r=O(n=E(new a(n),e+1,t),!0,e+1)),r},v.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?O(a):(y(e,0,s),void 0===t?t=i.rounding:y(t,0,8),r=O((n=E(new i(a),e+N(a)+1,t)).abs(),!1,e+N(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return E(new t(e),N(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,r,n,s,i,c,d=this,h=d.constructor,m=+(e=new h(e));if(!e.s)return new h(a);if(!(d=new h(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(a))return d;if(n=h.precision,e.eq(a))return E(d,n);if(c=(t=e.e)>=(r=e.d.length-1),i=d.s,c){if((r=m<0?-m:m)<=p){for(s=new h(a),t=Math.ceil(n/7+4),o=!1;r%2&&P((s=s.times(d)).d,t),0!==(r=u(r/2));)P((d=d.times(d)).d,t);return o=!0,e.s<0?new h(a).div(s):E(s,n)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,o=!1,s=e.times(k(d,n+12)),o=!0,(s=j(s)).s=i,s},v.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?n=O(a,(r=N(a))<=i.toExpNeg||r>=i.toExpPos):(y(e,1,s),void 0===t?t=i.rounding:y(t,0,8),n=O(a=E(new i(a),e,t),e<=(r=N(a))||r<=i.toExpNeg,e)),n},v.toSignificantDigits=v.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(y(e,1,s),void 0===t?t=r.rounding:y(t,0,8)),E(new r(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=N(e),r=e.constructor;return O(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%f|0,n=r/f|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,s;if(r!=n)s=r>n?1:-1;else for(a=s=0;a<r;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*f+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,s,i){var o,c,d,u,h,m,p,g,v,x,y,b,w,j,_,S,k,A,C=n.constructor,O=n.s==a.s?1:-1,P=n.d,D=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,k=D.length,_=P.length,g=(p=new C(O)).d=[],d=0;D[d]==(P[d]||0);)++d;if(D[d]>(P[d]||0)&&--c,(b=null==s?s=C.precision:i?s+(N(n)-N(a))+1:s)<0)return new C(0);if(b=b/7+2|0,d=0,1==k)for(u=0,D=D[0],b++;(d<_||u)&&b--;d++)w=u*f+(P[d]||0),g[d]=w/D|0,u=w%D|0;else{for((u=f/(D[0]+1)|0)>1&&(D=e(D,u),P=e(P,u),k=D.length,_=P.length),j=k,x=(v=P.slice(0,k)).length;x<k;)v[x++]=0;(A=D.slice()).unshift(0),S=D[0],D[1]>=f/2&&++S;do{u=0,(o=t(D,v,k,x))<0?(y=v[0],k!=x&&(y=y*f+(v[1]||0)),(u=y/S|0)>1?(u>=f&&(u=f-1),1==(o=t(h=e(D,u),v,m=h.length,x=v.length))&&(u--,r(h,k<m?A:D,m))):(0==u&&(o=u=1),h=D.slice()),(m=h.length)<x&&h.unshift(0),r(v,h,x),-1==o&&(o=t(D,v,k,x=v.length))<1&&(u++,r(v,k<x?A:D,x)),x=v.length):0===o&&(u++,v=[0]),g[d++]=u,o&&v[0]?v[x++]=P[j]||0:(v=[P[j]],x=1)}while((j++<_||void 0!==v[0])&&b--)}return g[0]||g.shift(),p.e=c,E(p,i?s+N(p)+1:s)}}();function j(e,t){var r,n,s,i,l,c=0,u=0,m=e.constructor,f=m.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new m(a);for(null==t?(o=!1,l=f):l=t,i=new m(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(l+=Math.log(h(2,u))/Math.LN10*2+5|0,r=n=s=new m(a),m.precision=l;;){if(n=E(n.times(e),l),r=r.times(++c),b((i=s.plus(w(n,r,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;u--;)s=E(s.times(s),l);return m.precision=f,null==t?(o=!0,E(s,f)):s}s=i}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function _(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function k(e,t){var r,n,s,i,c,d,u,h,m,f=1,p=e,g=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(l+(p.s?"NaN":"-Infinity"));if(p.eq(a))return new v(0);if(null==t?(o=!1,h=x):h=t,p.eq(10))return null==t&&(o=!0),_(v,h);if(h+=10,v.precision=h,n=(r=b(g)).charAt(0),i=N(p),!(Math.abs(i)<15e14))return u=_(v,h+2,x).times(i+""),p=k(new v(n+"."+r.slice(1)),h-10).plus(u),v.precision=x,null==t?(o=!0,E(p,x)):p;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=b((p=p.times(e)).d)).charAt(0),f++;for(i=N(p),n>1?(p=new v("0."+r),i++):p=new v(n+"."+r.slice(1)),d=c=p=w(p.minus(a),p.plus(a),h),m=E(p.times(p),h),s=3;;){if(c=E(c.times(m),h),b((u=d.plus(w(c,new v(s),h))).d).slice(0,h)===b(d.d).slice(0,h))return d=d.times(2),0!==i&&(d=d.plus(_(v,h+2,x).times(i+""))),d=w(d,new v(f),h),v.precision=x,null==t?(o=!0,E(d,x)):d;d=u,s+=2}}function A(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=u(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(d+r)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,r){var n,a,s,i,l,c,m,p,v=e.d;for(i=1,s=v[0];s>=10;s/=10)i++;if((n=t-i)<0)n+=7,a=t,m=v[p=0];else{if((p=Math.ceil((n+1)/7))>=(s=v.length))return e;for(m=s=v[p],i=1;s>=10;s/=10)i++;a=(n%=7)-7+i}if(void 0!==r&&(l=m/(s=h(10,i-a-1))%10|0,c=t<0||void 0!==v[p+1]||m%s,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?m/h(10,i-a):0:v[p-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return c?(s=N(e),v.length=1,t=t-s-1,v[0]=h(10,(7-t%7)%7),e.e=u(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==n?(v.length=p,s=1,p--):(v.length=p+1,s=h(10,7-n),v[p]=a>0?(m/h(10,i-a)%h(10,a)|0)*s:0),c)for(;;){if(0==p){(v[0]+=s)==f&&(v[0]=1,++e.e);break}if(v[p]+=s,v[p]!=f)break;v[p--]=0,s=1}for(n=v.length;0===v[--n];)v.pop();if(o&&(e.e>g||e.e<-g))throw Error(d+N(e));return e}function C(e,t){var r,n,a,s,i,l,c,d,u,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),o?E(t,p):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),i=d-n){for((u=i<0)?(r=c,i=-i,l=h.length):(r=h,n=d,l=c.length),i>(a=Math.max(Math.ceil(p/7),l)+2)&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for((u=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}i=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>i;){if(c[--a]<h[a]){for(s=a;s&&0===c[--s];)c[s]=f-1;--c[s],c[a]+=f}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?E(t,p):t):new m(0)}function O(e,t,r){var n,a=N(e),s=b(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+S(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+S(-a-1)+s,r&&(n=r-i)>0&&(s+=S(n))):a>=i?(s+=S(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+S(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=S(n))),e.s<0?"-"+s:s}function P(e,t){if(e.length>t)return e.length=t,!0}function D(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(u(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}i=function e(t){var r,n,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!m.test(e))throw Error(c+e);A(t,e)}if(s.prototype=v,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=D,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return s.config(t),s}(i),i.default=i.Decimal=i,a=new i(1),void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},8268:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2132);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=n.useSyncExternalStore,i=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue},8387:(e,t,r)=>{"use strict";function n(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=n(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function a(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=n(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{$:()=>a})},8396:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5508);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,r)=>{"use strict";e.exports=r(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,i){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new a(n,s||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,s=n.length,i=new Array(s);a<s;a++)i[a]=n[a].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,s,i){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,a),!0;case 5:return d.fn.call(d.context,t,n,a,s),!0;case 6:return d.fn.call(d.context,t,n,a,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||i(this,s);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},8773:(e,t,r)=>{"use strict";r.d(t,{O:()=>d,A:()=>c});var n=r(9379),a=r(5043),s=r(4354);const i="/images/default-avatar.png";var o=r(579);const l=(0,a.createContext)(),c=()=>{const e=(0,a.useContext)(l);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},d=e=>{let{children:t}=e;const[r,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{const{data:{session:f}}=await s.ND.auth.getSession();if(null!==f&&void 0!==f&&f.user){var e,t,r,n,a,o,l,d,h;let u=(null===(e=f.user.user_metadata)||void 0===e?void 0:e.avatar_url)||(null===(t=f.user.user_metadata)||void 0===t?void 0:t.picture)||i,p=!1,g=!1,v=null;try{const{data:e,error:t}=await Promise.race([s.ND.from("admin_users").select("id, avatar_url, is_admin_only").eq("id",f.user.id).maybeSingle(),new Promise((e,t)=>setTimeout(()=>t(new Error("Admin check timeout")),15e3))]);e&&(p=!0,g=!0===e.is_admin_only,v=e.avatar_url)}catch(m){console.warn("Erro ao verificar status de admin:",m),p=!1}const x={id:f.user.id,email:f.user.email,name:(null===(r=f.user.user_metadata)||void 0===r?void 0:r.full_name)||(null===(n=f.user.user_metadata)||void 0===n?void 0:n.name)||"Usu\xe1rio",type:p?"admin":(null===(a=f.user.user_metadata)||void 0===a?void 0:a.user_type)||"user",cidade:(null===(o=f.user.user_metadata)||void 0===o?void 0:o.cidade)||"",estado:(null===(l=f.user.user_metadata)||void 0===l?void 0:l.estado)||"",genero:(null===(d=f.user.user_metadata)||void 0===d?void 0:d.genero)||"",estilo_musical:(null===(h=f.user.user_metadata)||void 0===h?void 0:h.estilo_musical)||"",isPremium:!1,isAdmin:p,isAdminOnly:g,avatar:v||u,user_metadata:f.user.user_metadata};c(x),localStorage.setItem("currentUser",JSON.stringify(x))}else c(null),localStorage.removeItem("currentUser");u(!1)}catch(f){console.error("Erro ao verificar sess\xe3o:",f),u(!1)}})();const{data:{subscription:e}}=s.ND.auth.onAuthStateChange(async(e,t)=>{if("SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user){var r,n,a,o,l,d,u,h,m;let e=(null===(r=t.user.user_metadata)||void 0===r?void 0:r.avatar_url)||(null===(n=t.user.user_metadata)||void 0===n?void 0:n.picture)||i,p=!1,g=!1,v=null;try{const{data:e,error:r}=await Promise.race([s.ND.from("admin_users").select("id, avatar_url, is_admin_only").eq("id",t.user.id).maybeSingle(),new Promise((e,t)=>setTimeout(()=>t(new Error("Admin check timeout")),15e3))]);e&&(p=!0,g=!0===e.is_admin_only,v=e.avatar_url)}catch(f){console.warn("Erro ao verificar status de admin:",f),p=!1}const x={id:t.user.id,email:t.user.email,name:(null===(a=t.user.user_metadata)||void 0===a?void 0:a.full_name)||(null===(o=t.user.user_metadata)||void 0===o?void 0:o.name)||"Usu\xe1rio",type:p?"admin":(null===(l=t.user.user_metadata)||void 0===l?void 0:l.user_type)||"user",cidade:(null===(d=t.user.user_metadata)||void 0===d?void 0:d.cidade)||"",estado:(null===(u=t.user.user_metadata)||void 0===u?void 0:u.estado)||"",genero:(null===(h=t.user.user_metadata)||void 0===h?void 0:h.genero)||"",estilo_musical:(null===(m=t.user.user_metadata)||void 0===m?void 0:m.estilo_musical)||"",isPremium:!1,isAdmin:p,isAdminOnly:g,avatar:v||e,user_metadata:t.user.user_metadata};c(x),localStorage.setItem("currentUser",JSON.stringify(x))}else"SIGNED_OUT"===e?(c(null),localStorage.removeItem("currentUser")):"PASSWORD_RECOVERY"===e&&(console.log("PASSWORD_RECOVERY event detected, session:",t),null!==t&&void 0!==t&&t.user&&(sessionStorage.setItem("resetPasswordMode","true"),sessionStorage.setItem("resetPasswordUser",t.user.id)))});return()=>e.unsubscribe()},[]);const h={user:r,loading:d,login:async(e,t)=>{try{var r,n,a,o,l,d,u;const{data:p,error:g}=await s.ND.auth.signInWithPassword({email:e,password:t});if(g)return{error:g};let v=!1,x=!1;try{const{data:e}=await Promise.race([s.ND.from("admin_users").select("id, is_admin_only").eq("id",p.user.id).maybeSingle(),new Promise((e,t)=>setTimeout(()=>t(new Error("Admin check timeout")),15e3))]);e&&(v=!0,x=!0===e.is_admin_only)}catch(m){console.warn("Erro ao verificar admin status:",m)}let y=null,b=!1;if(!x)try{var h;const{data:e}=await Promise.race([s.ND.from("artists").select("id, name, avatar_url").eq("id",p.user.id).maybeSingle(),new Promise((e,t)=>setTimeout(()=>t(new Error("Artist check timeout")),15e3))]);y=e,b=!!y||"artist"===(null===(h=p.user.user_metadata)||void 0===h?void 0:h.user_type)}catch(f){console.warn("Erro ao verificar artist status:",f)}let w="user";v?w="admin":b&&(w="artist");const j={id:p.user.id,email:p.user.email,name:(null===(r=y)||void 0===r?void 0:r.name)||(null===(n=p.user.user_metadata)||void 0===n?void 0:n.full_name)||"Usu\xe1rio",type:w,cidade:(null===(a=p.user.user_metadata)||void 0===a?void 0:a.cidade)||"",estado:(null===(o=p.user.user_metadata)||void 0===o?void 0:o.estado)||"",genero:(null===(l=p.user.user_metadata)||void 0===l?void 0:l.genero)||"",estilo_musical:(null===(d=p.user.user_metadata)||void 0===d?void 0:d.estilo_musical)||"",isPremium:!1,isAdmin:v,isAdminOnly:x,avatar:(null===(u=y)||void 0===u?void 0:u.avatar_url)||i};return c(j),localStorage.setItem("currentUser",JSON.stringify(j)),{data:j,isArtist:b,isAdmin:v}}catch(p){return console.error("Auth error:",p),{error:{message:p.message||"Erro ao fazer login"}}}},loginWithGoogle:async()=>{const{data:e,error:t}=await s.ND.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"?login=success"),skipBrowserRedirect:!0}});return{data:e,error:t}},logout:async()=>{await s.ND.auth.signOut(),c(null),localStorage.removeItem("currentUser"),localStorage.removeItem("sb-your_supabase_url-auth-token"),Object.keys(localStorage).forEach(e=>{(e.includes("supabase")||e.includes("sb-"))&&localStorage.removeItem(e)})},upgradeToPremium:()=>{const e=(0,n.A)((0,n.A)({},r),{},{isPremium:!0});c(e),localStorage.setItem("currentUser",JSON.stringify(e))},updateUser:e=>{c(e);try{localStorage.setItem("currentUser",JSON.stringify(e))}catch(t){}},isArtist:"artist"===(null===r||void 0===r?void 0:r.type)&&"admin"!==(null===r||void 0===r?void 0:r.type),isPremium:null===r||void 0===r?void 0:r.isPremium,isAdmin:!0===(null===r||void 0===r?void 0:r.isAdmin)};return(0,o.jsx)(l.Provider,{value:h,children:t})}},8829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326).__importDefault(r(5736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,t){const{head:r=!1,count:a}=null!==t&&void 0!==t?t:{},s=r?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),a&&this.headers.append("Prefer","count=".concat(a)),new n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(t&&this.headers.append("Prefer","count=".concat(t)),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(this.headers.append("Prefer","resolution=".concat(r?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer","count=".concat(a)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return t&&this.headers.append("Prefer","count=".concat(t)),new n.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new n.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},8845:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(3272),s=r(8396),i=r(9323),o=r(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var r;Object.is(null===(r=e)||void 0===r?void 0:r.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=s.cloneDeep(t),function(r){const a=i.get(r,e);return void 0===a?o.has(r,e):void 0===t?void 0===a:n.isMatch(a,t)}}},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},9045:(e,t,r)=>{var n=r(3738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326).__importDefault(r(2611));t.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,a,s;let i=null,o=null,l=null,c=e.status,d=e.statusText;if(e.ok){if("HEAD"!==this.method){const r=await e.text();""===r||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}const n=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),s=null===(a=e.headers.get("content-range"))||void 0===a?void 0:a.split("/");n&&s&&s.length>1&&(l=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,c=200,d="OK")}catch(u){404===e.status&&""===t?(c=204,d="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(s=null===i||void 0===i?void 0:i.details)||void 0===s?void 0:s.includes("0 rows"))&&(i=null,c=200,d="OK"),i&&this.shouldThrowOnError)throw new n.default(i)}return{error:i,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n,a,s,i;let o="";const l=null===e||void 0===e?void 0:e.cause;if(l){const s=null!==(t=null===l||void 0===l?void 0:l.message)&&void 0!==t?t:"",i=null!==(r=null===l||void 0===l?void 0:l.code)&&void 0!==r?r:"";o="".concat(null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),o+="\n\nCaused by: ".concat(null!==(a=null===l||void 0===l?void 0:l.name)&&void 0!==a?a:"Error",": ").concat(s),i&&(o+=" (".concat(i,")")),(null===l||void 0===l?void 0:l.stack)&&(o+="\n".concat(l.stack))}else o=null!==(s=null===e||void 0===e?void 0:e.stack)&&void 0!==s?s:"";return{error:{message:"".concat(null!==(i=null===e||void 0===e?void 0:e.name)&&void 0!==i?i:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},9323:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7260),a=r(2489),s=r(3272),i=r(1444);t.get=function e(t,r,o){if(null==t)return o;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return o;const s=t[r];return void 0===s?a.isDeepKey(r)?e(t,i.toPath(r),o):o:s}case"number":case"symbol":{"number"===typeof r&&(r=s.toKey(r));const e=t[r];return void 0===e?o:e}default:{var l;if(Array.isArray(r))return function(e,t,r){if(0===t.length)return r;let a=e;for(let s=0;s<t.length;s++){if(null==a)return r;if(n.isUnsafeProperty(t[s]))return r;a=a[t[s]]}if(void 0===a)return r;return a}(t,r,o);if(r=Object.is(null===(l=r)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return o;const e=t[r];return void 0===e?o:e}}}},9379:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(4705);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},9397:(e,t,r)=>{e.exports=r(2682).isPlainObject},9461:(e,t,r)=>{"use strict";e.exports=r(2330)},9488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="2.86.2"},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FunctionRegion:()=>l,FunctionsClient:()=>c,FunctionsError:()=>a,FunctionsFetchError:()=>s,FunctionsHttpError:()=>o,FunctionsRelayError:()=>i});var n=r(6326);class a extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class s extends a{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends a{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o extends a{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var l;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(l||(l={}));class c{constructor(e){let{headers:t={},customFetch:r,region:n=l.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=n,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return(0,n.__awaiter)(this,arguments,void 0,function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var n;let a,l;try{const{headers:c,method:d,body:u,signal:h,timeout:m}=r;let f={},{region:p}=r;p||(p=t.region);const g=new URL("".concat(t.url,"/").concat(e));let v;p&&"any"!==p&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p)),u&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?"undefined"!==typeof Blob&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):"string"===typeof u?(f["Content-Type"]="text/plain",v=u):"undefined"!==typeof FormData&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let x=h;m&&(l=new AbortController,a=setTimeout(()=>l.abort(),m),h?(x=l.signal,h.addEventListener("abort",()=>l.abort())):x=l.signal);const y=yield t.fetch(g.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},f),t.headers),c),body:v,signal:x}).catch(e=>{throw new s(e)}),b=y.headers.get("x-relay-error");if(b&&"true"===b)throw new i(y);if(!y.ok)throw new o(y);let w,j=(null!==(n=y.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return w="application/json"===j?yield y.json():"application/octet-stream"===j||"application/pdf"===j?yield y.blob():"text/event-stream"===j?y:"multipart/form-data"===j?yield y.formData():yield y.text(),{data:w,error:null,response:y}}catch(c){return{data:null,error:c,response:c instanceof o||c instanceof i?c.context:void 0}}finally{a&&clearTimeout(a)}}()})}}},9645:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6392),a=r(8346),s=r(1203);t.last=function(e){if(s.isArrayLike(e))return n.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function r(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const a=r(e),s=r(t);if(a===s&&0===a){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?s-a:a-s}return 0}},9717:(e,t,r)=>{"use strict";var n=r(5043),a=r(9461);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=a.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var u=o(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=c(function(){function e(e){if(!l){if(l=!0,i=e,e=n(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return o=t}return o=e}if(t=o,s(i,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(i=e,t):(i=e,o=r)}var i,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,a]);var m=i(e,u[0],u[1]);return l(function(){h.hasValue=!0,h.value=m},[m]),d(m),m}},9766:(e,t,r)=>{"use strict";r.d(t,{cn:()=>be});var n=r(8387),a=r(9379);const s=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},i="-",o=[],l=e=>{const t=u(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return d(e);const r=e.split(i),n=""===r[0]&&r.length>1?1:0;return c(r,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=n[e],a=r[e];return t?a?((e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r})(a,t):t:a||o}return r[e]||o}}},c=(e,t,r)=>{if(0===e.length-t)return r.classGroupId;const n=e[t],a=r.nextPart.get(n);if(a){const r=c(e,t+1,a);if(r)return r}const s=r.validators;if(null===s)return;const o=0===t?e.join(i):e.slice(t).join(i),l=s.length;for(let i=0;i<l;i++){const e=s[i];if(e.validator(o))return e.classGroupId}},d=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?"arbitrary.."+n:void 0})(),u=e=>{const{theme:t,classGroups:r}=e;return h(r,t)},h=(e,t)=>{const r=s();for(const n in e){const a=e[n];m(a,r,n,t)}return r},m=(e,t,r,n)=>{const a=e.length;for(let s=0;s<a;s++){const a=e[s];f(a,t,r,n)}},f=(e,t,r,n)=>{"string"!==typeof e?"function"!==typeof e?v(e,t,r,n):g(e,t,r,n):p(e,t,r)},p=(e,t,r)=>{(""===e?t:x(t,e)).classGroupId=r},g=(e,t,r,n)=>{y(e)?m(e(n),t,r,n):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(r,e)))},v=(e,t,r,n)=>{const a=Object.entries(e),s=a.length;for(let i=0;i<s;i++){const[e,s]=a[i];m(s,x(t,e),r,n)}},x=(e,t)=>{let r=e;const n=t.split(i),a=n.length;for(let i=0;i<a;i++){const e=n[i];let t=r.nextPart.get(e);t||(t=s(),r.nextPart.set(e,t)),r=t}return r},y=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,b=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(a,s)=>{r[a]=s,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(a(e,t),t):void 0},set(e,t){e in r?r[e]=t:a(e,t)}}},w=[],j=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),N=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,a=0,s=0;const i=e.length;for(let d=0;d<i;d++){const i=e[d];if(0===n&&0===a){if(":"===i){t.push(e.slice(s,d)),s=d+1;continue}if("/"===i){r=d;continue}}"["===i?n++:"]"===i?n--:"("===i?a++:")"===i&&a--}const o=0===t.length?e:e.slice(s);let l=o,c=!1;o.endsWith("!")?(l=o.slice(0,-1),c=!0):o.startsWith("!")&&(l=o.slice(1),c=!0);return j(t,c,l,r&&r>s?r-s:void 0)};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):j(w,!1,t,void 0,!0)}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},_=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{const r=[];let n=[];for(let a=0;a<e.length;a++){const s=e[a],i="["===s[0],o=t.has(s);i||o?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(s)):n.push(s)}return n.length>0&&(n.sort(),r.push(...n)),r}},S=/\s+/,k=e=>{if("string"===typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=k(e[n]))&&(r&&(r+=" "),r+=t);return r},A=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let s,i,o,c;const d=e=>{const t=i(e);if(t)return t;const r=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,i=[],o=e.trim().split(S);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:m}=r(e);if(t){l=e+(l.length>0?" "+l:l);continue}let f=!!m,p=n(f?h.substring(0,m):h);if(!p){if(!f){l=e+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=e+(l.length>0?" "+l:l);continue}f=!1}const g=0===d.length?"":1===d.length?d[0]:s(d).join(":"),v=u?g+"!":g,x=v+p;if(i.indexOf(x)>-1)continue;i.push(x);const y=a(p,f);for(let r=0;r<y.length;++r){const e=y[r];i.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,s);return o(e,r),r};return c=t=>{const n=r.reduce((e,t)=>t(e),e());return s=(e=>(0,a.A)({cache:b(e.cacheSize),parseClassName:N(e),sortModifiers:_(e)},l(e)))(n),i=s.cache.get,o=s.cache.set,c=d,d(t)},function(){return c(function(){let e,t,r=0,n="";for(;r<arguments.length;){var a;(e=(a=r++)<0||arguments.length<=a?void 0:arguments[a])&&(t=k(e))&&(n&&(n+=" "),n+=t)}return n}(...arguments))}},E=[],C=e=>{const t=t=>t[e]||E;return t.isThemeGetter=!0,t},O=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,P=/^\((?:(\w[\w-]*):)?(.+)\)$/i,D=/^\d+\/\d+$/,T=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,z=e=>D.test(e),F=e=>!!e&&!Number.isNaN(Number(e)),B=e=>!!e&&Number.isInteger(Number(e)),U=e=>e.endsWith("%")&&F(e.slice(0,-1)),q=e=>T.test(e),V=()=>!0,W=e=>R.test(e)&&!I.test(e),H=()=>!1,K=e=>M.test(e),$=e=>L.test(e),G=e=>!J(e)&&!re(e),Y=e=>ce(e,me,H),J=e=>O.test(e),X=e=>ce(e,fe,W),Z=e=>ce(e,pe,F),Q=e=>ce(e,ue,H),ee=e=>ce(e,he,$),te=e=>ce(e,ve,K),re=e=>P.test(e),ne=e=>de(e,fe),ae=e=>de(e,ge),se=e=>de(e,ue),ie=e=>de(e,me),oe=e=>de(e,he),le=e=>de(e,ve,!0),ce=(e,t,r)=>{const n=O.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},de=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=P.exec(e);return!!n&&(n[1]?t(n[1]):r)},ue=e=>"position"===e||"percentage"===e,he=e=>"image"===e||"url"===e,me=e=>"length"===e||"size"===e||"bg-size"===e,fe=e=>"length"===e,pe=e=>"number"===e,ge=e=>"family-name"===e,ve=e=>"shadow"===e,xe=(Symbol.toStringTag,()=>{const e=C("color"),t=C("font"),r=C("text"),n=C("font-weight"),a=C("tracking"),s=C("leading"),i=C("breakpoint"),o=C("container"),l=C("spacing"),c=C("radius"),d=C("shadow"),u=C("inset-shadow"),h=C("text-shadow"),m=C("drop-shadow"),f=C("blur"),p=C("perspective"),g=C("aspect"),v=C("ease"),x=C("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",re,J],b=()=>[re,J,l],w=()=>[z,"full","auto",...b()],j=()=>[B,"none","subgrid",re,J],N=()=>["auto",{span:["full",B,re,J]},B,re,J],_=()=>[B,"auto",re,J],S=()=>["auto","min","max","fr",re,J],k=()=>["auto",...b()],A=()=>[z,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],E=()=>[e,re,J],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",se,Q,{position:[re,J]}],P=()=>["auto","cover","contain",ie,Y,{size:[re,J]}],D=()=>[U,ne,X],T=()=>["","none","full",c,re,J],R=()=>["",F,ne,X],I=()=>[F,U,se,Q],M=()=>["","none",f,re,J],L=()=>["none",F,re,J],W=()=>["none",F,re,J],H=()=>[F,re,J],K=()=>[z,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[q],breakpoint:[q],color:[V],container:[q],"drop-shadow":[q],ease:["in","out","in-out"],font:[G],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[q],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[q],shadow:[q],spacing:["px",F],text:[q],"text-shadow":[q],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",z,J,re,g]}],container:["container"],columns:[{columns:[F,J,re,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[B,"auto",re,J]}],basis:[{basis:[z,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[F,z,"auto","initial","none",J]}],grow:[{grow:["",F,re,J]}],shrink:[{shrink:["",F,re,J]}],order:[{order:[B,"first","last","none",re,J]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:A()}],w:[{w:[o,"screen",...A()]}],"min-w":[{"min-w":[o,"screen","none",...A()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...A()]}],h:[{h:["screen","lh",...A()]}],"min-h":[{"min-h":["screen","lh","none",...A()]}],"max-h":[{"max-h":["screen","lh",...A()]}],"font-size":[{text:["base",r,ne,X]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,re,Z]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",U,J]}],"font-family":[{font:[ae,J,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,re,J]}],"line-clamp":[{"line-clamp":[F,"none",re,Z]}],leading:[{leading:[s,...b()]}],"list-image":[{"list-image":["none",re,J]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,J]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[F,"from-font","auto",re,X]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[F,"auto",re,J]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},B,re,J],radial:["",re,J],conic:[B,re,J]},oe,ee]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[F,re,J]}],"outline-w":[{outline:["",F,ne,X]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,le,te]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,le,te]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[F,X]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,le,te]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[F,re,J]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[F]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[re,J]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[F]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,J]}],filter:[{filter:["","none",re,J]}],blur:[{blur:M()}],brightness:[{brightness:[F,re,J]}],contrast:[{contrast:[F,re,J]}],"drop-shadow":[{"drop-shadow":["","none",m,le,te]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",F,re,J]}],"hue-rotate":[{"hue-rotate":[F,re,J]}],invert:[{invert:["",F,re,J]}],saturate:[{saturate:[F,re,J]}],sepia:[{sepia:["",F,re,J]}],"backdrop-filter":[{"backdrop-filter":["","none",re,J]}],"backdrop-blur":[{"backdrop-blur":M()}],"backdrop-brightness":[{"backdrop-brightness":[F,re,J]}],"backdrop-contrast":[{"backdrop-contrast":[F,re,J]}],"backdrop-grayscale":[{"backdrop-grayscale":["",F,re,J]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[F,re,J]}],"backdrop-invert":[{"backdrop-invert":["",F,re,J]}],"backdrop-opacity":[{"backdrop-opacity":[F,re,J]}],"backdrop-saturate":[{"backdrop-saturate":[F,re,J]}],"backdrop-sepia":[{"backdrop-sepia":["",F,re,J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,J]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[F,"initial",re,J]}],ease:[{ease:["linear","initial",v,re,J]}],delay:[{delay:[F,re,J]}],animate:[{animate:["none",x,re,J]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,re,J]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:W()}],"scale-x":[{"scale-x":W()}],"scale-y":[{"scale-y":W()}],"scale-z":[{"scale-z":W()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[re,J,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,J]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,J]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[F,ne,X,Z]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),ye=A(xe);function be(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ye((0,n.$)(t))}},9855:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9859:(e,t,r)=>{e.exports=r(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,r.d(s,i),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>uS,scaleDiverging:()=>sO,scaleDivergingLog:()=>iO,scaleDivergingPow:()=>lO,scaleDivergingSqrt:()=>cO,scaleDivergingSymlog:()=>oO,scaleIdentity:()=>Qk,scaleImplicit:()=>cS,scaleLinear:()=>Zk,scaleLog:()=>lA,scaleOrdinal:()=>dS,scalePoint:()=>mS,scalePow:()=>vA,scaleQuantile:()=>CA,scaleQuantize:()=>OA,scaleRadial:()=>bA,scaleSequential:()=>ZC,scaleSequentialLog:()=>QC,scaleSequentialPow:()=>tO,scaleSequentialQuantile:()=>nO,scaleSequentialSqrt:()=>rO,scaleSequentialSymlog:()=>eO,scaleSqrt:()=>xA,scaleSymlog:()=>hA,scaleThreshold:()=>PA,scaleTime:()=>GC,scaleUtc:()=>YC,tickFormat:()=>Jk});var t=r(5043),n=r.t(t,2),a=r(4391),s=r(4218),i=r(8773);const o=[{id:"1",name:"Jo\xe3o Silva",email:"joao@example.com",type:"user",isPremium:!0,avatar:"/images/default-avatar.png"},{id:"2",name:"Maria Santos",email:"maria@example.com",type:"artist",isPremium:!0,avatar:"/images/default-avatar.png"}],l=[{id:"a1",userId:"2",name:"Maria Santos",bio:"Cantora e compositora brasileira",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=800",followers:45230,monthlyListeners:125e3,verified:!0},{id:"a2",name:"Pedro Oliveira",bio:"Rapper e produtor musical",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800",followers:89540,monthlyListeners:34e4,verified:!0},{id:"a3",name:"Ana Costa",bio:"M\xfasica eletr\xf4nica e experimental",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=800",followers:62100,monthlyListeners:198e3,verified:!0}],c=[{id:"alb1",title:"Noites de Ver\xe3o",artistId:"a1",artistName:"Maria Santos",coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",releaseYear:2024,songCount:12},{id:"alb2",title:"Rimas da Quebrada",artistId:"a2",artistName:"Pedro Oliveira",coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",releaseYear:2023,songCount:15},{id:"alb3",title:"Synthwave Dreams",artistId:"a3",artistName:"Ana Costa",coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",releaseYear:2024,songCount:10}],d=[{id:"s1",title:"Luz do Luar",artistId:"a1",artistName:"Maria Santos",albumId:"alb1",albumName:"Noites de Ver\xe3o",duration:245,coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",plays:125e4,likes:45e3},{id:"s2",title:"Horizonte",artistId:"a1",artistName:"Maria Santos",albumId:"alb1",albumName:"Noites de Ver\xe3o",duration:198,coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",plays:98e4,likes:32e3},{id:"s3",title:"Flow Pesado",artistId:"a2",artistName:"Pedro Oliveira",albumId:"alb2",albumName:"Rimas da Quebrada",duration:212,coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",plays:21e5,likes:89e3},{id:"s4",title:"Midnight Drive",artistId:"a3",artistName:"Ana Costa",albumId:"alb3",albumName:"Synthwave Dreams",duration:267,coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",plays:156e4,likes:62e3},{id:"s5",title:"Neon Lights",artistId:"a3",artistName:"Ana Costa",albumId:"alb3",albumName:"Synthwave Dreams",duration:234,coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",plays:132e4,likes:54e3},{id:"s6",title:"Realidade",artistId:"a2",artistName:"Pedro Oliveira",albumId:"alb2",albumName:"Rimas da Quebrada",duration:189,coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3",plays:189e4,likes:71e3}],u=e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r.toString().padStart(2,"0"))};(()=>{try{const e="timbalada",t=l.findIndex(t=>t.id===e);-1!==t&&l.splice(t,1);const r=o.findIndex(t=>t.email==="".concat(e,"@example.com")||t.id===e||t.name===e);-1!==r&&o.splice(r,1)}catch(e){}})(),(()=>{try{if("undefined"===typeof window)return;try{const e=JSON.parse(localStorage.getItem("currentUser")||"null");!e||"hericlesbatera@gmail.com"!==e.email&&"Timbalada"!==e.name||localStorage.removeItem("currentUser")}catch(e){}const t=JSON.parse(localStorage.getItem("mockUsersPersist")||"null");Array.isArray(t)&&t.forEach(e=>{if("ferronaboneca"===e.name)return;"ferronaboneca"===e.name&&(e.type="artist");o.find(t=>t.id===e.id||t.email===e.email)||"hericlesbatera@gmail.com"===e.email||"Timbalada"===e.name||o.push(e)});const r=JSON.parse(localStorage.getItem("mockArtistsPersist")||"null");if(Array.isArray(r)){const e=r.filter(e=>"timbalada"!==e.id&&"ferronaboneca"!==e.name);e.forEach(e=>{l.find(t=>t.id===e.id)||l.push(e)})}}catch(e){}})();var h,m,f,p,g=r(4354);function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const x=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)try{await g.ND.from("songs").update({downloads:g.ND.sql(f||(f=v(["COALESCE(downloads, 0) + 1"])))}).eq("id",e),t&&await g.ND.from("albums").update({download_count:g.ND.sql(p||(p=v(["COALESCE(download_count, 0) + 1"])))}).eq("id",t)}catch(r){console.error("Error recording song download:",r)}else console.error("songId is required for recording download")};var y=r(579);const b=(0,t.createContext)(),w=()=>{const e=(0,t.useContext)(b);if(!e)throw new Error("usePlayer must be used within PlayerProvider");return e},j=e=>{let{children:r}=e;const[n,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(0),[u,h]=(0,t.useState)(0),[m,f]=(0,t.useState)(.7),[p,v]=(0,t.useState)(!1),[x,w]=(0,t.useState)("off"),[j,N]=(0,t.useState)(!1),[_,S]=(0,t.useState)(null),[k,A]=(0,t.useState)(!1),E=(0,t.useRef)(null);if(!E.current){E.current=new Audio,E.current.preload="auto",E.current.crossOrigin="anonymous";const e=document.getElementById("hidden-audio-player");e&&e.remove()}const C=(0,t.useRef)(null),O=(0,t.useCallback)(()=>{if(!o.length)return;const e=o.findIndex(e=>e.id===(null===n||void 0===n?void 0:n.id));let t;if("one"===x)return E.current.currentTime=0,void E.current.play();if(p)t=Math.floor(Math.random()*o.length);else if(t=e+1,t>=o.length){if("all"!==x)return i(!1),a(null),l([]),E.current.pause(),void(E.current.src="");t=0}a(o[t])},[o,n,x,p]);(0,t.useEffect)(()=>{C.current=O},[O]),(0,t.useEffect)(()=>{const e=E.current,t=()=>d(e.currentTime),r=()=>h(e.duration),n=()=>{C.current&&C.current()},a=()=>console.error("Erro ao carregar \xe1udio:",e.error),s=()=>console.log("\xc1udio pronto para reproduzir");return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",r),e.addEventListener("ended",n),e.addEventListener("error",a),e.addEventListener("canplay",s),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",r),e.removeEventListener("ended",n),e.removeEventListener("error",a),e.removeEventListener("canplay",s)}},[]),(0,t.useEffect)(()=>{E.current.volume=m},[m]),(0,t.useEffect)(()=>{n&&(E.current.src=n.audioUrl,s&&E.current.play().catch(e=>console.error("Error playing audio:",e)))},[n]),(0,t.useEffect)(()=>{s?E.current.play().catch(e=>console.error("Error playing audio:",e)):E.current.pause()},[s]),(0,t.useEffect)(()=>{if(!("mediaSession"in navigator))return;const e=navigator.mediaSession;return n&&(e.metadata=new MediaMetadata({title:n.title||"Unknown",artist:n.artist||"Unknown Artist",album:n.album||"Unknown Album",artwork:n.image?[{src:n.image,sizes:"256x256",type:"image/jpeg"}]:[]}),e.playbackState=s?"playing":"paused"),e.setActionHandler("play",()=>{i(!0)}),e.setActionHandler("pause",()=>{i(!1)}),e.setActionHandler("previoustrack",()=>{P()}),e.setActionHandler("nexttrack",()=>{C.current&&C.current()}),e.setActionHandler("seekto",e=>{void 0!==e.time&&D(e.time)}),()=>{e.setActionHandler("play",null),e.setActionHandler("pause",null),e.setActionHandler("previoustrack",null),e.setActionHandler("nexttrack",null),e.setActionHandler("seekto",null)}},[n,s,O]);const P=()=>{if(c>3)return void(E.current.currentTime=0);if(!o.length)return;const e=o.findIndex(e=>e.id===(null===n||void 0===n?void 0:n.id)),t=e-1;t<0?"all"===x&&a(o[o.length-1]):a(o[t])},D=e=>{E.current.currentTime=e,d(e)},T={currentSong:n,isPlaying:s,queue:o,currentTime:c,duration:u,volume:m,isShuffle:p,repeatMode:x,isCompactMode:j,isFullPlayerOpen:k,playSong:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a(e),l(t.length>0?t:[e]),i(!0),S(r);const n=e.albumId||e.album_id||e.albumid,s=e.id;n&&s?async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e&&t)try{const{data:n}=await g.ND.from("songs").select("plays").eq("id",e).single(),a=((null===n||void 0===n?void 0:n.plays)||0)+1;await g.ND.from("songs").update({plays:a}).eq("id",e);const{data:s}=await g.ND.from("albums").select("play_count").eq("id",t).single(),i=((null===s||void 0===s?void 0:s.play_count)||0)+1;if(await g.ND.from("albums").update({play_count:i}).eq("id",t),r){const{data:e}=await g.ND.from("playlists").select("play_count").eq("id",r).single(),t=((null===e||void 0===e?void 0:e.play_count)||0)+1;await g.ND.from("playlists").update({play_count:t}).eq("id",r)}await g.ND.from("plays").insert([{album_id:t,song_id:e,playlist_id:r||null,created_at:(new Date).toISOString()}])}catch(n){console.error("Error recording song play:",n)}else console.error("songId and albumId are required for recording play")}(s,n,r):console.error("Album ID or Song ID not found for song:",e)},togglePlay:()=>{i(!s)},handleNext:O,handlePrevious:P,seekTo:D,setVolume:f,toggleShuffle:()=>{v(!p)},toggleRepeat:()=>{const e=["off","all","one"],t=(e.indexOf(x)+1)%e.length;w(e[t])},clearQueue:()=>{l([]),a(null),i(!1),E.current.pause(),E.current.src=""},setIsCompactMode:N,setIsFullPlayerOpen:A};return(0,y.jsx)(b.Provider,{value:T,children:r})};var N=r(9379),_=r(3986),S=r(6920),k=r(7950);"undefined"===typeof window||!window.document||window.document.createElement;function A(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}var E=r(2814);function C(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function O(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function P(e,t){return e.get(O(e,t))}function D(e,t,r){return e.set(O(e,t),r),r}const T=["children"],R=["scope","children"];function I(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const a=()=>{const r=n.map(e=>t.createContext(e));return function(n){const a=(null===n||void 0===n?void 0:n[e])||r;return t.useMemo(()=>({["__scope".concat(e)]:(0,N.A)((0,N.A)({},n),{},{[e]:a})}),[n,a])}};return a.scopeName=e,[function(r,a){const s=t.createContext(a),i=n.length;n=[...n,a];const o=r=>{var n;const{scope:a,children:o}=r,l=(0,_.A)(r,R),c=(null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n[i])||s,d=t.useMemo(()=>l,Object.values(l));return(0,y.jsx)(c.Provider,{value:d,children:o})};return o.displayName=r+"Provider",[o,function(n,o){var l;const c=(null===o||void 0===o||null===(l=o[e])||void 0===l?void 0:l[i])||s,d=t.useContext(c);if(d)return d;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(r,"`"))}]},M(a,...r)]}function M(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const a=r[0];if(1===r.length)return a;const s=()=>{const e=r.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(r){const n=e.reduce((e,t)=>{let{useScope:n,scopeName:a}=t;const s=n(r)["__scope".concat(a)];return(0,N.A)((0,N.A)({},e),s)},{});return t.useMemo(()=>({["__scope".concat(a.scopeName)]:n}),[n])}};return s.scopeName=a.scopeName,s}const L=["children"],z=["children"];function F(e){const r=B(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=(0,_.A)(e,L),i=t.Children.toArray(a),o=i.find(V);if(o){const e=o.props.children,a=i.map(r=>r===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function B(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=(0,_.A)(e,z);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const r=(0,N.A)({},t);for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,N.A)((0,N.A)({},a),s):"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return(0,N.A)((0,N.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(s.ref=r?(0,E.t)(r,e):e),t.cloneElement(n,s)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var U=Symbol("radix.slottable");var q;function V(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===U}const W=["scope","children"];function H(e){const r=e+"CollectionProvider",[n,a]=I(r),[s,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:r,children:n}=e,a=t.useRef(null),i=t.useRef(new Map).current;return(0,y.jsx)(s,{scope:r,itemMap:i,collectionRef:a,children:n})};o.displayName=r;const l=e+"CollectionSlot",c=F(l),d=t.forwardRef((e,t)=>{const{scope:r,children:n}=e,a=i(l,r),s=(0,E.s)(t,a.collectionRef);return(0,y.jsx)(c,{ref:s,children:n})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=F(u),f=t.forwardRef((e,r)=>{const{scope:n,children:a}=e,s=(0,_.A)(e,W),o=t.useRef(null),l=(0,E.s)(r,o),c=i(u,n);return t.useEffect(()=>(c.itemMap.set(o,(0,N.A)({ref:o},s)),()=>{c.itemMap.delete(o)})),(0,y.jsx)(m,(0,N.A)((0,N.A)({},{[h]:""}),{},{ref:l,children:a}))});return f.displayName=u,[{Provider:o,Slot:d,ItemSlot:f},function(r){const n=i(e+"CollectionConsumer",r),a=t.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(h,"]"))),r=Array.from(n.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current));return r},[n.collectionRef,n.itemMap]);return a},a]}var K=new WeakMap;q=new WeakMap,Map;function $(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const r=function(e,t){const r=e.length,n=G(t),a=n>=0?n:r+n;return a<0||a>=r?-1:a}(e,t);return-1===r?void 0:e[r]}function G(e){return e!==e||0===e?0:Math.trunc(e)}const Y=["children"],J=["children"];function X(e){const r=Z(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=(0,_.A)(e,Y),i=t.Children.toArray(a),o=i.find(ee);if(o){const e=o.props.children,a=i.map(r=>r===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function Z(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=(0,_.A)(e,J);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const r=(0,N.A)({},t);for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,N.A)((0,N.A)({},a),s):"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return(0,N.A)((0,N.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(s.ref=r?(0,E.t)(r,e):e),t.cloneElement(n,s)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var Q=Symbol("radix.slottable");function ee(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Q}const te=["asChild"];var re=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{const n=X("Primitive.".concat(r)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,s=(0,_.A)(e,te),i=a?n:r;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,y.jsx)(i,(0,N.A)((0,N.A)({},s),{},{ref:t}))});return a.displayName="Primitive.".concat(r),(0,N.A)((0,N.A)({},e),{},{[r]:a})},{});function ne(e,t){e&&k.flushSync(()=>e.dispatchEvent(t))}function ae(e){const r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=r.current)||void 0===e?void 0:e.call(r,...n)},[])}const se=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var ie,oe="dismissableLayer.update",le="dismissableLayer.pointerDownOutside",ce="dismissableLayer.focusOutside",de=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ue=t.forwardRef((e,r)=>{var n;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c}=e,d=(0,_.A)(e,se),u=t.useContext(de),[h,m]=t.useState(null),f=null!==(n=null===h||void 0===h?void 0:h.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,p]=t.useState({}),g=(0,E.s)(r,e=>m(e)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(x),w=h?v.indexOf(h):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,k=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=ae(e),a=t.useRef(!1),s=t.useRef(()=>{});return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let t=function(){fe(le,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(r.removeEventListener("click",s.current),s.current=t,r.addEventListener("click",s.current,{once:!0})):t()}else r.removeEventListener("click",s.current);a.current=!1},t=window.setTimeout(()=>{r.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),r.removeEventListener("pointerdown",e),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,r=[...u.branches].some(e=>e.contains(t));S&&!r&&(null===i||void 0===i||i(e),null===l||void 0===l||l(e),e.defaultPrevented||null===c||void 0===c||c())},f),C=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=ae(e),a=t.useRef(!1);return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){fe(ce,n,{originalEvent:e},{discrete:!1})}};return r.addEventListener("focusin",e),()=>r.removeEventListener("focusin",e)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...u.branches].some(e=>e.contains(t))||(null===o||void 0===o||o(e),null===l||void 0===l||l(e),e.defaultPrevented||null===c||void 0===c||c())},f);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=ae(e);t.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return r.addEventListener("keydown",e,{capture:!0}),()=>r.removeEventListener("keydown",e,{capture:!0})},[n,r])}(e=>{w===u.layers.size-1&&(null===s||void 0===s||s(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},f),t.useEffect(()=>{if(h)return a&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(ie=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),me(),()=>{a&&1===u.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=ie)}},[h,f,a,u]),t.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),me())},[h,u]),t.useEffect(()=>{const e=()=>p({});return document.addEventListener(oe,e),()=>document.removeEventListener(oe,e)},[]),(0,y.jsx)(re.div,(0,N.A)((0,N.A)({},d),{},{ref:g,style:(0,N.A)({pointerEvents:j?S?"auto":"none":void 0},e.style),onFocusCapture:A(e.onFocusCapture,C.onFocusCapture),onBlurCapture:A(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:A(e.onPointerDownCapture,k.onPointerDownCapture)}))});ue.displayName="DismissableLayer";var he=t.forwardRef((e,r)=>{const n=t.useContext(de),a=t.useRef(null),s=(0,E.s)(r,a);return t.useEffect(()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,y.jsx)(re.div,(0,N.A)((0,N.A)({},e),{},{ref:s}))});function me(){const e=new CustomEvent(oe);document.dispatchEvent(e)}function fe(e,t,r,n){let{discrete:a}=n;const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?ne(s,i):s.dispatchEvent(i)}he.displayName="DismissableLayerBranch";var pe=ue,ge=he,ve=null!==globalThis&&void 0!==globalThis&&globalThis.document?t.useLayoutEffect:()=>{};const xe=["container"];var ye=t.forwardRef((e,r)=>{var n;const{container:a}=e,s=(0,_.A)(e,xe),[i,o]=t.useState(!1);ve(()=>o(!0),[]);const l=a||i&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return l?k.createPortal((0,y.jsx)(re.div,(0,N.A)((0,N.A)({},s),{},{ref:r})),l):null});ye.displayName="Portal";var be=e=>{const{present:r,children:n}=e,a=function(e){const[r,n]=t.useState(),a=t.useRef(null),s=t.useRef(e),i=t.useRef("none"),o=e?"mounted":"unmounted",[l,c]=function(e,r){return t.useReducer((e,t)=>{const n=r[e][t];return null!==n&&void 0!==n?n:e},e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const e=we(a.current);i.current="mounted"===l?e:"none"},[l]),ve(()=>{const t=a.current,r=s.current;if(r!==e){const n=i.current,a=we(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(r&&n!==a?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,c]),ve(()=>{if(r){var e;let t;const n=null!==(e=r.ownerDocument.defaultView)&&void 0!==e?e:window,o=e=>{const i=we(a.current).includes(CSS.escape(e.animationName));if(e.target===r&&i&&(c("ANIMATION_END"),!s.current)){const e=r.style.animationFillMode;r.style.animationFillMode="forwards",t=n.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=e)})}},l=e=>{e.target===r&&(i.current=we(a.current))};return r.addEventListener("animationstart",l),r.addEventListener("animationcancel",o),r.addEventListener("animationend",o),()=>{n.clearTimeout(t),r.removeEventListener("animationstart",l),r.removeEventListener("animationcancel",o),r.removeEventListener("animationend",o)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:t.useCallback(e=>{a.current=e?getComputedStyle(e):null,n(e)},[])}}(r),s="function"===typeof n?n({present:a.isPresent}):t.Children.only(n),i=(0,E.s)(a.ref,function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(s));return"function"===typeof n||a.isPresent?t.cloneElement(s,{ref:i}):null};function we(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}be.displayName="Presence";var je=n[" useInsertionEffect ".trim().toString()]||ve;function Ne(e){let{prop:r,defaultProp:n,onChange:a=()=>{},caller:s}=e;const[i,o,l]=function(e){let{defaultProp:r,onChange:n}=e;const[a,s]=t.useState(r),i=t.useRef(a),o=t.useRef(n);return je(()=>{o.current=n},[n]),t.useEffect(()=>{var e;i.current!==a&&(null===(e=o.current)||void 0===e||e.call(o,a),i.current=a)},[a,i]),[a,s,o]}({defaultProp:n,onChange:a}),c=void 0!==r,d=c?r:i;{const e=t.useRef(void 0!==r);t.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",r=c?"controlled":"uncontrolled";console.warn("".concat(s," is changing from ").concat(e," to ").concat(r,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,s])}const u=t.useCallback(e=>{if(c){const n=function(e){return"function"===typeof e}(e)?e(r):e;var t;if(n!==r)null===(t=l.current)||void 0===t||t.call(l,n)}else o(e)},[c,r,o,l]);return[d,u]}Symbol("RADIX:SYNC_STATE");var _e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Se=t.forwardRef((e,t)=>(0,y.jsx)(re.span,(0,N.A)((0,N.A)({},e),{},{ref:t,style:(0,N.A)((0,N.A)({},_e),e.style)})));Se.displayName="VisuallyHidden";const ke=["__scopeToast","hotkey","label"],Ae=["__scopeToast","onFocusFromOutsideViewport"],Ee=["forceMount","open","defaultOpen","onOpenChange"],Ce=["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"],Oe=["__scopeToast","children"],Pe=["__scopeToast"],De=["__scopeToast"],Te=["altText"],Re=["__scopeToast"],Ie=["__scopeToast","altText"];var Me="ToastProvider",[Le,ze,Fe]=H("Toast"),[Be,Ue]=I("Toast",[Fe]),[qe,Ve]=Be(Me),We=e=>{const{__scopeToast:r,label:n="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=t.useState(null),[d,u]=t.useState(0),h=t.useRef(!1),m=t.useRef(!1);return n.trim()||console.error("Invalid prop `label` supplied to `".concat(Me,"`. Expected non-empty `string`.")),(0,y.jsx)(Le.Provider,{scope:r,children:(0,y.jsx)(qe,{scope:r,label:n,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:t.useCallback(()=>u(e=>e+1),[]),onToastRemove:t.useCallback(()=>u(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};We.displayName=Me;var He="ToastViewport",Ke=["F8"],$e="toast.viewportPause",Ge="toast.viewportResume",Ye=t.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:a=Ke,label:s="Notifications ({hotkey})"}=e,i=(0,_.A)(e,ke),o=Ve(He,n),l=ze(n),c=t.useRef(null),d=t.useRef(null),u=t.useRef(null),h=t.useRef(null),m=(0,E.s)(r,h,o.onViewportChange),f=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;t.useEffect(()=>{const e=e=>{var t;0!==a.length&&a.every(t=>e[t]||e.code===t)&&(null===(t=h.current)||void 0===t||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),t.useEffect(()=>{const e=c.current,t=h.current;if(p&&e&&t){const r=()=>{if(!o.isClosePausedRef.current){const e=new CustomEvent($e);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},n=()=>{if(o.isClosePausedRef.current){const e=new CustomEvent(Ge);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&n()},s=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",s),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[p,o.isClosePausedRef]);const g=t.useCallback(e=>{let{tabbingDirection:t}=e;const r=l().map(e=>{const r=e.ref.current,n=[r,...ft(r)];return"forwards"===t?n:n.reverse()});return("forwards"===t?r.reverse():r).flat()},[l]);return t.useEffect(()=>{const e=h.current;if(e){const t=t=>{const r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){const r=document.activeElement,i=t.shiftKey;var n;if(t.target===e&&i)return void(null===(n=d.current)||void 0===n||n.focus());const o=g({tabbingDirection:i?"backwards":"forwards"}),l=o.findIndex(e=>e===r);var a,s;if(pt(o.slice(l+1)))t.preventDefault();else i?null===(a=d.current)||void 0===a||a.focus():null===(s=u.current)||void 0===s||s.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[l,g]),(0,y.jsxs)(ge,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&(0,y.jsx)(Xe,{ref:d,onFocusFromOutsideViewport:()=>{pt(g({tabbingDirection:"forwards"}))}}),(0,y.jsx)(Le.Slot,{scope:n,children:(0,y.jsx)(re.ol,(0,N.A)((0,N.A)({tabIndex:-1},i),{},{ref:m}))}),p&&(0,y.jsx)(Xe,{ref:u,onFocusFromOutsideViewport:()=>{pt(g({tabbingDirection:"backwards"}))}})]})});Ye.displayName=He;var Je="ToastFocusProxy",Xe=t.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n}=e,a=(0,_.A)(e,Ae),s=Ve(Je,r);return(0,y.jsx)(Se,(0,N.A)((0,N.A)({tabIndex:0},a),{},{ref:t,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null!==(t=s.viewport)&&void 0!==t&&t.contains(r))&&n()}}))});Xe.displayName=Je;var Ze="Toast",Qe=t.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s}=e,i=(0,_.A)(e,Ee),[o,l]=Ne({prop:n,defaultProp:null===a||void 0===a||a,onChange:s,caller:Ze});return(0,y.jsx)(be,{present:r||o,children:(0,y.jsx)(rt,(0,N.A)((0,N.A)({open:o},i),{},{ref:t,onClose:()=>l(!1),onPause:ae(e.onPause),onResume:ae(e.onResume),onSwipeStart:A(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:A(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(r,"px"))}),onSwipeCancel:A(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:A(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(r,"px")),l(!1)})}))})});Qe.displayName=Ze;var[et,tt]=Be(Ze,{onClose(){}}),rt=t.forwardRef((e,r)=>{const{__scopeToast:n,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f}=e,p=(0,_.A)(e,Ce),g=Ve(Ze,n),[v,x]=t.useState(null),b=(0,E.s)(r,e=>x(e)),w=t.useRef(null),j=t.useRef(null),S=s||g.duration,C=t.useRef(0),O=t.useRef(S),P=t.useRef(0),{onToastAdd:D,onToastRemove:T}=g,R=ae(()=>{var e;(null===v||void 0===v?void 0:v.contains(document.activeElement))&&(null===(e=g.viewport)||void 0===e||e.focus()),o()}),I=t.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(P.current),C.current=(new Date).getTime(),P.current=window.setTimeout(R,e))},[R]);t.useEffect(()=>{const e=g.viewport;if(e){const t=()=>{I(O.current),null===d||void 0===d||d()},r=()=>{const e=(new Date).getTime()-C.current;O.current=O.current-e,window.clearTimeout(P.current),null===c||void 0===c||c()};return e.addEventListener($e,r),e.addEventListener(Ge,t),()=>{e.removeEventListener($e,r),e.removeEventListener(Ge,t)}}},[g.viewport,S,c,d,I]),t.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(S)},[i,S,g.isClosePausedRef,I]),t.useEffect(()=>(D(),()=>T()),[D,T]);const M=t.useMemo(()=>v?ut(v):null,[v]);return g.viewport?(0,y.jsxs)(y.Fragment,{children:[M&&(0,y.jsx)(nt,{__scopeToast:n,role:"status","aria-live":"foreground"===a?"assertive":"polite",children:M}),(0,y.jsx)(et,{scope:n,onClose:R,children:k.createPortal((0,y.jsx)(Le.ItemSlot,{scope:n,children:(0,y.jsx)(pe,{asChild:!0,onEscapeKeyDown:A(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||R(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,y.jsx)(re.li,(0,N.A)((0,N.A)({tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection},p),{},{ref:b,style:(0,N.A)({userSelect:"none",touchAction:"none"},e.style),onKeyDown:A(e.onKeyDown,e=>{"Escape"===e.key&&(null===l||void 0===l||l(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:A(e.onPointerDown,e=>{0===e.button&&(w.current={x:e.clientX,y:e.clientY})}),onPointerMove:A(e.onPointerMove,e=>{if(!w.current)return;const t=e.clientX-w.current.x,r=e.clientY-w.current.y,n=Boolean(j.current),a=["left","right"].includes(g.swipeDirection),s=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,i=a?s(0,t):0,o=a?0:s(0,r),l="touch"===e.pointerType?10:2,c={x:i,y:o},d={originalEvent:e,delta:c};n?(j.current=c,ht("toast.swipeMove",h,d,{discrete:!1})):mt(c,g.swipeDirection,l)?(j.current=c,ht("toast.swipeStart",u,d,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(w.current=null)}),onPointerUp:A(e.onPointerUp,e=>{const t=j.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),j.current=null,w.current=null,t){const r=e.currentTarget,n={originalEvent:e,delta:t};mt(t,g.swipeDirection,g.swipeThreshold)?ht("toast.swipeEnd",f,n,{discrete:!0}):ht("toast.swipeCancel",m,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})}))})}),g.viewport)})]}):null}),nt=e=>{const{__scopeToast:r,children:n}=e,a=(0,_.A)(e,Oe),s=Ve(Ze,r),[i,o]=t.useState(!1),[l,c]=t.useState(!1);return function(){const e=ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});ve(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}(()=>o(!0)),t.useEffect(()=>{const e=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(e)},[]),l?null:(0,y.jsx)(ye,{asChild:!0,children:(0,y.jsx)(Se,(0,N.A)((0,N.A)({},a),{},{children:i&&(0,y.jsxs)(y.Fragment,{children:[s.label," ",n]})}))})},at=t.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=(0,_.A)(e,Pe);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({},n),{},{ref:t}))});at.displayName="ToastTitle";var st=t.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=(0,_.A)(e,De);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({},n),{},{ref:t}))});st.displayName="ToastDescription";var it="ToastAction",ot=t.forwardRef((e,t)=>{const{altText:r}=e,n=(0,_.A)(e,Te);return r.trim()?(0,y.jsx)(dt,{altText:r,asChild:!0,children:(0,y.jsx)(ct,(0,N.A)((0,N.A)({},n),{},{ref:t}))}):(console.error("Invalid prop `altText` supplied to `".concat(it,"`. Expected non-empty `string`.")),null)});ot.displayName=it;var lt="ToastClose",ct=t.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=(0,_.A)(e,Re),a=tt(lt,r);return(0,y.jsx)(dt,{asChild:!0,children:(0,y.jsx)(re.button,(0,N.A)((0,N.A)({type:"button"},n),{},{ref:t,onClick:A(e.onClick,a.onClose)}))})});ct.displayName=lt;var dt=t.forwardRef((e,t)=>{const{__scopeToast:r,altText:n}=e,a=(0,_.A)(e,Ie);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},a),{},{ref:t}))});function ut(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...ut(e))}}),t}function ht(e,t,r,n){let{discrete:a}=n;const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?ne(s,i):s.dispatchEvent(i)}var mt=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return"left"===t||"right"===t?s&&n>r:!s&&a>r};function ft(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pt(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var gt=We,vt=Ye,xt=Qe,yt=at,bt=st,wt=ot,jt=ct,Nt=r(917),_t=r(7784);const St=(0,_t.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var kt=r(9766);const At=["className"],Et=["className","variant"],Ct=["className"],Ot=["className"],Pt=["className"],Dt=["className"],Tt=gt,Rt=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,At);return(0,y.jsx)(vt,(0,N.A)({ref:t,className:(0,kt.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r)},n))});Rt.displayName=vt.displayName;const It=(0,Nt.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mt=t.forwardRef((e,t)=>{let{className:r,variant:n}=e,a=(0,_.A)(e,Et);return(0,y.jsx)(xt,(0,N.A)({ref:t,className:(0,kt.cn)(It({variant:n}),r)},a))});Mt.displayName=xt.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Ct);return(0,y.jsx)(wt,(0,N.A)({ref:t,className:(0,kt.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r)},n))}).displayName=wt.displayName;const Lt=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Ot);return(0,y.jsx)(jt,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":""},n),{},{children:(0,y.jsx)(St,{className:"h-4 w-4"})}))});Lt.displayName=jt.displayName;const zt=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Pt);return(0,y.jsx)(yt,(0,N.A)({ref:t,className:(0,kt.cn)("text-sm font-semibold [&+div]:text-xs",r)},n))});zt.displayName=yt.displayName;const Ft=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Dt);return(0,y.jsx)(bt,(0,N.A)({ref:t,className:(0,kt.cn)("text-sm opacity-90",r)},n))});Ft.displayName=bt.displayName;const Bt=["id","title","description","action"];function Ut(){const{toasts:e}=(0,S.dj)();return(0,y.jsxs)(Tt,{children:[e.map(function(e){let{id:t,title:r,description:n,action:a}=e,s=(0,_.A)(e,Bt);return(0,y.jsxs)(Mt,(0,N.A)((0,N.A)({},s),{},{children:[(0,y.jsxs)("div",{className:"grid gap-1",children:[r&&(0,y.jsx)(zt,{children:r}),n&&(0,y.jsx)(Ft,{children:n})]}),a,(0,y.jsx)(Lt,{})]}),t)}),(0,y.jsx)(Rt,{})]})}const qt=(0,_t.A)("music-2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]),Vt=e=>{let{size:t="medium",text:r="Carregando..."}=e;const n={small:"w-8 h-8",medium:"w-16 h-16",large:"w-24 h-24"};return(0,y.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,y.jsxs)("div",{className:"".concat(n[t]," relative"),children:[(0,y.jsx)("div",{className:"".concat(n[t]," border-4 border-blue-200 rounded-full animate-spin"),style:{borderTopColor:"#3b82f6",borderRightColor:"#3b82f6"}}),(0,y.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,y.jsx)(qt,{className:"".concat({small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"}[t]," text-red-500")})})]}),r&&(0,y.jsx)("p",{className:"text-gray-500 text-sm",children:r})]})},Wt=(0,_t.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ht=(0,_t.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Kt=(0,_t.A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$t=(0,_t.A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Gt=(0,_t.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Yt=(0,_t.A)("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Jt=(0,_t.A)("disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Xt=(0,_t.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Zt=(0,_t.A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Qt=(0,_t.A)("list-music",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]),er=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/images/default-avatar.png";const[n,a]=(0,t.useState)(r),[s,i]=(0,t.useState)(!!e);return(0,t.useEffect)(()=>{if(!e||e===r)return a(r),void i(!1);i(!0);const t=new Image;t.onload=()=>{a(e),i(!1)},t.onerror=()=>{a(r),i(!1)},t.src=e},[e,r]),{imageUrl:n,isLoading:s}},tr=["className","type"],rr=t.forwardRef((e,t)=>{let{className:r,type:n}=e,a=(0,_.A)(e,tr);return(0,y.jsx)("input",(0,N.A)({type:n,className:(0,kt.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},a))});rr.displayName="Input";var nr=r(3390),ar=t.createContext(void 0);function sr(e){const r=t.useContext(ar);return e||r||"ltr"}var ir=0;function or(){t.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=r[0])&&void 0!==e?e:lr()),document.body.insertAdjacentElement("beforeend",null!==(t=r[1])&&void 0!==t?t:lr()),ir++,()=>{1===ir&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ir--}},[])}function lr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const cr=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var dr="focusScope.autoFocusOnMount",ur="focusScope.autoFocusOnUnmount",hr={bubbles:!1,cancelable:!0},mr=t.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i}=e,o=(0,_.A)(e,cr),[l,c]=t.useState(null),d=ae(s),u=ae(i),h=t.useRef(null),m=(0,E.s)(r,e=>c(e)),f=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect(()=>{if(a){let e=function(e){if(f.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:vr(h.current,{select:!0})},t=function(e){if(f.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||vr(h.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&vr(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[a,l,f.paused]),t.useEffect(()=>{if(l){xr.add(f);const t=document.activeElement;if(!l.contains(t)){const r=new CustomEvent(dr,hr);l.addEventListener(dr,d),l.dispatchEvent(r),r.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=document.activeElement;for(const n of e)if(vr(n,{select:t}),document.activeElement!==r)return}((e=fr(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&vr(l))}return()=>{l.removeEventListener(dr,d),setTimeout(()=>{const e=new CustomEvent(ur,hr);l.addEventListener(ur,u),l.dispatchEvent(e),e.defaultPrevented||vr(null!==t&&void 0!==t?t:document.body,{select:!0}),l.removeEventListener(ur,u),xr.remove(f)},0)}}var e},[l,d,u,f]);const p=t.useCallback(e=>{if(!n&&!a)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[a,s]=function(e){const t=fr(e),r=pr(t,e),n=pr(t.reverse(),e);return[r,n]}(t);a&&s?e.shiftKey||r!==s?e.shiftKey&&r===a&&(e.preventDefault(),n&&vr(s,{select:!0})):(e.preventDefault(),n&&vr(a,{select:!0})):r===t&&e.preventDefault()}},[n,a,f.paused]);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({tabIndex:-1},o),{},{ref:m,onKeyDown:p}))});function fr(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pr(e,t){for(const r of e)if(!gr(r,{upTo:t}))return r}function gr(e,t){let{upTo:r}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==r&&e===r)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function vr(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}mr.displayName="FocusScope";var xr=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null===r||void 0===r||r.pause()),e=yr(e,t),e.unshift(t)},remove(t){var r;e=yr(e,t),null===(r=e[0])||void 0===r||r.resume()}}}();function yr(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var br=n[" useId ".trim().toString()]||(()=>{}),wr=0;function jr(e){const[r,n]=t.useState(br());return ve(()=>{e||n(e=>null!==e&&void 0!==e?e:String(wr++))},[e]),e||(r?"radix-".concat(r):"")}const Nr=["top","right","bottom","left"],_r=Math.min,Sr=Math.max,kr=Math.round,Ar=Math.floor,Er=e=>({x:e,y:e}),Cr={left:"right",right:"left",bottom:"top",top:"bottom"},Or={start:"end",end:"start"};function Pr(e,t,r){return Sr(e,_r(t,r))}function Dr(e,t){return"function"===typeof e?e(t):e}function Tr(e){return e.split("-")[0]}function Rr(e){return e.split("-")[1]}function Ir(e){return"x"===e?"y":"x"}function Mr(e){return"y"===e?"height":"width"}const Lr=new Set(["top","bottom"]);function zr(e){return Lr.has(Tr(e))?"y":"x"}function Fr(e){return Ir(zr(e))}function Br(e){return e.replace(/start|end/g,e=>Or[e])}const Ur=["left","right"],qr=["right","left"],Vr=["top","bottom"],Wr=["bottom","top"];function Hr(e,t,r,n){const a=Rr(e);let s=function(e,t,r){switch(e){case"top":case"bottom":return r?t?qr:Ur:t?Ur:qr;case"left":case"right":return t?Vr:Wr;default:return[]}}(Tr(e),"start"===r,n);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(Br)))),s}function Kr(e){return e.replace(/left|right|bottom|top/g,e=>Cr[e])}function $r(e){return"number"!==typeof e?function(e){return(0,N.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Gr(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}const Yr=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Jr=["strategy"],Xr=["mainAxis","crossAxis","limiter"],Zr=["apply"];function Qr(e,t,r){let{reference:n,floating:a}=e;const s=zr(t),i=Fr(t),o=Mr(i),l=Tr(t),c="y"===s,d=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:u};break;case"left":m={x:n.x-a.width,y:u};break;default:m={x:n.x,y:n.y}}switch(Rr(t)){case"start":m[i]-=h*(r&&c?-1:1);break;case"end":m[i]+=h*(r&&c?-1:1)}return m}async function en(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:s,rects:i,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:m=0}=Dr(t,e),f=$r(m),p=o[h?"floating"===u?"reference":"floating":u],g=Gr(await s.getClippingRect({element:null==(r=await(null==s.isElement?void 0:s.isElement(p)))||r?p:p.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),y=await(null==s.isElement?void 0:s.isElement(x))&&await(null==s.getScale?void 0:s.getScale(x))||{x:1,y:1},b=Gr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-b.top+f.top)/y.y,bottom:(b.bottom-g.bottom+f.bottom)/y.y,left:(g.left-b.left+f.left)/y.x,right:(b.right-g.right+f.right)/y.x}}function tn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rn(e){return Nr.some(t=>e[t]>=0)}const nn=new Set(["left","top"]);function an(){return"undefined"!==typeof window}function sn(e){return cn(e)?(e.nodeName||"").toLowerCase():"#document"}function on(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ln(e){var t;return null==(t=(cn(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function cn(e){return!!an()&&(e instanceof Node||e instanceof on(e).Node)}function dn(e){return!!an()&&(e instanceof Element||e instanceof on(e).Element)}function un(e){return!!an()&&(e instanceof HTMLElement||e instanceof on(e).HTMLElement)}function hn(e){return!(!an()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof on(e).ShadowRoot)}const mn=new Set(["inline","contents"]);function fn(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=kn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!mn.has(a)}const pn=new Set(["table","td","th"]);function gn(e){return pn.has(sn(e))}const vn=[":popover-open",":modal"];function xn(e){return vn.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const yn=["transform","translate","scale","rotate","perspective"],bn=["transform","translate","scale","rotate","perspective","filter"],wn=["paint","layout","strict","content"];function jn(e){const t=Nn(),r=dn(e)?kn(e):e;return yn.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||bn.some(e=>(r.willChange||"").includes(e))||wn.some(e=>(r.contain||"").includes(e))}function Nn(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const _n=new Set(["html","body","#document"]);function Sn(e){return _n.has(sn(e))}function kn(e){return on(e).getComputedStyle(e)}function An(e){return dn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function En(e){if("html"===sn(e))return e;const t=e.assignedSlot||e.parentNode||hn(e)&&e.host||ln(e);return hn(t)?t.host:t}function Cn(e){const t=En(e);return Sn(t)?e.ownerDocument?e.ownerDocument.body:e.body:un(t)&&fn(t)?t:Cn(t)}function On(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=Cn(e),s=a===(null==(n=e.ownerDocument)?void 0:n.body),i=on(a);if(s){const e=Pn(i);return t.concat(i,i.visualViewport||[],fn(a)?a:[],e&&r?On(e):[])}return t.concat(a,On(a,[],r))}function Pn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Dn(e){const t=kn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=un(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,o=kr(r)!==s||kr(n)!==i;return o&&(r=s,n=i),{width:r,height:n,$:o}}function Tn(e){return dn(e)?e:e.contextElement}function Rn(e){const t=Tn(e);if(!un(t))return Er(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=Dn(t);let i=(s?kr(r.width):r.width)/n,o=(s?kr(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}const In=Er(0);function Mn(e){const t=on(e);return Nn()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:In}function Ln(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),s=Tn(e);let i=Er(1);t&&(n?dn(n)&&(i=Rn(n)):i=Rn(e));const o=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==on(e))&&t}(s,r,n)?Mn(s):Er(0);let l=(a.left+o.x)/i.x,c=(a.top+o.y)/i.y,d=a.width/i.x,u=a.height/i.y;if(s){const e=on(s),t=n&&dn(n)?on(n):n;let r=e,a=Pn(r);for(;a&&n&&t!==r;){const e=Rn(a),t=a.getBoundingClientRect(),n=kn(a),s=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=s,c+=i,r=on(a),a=Pn(r)}}return Gr({width:d,height:u,x:l,y:c})}function zn(e,t){const r=An(e).scrollLeft;return t?t.left+r:Ln(ln(e)).left+r}function Fn(e,t){const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-zn(e,r),y:r.top+t.scrollTop}}const Bn=new Set(["absolute","fixed"]);function Un(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=on(e),n=ln(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const e=Nn();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}const c=zn(n);if(c<=0){const e=n.ownerDocument,t=e.body,r=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,i=Math.abs(n.clientWidth-t.clientWidth-a);i<=25&&(s-=i)}else c<=25&&(s+=c);return{width:s,height:i,x:o,y:l}}(e,r);else if("document"===t)n=function(e){const t=ln(e),r=An(e),n=e.ownerDocument.body,a=Sr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Sr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+zn(e);const o=-r.scrollTop;return"rtl"===kn(n).direction&&(i+=Sr(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:o}}(ln(e));else if(dn(t))n=function(e,t){const r=Ln(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=un(e)?Rn(e):Er(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:n*s.y}}(t,r);else{const r=Mn(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Gr(n)}function qn(e,t){const r=En(e);return!(r===t||!dn(r)||Sn(r))&&("fixed"===kn(r).position||qn(r,t))}function Vn(e,t,r){const n=un(t),a=ln(t),s="fixed"===r,i=Ln(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=Er(0);function c(){l.x=zn(a)}if(n||!n&&!s)if(("body"!==sn(t)||fn(a))&&(o=An(t)),n){const e=Ln(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();s&&!n&&a&&c();const d=!a||n||s?Er(0):Fn(a,o);return{x:i.left+o.scrollLeft-l.x-d.x,y:i.top+o.scrollTop-l.y-d.y,width:i.width,height:i.height}}function Wn(e){return"static"===kn(e).position}function Hn(e,t){if(!un(e)||"fixed"===kn(e).position)return null;if(t)return t(e);let r=e.offsetParent;return ln(e)===r&&(r=r.ownerDocument.body),r}function Kn(e,t){const r=on(e);if(xn(e))return r;if(!un(e)){let t=En(e);for(;t&&!Sn(t);){if(dn(t)&&!Wn(t))return t;t=En(t)}return r}let n=Hn(e,t);for(;n&&gn(n)&&Wn(n);)n=Hn(n,t);return n&&Sn(n)&&Wn(n)&&!jn(n)?r:n||function(e){let t=En(e);for(;un(t)&&!Sn(t);){if(jn(t))return t;if(xn(t))return null;t=En(t)}return null}(e)||r}const $n={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s="fixed"===a,i=ln(n),o=!!t&&xn(t.floating);if(n===i||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Er(1);const d=Er(0),u=un(n);if((u||!u&&!s)&&(("body"!==sn(n)||fn(i))&&(l=An(n)),un(n))){const e=Ln(n);c=Rn(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const h=!i||u||s?Er(0):Fn(i,l);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:ln,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[..."clippingAncestors"===r?xn(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=On(e,[],!1).filter(e=>dn(e)&&"body"!==sn(e)),a=null;const s="fixed"===kn(e).position;let i=s?En(e):e;for(;dn(i)&&!Sn(i);){const t=kn(i),r=jn(i);r||"fixed"!==t.position||(a=null),(s?!r&&!a:!r&&"static"===t.position&&a&&Bn.has(a.position)||fn(i)&&!r&&qn(e,i))?n=n.filter(e=>e!==i):a=t,i=En(i)}return t.set(e,n),n}(t,this._c):[].concat(r),n],i=s[0],o=s.reduce((e,r)=>{const n=Un(t,r,a);return e.top=Sr(n.top,e.top),e.right=_r(n.right,e.right),e.bottom=_r(n.bottom,e.bottom),e.left=Sr(n.left,e.left),e},Un(t,i,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Kn,getElementRects:async function(e){const t=this.getOffsetParent||Kn,r=this.getDimensions,n=await r(e.floating);return{reference:Vn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=Dn(e);return{width:t,height:r}},getScale:Rn,isElement:dn,isRTL:function(e){return"rtl"===kn(e).direction}};function Gn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Yn(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=n,c=Tn(e),d=a||s?[...c?On(c):[],...On(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});const u=c&&o?function(e,t){let r,n=null;const a=ln(e);function s(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function i(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:m}=c;if(o||t(),!h||!m)return;const f={rootMargin:-Ar(u)+"px "+-Ar(a.clientWidth-(d+h))+"px "+-Ar(a.clientHeight-(u+m))+"px "+-Ar(d)+"px",threshold:Sr(0,_r(1,l))||1};let p=!0;function g(t){const n=t[0].intersectionRatio;if(n!==l){if(!p)return i();n?i(!1,n):r=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==n||Gn(c,e.getBoundingClientRect())||i(),p=!1}try{n=new IntersectionObserver(g,(0,N.A)((0,N.A)({},f),{},{root:a.ownerDocument}))}catch(v){n=new IntersectionObserver(g,f)}n.observe(e)}(!0),s}(c,r):null;let h,m=-1,f=null;i&&(f=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),r()}),c&&!l&&f.observe(c),f.observe(t));let p=l?Ln(e):null;return l&&function t(){const n=Ln(e);p&&!Gn(p,n)&&r();p=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==u||u(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const Jn=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:o}=t,l=await async function(e,t){const{placement:r,platform:n,elements:a}=e,s=await(null==n.isRTL?void 0:n.isRTL(a.floating)),i=Tr(r),o=Rr(r),l="y"===zr(r),c=nn.has(i)?-1:1,d=s&&l?-1:1,u=Dr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:f}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"===typeof f&&(m="end"===o?-1*f:f),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}(t,e);return i===(null==(r=o.offset)?void 0:r.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:(0,N.A)((0,N.A)({},l),{},{placement:i})}}}},Xn=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,s=Dr(e,t),{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}}}=s,c=(0,_.A)(s,Xr),d={x:r,y:n},u=await en(t,c),h=zr(Tr(a)),m=Ir(h);let f=d[m],p=d[h];if(i){const e="y"===m?"bottom":"right";f=Pr(f+u["y"===m?"top":"left"],f,f-u[e])}if(o){const e="y"===h?"bottom":"right";p=Pr(p+u["y"===h?"top":"left"],p,p-u[e])}const g=l.fn((0,N.A)((0,N.A)({},t),{},{[m]:f,[h]:p}));return(0,N.A)((0,N.A)({},g),{},{data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[h]:o}}})}}},Zn=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:c}=t,d=Dr(e,t),{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0}=d,v=(0,_.A)(d,Yr);if(null!=(r=s.arrow)&&r.alignmentOffset)return{};const x=Tr(a),y=zr(o),b=Tr(o)===o,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),j=m||(b||!g?[Kr(o)]:function(e){const t=Kr(e);return[Br(e),t,Br(t)]}(o)),N="none"!==p;!m&&N&&j.push(...Hr(o,g,p,w));const S=[o,...j],k=await en(t,v),A=[];let E=(null==(n=s.flip)?void 0:n.overflows)||[];if(u&&A.push(k[x]),h){const e=function(e,t,r){void 0===r&&(r=!1);const n=Rr(e),a=Fr(e),s=Mr(a);let i="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Kr(i)),[i,Kr(i)]}(a,i,w);A.push(k[e[0]],k[e[1]])}if(E=[...E,{placement:a,overflows:A}],!A.every(e=>e<=0)){var C,O;const e=((null==(C=s.flip)?void 0:C.index)||0)+1,t=S[e];if(t){if(!("alignment"===h&&y!==zr(t))||E.every(e=>zr(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:E},reset:{placement:t}}}let r=null==(O=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:O.placement;if(!r)switch(f){case"bestFit":{var P;const e=null==(P=E.filter(e=>{if(N){const t=zr(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(r=e);break}case"initialPlacement":r=o}if(a!==r)return{reset:{placement:r}}}return{}}}},Qn=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:o}=t,l=Dr(e,t),{apply:c=()=>{}}=l,d=(0,_.A)(l,Zr),u=await en(t,d),h=Tr(a),m=Rr(a),f="y"===zr(a),{width:p,height:g}=s.floating;let v,x;"top"===h||"bottom"===h?(v=h,x=m===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,v="end"===m?"top":"bottom");const y=g-u.top-u.bottom,b=p-u.left-u.right,w=_r(g-u[v],y),j=_r(p-u[x],b),S=!t.middlewareData.shift;let k=w,A=j;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(A=b),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(k=y),S&&!m){const e=Sr(u.left,0),t=Sr(u.right,0),r=Sr(u.top,0),n=Sr(u.bottom,0);f?A=p-2*(0!==e||0!==t?e+t:Sr(u.left,u.right)):k=g-2*(0!==r||0!==n?r+n:Sr(u.top,u.bottom))}await c((0,N.A)((0,N.A)({},t),{},{availableWidth:A,availableHeight:k}));const E=await i.getDimensions(o.floating);return p!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}},ea=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,n=Dr(e,t),{strategy:a="referenceHidden"}=n,s=(0,_.A)(n,Jr);switch(a){case"referenceHidden":{const e=tn(await en(t,(0,N.A)((0,N.A)({},s),{},{elementContext:"reference"})),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:rn(e)}}}case"escaped":{const e=tn(await en(t,(0,N.A)((0,N.A)({},s),{},{altBoundary:!0})),r.floating);return{data:{escapedOffsets:e,escaped:rn(e)}}}default:return{}}}}},ta=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=Dr(e,t)||{};if(null==c)return{};const u=$r(d),h={x:r,y:n},m=Fr(a),f=Mr(m),p=await i.getDimensions(c),g="y"===m,v=g?"top":"left",x=g?"bottom":"right",y=g?"clientHeight":"clientWidth",b=s.reference[f]+s.reference[m]-h[m]-s.floating[f],w=h[m]-s.reference[m],j=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c));let _=j?j[y]:0;_&&await(null==i.isElement?void 0:i.isElement(j))||(_=o.floating[y]||s.floating[f]);const S=b/2-w/2,k=_/2-p[f]/2-1,A=_r(u[v],k),E=_r(u[x],k),C=A,O=_-p[f]-E,P=_/2-p[f]/2+S,D=Pr(C,P,O),T=!l.arrow&&null!=Rr(a)&&P!==D&&s.reference[f]/2-(P<C?A:E)-p[f]/2<0,R=T?P<C?P-C:P-O:0;return{[m]:h[m]+R,data:(0,N.A)({[m]:D,centerOffset:P-D-R},T&&{alignmentOffset:R}),reset:T}}}),ra=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Dr(e,t),d={x:r,y:n},u=zr(a),h=Ir(u);let m=d[h],f=d[u];const p=Dr(o,t),g="number"===typeof p?{mainAxis:p,crossAxis:0}:(0,N.A)({mainAxis:0,crossAxis:0},p);if(l){const e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+g.mainAxis,r=s.reference[h]+s.reference[e]-g.mainAxis;m<t?m=t:m>r&&(m=r)}if(c){var v,x;const e="y"===h?"width":"height",t=nn.has(Tr(a)),r=s.reference[u]-s.floating[e]+(t&&(null==(v=i.offset)?void 0:v[u])||0)+(t?0:g.crossAxis),n=s.reference[u]+s.reference[e]+(t?0:(null==(x=i.offset)?void 0:x[u])||0)-(t?g.crossAxis:0);f<r?f=r:f>n&&(f=n)}return{[h]:m,[u]:f}}}},na=(e,t,r)=>{const n=new Map,a=(0,N.A)({platform:$n},r),s=(0,N.A)((0,N.A)({},a.platform),{},{_c:n});return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,o=s.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=Qr(c,n,l),h=n,m={},f=0;for(let p=0;p<o.length;p++){const{name:r,fn:s}=o[p],{x:g,y:v,data:x,reset:y}=await s({x:d,y:u,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=v?v:u,m=(0,N.A)((0,N.A)({},m),{},{[r]:(0,N.A)((0,N.A)({},m[r]),x)}),y&&f<=50&&(f++,"object"===typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:d,y:u}=Qr(c,h,l))),p=-1)}return{x:d,y:u,placement:h,strategy:a,middlewareData:m}})(e,t,(0,N.A)((0,N.A)({},a),{},{platform:s}))};var aa="undefined"!==typeof document?t.useLayoutEffect:function(){};function sa(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!sa(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(("_owner"!==r||!e.$$typeof)&&!sa(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function ia(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oa(e,t){const r=ia(e);return Math.round(t*r)/r}function la(e){const r=t.useRef(e);return aa(()=>{r.current=e}),r}const ca=(e,t)=>(0,N.A)((0,N.A)({},Jn(e)),{},{options:[e,t]}),da=(e,t)=>(0,N.A)((0,N.A)({},Xn(e)),{},{options:[e,t]}),ua=(e,t)=>(0,N.A)((0,N.A)({},ra(e)),{},{options:[e,t]}),ha=(e,t)=>(0,N.A)((0,N.A)({},Zn(e)),{},{options:[e,t]}),ma=(e,t)=>(0,N.A)((0,N.A)({},Qn(e)),{},{options:[e,t]}),fa=(e,t)=>(0,N.A)((0,N.A)({},ea(e)),{},{options:[e,t]}),pa=(e,t)=>(0,N.A)((0,N.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"===typeof e?e(t):e;return r&&function(e){return{}.hasOwnProperty.call(e,"current")}(r)?null!=r.current?ta({element:r.current,padding:n}).fn(t):{}:r?ta({element:r,padding:n}).fn(t):{}}}))(e)),{},{options:[e,t]}),ga=["children","width","height"];var va=t.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5}=e,s=(0,_.A)(e,ga);return(0,y.jsx)(re.svg,(0,N.A)((0,N.A)({},s),{},{ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,y.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});va.displayName="Arrow";var xa=va;function ya(e){const[r,n]=t.useState(void 0);return ve(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let a,s;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),r}const ba=["__scopePopper","virtualRef"],wa=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],ja=["__scopePopper"];var Na="Popper",[_a,Sa]=I(Na),[ka,Aa]=_a(Na),Ea=e=>{const{__scopePopper:r,children:n}=e,[a,s]=t.useState(null);return(0,y.jsx)(ka,{scope:r,anchor:a,onAnchorChange:s,children:n})};Ea.displayName=Na;var Ca="PopperAnchor",Oa=t.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:a}=e,s=(0,_.A)(e,ba),i=Aa(Ca,n),o=t.useRef(null),l=(0,E.s)(r,o),c=t.useRef(null);return t.useEffect(()=>{const e=c.current;c.current=(null===a||void 0===a?void 0:a.current)||o.current,e!==c.current&&i.onAnchorChange(c.current)}),a?null:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({},s),{},{ref:l}))});Oa.displayName=Ca;var Pa="PopperContent",[Da,Ta]=_a(Pa),Ra=t.forwardRef((e,r)=>{var n,a,s,i,o,l,c,d;const{__scopePopper:u,side:h="bottom",sideOffset:m=0,align:f="center",alignOffset:p=0,arrowPadding:g=0,avoidCollisions:v=!0,collisionBoundary:x=[],collisionPadding:b=0,sticky:w="partial",hideWhenDetached:j=!1,updatePositionStrategy:S="optimized",onPlaced:A}=e,C=(0,_.A)(e,wa),O=Aa(Pa,u),[P,D]=t.useState(null),T=(0,E.s)(r,e=>D(e)),[R,I]=t.useState(null),M=ya(R),L=null!==(n=null===M||void 0===M?void 0:M.width)&&void 0!==n?n:0,z=null!==(a=null===M||void 0===M?void 0:M.height)&&void 0!==a?a:0,F=h+("center"!==f?"-"+f:""),B="number"===typeof b?b:(0,N.A)({top:0,right:0,bottom:0,left:0},b),U=Array.isArray(x)?x:[x],q=U.length>0,V={padding:B,boundary:U.filter(za),altBoundary:q},{refs:W,floatingStyles:H,placement:K,isPositioned:$,middlewareData:G}=function(e){void 0===e&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=t.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[m,f]=t.useState(a);sa(m,a)||f(a);const[p,g]=t.useState(null),[v,x]=t.useState(null),y=t.useCallback(e=>{e!==_.current&&(_.current=e,g(e))},[]),b=t.useCallback(e=>{e!==S.current&&(S.current=e,x(e))},[]),w=i||p,j=o||v,_=t.useRef(null),S=t.useRef(null),A=t.useRef(u),E=null!=c,C=la(c),O=la(s),P=la(d),D=t.useCallback(()=>{if(!_.current||!S.current)return;const e={placement:r,strategy:n,middleware:m};O.current&&(e.platform=O.current),na(_.current,S.current,e).then(e=>{const t=(0,N.A)((0,N.A)({},e),{},{isPositioned:!1!==P.current});T.current&&!sa(A.current,t)&&(A.current=t,k.flushSync(()=>{h(t)}))})},[m,r,n,O,P]);aa(()=>{!1===d&&A.current.isPositioned&&(A.current.isPositioned=!1,h(e=>(0,N.A)((0,N.A)({},e),{},{isPositioned:!1})))},[d]);const T=t.useRef(!1);aa(()=>(T.current=!0,()=>{T.current=!1}),[]),aa(()=>{if(w&&(_.current=w),j&&(S.current=j),w&&j){if(C.current)return C.current(w,j,D);D()}},[w,j,D,C,E]);const R=t.useMemo(()=>({reference:_,floating:S,setReference:y,setFloating:b}),[y,b]),I=t.useMemo(()=>({reference:w,floating:j}),[w,j]),M=t.useMemo(()=>{const e={position:n,left:0,top:0};if(!I.floating)return e;const t=oa(I.floating,u.x),r=oa(I.floating,u.y);return l?(0,N.A)((0,N.A)({},e),{},{transform:"translate("+t+"px, "+r+"px)"},ia(I.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,l,I.floating,u.x,u.y]);return t.useMemo(()=>(0,N.A)((0,N.A)({},u),{},{update:D,refs:R,elements:I,floatingStyles:M}),[u,D,R,I,M])}({strategy:"fixed",placement:F,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Yn(...t,{animationFrame:"always"===S})},elements:{reference:O.anchor},middleware:[ca({mainAxis:m+z,alignmentAxis:p}),v&&da((0,N.A)({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?ua():void 0},V)),v&&ha((0,N.A)({},V)),ma((0,N.A)((0,N.A)({},V),{},{apply:e=>{let{elements:t,rects:r,availableWidth:n,availableHeight:a}=e;const{width:s,height:i}=r.reference,o=t.floating.style;o.setProperty("--radix-popper-available-width","".concat(n,"px")),o.setProperty("--radix-popper-available-height","".concat(a,"px")),o.setProperty("--radix-popper-anchor-width","".concat(s,"px")),o.setProperty("--radix-popper-anchor-height","".concat(i,"px"))}})),R&&pa({element:R,padding:g}),Fa({arrowWidth:L,arrowHeight:z}),j&&fa((0,N.A)({strategy:"referenceHidden"},V))]}),[Y,J]=Ba(K),X=ae(A);ve(()=>{$&&(null===X||void 0===X||X())},[$,X]);const Z=null===(s=G.arrow)||void 0===s?void 0:s.x,Q=null===(i=G.arrow)||void 0===i?void 0:i.y,ee=0!==(null===(o=G.arrow)||void 0===o?void 0:o.centerOffset),[te,ne]=t.useState();return ve(()=>{P&&ne(window.getComputedStyle(P).zIndex)},[P]),(0,y.jsx)("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:(0,N.A)((0,N.A)({},H),{},{transform:$?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[null===(l=G.transformOrigin)||void 0===l?void 0:l.x,null===(c=G.transformOrigin)||void 0===c?void 0:c.y].join(" ")},(null===(d=G.hide)||void 0===d?void 0:d.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,y.jsx)(Da,{scope:u,placedSide:Y,onArrowChange:I,arrowX:Z,arrowY:Q,shouldHideArrow:ee,children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({"data-side":Y,"data-align":J},C),{},{ref:T,style:(0,N.A)((0,N.A)({},C.style),{},{animation:$?void 0:"none"})}))})})});Ra.displayName=Pa;var Ia="PopperArrow",Ma={top:"bottom",right:"left",bottom:"top",left:"right"},La=t.forwardRef(function(e,t){const{__scopePopper:r}=e,n=(0,_.A)(e,ja),a=Ta(Ia,r),s=Ma[a.placedSide];return(0,y.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,y.jsx)(xa,(0,N.A)((0,N.A)({},n),{},{ref:t,style:(0,N.A)((0,N.A)({},n.style),{},{display:"block"})}))})});function za(e){return null!==e}La.displayName=Ia;var Fa=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,s,i;const{placement:o,rects:l,middlewareData:c}=t,d=0!==(null===(r=c.arrow)||void 0===r?void 0:r.centerOffset),u=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[m,f]=Ba(o),p={start:"0%",center:"50%",end:"100%"}[f],g=(null!==(n=null===(a=c.arrow)||void 0===a?void 0:a.x)&&void 0!==n?n:0)+u/2,v=(null!==(s=null===(i=c.arrow)||void 0===i?void 0:i.y)&&void 0!==s?s:0)+h/2;let x="",y="";return"bottom"===m?(x=d?p:"".concat(g,"px"),y="".concat(-h,"px")):"top"===m?(x=d?p:"".concat(g,"px"),y="".concat(l.floating.height+h,"px")):"right"===m?(x="".concat(-h,"px"),y=d?p:"".concat(v,"px")):"left"===m&&(x="".concat(l.floating.width+h,"px"),y=d?p:"".concat(v,"px")),{data:{x:x,y:y}}}});function Ba(e){const[t,r="center"]=e.split("-");return[t,r]}var Ua=Ea,qa=Oa,Va=Ra,Wa=La;const Ha=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],Ka=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var $a="rovingFocusGroup.onEntryFocus",Ga={bubbles:!1,cancelable:!0},Ya="RovingFocusGroup",[Ja,Xa,Za]=H(Ya),[Qa,es]=I(Ya,[Za]),[ts,rs]=Qa(Ya),ns=t.forwardRef((e,t)=>(0,y.jsx)(Ja.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,y.jsx)(Ja.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,y.jsx)(as,(0,N.A)((0,N.A)({},e),{},{ref:t}))})}));ns.displayName=Ya;var as=t.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1}=e,h=(0,_.A)(e,Ha),m=t.useRef(null),f=(0,E.s)(r,m),p=sr(i),[g,v]=Ne({prop:o,defaultProp:null!==l&&void 0!==l?l:null,onChange:c,caller:Ya}),[x,b]=t.useState(!1),w=ae(d),j=Xa(n),S=t.useRef(!1),[k,C]=t.useState(0);return t.useEffect(()=>{const e=m.current;if(e)return e.addEventListener($a,w),()=>e.removeEventListener($a,w)},[w]),(0,y.jsx)(ts,{scope:n,orientation:a,dir:p,loop:s,currentTabStopId:g,onItemFocus:t.useCallback(e=>v(e),[v]),onItemShiftTab:t.useCallback(()=>b(!0),[]),onFocusableItemAdd:t.useCallback(()=>C(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>C(e=>e-1),[]),children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({tabIndex:x||0===k?-1:0,"data-orientation":a},h),{},{ref:f,style:(0,N.A)({outline:"none"},e.style),onMouseDown:A(e.onMouseDown,()=>{S.current=!0}),onFocus:A(e.onFocus,e=>{const t=!S.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent($a,Ga);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=j().filter(e=>e.focusable);ls([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),u)}}S.current=!1}),onBlur:A(e.onBlur,()=>b(!1))}))})}),ss="RovingFocusGroupItem",is=t.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,children:o}=e,l=(0,_.A)(e,Ka),c=jr(),d=i||c,u=rs(ss,n),h=u.currentTabStopId===d,m=Xa(n),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:g}=u;return t.useEffect(()=>{if(a)return f(),()=>p()},[a,f,p]),(0,y.jsx)(Ja.ItemSlot,{scope:n,id:d,focusable:a,active:s,children:(0,y.jsx)(re.span,(0,N.A)((0,N.A)({tabIndex:h?0:-1,"data-orientation":u.orientation},l),{},{ref:r,onMouseDown:A(e.onMouseDown,e=>{a?u.onItemFocus(d):e.preventDefault()}),onFocus:A(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:A(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:os[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();const n=r.indexOf(e.currentTarget);r=u.loop?function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(r,n+1):r.slice(n+1)}setTimeout(()=>ls(r))}}),children:"function"===typeof o?o({isCurrentTabStop:h,hasTabStop:null!=g}):o}))})});is.displayName=ss;var os={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ls(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var cs=ns,ds=is;const us=["children"],hs=["children"];function ms(e){const r=fs(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=(0,_.A)(e,us),i=t.Children.toArray(a),o=i.find(gs);if(o){const e=o.props.children,a=i.map(r=>r===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function fs(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=(0,_.A)(e,hs);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const r=(0,N.A)({},t);for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,N.A)((0,N.A)({},a),s):"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return(0,N.A)((0,N.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(s.ref=r?(0,E.t)(r,e):e),t.cloneElement(n,s)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var ps=Symbol("radix.slottable");function gs(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ps}var vs=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},xs=new WeakMap,ys=new WeakMap,bs={},ws=0,js=function(e){return e&&(e.host||js(e.parentNode))},Ns=function(e,t,r,n){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=js(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);bs[r]||(bs[r]=new WeakMap);var s=bs[r],i=[],o=new Set,l=new Set(a),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(n),a=null!==t&&"false"!==t,l=(xs.get(e)||0)+1,c=(s.get(e)||0)+1;xs.set(e,l),s.set(e,c),i.push(e),1===l&&a&&ys.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(n,"true")}catch(u){console.error("aria-hidden: cannot operate on ",e,u)}})};return d(t),o.clear(),ws++,function(){i.forEach(function(e){var t=xs.get(e)-1,a=s.get(e)-1;xs.set(e,t),s.set(e,a),t||(ys.has(e)||e.removeAttribute(n),ys.delete(e)),a||e.removeAttribute(r)}),--ws||(xs=new WeakMap,xs=new WeakMap,ys=new WeakMap,bs={})}},_s=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||vs(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Ns(n,a,r,"aria-hidden")):function(){return null}},Ss=r(6326),ks="right-scroll-bar-position",As="width-before-scroll-bar";function Es(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var Cs="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Os=new WeakMap;function Ps(e,r){var n=function(e,r){var n=(0,t.useState)(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=r,n.facade}(r||null,function(t){return e.forEach(function(e){return Es(e,t)})});return Cs(function(){var t=Os.get(n);if(t){var r=new Set(t),a=new Set(e),s=n.current;r.forEach(function(e){a.has(e)||Es(e,null)}),a.forEach(function(e){r.has(e)||Es(e,s)})}Os.set(n,e)},[e]),n}function Ds(e){return e}function Ts(e,t){void 0===t&&(t=Ds);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var a=t(e,n);return r.push(a),function(){r=r.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var a=r;r=[],a.forEach(e),t=r}var s=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(s)};i(),r={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),r}}}}}var Rs=function(e){void 0===e&&(e={});var t=Ts(null);return t.options=(0,Ss.__assign)({async:!0,ssr:!1},e),t}(),Is=function(){},Ms=t.forwardRef(function(e,r){var n=t.useRef(null),a=t.useState({onScrollCapture:Is,onWheelCapture:Is,onTouchMoveCapture:Is}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,x=e.as,y=void 0===x?"div":x,b=e.gapMode,w=(0,Ss.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,N=Ps([n,r]),_=(0,Ss.__assign)((0,Ss.__assign)({},w),s);return t.createElement(t.Fragment,null,u&&t.createElement(j,{sideCar:Rs,removeScrollBar:d,shards:h,noRelative:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:b}),o?t.cloneElement(t.Children.only(l),(0,Ss.__assign)((0,Ss.__assign)({},_),{ref:N})):t.createElement(y,(0,Ss.__assign)({},_,{className:c,ref:N}),l))});Ms.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ms.classNames={fullWidth:As,zeroRight:ks};var Ls,zs=function(e){var r=e.sideCar,n=(0,Ss.__rest)(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return t.createElement(a,(0,Ss.__assign)({},n))};zs.isSideCarExport=!0;function Fs(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ls||r.nc;return t&&e.setAttribute("nonce",t),e}var Bs=function(){var e=0,t=null;return{add:function(r){var n,a;0==e&&(t=Fs())&&(a=r,(n=t).styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Us=function(){var e=function(){var e=Bs();return function(r,n){t.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}}();return function(t){var r=t.styles,n=t.dynamic;return e(r,n),null}},qs={left:0,top:0,right:0,gap:0},Vs=function(e){return parseInt(e||"",10)||0},Ws=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return qs;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[Vs(r),Vs(n),Vs(a)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Hs=Us(),Ks="data-scroll-locked",$s=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,o=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(o,"px ").concat(n,";\n  }\n  body[").concat(Ks,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ks," {\n    right: ").concat(o,"px ").concat(n,";\n  }\n  \n  .").concat(As," {\n    margin-right: ").concat(o,"px ").concat(n,";\n  }\n  \n  .").concat(ks," .").concat(ks," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(As," .").concat(As," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Ks,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},Gs=function(){var e=parseInt(document.body.getAttribute(Ks)||"0",10);return isFinite(e)?e:0},Ys=function(e){var r=e.noRelative,n=e.noImportant,a=e.gapMode,s=void 0===a?"margin":a;t.useEffect(function(){return document.body.setAttribute(Ks,(Gs()+1).toString()),function(){var e=Gs()-1;e<=0?document.body.removeAttribute(Ks):document.body.setAttribute(Ks,e.toString())}},[]);var i=t.useMemo(function(){return Ws(s)},[s]);return t.createElement(Hs,{styles:$s(i,!r,s,n?"":"!important")})},Js=!1;if("undefined"!==typeof window)try{var Xs=Object.defineProperty({},"passive",{get:function(){return Js=!0,!0}});window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch(XK){Js=!1}var Zs=!!Js&&{passive:!1},Qs=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},ei=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),ti(e,n)){var a=ri(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ti=function(e,t){return"v"===e?function(e){return Qs(e,"overflowY")}(t):function(e){return Qs(e,"overflowX")}(t)},ri=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},ni=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ai=function(e){return[e.deltaX,e.deltaY]},si=function(e){return e&&"current"in e?e.current:e},ii=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},oi=0,li=[];function ci(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const di=(ui=function(e){var r=t.useRef([]),n=t.useRef([0,0]),a=t.useRef(),s=t.useState(oi++)[0],i=t.useState(Us)[0],o=t.useRef(e);t.useEffect(function(){o.current=e},[e]),t.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(0,Ss.__spreadArray)([e.lockRef.current],(e.shards||[]).map(si),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var r,s=ni(e),i=n.current,l="deltaX"in e?e.deltaX:i[0]-s[0],c="deltaY"in e?e.deltaY:i[1]-s[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=window.getSelection(),m=h&&h.anchorNode;if(m&&(m===d||m.contains(d)))return!1;var f=ei(u,d);if(!f)return!0;if(f?r=u:(r="v"===u?"h":"v",f=ei(u,d)),!f)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=r),!r)return!0;var p=a.current||r;return function(e,t,r,n,a){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),i=s*n,o=r.target,l=t.contains(o),c=!1,d=i>0,u=0,h=0;do{if(!o)break;var m=ri(e,o),f=m[0],p=m[1]-m[2]-s*f;(f||p)&&ti(e,o)&&(u+=p,h+=f);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&(a&&Math.abs(u)<1||!a&&i>u)||!d&&(a&&Math.abs(h)<1||!a&&-i>h))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)},[]),c=t.useCallback(function(e){var t=e;if(li.length&&li[li.length-1]===i){var n="deltaY"in t?ai(t):ni(t),a=r.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(r=e.delta,a=n,r[0]===a[0]&&r[1]===a[1]);var r,a})[0];if(a&&a.should)t.cancelable&&t.preventDefault();else if(!a){var s=(o.current.shards||[]).map(si).filter(Boolean).filter(function(e){return e.contains(t.target)});(s.length>0?l(t,s[0]):!o.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),d=t.useCallback(function(e,t,n,a){var s={name:e,delta:t,target:n,should:a,shadowParent:ci(n)};r.current.push(s),setTimeout(function(){r.current=r.current.filter(function(e){return e!==s})},1)},[]),u=t.useCallback(function(e){n.current=ni(e),a.current=void 0},[]),h=t.useCallback(function(t){d(t.type,ai(t),t.target,l(t,e.lockRef.current))},[]),m=t.useCallback(function(t){d(t.type,ni(t),t.target,l(t,e.lockRef.current))},[]);t.useEffect(function(){return li.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Zs),document.addEventListener("touchmove",c,Zs),document.addEventListener("touchstart",u,Zs),function(){li=li.filter(function(e){return e!==i}),document.removeEventListener("wheel",c,Zs),document.removeEventListener("touchmove",c,Zs),document.removeEventListener("touchstart",u,Zs)}},[]);var f=e.removeScrollBar,p=e.inert;return t.createElement(t.Fragment,null,p?t.createElement(i,{styles:ii(s)}):null,f?t.createElement(Ys,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Rs.useMedium(ui),zs);var ui,hi=t.forwardRef(function(e,r){return t.createElement(Ms,(0,Ss.__assign)({},e,{ref:r,sideCar:di}))});hi.classNames=Ms.classNames;const mi=hi,fi=["__scopeMenu"],pi=["forceMount"],gi=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"],vi=["__scopeMenu"],xi=["__scopeMenu"],yi=["disabled","onSelect"],bi=["__scopeMenu","disabled","textValue"],wi=["checked","onCheckedChange"],ji=["value","onValueChange"],Ni=["value"],_i=["__scopeMenu","forceMount"],Si=["__scopeMenu"],ki=["__scopeMenu"],Ai=["forceMount"];var Ei=["Enter"," "],Ci=["ArrowUp","PageDown","End"],Oi=["ArrowDown","PageUp","Home",...Ci],Pi={ltr:[...Ei,"ArrowRight"],rtl:[...Ei,"ArrowLeft"]},Di={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ti="Menu",[Ri,Ii,Mi]=H(Ti),[Li,zi]=I(Ti,[Mi,Sa,es]),Fi=Sa(),Bi=es(),[Ui,qi]=Li(Ti),[Vi,Wi]=Li(Ti),Hi=e=>{const{__scopeMenu:r,open:n=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=Fi(r),[c,d]=t.useState(null),u=t.useRef(!1),h=ae(i),m=sr(s);return t.useEffect(()=>{const e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,y.jsx)(Ua,(0,N.A)((0,N.A)({},l),{},{children:(0,y.jsx)(Ui,{scope:r,open:n,onOpenChange:h,content:c,onContentChange:d,children:(0,y.jsx)(Vi,{scope:r,onClose:t.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:a})})}))};Hi.displayName=Ti;var Ki=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=(0,_.A)(e,fi),a=Fi(r);return(0,y.jsx)(qa,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Ki.displayName="MenuAnchor";var $i="MenuPortal",[Gi,Yi]=Li($i,{forceMount:void 0}),Ji=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=qi($i,t);return(0,y.jsx)(Gi,{scope:t,forceMount:r,children:(0,y.jsx)(be,{present:r||s.open,children:(0,y.jsx)(ye,{asChild:!0,container:a,children:n})})})};Ji.displayName=$i;var Xi="MenuContent",[Zi,Qi]=Li(Xi),eo=t.forwardRef((e,t)=>{const r=Yi(Xi,e.__scopeMenu),{forceMount:n=r.forceMount}=e,a=(0,_.A)(e,pi),s=qi(Xi,e.__scopeMenu),i=Wi(Xi,e.__scopeMenu);return(0,y.jsx)(Ri.Provider,{scope:e.__scopeMenu,children:(0,y.jsx)(be,{present:n||s.open,children:(0,y.jsx)(Ri.Slot,{scope:e.__scopeMenu,children:i.modal?(0,y.jsx)(to,(0,N.A)((0,N.A)({},a),{},{ref:t})):(0,y.jsx)(ro,(0,N.A)((0,N.A)({},a),{},{ref:t}))})})})}),to=t.forwardRef((e,r)=>{const n=qi(Xi,e.__scopeMenu),a=t.useRef(null),s=(0,E.s)(r,a);return t.useEffect(()=>{const e=a.current;if(e)return _s(e)},[]),(0,y.jsx)(ao,(0,N.A)((0,N.A)({},e),{},{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:A(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),ro=t.forwardRef((e,t)=>{const r=qi(Xi,e.__scopeMenu);return(0,y.jsx)(ao,(0,N.A)((0,N.A)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),no=ms("MenuContent.ScrollLock"),ao=t.forwardRef((e,r)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:p}=e,g=(0,_.A)(e,gi),v=qi(Xi,n),x=Wi(Xi,n),b=Fi(n),w=Bi(n),j=Ii(n),[S,k]=t.useState(null),C=t.useRef(null),O=(0,E.s)(r,C,v.onContentChange),P=t.useRef(0),D=t.useRef(""),T=t.useRef(0),R=t.useRef(null),I=t.useRef("right"),M=t.useRef(0),L=p?mi:t.Fragment,z=p?{as:no,allowPinchZoom:!0}:void 0,F=e=>{var t,r;const n=D.current+e,a=j().filter(e=>!e.disabled),s=document.activeElement,i=null===(t=a.find(e=>e.ref.current===s))||void 0===t?void 0:t.textValue,o=function(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0]),a=n?t[0]:t,s=r?e.indexOf(r):-1;let i=function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(e,Math.max(s,0));1===a.length&&(i=i.filter(e=>e!==r));const o=i.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return o!==r?o:void 0}(a.map(e=>e.textValue),n,i),l=null===(r=a.find(e=>e.textValue===o))||void 0===r?void 0:r.ref.current;!function e(t){D.current=t,window.clearTimeout(P.current),""!==t&&(P.current=window.setTimeout(()=>e(""),1e3))}(n),l&&setTimeout(()=>l.focus())};t.useEffect(()=>()=>window.clearTimeout(P.current),[]),or();const B=t.useCallback(e=>{var t,r;return I.current===(null===(t=R.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const e=t[s],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>n!==u>n&&r<(d-l)*(n-c)/(u-c)+l&&(a=!a)}return a}(r,t)}(e,null===(r=R.current)||void 0===r?void 0:r.area)},[]);return(0,y.jsx)(Zi,{scope:n,searchRef:D,onItemEnter:t.useCallback(e=>{B(e)&&e.preventDefault()},[B]),onItemLeave:t.useCallback(e=>{var t;B(e)||(null===(t=C.current)||void 0===t||t.focus(),k(null))},[B]),onTriggerLeave:t.useCallback(e=>{B(e)&&e.preventDefault()},[B]),pointerGraceTimerRef:T,onPointerGraceIntentChange:t.useCallback(e=>{R.current=e},[]),children:(0,y.jsx)(L,(0,N.A)((0,N.A)({},z),{},{children:(0,y.jsx)(mr,{asChild:!0,trapped:s,onMountAutoFocus:A(i,e=>{var t;e.preventDefault(),null===(t=C.current)||void 0===t||t.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,y.jsx)(ue,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:(0,y.jsx)(cs,(0,N.A)((0,N.A)({asChild:!0},w),{},{dir:x.dir,orientation:"vertical",loop:a,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:A(c,e=>{x.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,y.jsx)(Va,(0,N.A)((0,N.A)((0,N.A)({role:"menu","aria-orientation":"vertical","data-state":To(v.open),"data-radix-menu-content":"",dir:x.dir},b),g),{},{ref:O,style:(0,N.A)({outline:"none"},g.style),onKeyDown:A(g.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&F(e.key));const a=C.current;if(e.target!==a)return;if(!Oi.includes(e.key))return;e.preventDefault();const s=j().filter(e=>!e.disabled).map(e=>e.ref.current);Ci.includes(e.key)&&s.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(s)}),onBlur:A(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(P.current),D.current="")}),onPointerMove:A(e.onPointerMove,Mo(e=>{const t=e.target,r=M.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>M.current?"right":"left";I.current=t,M.current=e.clientX}}))}))}))})})}))})});eo.displayName=Xi;var so=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=(0,_.A)(e,vi);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({role:"group"},n),{},{ref:t}))});so.displayName="MenuGroup";var io=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=(0,_.A)(e,xi);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({},n),{},{ref:t}))});io.displayName="MenuLabel";var oo="MenuItem",lo="menu.itemSelect",co=t.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:a}=e,s=(0,_.A)(e,yi),i=t.useRef(null),o=Wi(oo,e.__scopeMenu),l=Qi(oo,e.__scopeMenu),c=(0,E.s)(r,i),d=t.useRef(!1);return(0,y.jsx)(uo,(0,N.A)((0,N.A)({},s),{},{ref:c,disabled:n,onClick:A(e.onClick,()=>{const e=i.current;if(!n&&e){const t=new CustomEvent(lo,{bubbles:!0,cancelable:!0});e.addEventListener(lo,e=>null===a||void 0===a?void 0:a(e),{once:!0}),ne(e,t),t.defaultPrevented?d.current=!1:o.onClose()}}),onPointerDown:t=>{var r;null===(r=e.onPointerDown)||void 0===r||r.call(e,t),d.current=!0},onPointerUp:A(e.onPointerUp,e=>{var t;d.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:A(e.onKeyDown,e=>{const t=""!==l.searchRef.current;n||t&&" "===e.key||Ei.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))});co.displayName=oo;var uo=t.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s}=e,i=(0,_.A)(e,bi),o=Qi(oo,n),l=Bi(n),c=t.useRef(null),d=(0,E.s)(r,c),[u,h]=t.useState(!1),[m,f]=t.useState("");return t.useEffect(()=>{const e=c.current;var t;e&&f((null!==(t=e.textContent)&&void 0!==t?t:"").trim())},[i.children]),(0,y.jsx)(Ri.ItemSlot,{scope:n,disabled:a,textValue:null!==s&&void 0!==s?s:m,children:(0,y.jsx)(ds,(0,N.A)((0,N.A)({asChild:!0},l),{},{focusable:!a,children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},i),{},{ref:d,onPointerMove:A(e.onPointerMove,Mo(e=>{if(a)o.onItemLeave(e);else if(o.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:A(e.onPointerLeave,Mo(e=>o.onItemLeave(e))),onFocus:A(e.onFocus,()=>h(!0)),onBlur:A(e.onBlur,()=>h(!1))}))}))})}),ho=t.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n}=e,a=(0,_.A)(e,wi);return(0,y.jsx)(bo,{scope:e.__scopeMenu,checked:r,children:(0,y.jsx)(co,(0,N.A)((0,N.A)({role:"menuitemcheckbox","aria-checked":Ro(r)?"mixed":r},a),{},{ref:t,"data-state":Io(r),onSelect:A(a.onSelect,()=>null===n||void 0===n?void 0:n(!!Ro(r)||!r),{checkForDefaultPrevented:!1})}))})});ho.displayName="MenuCheckboxItem";var mo="MenuRadioGroup",[fo,po]=Li(mo,{value:void 0,onValueChange:()=>{}}),go=t.forwardRef((e,t)=>{const{value:r,onValueChange:n}=e,a=(0,_.A)(e,ji),s=ae(n);return(0,y.jsx)(fo,{scope:e.__scopeMenu,value:r,onValueChange:s,children:(0,y.jsx)(so,(0,N.A)((0,N.A)({},a),{},{ref:t}))})});go.displayName=mo;var vo="MenuRadioItem",xo=t.forwardRef((e,t)=>{const{value:r}=e,n=(0,_.A)(e,Ni),a=po(vo,e.__scopeMenu),s=r===a.value;return(0,y.jsx)(bo,{scope:e.__scopeMenu,checked:s,children:(0,y.jsx)(co,(0,N.A)((0,N.A)({role:"menuitemradio","aria-checked":s},n),{},{ref:t,"data-state":Io(s),onSelect:A(n.onSelect,()=>{var e;return null===(e=a.onValueChange)||void 0===e?void 0:e.call(a,r)},{checkForDefaultPrevented:!1})}))})});xo.displayName=vo;var yo="MenuItemIndicator",[bo,wo]=Li(yo,{checked:!1}),jo=t.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n}=e,a=(0,_.A)(e,_i),s=wo(yo,r);return(0,y.jsx)(be,{present:n||Ro(s.checked)||!0===s.checked,children:(0,y.jsx)(re.span,(0,N.A)((0,N.A)({},a),{},{ref:t,"data-state":Io(s.checked)}))})});jo.displayName=yo;var No=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=(0,_.A)(e,Si);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({role:"separator","aria-orientation":"horizontal"},n),{},{ref:t}))});No.displayName="MenuSeparator";var _o=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=(0,_.A)(e,ki),a=Fi(r);return(0,y.jsx)(Wa,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});_o.displayName="MenuArrow";var So="MenuSub",[ko,Ao]=Li(So),Eo=e=>{const{__scopeMenu:r,children:n,open:a=!1,onOpenChange:s}=e,i=qi(So,r),o=Fi(r),[l,c]=t.useState(null),[d,u]=t.useState(null),h=ae(s);return t.useEffect(()=>(!1===i.open&&h(!1),()=>h(!1)),[i.open,h]),(0,y.jsx)(Ua,(0,N.A)((0,N.A)({},o),{},{children:(0,y.jsx)(Ui,{scope:r,open:a,onOpenChange:h,content:d,onContentChange:u,children:(0,y.jsx)(ko,{scope:r,contentId:jr(),triggerId:jr(),trigger:l,onTriggerChange:c,children:n})})}))};Eo.displayName=So;var Co="MenuSubTrigger",Oo=t.forwardRef((e,r)=>{const n=qi(Co,e.__scopeMenu),a=Wi(Co,e.__scopeMenu),s=Ao(Co,e.__scopeMenu),i=Qi(Co,e.__scopeMenu),o=t.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=t.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return t.useEffect(()=>u,[u]),t.useEffect(()=>{const e=l.current;return()=>{window.clearTimeout(e),c(null)}},[l,c]),(0,y.jsx)(Ki,(0,N.A)((0,N.A)({asChild:!0},d),{},{children:(0,y.jsx)(uo,(0,N.A)((0,N.A)({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":To(n.open)},e),{},{ref:(0,E.t)(r,s.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:A(e.onPointerMove,Mo(t=>{i.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||o.current||(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:A(e.onPointerLeave,Mo(e=>{var t;u();const r=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(r){var a;const t=null===(a=n.content)||void 0===a?void 0:a.dataset.side,s="right"===t,o=s?-5:5,c=r[s?"left":"right"],d=r[s?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+o,y:e.clientY},{x:c,y:r.top},{x:d,y:r.top},{x:d,y:r.bottom},{x:c,y:r.bottom}],side:t}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:A(e.onKeyDown,t=>{const r=""!==i.searchRef.current;var s;e.disabled||r&&" "===t.key||Pi[a.dir].includes(t.key)&&(n.onOpenChange(!0),null===(s=n.content)||void 0===s||s.focus(),t.preventDefault())})}))}))});Oo.displayName=Co;var Po="MenuSubContent",Do=t.forwardRef((e,r)=>{const n=Yi(Xi,e.__scopeMenu),{forceMount:a=n.forceMount}=e,s=(0,_.A)(e,Ai),i=qi(Xi,e.__scopeMenu),o=Wi(Xi,e.__scopeMenu),l=Ao(Po,e.__scopeMenu),c=t.useRef(null),d=(0,E.s)(r,c);return(0,y.jsx)(Ri.Provider,{scope:e.__scopeMenu,children:(0,y.jsx)(be,{present:a||i.open,children:(0,y.jsx)(Ri.Slot,{scope:e.__scopeMenu,children:(0,y.jsx)(ao,(0,N.A)((0,N.A)({id:l.contentId,"aria-labelledby":l.triggerId},s),{},{ref:d,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;o.isUsingKeyboardRef.current&&(null===(t=c.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:A(e.onFocusOutside,e=>{e.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:A(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:A(e.onKeyDown,e=>{const t=e.currentTarget.contains(e.target),r=Di[o.dir].includes(e.key);var n;t&&r&&(i.onOpenChange(!1),null===(n=l.trigger)||void 0===n||n.focus(),e.preventDefault())})}))})})})});function To(e){return e?"open":"closed"}function Ro(e){return"indeterminate"===e}function Io(e){return Ro(e)?"indeterminate":e?"checked":"unchecked"}function Mo(e){return t=>"mouse"===t.pointerType?e(t):void 0}Do.displayName=Po;var Lo=Hi,zo=Ki,Fo=Ji,Bo=eo,Uo=so,qo=io,Vo=co,Wo=ho,Ho=go,Ko=xo,$o=jo,Go=No,Yo=_o,Jo=Oo,Xo=Do;const Zo=["__scopeDropdownMenu","disabled"],Qo=["__scopeDropdownMenu"],el=["__scopeDropdownMenu"],tl=["__scopeDropdownMenu"],rl=["__scopeDropdownMenu"],nl=["__scopeDropdownMenu"],al=["__scopeDropdownMenu"],sl=["__scopeDropdownMenu"],il=["__scopeDropdownMenu"],ol=["__scopeDropdownMenu"],ll=["__scopeDropdownMenu"],cl=["__scopeDropdownMenu"],dl=["__scopeDropdownMenu"],ul=["__scopeDropdownMenu"];var hl="DropdownMenu",[ml,fl]=I(hl,[zi]),pl=zi(),[gl,vl]=ml(hl),xl=e=>{const{__scopeDropdownMenu:r,children:n,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=pl(r),d=t.useRef(null),[u,h]=Ne({prop:s,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:hl});return(0,y.jsx)(gl,{scope:r,triggerId:jr(),triggerRef:d,contentId:jr(),open:u,onOpenChange:h,onOpenToggle:t.useCallback(()=>h(e=>!e),[h]),modal:l,children:(0,y.jsx)(Lo,(0,N.A)((0,N.A)({},c),{},{open:u,onOpenChange:h,dir:a,modal:l,children:n}))})};xl.displayName=hl;var yl="DropdownMenuTrigger",bl=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1}=e,a=(0,_.A)(e,Zo),s=vl(yl,r),i=pl(r);return(0,y.jsx)(zo,(0,N.A)((0,N.A)({asChild:!0},i),{},{children:(0,y.jsx)(re.button,(0,N.A)((0,N.A)({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},a),{},{ref:(0,E.t)(t,s.triggerRef),onPointerDown:A(e.onPointerDown,e=>{n||0!==e.button||!1!==e.ctrlKey||(s.onOpenToggle(),s.open||e.preventDefault())}),onKeyDown:A(e.onKeyDown,e=>{n||(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})}))}))});bl.displayName=yl;var wl=e=>{const{__scopeDropdownMenu:t}=e,r=(0,_.A)(e,Qo),n=pl(t);return(0,y.jsx)(Fo,(0,N.A)((0,N.A)({},n),r))};wl.displayName="DropdownMenuPortal";var jl="DropdownMenuContent",Nl=t.forwardRef((e,r)=>{const{__scopeDropdownMenu:n}=e,a=(0,_.A)(e,el),s=vl(jl,n),i=pl(n),o=t.useRef(!1);return(0,y.jsx)(Bo,(0,N.A)((0,N.A)((0,N.A)({id:s.contentId,"aria-labelledby":s.triggerId},i),a),{},{ref:r,onCloseAutoFocus:A(e.onCloseAutoFocus,e=>{var t;o.current||null===(t=s.triggerRef.current)||void 0===t||t.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:A(e.onInteractOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;s.modal&&!n||(o.current=!0)}),style:(0,N.A)((0,N.A)({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});Nl.displayName=jl;var _l=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,tl),a=pl(r);return(0,y.jsx)(Uo,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});_l.displayName="DropdownMenuGroup";var Sl=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,rl),a=pl(r);return(0,y.jsx)(qo,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Sl.displayName="DropdownMenuLabel";var kl=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,nl),a=pl(r);return(0,y.jsx)(Vo,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});kl.displayName="DropdownMenuItem";var Al=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,al),a=pl(r);return(0,y.jsx)(Wo,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Al.displayName="DropdownMenuCheckboxItem";var El=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,sl),a=pl(r);return(0,y.jsx)(Ho,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});El.displayName="DropdownMenuRadioGroup";var Cl=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,il),a=pl(r);return(0,y.jsx)(Ko,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Cl.displayName="DropdownMenuRadioItem";var Ol=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,ol),a=pl(r);return(0,y.jsx)($o,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Ol.displayName="DropdownMenuItemIndicator";var Pl=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,ll),a=pl(r);return(0,y.jsx)(Go,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Pl.displayName="DropdownMenuSeparator";var Dl=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,cl),a=pl(r);return(0,y.jsx)(Yo,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Dl.displayName="DropdownMenuArrow";var Tl=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,dl),a=pl(r);return(0,y.jsx)(Jo,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Tl.displayName="DropdownMenuSubTrigger";var Rl=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=(0,_.A)(e,ul),a=pl(r);return(0,y.jsx)(Xo,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t,style:(0,N.A)((0,N.A)({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});Rl.displayName="DropdownMenuSubContent";var Il=xl,Ml=bl,Ll=wl,zl=Nl,Fl=Sl,Bl=kl,Ul=Al,ql=Cl,Vl=Ol,Wl=Pl,Hl=Tl,Kl=Rl;const $l=(0,_t.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Gl=(0,_t.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Yl=(0,_t.A)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Jl=["className","inset","children"],Xl=["className"],Zl=["className","sideOffset"],Ql=["className","inset"],ec=["className","children","checked"],tc=["className","children"],rc=["className","inset"],nc=["className"],ac=Il,sc=Ml,ic=t.forwardRef((e,t)=>{let{className:r,inset:n,children:a}=e,s=(0,_.A)(e,Jl);return(0,y.jsxs)(Hl,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",r)},s),{},{children:[a,(0,y.jsx)($l,{className:"ml-auto"})]}))});ic.displayName=Hl.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Xl);return(0,y.jsx)(Kl,(0,N.A)({ref:t,className:(0,kt.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r)},n))}).displayName=Kl.displayName;const oc=t.forwardRef((e,t)=>{let{className:r,sideOffset:n=4}=e,a=(0,_.A)(e,Zl);return(0,y.jsx)(Ll,{children:(0,y.jsx)(zl,(0,N.A)({ref:t,sideOffset:n,className:(0,kt.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r)},a))})});oc.displayName=zl.displayName;const lc=t.forwardRef((e,t)=>{let{className:r,inset:n}=e,a=(0,_.A)(e,Ql);return(0,y.jsx)(Bl,(0,N.A)({ref:t,className:(0,kt.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",n&&"pl-8",r)},a))});lc.displayName=Bl.displayName;t.forwardRef((e,t)=>{let{className:r,children:n,checked:a}=e,s=(0,_.A)(e,ec);return(0,y.jsxs)(Ul,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:a},s),{},{children:[(0,y.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,y.jsx)(Vl,{children:(0,y.jsx)(Gl,{className:"h-4 w-4"})})}),n]}))}).displayName=Ul.displayName;t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=(0,_.A)(e,tc);return(0,y.jsxs)(ql,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{},{children:[(0,y.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,y.jsx)(Vl,{children:(0,y.jsx)(Yl,{className:"h-2 w-2 fill-current"})})}),n]}))}).displayName=ql.displayName;t.forwardRef((e,t)=>{let{className:r,inset:n}=e,a=(0,_.A)(e,rc);return(0,y.jsx)(Fl,(0,N.A)({ref:t,className:(0,kt.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",r)},a))}).displayName=Fl.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,nc);return(0,y.jsx)(Wl,(0,N.A)({ref:t,className:(0,kt.cn)("-mx-1 my-1 h-px bg-muted",r)},n))}).displayName=Wl.displayName;const cc=(0,_t.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),dc=(0,_t.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var uc=r(9855);const hc=()=>{const{user:e}=(0,i.A)(),[r,n]=(0,t.useState)([]),[a,o]=(0,t.useState)(0),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null),[h,m]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if((async()=>{if(null===e||void 0===e||!e.id)return;c(!0);const{data:t,error:r}=await g.ND.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);!r&&t&&(n(t),o(t.filter(e=>!e.is_read).length)),c(!1)})(),null!==e&&void 0!==e&&e.id){const t=g.ND.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"user_id=eq.".concat(e.id)},e=>{n(t=>[e.new,...t]),o(e=>e+1)}).subscribe();return()=>{g.ND.removeChannel(t)}}},[null===e||void 0===e?void 0:e.id]);const v=async e=>{await g.ND.from("notifications").update({is_read:!0}).eq("id",e),n(t=>t.map(t=>t.id===e?(0,N.A)((0,N.A)({},t),{},{is_read:!0}):t)),o(e=>Math.max(0,e-1))},x=async e=>{await g.ND.from("notifications").delete().eq("id",e),n(t=>t.filter(t=>t.id!==e))},b=e=>{switch(e){case"new_album":return(0,y.jsx)(Jt,{className:"w-5 h-5 text-red-500"});case"new_playlist":return(0,y.jsx)(Qt,{className:"w-5 h-5 text-blue-500"});case"collaboration_invite":return(0,y.jsx)(cc,{className:"w-5 h-5 text-red-500"});default:return(0,y.jsx)(dc,{className:"w-5 h-5 text-gray-500"})}},w=e=>{const t=new Date(e),r=new Date-t,n=Math.floor(r/6e4),a=Math.floor(r/36e5),s=Math.floor(r/864e5);return n<1?"Agora":n<60?"".concat(n,"min"):a<24?"".concat(a,"h"):s<7?"".concat(s,"d"):t.toLocaleDateString("pt-BR")};return e?(0,y.jsxs)(ac,{open:f,onOpenChange:e=>{if(p(e),e){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=e+"px"}else document.body.style.overflow="auto",document.body.style.paddingRight="0px"},children:[(0,y.jsx)(sc,{asChild:!0,children:(0,y.jsxs)("button",{className:"relative p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:[(0,y.jsx)(dc,{className:"w-6 h-6"}),a>0&&(0,y.jsx)("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-red-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:a>9?"9+":a})]})}),(0,y.jsxs)(oc,{className:"bg-white w-80 max-h-96 overflow-y-auto",align:"end",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Notifica\xe7\xf5es"}),a>0&&(0,y.jsxs)("button",{onClick:async()=>{await g.ND.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1),n(e=>e.map(e=>(0,N.A)((0,N.A)({},e),{},{is_read:!0}))),o(0)},className:"text-xs text-red-600 hover:text-red-700 flex items-center gap-1",children:[(0,y.jsx)(Gl,{className:"w-3 h-3"}),"Marcar todas como lidas"]})]}),l?(0,y.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Carregando..."}):0===r.length?(0,y.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,y.jsx)(dc,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,y.jsx)("p",{children:"Nenhuma notifica\xe7\xe3o"})]}):(0,y.jsx)("div",{children:r.map(e=>(0,y.jsxs)("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-gray-50 border-b last:border-b-0 cursor-pointer ".concat(e.is_read?"":"bg-red-50"),onClick:()=>{"collaboration_invite"===e.type&&(e=>{"collaboration_invite"===e.type&&(u(e),p(!1),v(e.id),document.body.style.overflow="hidden")})(e)},children:["collaboration_invite"===e.type?(0,y.jsx)("div",{className:"flex-shrink-0",children:e.image_url?(0,y.jsx)("img",{src:e.image_url,alt:"",className:"w-12 h-12 rounded object-cover hover:opacity-80 transition-opacity"}):(0,y.jsx)("div",{className:"w-12 h-12 rounded bg-red-100 flex items-center justify-center",children:(0,y.jsx)(cc,{className:"w-5 h-5 text-red-500"})})}):(0,y.jsx)(s.N_,{to:e.link||"#",onClick:()=>v(e.id),className:"flex-shrink-0",children:e.image_url?(0,y.jsx)("img",{src:e.image_url,alt:"",className:"w-12 h-12 rounded object-cover hover:opacity-80 transition-opacity"}):(0,y.jsx)("div",{className:"w-12 h-12 rounded bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:b(e.type)})}),(0,y.jsx)("div",{className:"flex-1 min-w-0",children:"collaboration_invite"===e.type?(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.message}),(0,y.jsx)("p",{className:"text-xs text-red-600 mt-1 font-medium",children:"Clique para responder"})]}):(0,y.jsxs)(s.N_,{to:e.link||"#",onClick:()=>v(e.id),className:"block",children:[(0,y.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.message}),(0,y.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:w(e.created_at)})]})}),(0,y.jsx)("button",{onClick:t=>{t.stopPropagation(),x(e.id)},className:"p-1 text-gray-400 hover:text-red-500",children:(0,y.jsx)(uc.A,{className:"w-4 h-4"})})]},e.id))})]}),d&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:(0,y.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[(0,y.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-red-500 px-6 py-4 flex items-center justify-between",children:[(0,y.jsxs)("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[(0,y.jsx)(cc,{className:"w-5 h-5"}),"Convite de Colabora\xe7\xe3o"]}),(0,y.jsx)("button",{onClick:()=>{u(null),document.body.style.overflow="auto"},className:"text-white/80 hover:text-white",children:(0,y.jsx)(St,{className:"w-5 h-5"})})]}),(0,y.jsxs)("div",{className:"p-6",children:[d.image_url&&(0,y.jsx)("img",{src:d.image_url,alt:"Capa do \xe1lbum",className:"w-32 h-32 rounded-lg object-cover mx-auto mb-4 shadow-lg"}),(0,y.jsx)("h4",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:d.title}),(0,y.jsx)("p",{className:"text-gray-600 text-center mb-6",children:d.message}),(0,y.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,y.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Ao aceitar, este \xe1lbum aparecer\xe1 no seu perfil e seus seguidores ser\xe3o notificados."})}),(0,y.jsxs)("div",{className:"flex gap-3",children:[(0,y.jsx)(nr.$,{onClick:async()=>{if(d&&e){m(!0);try{let t=d.album_id;if(!t&&d.artist_id){const{data:r}=await g.ND.from("collaboration_invites").select("album_id").eq("invited_user_id",e.id).eq("invited_by_user_id",d.artist_id).eq("status","pending").single();r&&(t=r.album_id)}await g.ND.from("collaboration_invites").update({status:"rejected",responded_at:(new Date).toISOString()}).eq("album_id",t).eq("invited_user_id",e.id),(0,S.oR)({title:"Convite recusado",description:"Voc\xea recusou a colabora\xe7\xe3o"}),x(d.id),u(null),document.body.style.overflow="auto"}catch(t){console.error("Erro ao recusar colabora\xe7\xe3o:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel recusar a colabora\xe7\xe3o",variant:"destructive"})}finally{m(!1)}}},disabled:h,variant:"outline",className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-100",children:h?"Processando...":"Recusar"}),(0,y.jsx)(nr.$,{onClick:async()=>{if(d&&e){m(!0);try{console.log("Aceitando colabora\xe7\xe3o:",d);let t=d.album_id;if(!t&&d.artist_id){const{data:r}=await g.ND.from("collaboration_invites").select("album_id").eq("invited_user_id",e.id).eq("invited_by_user_id",d.artist_id).eq("status","pending").single();r&&(t=r.album_id)}if(!t)throw new Error("N\xe3o foi poss\xedvel identificar o \xe1lbum");const{data:r,error:n}=await g.ND.from("collaboration_invites").update({status:"accepted",responded_at:(new Date).toISOString()}).eq("album_id",t).eq("invited_user_id",e.id).select();if(console.log("Update result:",r,n),n)throw n;const{data:a}=await g.ND.from("albums").select("*, artist:artists(name, slug)").eq("id",t).single(),{data:s}=await g.ND.from("follows").select("follower_id").eq("artist_id",e.id);if(s&&s.length>0&&a){const t=s.map(t=>({user_id:t.follower_id,type:"new_album",title:"Novo \xe1lbum de ".concat(e.name||"artista"),message:"".concat(e.name||"Um artista que voc\xea segue",' participou do \xe1lbum "').concat(a.title,'"'),image_url:a.cover_url,link:"/".concat(e.slug||e.id,"/").concat(a.slug||a.id),artist_id:e.id,album_id:a.id,is_read:!1}));await g.ND.from("notifications").insert(t)}(0,S.oR)({title:"Colabora\xe7\xe3o aceita!",description:"O \xe1lbum agora aparece no seu perfil"}),x(d.id),u(null),document.body.style.overflow="auto"}catch(t){console.error("Erro ao aceitar colabora\xe7\xe3o:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel aceitar a colabora\xe7\xe3o",variant:"destructive"})}finally{m(!1)}}},disabled:h,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:h?"Processando...":"Aceitar"})]})]})]})})]}):null},mc=(0,_t.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),fc=(0,_t.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),pc=(0,_t.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gc=["children"],vc=["children"];function xc(e){const r=yc(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=(0,_.A)(e,gc),i=t.Children.toArray(a),o=i.find(wc);if(o){const e=o.props.children,a=i.map(r=>r===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function yc(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=(0,_.A)(e,vc);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const r=(0,N.A)({},t);for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,N.A)((0,N.A)({},a),s):"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return(0,N.A)((0,N.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(s.ref=r?(0,E.t)(r,e):e),t.cloneElement(n,s)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var bc=Symbol("radix.slottable");function wc(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===bc}const jc=["__scopeDialog"],Nc=["forceMount"],_c=["__scopeDialog"],Sc=["forceMount"],kc=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],Ac=["__scopeDialog"],Ec=["__scopeDialog"],Cc=["__scopeDialog"];var Oc="Dialog",[Pc,Dc]=I(Oc),[Tc,Rc]=Pc(Oc),Ic=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=t.useRef(null),c=t.useRef(null),[d,u]=Ne({prop:a,defaultProp:null!==s&&void 0!==s&&s,onChange:i,caller:Oc});return(0,y.jsx)(Tc,{scope:r,triggerRef:l,contentRef:c,contentId:jr(),titleId:jr(),descriptionId:jr(),open:d,onOpenChange:u,onOpenToggle:t.useCallback(()=>u(e=>!e),[u]),modal:o,children:n})};Ic.displayName=Oc;var Mc="DialogTrigger",Lc=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=(0,_.A)(e,jc),a=Rc(Mc,r),s=(0,E.s)(t,a.triggerRef);return(0,y.jsx)(re.button,(0,N.A)((0,N.A)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nd(a.open)},n),{},{ref:s,onClick:A(e.onClick,a.onOpenToggle)}))});Lc.displayName=Mc;var zc="DialogPortal",[Fc,Bc]=Pc(zc,{forceMount:void 0}),Uc=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:s}=e,i=Rc(zc,r);return(0,y.jsx)(Fc,{scope:r,forceMount:n,children:t.Children.map(a,e=>(0,y.jsx)(be,{present:n||i.open,children:(0,y.jsx)(ye,{asChild:!0,container:s,children:e})}))})};Uc.displayName=zc;var qc="DialogOverlay",Vc=t.forwardRef((e,t)=>{const r=Bc(qc,e.__scopeDialog),{forceMount:n=r.forceMount}=e,a=(0,_.A)(e,Nc),s=Rc(qc,e.__scopeDialog);return s.modal?(0,y.jsx)(be,{present:n||s.open,children:(0,y.jsx)(Hc,(0,N.A)((0,N.A)({},a),{},{ref:t}))}):null});Vc.displayName=qc;var Wc=xc("DialogOverlay.RemoveScroll"),Hc=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=(0,_.A)(e,_c),a=Rc(qc,r);return(0,y.jsx)(mi,{as:Wc,allowPinchZoom:!0,shards:[a.contentRef],children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({"data-state":nd(a.open)},n),{},{ref:t,style:(0,N.A)({pointerEvents:"auto"},n.style)}))})}),Kc="DialogContent",$c=t.forwardRef((e,t)=>{const r=Bc(Kc,e.__scopeDialog),{forceMount:n=r.forceMount}=e,a=(0,_.A)(e,Sc),s=Rc(Kc,e.__scopeDialog);return(0,y.jsx)(be,{present:n||s.open,children:s.modal?(0,y.jsx)(Gc,(0,N.A)((0,N.A)({},a),{},{ref:t})):(0,y.jsx)(Yc,(0,N.A)((0,N.A)({},a),{},{ref:t}))})});$c.displayName=Kc;var Gc=t.forwardRef((e,r)=>{const n=Rc(Kc,e.__scopeDialog),a=t.useRef(null),s=(0,E.s)(r,n.contentRef,a);return t.useEffect(()=>{const e=a.current;if(e)return _s(e)},[]),(0,y.jsx)(Jc,(0,N.A)((0,N.A)({},e),{},{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:A(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:A(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:A(e.onFocusOutside,e=>e.preventDefault())}))}),Yc=t.forwardRef((e,r)=>{const n=Rc(Kc,e.__scopeDialog),a=t.useRef(!1),s=t.useRef(!1);return(0,y.jsx)(Jc,(0,N.A)((0,N.A)({},e),{},{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented)||(a.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault());a.current=!1,s.current=!1},onInteractOutside:t=>{var r,i;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const o=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}}))}),Jc=t.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i}=e,o=(0,_.A)(e,kc),l=Rc(Kc,n),c=t.useRef(null),d=(0,E.s)(r,c);return or(),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(mr,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:(0,y.jsx)(ue,(0,N.A)((0,N.A)({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nd(l.open)},o),{},{ref:d,onDismiss:()=>l.onOpenChange(!1)}))}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(od,{titleId:l.titleId}),(0,y.jsx)(ld,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Xc="DialogTitle",Zc=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=(0,_.A)(e,Ac),a=Rc(Xc,r);return(0,y.jsx)(re.h2,(0,N.A)((0,N.A)({id:a.titleId},n),{},{ref:t}))});Zc.displayName=Xc;var Qc="DialogDescription",ed=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=(0,_.A)(e,Ec),a=Rc(Qc,r);return(0,y.jsx)(re.p,(0,N.A)((0,N.A)({id:a.descriptionId},n),{},{ref:t}))});ed.displayName=Qc;var td="DialogClose",rd=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=(0,_.A)(e,Cc),a=Rc(td,r);return(0,y.jsx)(re.button,(0,N.A)((0,N.A)({type:"button"},n),{},{ref:t,onClick:A(e.onClick,()=>a.onOpenChange(!1))}))});function nd(e){return e?"open":"closed"}rd.displayName=td;var ad="DialogTitleWarning",[sd,id]=function(e,r){const n=t.createContext(r),a=e=>{const{children:r}=e,a=(0,_.A)(e,T),s=t.useMemo(()=>a,Object.values(a));return(0,y.jsx)(n.Provider,{value:s,children:r})};return a.displayName=e+"Provider",[a,function(a){const s=t.useContext(n);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(a,"` must be used within `").concat(e,"`"))}]}(ad,{contentName:Kc,titleName:Xc,docsSlug:"dialog"}),od=e=>{let{titleId:r}=e;const n=id(ad),a="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return t.useEffect(()=>{if(r){document.getElementById(r)||console.error(a)}},[a,r]),null},ld=e=>{let{contentRef:r,descriptionId:n}=e;const a=id("DialogDescriptionWarning"),s="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return t.useEffect(()=>{var e;const t=null===(e=r.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(n&&t){document.getElementById(n)||console.warn(s)}},[s,r,n]),null},cd=Ic,dd=Lc,ud=Uc,hd=Vc,md=$c,fd=Zc,pd=ed,gd=rd;const vd=["className"],xd=["className","children"],yd=["className"],bd=["className"],wd=["className"],jd=["className"],Nd=cd,_d=ud,Sd=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,vd);return(0,y.jsx)(hd,(0,N.A)({ref:t,className:(0,kt.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n))});Sd.displayName=hd.displayName;const kd=t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=(0,_.A)(e,xd);return(0,y.jsxs)(_d,{children:[(0,y.jsx)(Sd,{}),(0,y.jsxs)(md,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},a),{},{children:[n,(0,y.jsxs)(gd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,y.jsx)(St,{className:"h-4 w-4"}),(0,y.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});kd.displayName=md.displayName;const Ad=e=>{let{className:t}=e,r=(0,_.A)(e,yd);return(0,y.jsx)("div",(0,N.A)({className:(0,kt.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},r))};Ad.displayName="DialogHeader";const Ed=e=>{let{className:t}=e,r=(0,_.A)(e,bd);return(0,y.jsx)("div",(0,N.A)({className:(0,kt.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},r))};Ed.displayName="DialogFooter";const Cd=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,wd);return(0,y.jsx)(fd,(0,N.A)({ref:t,className:(0,kt.cn)("text-lg font-semibold leading-none tracking-tight",r)},n))});Cd.displayName=fd.displayName;const Od=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,jd);return(0,y.jsx)(pd,(0,N.A)({ref:t,className:(0,kt.cn)("text-sm text-muted-foreground",r)},n))});Od.displayName=pd.displayName;const Pd=e=>{let{isOpen:r,onClose:n}=e;const[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),{loginWithGoogle:p}=(0,i.A)(),v=(0,y.jsxs)("div",{style:{whiteSpace:"pre-wrap",fontSize:13,lineHeight:1.6},children:[(0,y.jsx)("div",{style:{fontWeight:700,marginBottom:10},children:"AVISO LEGAL"}),(0,y.jsx)("p",{children:'O site "Ou\xe7a Aqui", oferece uma plataforma para compartilhamento e divulga\xe7\xe3o de conte\xfado musical. Ao acessar ou utilizar nossos servi\xe7os, voc\xea concorda com os Termos de Uso e a Pol\xedtica de Privacidade, os quais podem ser alterados periodicamente. Recomendamos que voc\xea os revise regularmente.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"1. Uso do Servi\xe7o"}),(0,y.jsx)("p",{children:'Usu\xe1rios: Podem acessar, ouvir, compartilhar, e criar suas playlists no "Ou\xe7a Aqui".'}),(0,y.jsx)("p",{children:"Visitantes: Podem acessar o conte\xfado dispon\xedvel para visualiza\xe7\xe3o e streaming, sem a capacidade de realizar upload. O uso da plataforma est\xe1 sujeito \xe0 cria\xe7\xe3o de uma conta, sendo de sua responsabilidade manter a seguran\xe7a da mesma."}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"2. Tipos de Conta e Funcionalidades"}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:10,marginBottom:5},children:"Usu\xe1rio:"}),(0,y.jsx)("p",{children:"Pode acessar e ouvir m\xfasicas e conte\xfados dispon\xedveis na plataforma."}),(0,y.jsx)("p",{children:"Pode compartilhar m\xfasicas com outros usu\xe1rios e criar suas pr\xf3prias playlists."}),(0,y.jsx)("p",{children:"N\xe3o tem permiss\xe3o para fazer upload de conte\xfado."}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:10,marginBottom:5},children:"Artista:"}),(0,y.jsx)("p",{children:"Pode acessar e ouvir m\xfasicas, assim como os usu\xe1rios."}),(0,y.jsx)("p",{children:"Tem a permiss\xe3o para compartilhar m\xfasicas com outros usu\xe1rios."}),(0,y.jsx)("p",{children:"Pode fazer upload de m\xfasicas e outros conte\xfados, disponibilizando-os para streaming e download pelos usu\xe1rios."}),(0,y.jsx)("p",{children:"Tem a possibilidade de gerenciar e editar seus pr\xf3prios conte\xfados dentro da plataforma."}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"3. Direitos e Responsabilidades"}),(0,y.jsx)("p",{children:'Voc\xea \xe9 o \xfanico respons\xe1vel pelo conte\xfado que enviar. Ao fazer upload de conte\xfado, concede ao "Ou\xe7a Aqui" uma licen\xe7a n\xe3o exclusiva para exibi\xe7\xe3o, reprodu\xe7\xe3o e distribui\xe7\xe3o do conte\xfado atrav\xe9s de nossa plataforma.'}),(0,y.jsx)("p",{children:"O conte\xfado enviado n\xe3o pode violar direitos de terceiros, incluindo direitos autorais, marcas registradas, privacidade ou qualquer outra legisla\xe7\xe3o vigente."}),(0,y.jsx)("p",{children:'O "Ou\xe7a Aqui" reserva-se o direito de remover qualquer conte\xfado que infrinja as leis ou que seja considerado inadequado.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"4. Modifica\xe7\xe3o do Servi\xe7o"}),(0,y.jsx)("p",{children:'O "Ou\xe7a Aqui" pode, a qualquer momento, modificar ou descontinuar servi\xe7os, funcionalidades ou recursos sem aviso pr\xe9vio, n\xe3o sendo respons\xe1vel por compensa\xe7\xf5es aos usu\xe1rios.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"5. Propriedade Intelectual"}),(0,y.jsx)("p",{children:'O conte\xfado do "Ou\xe7a Aqui", incluindo sua marca, design e funcionalidades, s\xe3o protegidos por direitos autorais e n\xe3o podem ser reproduzidos sem autoriza\xe7\xe3o pr\xe9via.'}),(0,y.jsx)("p",{children:'O conte\xfado publicado por usu\xe1rios \xe9 de sua propriedade, mas voc\xea concede ao "Ou\xe7a Aqui" uma licen\xe7a para us\xe1-lo conforme necess\xe1rio para operar a plataforma.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"6. Limita\xe7\xe3o de Responsabilidade"}),(0,y.jsx)("p",{children:'O "Ou\xe7a Aqui" n\xe3o se responsabiliza por danos diretos, indiretos, incidentais ou consequenciais relacionados ao uso da plataforma. O servi\xe7o \xe9 fornecido "como est\xe1", sem garantias expressas ou impl\xedcitas.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"7. Encerramento de Conta"}),(0,y.jsx)("p",{children:'Voc\xea pode encerrar sua conta a qualquer momento. O "Ou\xe7a Aqui" tamb\xe9m pode suspender ou encerrar sua conta caso haja viola\xe7\xe3o dos Termos de Uso.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"8. Foro"}),(0,y.jsx)("p",{children:"Qualquer disputa relacionada a estes Termos de Uso ser\xe1 resolvida no foro da cidade de S\xe3o Vicente F\xe9rrer, Pernambuco, com exclus\xe3o de qualquer outro foro."})]}),[x,b]=(0,t.useState)("user"),[w,j]=(0,t.useState)(()=>"undefined"!==typeof window&&window.innerWidth<768?4:1),[N,_]=(0,t.useState)("login"),[k,A]=(0,t.useState)(""),[E,C]=(0,t.useState)(""),[O,P]=(0,t.useState)(""),[D,T]=(0,t.useState)(""),[R,I]=(0,t.useState)(""),[M,L]=(0,t.useState)(""),[z,F]=(0,t.useState)(!1),[B,U]=(0,t.useState)(""),[q,V]=(0,t.useState)(""),[W,H]=(0,t.useState)(""),[K,$]=(0,t.useState)(""),[G,Y]=(0,t.useState)(""),[J,X]=(0,t.useState)(""),[Z,Q]=(0,t.useState)(""),[ee,te]=(0,t.useState)(!1),[re,ne]=(0,t.useState)(!1),[ae,se]=(0,t.useState)("user"),[ie,oe]=(0,t.useState)(!1),[le,ce]=(0,t.useState)(!1),[de,ue]=(0,t.useState)(""),[he,me]=(0,t.useState)(!1),fe=e=>{let{className:t="w-5 h-5"}=e;return(0,y.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,y.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,y.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})},pe=e=>{let{className:t="w-5 h-5"}=e;return(0,y.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,y.jsx)("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),(0,y.jsx)("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})},ge=e=>{let{className:t="w-5 h-5"}=e;return(0,y.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,y.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})},ve=e=>e?e.toString().normalize("NFKD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u0898-\u089F\u08C9-\u08D2\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C3C\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u1714\u1715\u1734\u17C9-\u17D3\u17DD\u1939-\u193B\u1A60\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABE\u1AC1-\u1ACB\u1ACF-\u1ADD\u1AE0-\u1AEB\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1BE6\u1BF2\u1BF3\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1D9B-\u1DBE\u1DC4-\u1DCF\u1DF5-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F1\uA7F8\uA7F9\uA806\uA82C\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDD4E\uDD69-\uDD6D\uDEFA\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC46\uDC70\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3B\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74\uDFCE-\uDFD0\uDFD2\uDFD3\uDFE1\uDFE2]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97\uDDD9\uDF41\uDF42\uDF5A]|\uD80D[\uDC47-\uDC55]|\uD818\uDD2F|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDD6B\uDD6C\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDC30-\uDC6D\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/[\s_-]+/g,"").replace(/^-+|-+$/g,""):"",xe=e=>{se(e),ne(!0)},ye=async e=>{if(e.preventDefault(),de){me(!0);try{const{error:e}=await g.ND.auth.resetPasswordForEmail(de,{redirectTo:"".concat(window.location.origin,"/reset-password")});if(e)throw e;(0,S.oR)({title:"Sucesso",description:"Verifique seu email para redefinir a senha"}),_("resetSuccess")}catch(t){(0,S.oR)({title:"Erro",description:t.message||"Erro ao enviar email de reset",variant:"destructive"})}finally{me(!1)}}else(0,S.oR)({title:"Erro",description:"Digite seu email",variant:"destructive"})},be=async e=>{if(e.preventDefault(),k&&E){s(!0);try{const{error:e}=await g.ND.auth.signInWithPassword({email:k,password:E});if(e)throw e;A(""),C(""),n()}catch(t){(0,S.oR)({title:"Erro ao fazer login",description:t.message||"Verifique suas credenciais",variant:"destructive"})}finally{s(!1)}}else(0,S.oR)({title:"Erro",description:"Preencha todos os campos",variant:"destructive"})},we=async()=>{try{await p()}catch(e){(0,S.oR)({title:"Erro",description:"Erro ao fazer login com Google",variant:"destructive"})}},je=async e=>{e.preventDefault(),O&&D&&R&&M?z?R===M?R.length<6?(0,S.oR)({title:"Erro",description:"A senha deve ter no m\xednimo 6 caracteres",variant:"destructive"}):"artist"===x?j(2):Ne():(0,S.oR)({title:"Erro",description:"As senhas n\xe3o coincidem",variant:"destructive"}):(0,S.oR)({title:"Erro",description:"Voc\xea precisa aceitar os termos de uso",variant:"destructive"}):(0,S.oR)({title:"Erro",description:"Preencha todos os campos",variant:"destructive"})},Ne=async()=>{l(!0);try{var e;const{data:t,error:r}=await g.ND.auth.signUp({email:D,password:R,options:{data:{full_name:O,user_type:x,cidade:"user"===x?"":K,estado:"user"===x?"":G,genero:"user"===x?"":J,estilo_musical:"artist"===x?Z:void 0}}});if(r)throw r;if("artist"===x&&null!==t&&void 0!==t&&null!==(e=t.user)&&void 0!==e&&e.id){const{error:e}=await g.ND.from("artists").insert({id:t.user.id,name:B,slug:q,email:D,cidade:K,estado:G,genero:J,estilo_musical:Z,bio:"",avatar_url:"",cover_url:"",followers_count:0,is_verified:!1});e&&console.error("Erro ao criar perfil:",e)}(0,S.oR)({title:"Cadastro realizado!",description:"Verifique seu email para confirmar a conta"}),j(3)}catch(t){(0,S.oR)({title:"Erro ao cadastrar",description:t.message||"Tente novamente mais tarde",variant:"destructive"})}finally{l(!1)}};return r?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:e=>{e.target===e.currentTarget&&n()},children:[(0,y.jsx)("div",{className:"md:hidden w-full max-w-full my-auto",children:"reset"===N?(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden relative",children:[(0,y.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-full z-20 transition-colors",children:(0,y.jsx)(St,{className:"w-6 h-6 text-gray-600"})}),(0,y.jsxs)("div",{className:"p-6 bg-gray-50 flex flex-col",children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recuperar Senha"}),(0,y.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Insira o seu e-mail de cadastro e enviaremos um link para recuperar a senha"}),"resetSuccess"===N?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)("div",{style:{fontSize:60,marginBottom:16,color:"#22c55e"},children:"\u2713"}),(0,y.jsx)("p",{style:{fontSize:16,fontWeight:600,color:"#1f2937",marginBottom:12},children:"Recupera\xe7\xe3o de senha"}),(0,y.jsx)("p",{style:{fontSize:14,color:"#6b7280",marginBottom:24},children:"Email enviado com sucesso!"}),(0,y.jsx)("button",{onClick:()=>{_("login"),ue("")},className:"bg-red-600 hover:bg-red-700 text-white font-bold px-6 py-2 rounded-full transition-colors text-sm",children:"OK"})]}):(0,y.jsxs)("form",{onSubmit:ye,className:"space-y-4 flex-1 flex flex-col",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsxs)("svg",{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400",stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,y.jsx)("circle",{cx:"12",cy:"12",r:"4"}),(0,y.jsx)("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"})]}),(0,y.jsx)("input",{type:"email",placeholder:"E-mail",value:de,onChange:e=>ue(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm",required:!0})]}),(0,y.jsxs)("button",{type:"submit",disabled:he,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white font-bold py-3 rounded-full transition-colors flex items-center justify-center gap-2 text-sm mt-auto",children:[he&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"ENVIAR LINK"]}),(0,y.jsx)("button",{type:"button",onClick:()=>{_("login"),ue("")},className:"text-red-600 hover:text-red-700 text-sm font-semibold",children:"Voltar ao login"})]})]})]}):(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden",children:[(0,y.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,y.jsx)("button",{onClick:()=>j(1),className:"flex-1 py-3 font-semibold text-sm transition-colors ".concat(1===w?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"),children:"Cadastrar"}),(0,y.jsx)("button",{onClick:()=>j(4),className:"flex-1 py-3 font-semibold text-sm transition-colors ".concat(4===w?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"),children:"Entrar"})]}),(0,y.jsx)("div",{className:"p-6 bg-white flex flex-col",children:1===w?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"mb-6",children:(0,y.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,y.jsx)("button",{onClick:()=>b("user"),className:"flex-1 px-3 py-2 rounded-lg font-semibold text-xs transition-colors ".concat("user"===x?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Usu\xe1rio"}),(0,y.jsx)("button",{onClick:()=>b("artist"),className:"flex-1 px-3 py-2 rounded-lg font-semibold text-xs transition-colors ".concat("artist"===x?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Artista"})]})}),(0,y.jsxs)("form",{onSubmit:je,className:"space-y-3 flex-1 flex flex-col",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(fe,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:"text",placeholder:"Nome completo",value:O,onChange:e=>P(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(pe,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:"email",placeholder:"E-mail",value:D,onChange:e=>T(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(ge,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:u?"text":"password",placeholder:"Senha",value:R,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"}),(0,y.jsx)("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(ge,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:m?"text":"password",placeholder:"Confirmar Senha",value:M,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"}),(0,y.jsx)("button",{type:"button",onClick:()=>f(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]}),(0,y.jsxs)("div",{className:"flex items-start gap-2",children:[(0,y.jsx)("input",{type:"checkbox",id:"acceptTermsMobile",checked:z,onChange:e=>{ie?F(e.target.checked):xe("user")},className:"mt-1 cursor-pointer"}),(0,y.jsxs)("label",{htmlFor:"acceptTermsMobile",className:"text-xs text-gray-700",children:["Li e aceito os"," ",(0,y.jsx)("span",{className:"text-red-600 underline cursor-pointer hover:text-red-700",onClick:()=>xe("user"),children:"termos de uso"})]})]}),(0,y.jsxs)("button",{type:"submit",disabled:o,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white font-bold py-2.5 rounded-full transition-colors flex items-center justify-center gap-2 mt-auto text-sm",children:[o&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"artist"===x?"PR\xd3XIMO":"CADASTRAR"]})]})]}):4===w?(0,y.jsxs)("form",{onSubmit:be,className:"space-y-4 flex-1 flex flex-col",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(pe,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:"email",placeholder:"E-mail",value:k,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(ge,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:c?"text":"password",placeholder:"Senha",value:E,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"}),(0,y.jsx)("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]}),(0,y.jsxs)("button",{type:"submit",disabled:a,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white font-bold py-3 rounded-full transition-colors flex items-center justify-center gap-2 mt-auto text-sm",children:[a&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"ENTRAR"]}),(0,y.jsx)("button",{type:"button",onClick:()=>_("reset"),className:"text-red-600 hover:text-red-700 text-xs font-semibold text-center",children:"ESQUECI A SENHA?"}),(0,y.jsxs)("div",{className:"relative my-3",children:[(0,y.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,y.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,y.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,y.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Ou"})})]}),(0,y.jsxs)("button",{type:"button",onClick:we,className:"w-full bg-white hover:bg-gray-100 text-black border border-gray-300 font-semibold py-2.5 rounded-full transition-colors flex items-center justify-center gap-2 text-sm",children:[(0,y.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[(0,y.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,y.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,y.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,y.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}):null})]})}),(0,y.jsx)("div",{className:"hidden md:flex md:items-center md:justify-center w-full h-full",children:(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden relative transition-all ".concat("reset"===N||2===w?"w-full max-w-2xl":"w-full max-w-5xl"," max-h-[90vh] mx-auto"),children:[(0,y.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-1 hover:bg-gray-100 rounded-full z-20 transition-colors",children:(0,y.jsx)(St,{className:"w-6 h-6 text-gray-600"})}),"reset"===N?(0,y.jsx)("div",{className:"bg-white p-8 md:p-12 min-h-[500px] flex flex-col justify-center items-center w-full max-w-2xl mx-auto",children:(0,y.jsx)("div",{className:"w-full",children:"resetSuccess"===N?(0,y.jsxs)("div",{style:{textAlign:"center"},children:[(0,y.jsx)("div",{style:{fontSize:60,marginBottom:16,color:"#22c55e"},children:"\u2713"}),(0,y.jsx)("p",{style:{fontSize:20,fontWeight:600,color:"#1f2937",marginBottom:12},children:"Recupera\xe7\xe3o de senha"}),(0,y.jsx)("p",{style:{fontSize:16,color:"#6b7280",marginBottom:32},children:"Email de recupera\xe7\xe3o de senha enviado com sucesso!"}),(0,y.jsx)("button",{onClick:()=>{_("login"),ue("")},className:"bg-red-600 hover:bg-red-700 text-white font-bold px-12 py-3 rounded-full transition-colors",children:"OK"})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h2",{className:"text-4xl font-bold text-gray-900 mb-8 text-center",children:"Recuperar Senha"}),(0,y.jsx)("p",{className:"text-lg text-gray-600 mb-10 text-center",children:"Insira o seu e-mail de cadastro e enviaremos voc\xea um link para recuperar a senha"}),(0,y.jsxs)("form",{onSubmit:ye,className:"space-y-6 w-full",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsxs)("svg",{className:"w-5 h-5 absolute left-4 top-3.5 text-gray-400",stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("circle",{cx:"12",cy:"12",r:"4"}),(0,y.jsx)("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"})]}),(0,y.jsx)("input",{type:"email",placeholder:"E-mail",value:de,onChange:e=>ue(e.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-base",required:!0})]}),(0,y.jsxs)("button",{type:"submit",disabled:he,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold py-3 rounded-full transition-colors flex items-center justify-center gap-2 text-sm",children:[he&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"ENVIAR LINK DE RECUPERA\xc7\xc3O"]}),(0,y.jsx)("button",{type:"button",onClick:()=>{_("login"),ue("")},className:"w-full text-gray-600 hover:text-gray-700 text-base font-semibold",children:"Voltar ao login"})]})]})})}):1===w?(0,y.jsxs)("div",{className:"grid grid-cols-2 min-h-[500px]",children:[(0,y.jsxs)("div",{className:"bg-white p-6 md:p-8 flex flex-col justify-center border-r border-gray-200 overflow-y-auto",children:[(0,y.jsx)("h2",{className:"text-2xl md:text-2xl font-bold text-gray-900 mb-1",children:"Cadastre-se GR\xc1TIS"}),(0,y.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Crie sua conta para acessar a plataforma"}),(0,y.jsxs)("div",{className:"mb-8",children:[(0,y.jsx)("p",{className:"text-gray-700 font-semibold text-sm mb-3",children:"Tipo de conta:"}),(0,y.jsxs)("div",{className:"flex gap-3",children:[(0,y.jsx)("button",{onClick:()=>b("user"),className:"flex-1 px-4 py-3 rounded-lg font-bold text-sm transition-colors ".concat("user"===x?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Usu\xe1rio"}),(0,y.jsx)("button",{onClick:()=>b("artist"),className:"flex-1 px-4 py-3 rounded-lg font-bold text-sm transition-colors ".concat("artist"===x?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Artista"})]})]}),(0,y.jsxs)("form",{onSubmit:je,className:"space-y-4",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(fe,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:"text",placeholder:"Nome completo",value:O,onChange:e=>P(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(pe,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:"email",placeholder:"E-mail",value:D,onChange:e=>T(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(ge,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:u?"text":"password",placeholder:"Senha",value:R,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"}),(0,y.jsx)("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(ge,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:m?"text":"password",placeholder:"Confirmar Senha",value:M,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"}),(0,y.jsx)("button",{type:"button",onClick:()=>f(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]}),(0,y.jsxs)("div",{className:"flex items-start gap-2",children:[(0,y.jsx)("input",{type:"checkbox",id:"acceptTerms",checked:z,onChange:e=>{ie?F(e.target.checked):xe("user")},className:"mt-1 cursor-pointer"}),(0,y.jsxs)("label",{htmlFor:"acceptTerms",className:"text-xs text-gray-700",children:["Li e aceito os"," ",(0,y.jsx)("span",{className:"text-red-600 underline cursor-pointer hover:text-red-700",onClick:()=>xe("user"),children:"termos de uso"}),!ie&&(0,y.jsx)("span",{className:"text-gray-500 text-xs ml-1",children:"(Abra para ler)"})]})]}),(0,y.jsxs)("button",{type:"submit",disabled:o,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold py-2.5 rounded-full transition-colors flex items-center justify-center gap-2 mt-5 text-sm",children:[o&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"artist"===x?"PR\xd3XIMO":"CADASTRAR"]})]})]}),(0,y.jsxs)("div",{className:"bg-white p-6 md:p-8 flex flex-col overflow-y-auto",children:[(0,y.jsx)("h2",{className:"text-2xl md:text-2xl font-bold text-gray-900 mb-1",children:"J\xe1 tenho uma conta"}),(0,y.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"\xa0"}),(0,y.jsx)("div",{className:"mb-6"}),(0,y.jsxs)("form",{onSubmit:be,className:"space-y-4",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(pe,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:"email",placeholder:"Endere\xe7o de e-mail ou usu\xe1rio",value:k,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(ge,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:c?"text":"password",placeholder:"Senha",value:E,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"}),(0,y.jsx)("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]})}),(0,y.jsxs)("button",{type:"submit",disabled:a,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold py-2.5 rounded-full transition-colors flex items-center justify-center gap-2 mt-5 text-sm",children:[a&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"ENTRAR"]})]}),(0,y.jsx)("button",{type:"button",onClick:()=>_("reset"),className:"text-red-600 hover:text-red-700 text-sm mt-4 font-semibold text-left",children:"ESQUECI A SENHA?"}),(0,y.jsxs)("div",{className:"relative my-6",children:[(0,y.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,y.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,y.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,y.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Ou"})})]}),(0,y.jsxs)("button",{type:"button",onClick:we,className:"w-full bg-white hover:bg-gray-100 text-black border border-gray-300 font-semibold py-3 rounded-full transition-colors flex items-center justify-center gap-2",children:[(0,y.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,y.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,y.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,y.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,y.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Fazer Login com Google"]})]})]}):2===w?(0,y.jsxs)("div",{className:"bg-white p-6 sm:p-8 md:p-12 min-h-auto max-w-2xl mx-auto max-h-[90vh] overflow-y-auto",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Informa\xe7\xf5es",(0,y.jsx)("br",{}),"B\xe1sicas"]})]}),(0,y.jsx)("div",{className:"flex-1 h-1 bg-red-600 mx-4 mb-6"}),(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full text-white flex items-center justify-center font-bold text-sm ".concat(w>=2?"bg-green-500":"bg-red-600"),children:w>=3?"\u2713":"2"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Informa\xe7\xf5es do",(0,y.jsx)("br",{}),"Artista"]})]}),(0,y.jsx)("div",{className:"flex-1 h-1 mx-4 mb-6 ".concat(w>=3?"bg-red-600":"bg-gray-300")}),(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full text-white flex items-center justify-center font-bold text-sm ".concat(w>=3?"bg-green-500":"bg-gray-300"),children:w>=3?"\u2713":"3"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Cadastro",(0,y.jsx)("br",{}),"Finalizado"]})]})]}),(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Informa\xe7\xf5es do Artista"}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!B||!q||!K||!G||!J||!Z)return void(0,S.oR)({title:"Erro",description:"Preencha todos os campos obrigat\xf3rios",variant:"destructive"});await(async e=>{if(!e)return!1;const{data:t}=await g.ND.from("artists").select("id").eq("slug",e).single();return!t})(q)?Ne():H("Este endere\xe7o j\xe1 est\xe1 em uso")},className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome (Artista/Banda)"}),(0,y.jsx)("input",{type:"text",placeholder:"Nome do artista ou banda",value:B,onChange:e=>(e=>{U(e);const t=ve(e);V(t),H("")})(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL do Perfil"}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)("span",{className:"text-gray-600 text-sm whitespace-nowrap",children:"https://oucaaqui.com/"}),(0,y.jsx)("input",{type:"text",placeholder:"seuartista",value:q,onChange:e=>{V(ve(e.target.value)),H("")},className:"flex-1 px-4 py-3 border rounded-lg focus:outline-none placeholder-gray-400 text-sm ".concat(W?"border-red-500 focus:border-red-600":"border-gray-300 focus:border-red-600")})]}),W&&(0,y.jsx)("p",{className:"text-red-500 text-xs mt-1",children:W}),q&&!W&&(0,y.jsxs)("p",{className:"text-green-600 text-xs mt-1",children:["https://oucaaqui.com/",q]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),(0,y.jsx)("input",{type:"text",placeholder:"Sua cidade",value:K,onChange:e=>$(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,y.jsxs)("select",{value:G,onChange:e=>Y(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm",children:[(0,y.jsx)("option",{value:"",children:"Selecione um estado"}),[{value:"ac",label:"Acre"},{value:"al",label:"Alagoas"},{value:"ap",label:"Amap\xe1"},{value:"am",label:"Amazonas"},{value:"ba",label:"Bahia"},{value:"ce",label:"Cear\xe1"},{value:"df",label:"Distrito Federal"},{value:"es",label:"Esp\xedrito Santo"},{value:"go",label:"Goi\xe1s"},{value:"ma",label:"Maranh\xe3o"},{value:"mt",label:"Mato Grosso"},{value:"ms",label:"Mato Grosso do Sul"},{value:"mg",label:"Minas Gerais"},{value:"pa",label:"Par\xe1"},{value:"pb",label:"Para\xedba"},{value:"pr",label:"Paran\xe1"},{value:"pe",label:"Pernambuco"},{value:"pi",label:"Piau\xed"},{value:"rj",label:"Rio de Janeiro"},{value:"rn",label:"Rio Grande do Norte"},{value:"rs",label:"Rio Grande do Sul"},{value:"ro",label:"Rond\xf4nia"},{value:"rr",label:"Roraima"},{value:"sc",label:"Santa Catarina"},{value:"sp",label:"S\xe3o Paulo"},{value:"se",label:"Sergipe"},{value:"to",label:"Tocantins"}].map(e=>(0,y.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"G\xeanero"}),(0,y.jsxs)("select",{value:J,onChange:e=>X(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm",children:[(0,y.jsx)("option",{value:"",children:"Selecione"}),(0,y.jsx)("option",{value:"masculino",children:"Masculino"}),(0,y.jsx)("option",{value:"feminino",children:"Feminino"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estilo Musical"}),(0,y.jsxs)("select",{value:Z,onChange:e=>Q(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm",children:[(0,y.jsx)("option",{value:"",children:"Selecione"}),(0,y.jsx)("option",{value:"forro",children:"Forr\xf3"}),(0,y.jsx)("option",{value:"arrocha",children:"Arrocha"}),(0,y.jsx)("option",{value:"piseiro",children:"Piseiro"}),(0,y.jsx)("option",{value:"arrochadeira",children:"Arrochadeira"}),(0,y.jsx)("option",{value:"pagode",children:"Pagode"}),(0,y.jsx)("option",{value:"sertanejo",children:"Sertanejo"}),(0,y.jsx)("option",{value:"brega-funk",children:"Brega Funk"}),(0,y.jsx)("option",{value:"variados",children:"Variados"}),(0,y.jsx)("option",{value:"samba",children:"Samba"}),(0,y.jsx)("option",{value:"funk",children:"Funk"}),(0,y.jsx)("option",{value:"axe",children:"Ax\xe9"}),(0,y.jsx)("option",{value:"reggae",children:"Reggae"}),(0,y.jsx)("option",{value:"brega",children:"Brega"}),(0,y.jsx)("option",{value:"gospel",children:"Gospel"}),(0,y.jsx)("option",{value:"rap",children:"Rap/Hip-Hop"}),(0,y.jsx)("option",{value:"pop",children:"Pop"}),(0,y.jsx)("option",{value:"mpb",children:"MPB"}),(0,y.jsx)("option",{value:"rock",children:"Rock"}),(0,y.jsx)("option",{value:"eletronica",children:"Eletr\xf4nica"}),(0,y.jsx)("option",{value:"podcast",children:"Podcast"}),(0,y.jsx)("option",{value:"trap",children:"Trap"}),(0,y.jsx)("option",{value:"frevo",children:"Frevo"})]})]}),(0,y.jsxs)("div",{className:"flex items-start gap-2",children:[(0,y.jsx)("input",{type:"checkbox",id:"acceptTermsArtist",checked:ee,onChange:e=>{le?te(e.target.checked):xe("artist")},className:"mt-1 cursor-pointer"}),(0,y.jsxs)("label",{htmlFor:"acceptTermsArtist",className:"text-xs text-gray-700",children:["Li e aceito os"," ",(0,y.jsx)("span",{className:"text-red-600 underline cursor-pointer hover:text-red-700",onClick:()=>xe("artist"),children:"termos de uso"}),!le&&(0,y.jsx)("span",{className:"text-gray-500 text-xs ml-1",children:"(Abra para ler)"})]})]}),(0,y.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,y.jsx)("button",{type:"button",onClick:()=>j(1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-900 font-bold py-3 rounded-full transition-colors",children:"VOLTAR"}),(0,y.jsxs)("button",{type:"submit",disabled:o,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold py-2.5 rounded-full transition-colors flex items-center justify-center gap-2 text-sm",children:[o&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"CADASTRAR"]})]})]})]}):3===w?(0,y.jsxs)("div",{className:"bg-white p-6 sm:p-8 md:p-12 min-h-auto max-w-2xl mx-auto max-h-[90vh] overflow-y-auto",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Informa\xe7\xf5es",(0,y.jsx)("br",{}),"B\xe1sicas"]})]}),(0,y.jsx)("div",{className:"flex-1 h-1 bg-red-600 mx-4 mb-6"}),(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Informa\xe7\xf5es do",(0,y.jsx)("br",{}),"Artista"]})]}),(0,y.jsx)("div",{className:"flex-1 h-1 bg-red-600 mx-4 mb-6"}),(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Cadastro",(0,y.jsx)("br",{}),"Finalizado"]})]})]}),(0,y.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,y.jsx)("div",{className:"w-24 h-24 rounded-full bg-green-100 flex items-center justify-center mb-6",children:(0,y.jsx)("svg",{className:"w-12 h-12 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,y.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})}),(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Cadastro finalizado com sucesso"}),(0,y.jsx)("p",{className:"text-gray-600 text-center mb-8",children:"Seu cadastro foi realizado com sucesso! Verifique seu e-mail para confirmar sua conta e come\xe7ar a usar a plataforma."}),(0,y.jsx)("button",{onClick:()=>{P(""),T(""),I(""),L(""),U(""),V(""),H(""),$(""),Y(""),X(""),Q(""),F(!1),te(!1),b("user"),j(1),n()},className:"bg-blue-500 hover:bg-blue-600 text-white font-bold px-8 py-3 rounded-lg transition-colors",children:"OK"})]})]}):null]})})]}),re&&(0,y.jsx)(Nd,{open:re,onOpenChange:ne,children:(0,y.jsxs)(kd,{style:{maxWidth:600,padding:0},children:[(0,y.jsx)(Cd,{style:{padding:"24px 24px 0 24px",fontWeight:700,fontSize:20},children:"Termos de Uso"}),(0,y.jsxs)(Od,{children:[(0,y.jsx)("div",{style:{maxHeight:"50vh",overflowY:"auto",textAlign:"left",padding:24},children:v}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:24},children:(0,y.jsx)("button",{type:"button",style:{background:"#dc2626",color:"#fff",border:"none",borderRadius:6,padding:"12px 48px",fontWeight:700,fontSize:16,cursor:"pointer"},onClick:()=>{"user"===ae?(oe(!0),F(!0)):(ce(!0),te(!0)),ne(!1)},children:"Concordo"})})]})]})})]}):null},Dd="cached_avatar",Td=e=>{try{const t=localStorage.getItem("".concat(Dd,"_").concat(e));if(t){const{url:e,timestamp:r}=JSON.parse(t);if(Date.now()-r<36e5)return e}}catch(t){}return null},Rd=(e,t)=>{try{localStorage.setItem("".concat(Dd,"_").concat(e),JSON.stringify({url:t,timestamp:Date.now()}))}catch(r){}},Id=()=>{var e;const{user:r,logout:n,isArtist:a}=(0,i.A)(),[o,c]=(0,t.useState)(()=>{if("undefined"!==typeof window&&null!==r&&void 0!==r&&r.id){const e=Td(r.id);if(e)return{avatar:e}}return null}),[d,u]=(0,t.useState)(()=>"undefined"!==typeof window&&null!==r&&void 0!==r&&r.id?Td("admin_".concat(r.id)):null),[h,m]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),v=(0,s.Zp)(),x=(0,s.zy)(),[b,w]=(0,t.useState)(""),[j,_]=(0,t.useState)(!1),[S,k]=(0,t.useState)("down"),[A,E]=(0,t.useState)(!1),C=(t.useRef(null),(null===o||void 0===o?void 0:o.avatar)||(null===r||void 0===r?void 0:r.avatar)||(null===r||void 0===r||null===(e=r.user_metadata)||void 0===e?void 0:e.avatar_url)),{imageUrl:O}=er(C,"/images/default-avatar.png"),{imageUrl:P}=er(d,"/images/default-avatar.png"),D=()=>{const e=x.pathname;n(),(e.startsWith("/artist/")||"/user/panel"===e)&&v("/")},T=!0===(null===r||void 0===r?void 0:r.isAdmin),R=[{name:"Forr\xf3",slug:"forro"},{name:"Arrocha",slug:"arrocha"},{name:"Piseiro",slug:"piseiro"},{name:"Arrochadeira",slug:"arrochadeira"},{name:"Pagode",slug:"pagode"},{name:"Sertanejo",slug:"sertanejo"},{name:"Brega Funk",slug:"brega-funk"},{name:"Variados",slug:"variados"},{name:"Samba",slug:"samba"},{name:"Funk",slug:"funk"},{name:"Ax\xe9",slug:"axe"},{name:"Reggae",slug:"reggae"},{name:"Brega",slug:"brega"},{name:"Gospel",slug:"gospel"},{name:"Rap/Hip-Hop",slug:"rap-hip-hop"},{name:"Pop",slug:"pop"},{name:"MPB",slug:"mpb"},{name:"Rock",slug:"rock"},{name:"Eletr\xf4nica",slug:"eletronica"},{name:"Trap",slug:"trap"},{name:"Frevo",slug:"frevo"}],I=j?R:R.slice(0,14);(0,t.useEffect)(()=>{(async()=>{if(null!==r&&void 0!==r&&r.id&&a){const e=Td(r.id);!e||null!==o&&void 0!==o&&o.id||c(t=>(0,N.A)((0,N.A)({},t),{},{avatar:e}));const{data:t}=await g.ND.from("artists").select("id, slug, name, avatar_url").eq("id",r.id).maybeSingle();if(t){const e=t.avatar_url||"/images/default-avatar.png";Rd(r.id,e),c({id:t.id,slug:t.slug,name:t.name,avatar:e})}else{const e=l.find(e=>e.userId===r.id||String(e.userId)===String(r.id));e&&c(e)}}})()},[null===r||void 0===r?void 0:r.id,a]),(0,t.useEffect)(()=>{(async()=>{if(null!==r&&void 0!==r&&r.id&&T){const e=Td("admin_".concat(r.id));e&&!d&&u(e);const{data:t}=await g.ND.from("admin_users").select("avatar_url").eq("id",r.id).maybeSingle();null!==t&&void 0!==t&&t.avatar_url?(Rd("admin_".concat(r.id),t.avatar_url),u(t.avatar_url)):null!==r&&void 0!==r&&r.avatar&&u(r.avatar)}})()},[null===r||void 0===r?void 0:r.id,T,null===r||void 0===r?void 0:r.avatar]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("header",{className:"hidden md:block bg-red-600 shadow-lg sticky top-0 z-50",children:(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,y.jsxs)("div",{className:"flex items-center justify-between h-16 gap-6",children:[(0,y.jsx)(s.N_,{to:"/",className:"flex items-center flex-shrink-0",children:(0,y.jsx)("img",{src:"/images/Logo-escutai.png",alt:"Escuta\xed",className:"max-h-12 w-auto h-auto"})}),(0,y.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,y.jsx)(s.N_,{to:"/lancamentos",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"Lan\xe7amentos"}),(0,y.jsx)(s.N_,{to:"/artists",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"Artistas"}),(0,y.jsx)(s.N_,{to:"/sobre",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"Sobre"}),(0,y.jsxs)(ac,{modal:!1,onOpenChange:e=>{E(e),e||_(!1)},children:[(0,y.jsxs)(sc,{className:"text-white hover:text-gray-200 font-medium transition-colors flex items-center gap-1",children:["G\xeaneros ",(0,y.jsx)(Wt,{className:"w-4 h-4 translate-y-0.5 transition-transform duration-200 ".concat(A?"rotate-180":"")})]}),(0,y.jsxs)(oc,{className:"bg-white w-48",children:[I.map(e=>(0,y.jsx)(lc,{className:"cursor-pointer hover:bg-red-50 hover:text-red-600 p-0",asChild:!0,children:(0,y.jsx)(s.N_,{to:"/genero/".concat(e.slug),className:"w-full px-2 py-1.5 block",children:e.name})},e.slug)),!j&&R.length>14&&(0,y.jsx)("div",{onMouseEnter:()=>_(!0),className:"w-full py-2 flex items-center justify-center text-gray-400 border-t cursor-pointer hover:text-red-600 transition-colors",children:(0,y.jsx)(Wt,{className:"w-5 h-5"})})]})]})]}),(0,y.jsx)("form",{onSubmit:e=>{e.preventDefault(),b.trim()&&v("/search?q=".concat(b))},className:"hidden lg:flex items-center flex-1 max-w-sm",children:(0,y.jsxs)("div",{className:"relative w-full",children:[(0,y.jsx)(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),(0,y.jsx)(rr,{type:"text",placeholder:"Busque por artistas, \xe1lbuns...",value:b,onChange:e=>w(e.target.value),className:"pl-9 pr-3 py-2 bg-white border-0 text-gray-900 placeholder:text-gray-500 rounded-full shadow-sm focus:ring-2 focus:ring-white/50"})]})}),(0,y.jsxs)("div",{className:"flex items-center space-x-4",children:[r&&(0,y.jsx)(hc,{}),r?(0,y.jsxs)(ac,{modal:!1,children:[(0,y.jsx)(sc,{asChild:!0,children:(0,y.jsxs)("button",{className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[(0,y.jsx)("img",{src:T?P:O,alt:T?"Administrador":(null===o||void 0===o?void 0:o.name)||(null===r||void 0===r?void 0:r.name),className:"w-8 h-8 rounded-full object-cover",loading:"eager",decoding:"async",onError:e=>{"/images/default-avatar.png"!==e.target.src&&(e.target.src="/images/default-avatar.png")}}),(0,y.jsx)("span",{className:"text-white font-medium hidden md:block",children:T?h||"Ou\xe7a Aqui":r.name})]})}),(0,y.jsx)(oc,{className:"bg-white w-80 sm:w-96",children:T?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(lc,{onClick:()=>v("/admin"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Kt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Painel Admin"})]}),(0,y.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,y.jsxs)(lc,{onClick:D,className:"cursor-pointer flex items-center gap-3 py-3 text-red-600",children:[(0,y.jsx)($t,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Sair"})]})]}):a?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(lc,{onClick:()=>v("/".concat((null===o||void 0===o?void 0:o.slug)||(null===o||void 0===o?void 0:o.id)||"a1")),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Gt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Meu Perfil"})]}),(0,y.jsxs)(lc,{onClick:()=>v("/artist/upload"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Yt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Novo Upload"})]}),(0,y.jsxs)(lc,{onClick:()=>v("/artist/albums"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Jt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Meus \xc1lbuns"})]}),(0,y.jsxs)(lc,{onClick:()=>v("/artist/dashboard"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Xt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Estat\xedsticas"})]}),(0,y.jsxs)(lc,{onClick:()=>v("/artist/settings"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Kt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,y.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,y.jsxs)(lc,{onClick:D,className:"cursor-pointer flex items-center gap-3 py-3 text-red-600",children:[(0,y.jsx)($t,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Sair"})]})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(lc,{onClick:()=>v("/user/panel"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Kt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Meu Painel"})]}),(0,y.jsxs)(lc,{onClick:()=>v("/favorites"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Zt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Favoritos"})]}),(0,y.jsxs)(lc,{onClick:()=>v("/playlists"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,y.jsx)(Qt,{className:"w-5 h-5 text-gray-500"}),(0,y.jsx)("span",{children:"Playlists"})]}),(0,y.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,y.jsxs)(lc,{onClick:D,className:"cursor-pointer flex items-center gap-3 py-3 text-red-600",children:[(0,y.jsx)($t,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Sair"})]})]})})]}):(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)(nr.$,{onClick:()=>p(!0),variant:"outline",className:"border-white text-white hover:bg-white hover:text-red-600",children:"Entrar"}),(0,y.jsx)(nr.$,{onClick:()=>p(!0),className:"bg-white text-red-600 hover:bg-gray-100",children:"Cadastrar"})]})]})]})})}),(0,y.jsx)(Pd,{isOpen:f,onClose:()=>p(!1)})]})},Md=(0,_t.A)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Ld=(0,_t.A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var zd=r(2574);const Fd=(0,_t.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Bd=()=>{const{user:e,logout:r,isArtist:n}=(0,i.A)(),a=(0,s.Zp)(),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{if(null!==e&&void 0!==e&&e.id&&n)try{const{data:t}=await g.ND.from("artists").select("id, avatar_url").eq("id",e.id).maybeSingle();null!==t&&void 0!==t&&t.avatar_url&&d(t.avatar_url)}catch(t){console.error("Erro ao carregar avatar do artista:",t)}})()},[null===e||void 0===e?void 0:e.id,n]);const m=e=>{a(e),h(!1)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("header",{className:"bg-red-600 shadow-lg sticky top-0 z-50 md:hidden",children:(0,y.jsxs)("div",{className:"px-4 h-16 flex items-center justify-between md:hidden",children:[(0,y.jsx)(s.N_,{to:"/",className:"flex items-center flex-shrink-0",children:(0,y.jsx)("img",{src:"/images/Logo-escutai.png",alt:"Escuta\xed",className:"max-h-10 w-auto"})}),(0,y.jsxs)("div",{className:"relative",children:[e?(0,y.jsx)("button",{onClick:()=>h(!u),className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white hover:opacity-80 transition-opacity flex-shrink-0",title:e.name,children:(0,y.jsx)("img",{src:c||e.avatar,alt:e.name,className:"w-full h-full object-cover",onError:e=>{"/images/default-avatar.png"!==e.target.src&&(e.target.src="/images/default-avatar.png")}})}):(0,y.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center gap-2 text-white font-medium text-sm hover:opacity-80 transition-opacity",children:["ENTRAR",(0,y.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:"text-white w-4 h-4",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"})})]}),u&&e&&(0,y.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50 max-h-[80vh] overflow-y-auto",children:[(0,y.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,y.jsxs)("button",{onClick:()=>m(n?"/artist/dashboard":"/user/panel"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full",children:[(0,y.jsx)(Gt,{className:"w-5 h-5"}),(0,y.jsx)("span",{className:"font-semibold",children:"Meu Perfil"})]})}),n&&(0,y.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,y.jsx)("p",{className:"text-xs text-gray-500 font-semibold mb-2",children:"ADICIONAR"}),(0,y.jsxs)("button",{onClick:()=>m("/artist/upload"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-2",children:[(0,y.jsx)(Yt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Novo Upload"})]})]}),(0,y.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,y.jsx)("p",{className:"text-xs text-gray-500 font-semibold mb-2",children:"EDITAR PERFIL"}),(0,y.jsx)("div",{className:"space-y-2",children:n?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("button",{onClick:()=>m("/artist/albums"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(Md,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"CDS/SINGLES"})]}),(0,y.jsxs)("button",{onClick:()=>m("/artist/playlists"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(Qt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Minhas Playlists"})]}),(0,y.jsxs)("button",{onClick:()=>m("/artist/favoritos"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(Zt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Favoritos"})]}),(0,y.jsxs)("button",{onClick:()=>m("/artist/meus-videos"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(Ld,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Meus V\xeddeos"})]})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("button",{onClick:()=>m("/playlists"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(Qt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Minhas Playlists"})]}),(0,y.jsxs)("button",{onClick:()=>m("/favorites"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(Zt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Favoritos"})]})]})})]}),n&&(0,y.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,y.jsx)("p",{className:"text-xs text-gray-500 font-semibold mb-2",children:"COMUNICA\xc7\xc3O"}),(0,y.jsxs)("button",{onClick:()=>m("/artist/support"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(zd.A,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Suporte"})]})]}),(0,y.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,y.jsx)("p",{className:"text-xs text-gray-500 font-semibold mb-2",children:"DASHBOARD"}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsxs)("button",{onClick:()=>m(n?"/artist/settings":"/user/panel"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(Kt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,y.jsxs)("button",{onClick:()=>m(n?"/artist/email-senha":"/user/panel"),className:"flex items-center gap-3 text-gray-700 hover:text-red-600 w-full py-1 text-sm",children:[(0,y.jsx)(Fd,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Email e senha"})]})]})]}),(0,y.jsx)("div",{className:"p-4",children:(0,y.jsxs)("button",{onClick:()=>{r(),h(!1)},className:"flex items-center gap-3 text-red-600 hover:text-red-700 w-full font-semibold",children:[(0,y.jsx)($t,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Sair"})]})})]})]})]})}),(0,y.jsx)(Pd,{isOpen:o,onClose:()=>l(!1)})]})},Ud=(0,_t.A)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),qd=(0,_t.A)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Vd=(0,_t.A)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Wd=(0,_t.A)("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Hd=()=>(0,y.jsxs)("footer",{className:"hidden md:block bg-black text-white pt-10",children:[(0,y.jsxs)("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 px-5 justify-items-center text-center md:text-left md:justify-items-start",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"font-bold mb-4",children:"EXPLORAR"}),(0,y.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,y.jsx)("li",{children:(0,y.jsx)(s.N_,{to:"/lancamentos",className:"hover:underline",children:"Lan\xe7amentos"})}),(0,y.jsx)("li",{children:(0,y.jsx)(s.N_,{to:"/artistas",className:"hover:underline",children:"Artistas"})}),(0,y.jsx)("li",{children:(0,y.jsx)(s.N_,{to:"/top-cds",className:"hover:underline",children:"Top CDs"})})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"font-bold mb-4",children:"OU\xc7A AQUI"}),(0,y.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,y.jsx)("li",{children:(0,y.jsx)(s.N_,{to:"/sobre",className:"hover:underline",children:"Sobre"})}),(0,y.jsx)("li",{children:(0,y.jsx)(s.N_,{to:"/politicas?tab=privacy",className:"hover:underline",children:"Pol\xedtica de Privacidade"})}),(0,y.jsx)("li",{children:(0,y.jsx)(s.N_,{to:"/politicas?tab=terms",className:"hover:underline",children:"Termos de Uso"})}),(0,y.jsx)("li",{children:(0,y.jsx)(s.N_,{to:"/politicas?tab=intellectual",className:"hover:underline",children:"Pol\xedtica de Prote\xe7\xe3o da Propriedade Intelectual"})}),(0,y.jsx)("li",{children:(0,y.jsx)(s.N_,{to:"/politicas?tab=report",className:"hover:underline",children:"Den\xfancia de Conte\xfado"})})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"font-bold mb-4",children:"CONECTE-SE AO OU\xc7A AQUI"}),(0,y.jsxs)("div",{className:"flex space-x-3",children:[(0,y.jsx)("a",{href:"#",className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:(0,y.jsx)(Ud,{className:"w-5 h-5 text-white"})}),(0,y.jsx)("a",{href:"#",className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:(0,y.jsx)(qd,{className:"w-5 h-5 text-white"})}),(0,y.jsx)("a",{href:"#",className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:(0,y.jsx)(Vd,{className:"w-5 h-5 text-white"})}),(0,y.jsx)("a",{href:"#",className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:(0,y.jsx)(Wd,{className:"w-5 h-5 text-white"})})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"font-bold mb-4",children:"APLICATIVOS"}),(0,y.jsxs)("a",{href:"#",className:"bg-white hover:opacity-80 rounded-full flex items-center px-7 py-2.5 w-fit",children:[(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"#DC2626",className:"w-5 h-5 mr-3",children:(0,y.jsx)("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"})}),(0,y.jsxs)("span",{className:"text-black leading-none",children:[(0,y.jsx)("span",{className:"block text-xs",children:"Download:"}),(0,y.jsx)("span",{className:"font-bold text-sm",children:"App Store"})]})]})]})]}),(0,y.jsx)("div",{className:"w-full bg-black text-sm text-center py-4 mt-10 border-t border-gray-800",children:(0,y.jsx)("p",{children:"\xa9 2025 Ou\xe7a Aqui. F\xe1cil de ouvir, r\xe1pido para baixar."})})]}),Kd=(0,_t.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),$d=(0,_t.A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Gd=(0,_t.A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Yd=(0,_t.A)("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Jd=(0,_t.A)("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]),Xd=(0,_t.A)("skip-back",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),Zd=(0,_t.A)("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),Qd=(0,_t.A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),eu=(0,_t.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),tu=(0,_t.A)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),ru=(0,_t.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);function nu(e,t){let[r,n]=t;return Math.min(n,Math.max(r,e))}function au(e){const r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}const su=["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"],iu=["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"],ou=["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"],lu=["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"],cu=["__scopeSlider"],du=["__scopeSlider"],uu=["__scopeSlider","index","name"],hu=["__scopeSlider","value"];var mu=["PageUp","PageDown"],fu=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pu={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},gu="Slider",[vu,xu,yu]=H(gu),[bu,wu]=I(gu,[yu]),[ju,Nu]=bu(gu),_u=t.forwardRef((e,r)=>{const{name:n,min:a=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:f=!1,form:p}=e,g=(0,_.A)(e,su),v=t.useRef(new Set),x=t.useRef(0),b="horizontal"===o?Au:Eu,[w=[],j]=Ne({prop:u,defaultProp:d,onChange:e=>{var t;null===(t=[...v.current][x.current])||void 0===t||t.focus(),h(e)}}),S=t.useRef(w);function k(e,t){let{commit:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1};const n=function(e){return(String(e).split(".")[1]||"").length}(i),o=function(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-a)/i)*i+a,n),l=nu(o,[a,s]);j(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;const n=[...e];return n[r]=t,n.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const r=function(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}(e);return Math.min(...r)>=t}return!0}(n,c*i)){x.current=n.indexOf(l);const t=String(n)!==String(e);return t&&r&&m(n),t?n:e}return e})}return(0,y.jsx)(ju,{scope:e.__scopeSlider,name:n,disabled:l,min:a,max:s,valueIndexToChangeRef:x,thumbs:v.current,values:w,orientation:o,form:p,children:(0,y.jsx)(vu.Provider,{scope:e.__scopeSlider,children:(0,y.jsx)(vu.Slot,{scope:e.__scopeSlider,children:(0,y.jsx)(b,(0,N.A)((0,N.A)({"aria-disabled":l,"data-disabled":l?"":void 0},g),{},{ref:r,onPointerDown:A(g.onPointerDown,()=>{l||(S.current=w)}),min:a,max:s,inverted:f,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const r=e.map(e=>Math.abs(e-t)),n=Math.min(...r);return r.indexOf(n)}(w,e);k(e,t)},onSlideMove:l?void 0:function(e){k(e,x.current)},onSlideEnd:l?void 0:function(){const e=S.current[x.current];w[x.current]!==e&&m(w)},onHomeKeyDown:()=>!l&&k(a,0,{commit:!0}),onEndKeyDown:()=>!l&&k(s,w.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:r}=e;if(!l){const e=mu.includes(t.key)||t.shiftKey&&fu.includes(t.key)?10:1,n=x.current;k(w[n]+i*e*r,n,{commit:!0})}}}))})})})});_u.displayName=gu;var[Su,ku]=bu(gu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Au=t.forwardRef((e,r)=>{const{min:n,max:a,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d}=e,u=(0,_.A)(e,iu),[h,m]=t.useState(null),f=(0,E.s)(r,e=>m(e)),p=t.useRef(void 0),g=sr(s),v="ltr"===g,x=v&&!i||!v&&i;function b(e){const t=p.current||h.getBoundingClientRect(),r=Fu([0,t.width],x?[n,a]:[a,n]);return p.current=t,r(e-t.left)}return(0,y.jsx)(Su,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:(0,y.jsx)(Cu,(0,N.A)((0,N.A)({dir:g,"data-orientation":"horizontal"},u),{},{ref:f,style:(0,N.A)((0,N.A)({},u.style),{},{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:e=>{const t=b(e.clientX);null===o||void 0===o||o(t)},onSlideMove:e=>{const t=b(e.clientX);null===l||void 0===l||l(t)},onSlideEnd:()=>{p.current=void 0,null===c||void 0===c||c()},onStepKeyDown:e=>{const t=pu[x?"from-left":"from-right"].includes(e.key);null===d||void 0===d||d({event:e,direction:t?-1:1})}}))})}),Eu=t.forwardRef((e,r)=>{const{min:n,max:a,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c}=e,d=(0,_.A)(e,ou),u=t.useRef(null),h=(0,E.s)(r,u),m=t.useRef(void 0),f=!s;function p(e){const t=m.current||u.current.getBoundingClientRect(),r=Fu([0,t.height],f?[a,n]:[n,a]);return m.current=t,r(e-t.top)}return(0,y.jsx)(Su,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:(0,y.jsx)(Cu,(0,N.A)((0,N.A)({"data-orientation":"vertical"},d),{},{ref:h,style:(0,N.A)((0,N.A)({},d.style),{},{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:e=>{const t=p(e.clientY);null===i||void 0===i||i(t)},onSlideMove:e=>{const t=p(e.clientY);null===o||void 0===o||o(t)},onSlideEnd:()=>{m.current=void 0,null===l||void 0===l||l()},onStepKeyDown:e=>{const t=pu[f?"from-bottom":"from-top"].includes(e.key);null===c||void 0===c||c({event:e,direction:t?-1:1})}}))})}),Cu=t.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:o,onStepKeyDown:l}=e,c=(0,_.A)(e,lu),d=Nu(gu,r);return(0,y.jsx)(re.span,(0,N.A)((0,N.A)({},c),{},{ref:t,onKeyDown:A(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):mu.concat(fu).includes(e.key)&&(l(e),e.preventDefault())}),onPointerDown:A(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():n(e)}),onPointerMove:A(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:A(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})}))}),Ou="SliderTrack",Pu=t.forwardRef((e,t)=>{const{__scopeSlider:r}=e,n=(0,_.A)(e,cu),a=Nu(Ou,r);return(0,y.jsx)(re.span,(0,N.A)((0,N.A)({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},n),{},{ref:t}))});Pu.displayName=Ou;var Du="SliderRange",Tu=t.forwardRef((e,r)=>{const{__scopeSlider:n}=e,a=(0,_.A)(e,du),s=Nu(Du,n),i=ku(Du,n),o=t.useRef(null),l=(0,E.s)(r,o),c=s.values.length,d=s.values.map(e=>zu(e,s.min,s.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return(0,y.jsx)(re.span,(0,N.A)((0,N.A)({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},a),{},{ref:l,style:(0,N.A)((0,N.A)({},e.style),{},{[i.startEdge]:u+"%",[i.endEdge]:h+"%"})}))});Tu.displayName=Du;var Ru="SliderThumb",Iu=t.forwardRef((e,r)=>{const n=xu(e.__scopeSlider),[a,s]=t.useState(null),i=(0,E.s)(r,e=>s(e)),o=t.useMemo(()=>a?n().findIndex(e=>e.ref.current===a):-1,[n,a]);return(0,y.jsx)(Mu,(0,N.A)((0,N.A)({},e),{},{ref:i,index:o}))}),Mu=t.forwardRef((e,r)=>{const{__scopeSlider:n,index:a,name:s}=e,i=(0,_.A)(e,uu),o=Nu(Ru,n),l=ku(Ru,n),[c,d]=t.useState(null),u=(0,E.s)(r,e=>d(e)),h=!c||(o.form||!!c.closest("form")),m=ya(c),f=o.values[a],p=void 0===f?0:zu(f,o.min,o.max),g=function(e,t){return t>2?"Value ".concat(e+1," of ").concat(t):2===t?["Minimum","Maximum"][e]:void 0}(a,o.values.length),v=null===m||void 0===m?void 0:m[l.size],x=v?function(e,t,r){const n=e/2,a=Fu([0,50],[0,n]);return(n-a(t)*r)*r}(v,p,l.direction):0;return t.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),(0,y.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:"calc(".concat(p,"% + ").concat(x,"px)")},children:[(0,y.jsx)(vu.ItemSlot,{scope:e.__scopeSlider,children:(0,y.jsx)(re.span,(0,N.A)((0,N.A)({role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},i),{},{ref:u,style:void 0===f?{display:"none"}:e.style,onFocus:A(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})}))}),h&&(0,y.jsx)(Lu,{name:null!==s&&void 0!==s?s:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:f},a)]})});Iu.displayName=Ru;var Lu=t.forwardRef((e,r)=>{let{__scopeSlider:n,value:a}=e,s=(0,_.A)(e,hu);const i=t.useRef(null),o=(0,E.s)(i,r),l=au(a);return t.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==a&&r){const t=new Event("input",{bubbles:!0});r.call(e,a),e.dispatchEvent(t)}},[l,a]),(0,y.jsx)(re.input,(0,N.A)((0,N.A)({style:{display:"none"}},s),{},{ref:o,defaultValue:a}))});function zu(e,t,r){return nu(100/(r-t)*(e-t),[0,100])}function Fu(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}Lu.displayName="RadioBubbleInput";var Bu=_u,Uu=Pu,qu=Tu,Vu=Iu;const Wu=["className"],Hu=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Wu);return(0,y.jsxs)(Bu,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("relative flex w-full touch-none select-none items-center",r)},n),{},{children:[(0,y.jsx)(Uu,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-gray-400",children:(0,y.jsx)(qu,{className:"absolute h-full bg-black"})}),(0,y.jsx)(Vu,{className:"block h-4 w-4 rounded-full bg-white shadow-lg shadow-black/50 transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}))});Hu.displayName=Bu.displayName;const Ku=e=>{const{user:r}=(0,i.A)(),[n,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(null===r||void 0===r||!r.id||!e)return a(!1),void o(!1);l()},[null===r||void 0===r?void 0:r.id,e]);const l=async()=>{try{o(!0);const{data:n,error:s}=await g.ND.from("music_favorites").select("id",{count:"exact"}).eq("user_id",r.id).eq("music_id",e).limit(1);if(!s&&n&&n.length>0)a(!0);else try{const{data:t}=await g.ND.from("favorites").select("id",{count:"exact"}).eq("user_id",r.id).eq("song_id",e).limit(1);a(t&&t.length>0)}catch(t){a(!1)}}catch(n){console.error("Error checking favorite:",n),a(!1)}finally{o(!1)}};return{isFavorite:n,toggleFavorite:async()=>{if(null!==r&&void 0!==r&&r.id&&e)try{o(!0);const t=!n;if(n){const{error:t}=await g.ND.from("music_favorites").delete().eq("user_id",r.id).eq("music_id",e);if(t){const{error:t}=await g.ND.from("favorites").delete().eq("user_id",r.id).eq("song_id",e);if(t)throw t}}else{const{error:t}=await g.ND.from("music_favorites").insert({user_id:r.id,music_id:e,created_at:(new Date).toISOString()});if(t){const{error:t}=await g.ND.from("favorites").insert({user_id:r.id,song_id:e,created_at:(new Date).toISOString()});if(t)throw t}}a(t)}catch(t){throw console.error("Error toggling favorite:",t),t}finally{o(!1)}},loading:s}},$u=e=>{var r;let{isOpen:n,onClose:a}=e;const{currentSong:s,isPlaying:o,currentTime:l,duration:c,volume:d,isShuffle:h,repeatMode:m,togglePlay:f,handleNext:p,handlePrevious:g,seekTo:v,setVolume:x,toggleShuffle:b,toggleRepeat:j,queue:N}=w(),{isFavorite:_,toggleFavorite:S}=Ku(null===s||void 0===s?void 0:s.id),{user:k}=(0,i.A)(),[A,E]=(0,t.useState)(!1),[C,O]=(0,t.useState)(!1);if(!n||!s)return null;return(0,y.jsxs)("div",{className:"hidden md:flex fixed inset-0 bg-black z-50 flex-col",children:[(0,y.jsx)("button",{onClick:a,className:"absolute top-6 right-6 z-10 bg-white/10 hover:bg-white/20 rounded-full p-2 transition-colors",title:"Fechar",children:(0,y.jsx)(St,{className:"w-6 h-6 text-white"})}),(0,y.jsx)("div",{className:"flex-1 flex items-center justify-center px-8 py-16",children:(0,y.jsxs)("div",{className:"text-center max-w-xl",children:[(0,y.jsx)("div",{className:"mb-8 flex justify-center",children:(0,y.jsx)("img",{src:C?"/images/default-album.png":s.coverImage,alt:s.title,className:"w-64 h-64 rounded-2xl shadow-2xl object-cover",onError:()=>O(!0)})}),(0,y.jsx)("h1",{className:"text-5xl font-bold text-white mb-2 line-clamp-2",children:(null===(r=s.title)||void 0===r?void 0:r.replace(/\.mp3$/i,""))||""}),(0,y.jsx)("p",{className:"text-xl text-gray-400 mb-8",children:s.artistName}),(0,y.jsxs)("div",{className:"mb-8",children:[(0,y.jsx)(Hu,{value:[l],max:c||100,step:.1,onValueChange:e=>v(e[0]),className:"w-full mb-2"}),(0,y.jsxs)("div",{className:"flex justify-between text-sm text-gray-400",children:[(0,y.jsx)("span",{children:u(Math.floor(l))}),(0,y.jsx)("span",{children:u(Math.floor(c))})]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-center gap-6 mb-8",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:b,className:"h-10 w-10 rounded-full transition-colors ".concat(h?"bg-red-600 text-white":"text-gray-400 hover:text-white hover:bg-white/10"),children:(0,y.jsx)(Jd,{className:"w-5 h-5"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:g,className:"h-10 w-10 rounded-full text-gray-400 hover:text-white hover:bg-white/10",children:(0,y.jsx)(Xd,{className:"w-5 h-5"})}),(0,y.jsx)(nr.$,{onClick:f,className:"w-16 h-16 rounded-full bg-white hover:bg-gray-100 text-black shadow-lg flex items-center justify-center",children:o?(0,y.jsx)($d,{className:"w-7 h-7",fill:"currentColor"}):(0,y.jsx)(Gd,{className:"w-7 h-7 ml-1",fill:"currentColor"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:p,className:"h-10 w-10 rounded-full text-gray-400 hover:text-white hover:bg-white/10",children:(0,y.jsx)(Yd,{className:"w-5 h-5"})}),(0,y.jsxs)(nr.$,{variant:"ghost",size:"icon",onClick:j,className:"h-10 w-10 rounded-full transition-colors relative ".concat("off"!==m?"bg-red-600 text-white":"text-gray-400 hover:text-white hover:bg-white/10"),children:[(0,y.jsx)(Zd,{className:"w-5 h-5"}),"one"===m&&(0,y.jsx)("span",{className:"absolute text-xs font-bold",children:"1"})]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:async()=>{k&&await S()},className:"text-gray-400 hover:text-red-600 h-10 w-10",children:(0,y.jsx)(Zt,{className:"w-5 h-5",fill:_?"currentColor":"none",strokeWidth:_?0:2})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:()=>{A?(x(.7),E(!1)):(x(0),E(!0))},className:"text-gray-400 hover:text-white h-10 w-10",children:A||0===d?(0,y.jsx)(tu,{className:"w-5 h-5"}):(0,y.jsx)(ru,{className:"w-5 h-5"})}),(0,y.jsx)("div",{className:"w-24",children:(0,y.jsx)(Hu,{value:[d],max:1,step:.01,onValueChange:e=>{x(e[0]),E(0===e[0])},className:"w-full"})})]}),N.length>0&&(0,y.jsx)("div",{className:"mt-12 text-gray-400 text-sm",children:(0,y.jsxs)("p",{children:[N.length," m\xfasicas na fila"]})})]})})]})},Gu=e=>(null===e||void 0===e?void 0:e.replace(/\.mp3$/i,""))||"",Yu=e=>{let{album:r,currentSong:n,albumSongs:a,onSongSelect:s,formatDuration:i,onClose:o}=e;const{isPlaying:l,togglePlay:c,handlePrevious:d,handleNext:u,currentTime:h,duration:m,seekTo:f,isShuffle:p,repeatMode:g,toggleShuffle:v,toggleRepeat:x,volume:b,setVolume:j}=w(),[N,_]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[A,E]=(0,t.useState)(!1);(0,t.useEffect)(()=>{C()},[n]);const C=async()=>{if(n)try{const e=JSON.parse(localStorage.getItem("favorites")||"[]");E(e.includes(n.id))}catch(e){console.error("Erro ao verificar favorito:",e)}};if(!n)return null;return(0,y.jsxs)("div",{className:"md:hidden fixed inset-0 bg-black/90 text-white flex flex-col z-50 transition-all duration-300 ease-in-out",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 flex-shrink-0",children:[(0,y.jsx)("button",{onClick:o,className:"text-white hover:bg-white/10 rounded-full p-2 transition-colors",children:(0,y.jsx)(Wt,{className:"w-6 h-6"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"sm",className:"text-white border border-white/30 hover:bg-white/10 px-3 py-1 rounded-full text-sm",onClick:()=>_(!N),children:"Ver fila"})]}),(0,y.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-0 py-8 w-full",children:[(0,y.jsx)("div",{className:"w-full h-80 mb-6 relative px-4",children:(0,y.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,y.jsxs)("div",{className:"relative w-full overflow-hidden rounded-md shadow-xl",children:[(0,y.jsx)("img",{src:n.coverImage,alt:n.title,className:"w-full h-full object-cover rounded-md",draggable:"false",style:{borderRadius:"30px"}}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/10 rounded-md"})]})})}),(0,y.jsxs)("div",{className:"text-center mb-8 w-full",children:[(0,y.jsx)("h2",{className:"text-xl font-bold text-white truncate",children:Gu(n.title)}),(0,y.jsx)("p",{className:"text-gray-300 truncate",children:r.artistName})]}),(0,y.jsxs)("div",{className:"w-full px-4",children:[(0,y.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,y.jsx)("button",{onClick:async()=>{if(n)try{const e=JSON.parse(localStorage.getItem("favorites")||"[]");if(A){const t=e.filter(e=>e!==n.id);localStorage.setItem("favorites",JSON.stringify(t))}else e.push(n.id),localStorage.setItem("favorites",JSON.stringify(e));E(!A)}catch(e){console.error("Erro ao alternar favorito:",e)}},className:"flex-shrink-0 focus:outline-none hover:opacity-80 transition-opacity",title:"Favoritar",children:A?(0,y.jsx)("svg",{className:"w-5 h-5 text-red-600 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}):(0,y.jsx)("svg",{className:"w-5 h-5 text-white",stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),(0,y.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,y.jsx)("button",{onClick:()=>k(!S),className:"focus:outline-none hover:opacity-80 transition-opacity text-white",title:"Volume",children:(0,y.jsx)(ru,{className:"w-5 h-5"})}),S&&(0,y.jsxs)("div",{className:"absolute bottom-full right-0 mb-2 bg-red-600 rounded-lg p-3 flex flex-col items-center gap-2 w-10 z-50",children:[(0,y.jsx)("style",{children:"\n                     .volume-slider {\n                       background: linear-gradient(to top, black ".concat(100*b,"%, #9ca3af 0%) !important;\n                       background-size: 100% 100%;\n                       background-repeat: no-repeat;\n                     }\n                     .volume-slider::-webkit-slider-thumb {\n                       appearance: none;\n                       -webkit-appearance: none;\n                       background: white;\n                       cursor: pointer;\n                       width: 14px;\n                       height: 14px;\n                       border-radius: 50%;\n                       border: none;\n                       box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n                     }\n                     .volume-slider::-webkit-slider-runnable-track {\n                       background: transparent;\n                       height: 100%;\n                       border-radius: 4px;\n                     }\n                     .volume-slider::-moz-range-thumb {\n                       background: white;\n                       cursor: pointer;\n                       width: 14px;\n                       height: 14px;\n                       border-radius: 50%;\n                       border: none;\n                       box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n                     }\n                     .volume-slider::-moz-range-track {\n                       background: transparent;\n                       border: none;\n                     }\n                     .volume-slider::-moz-range-progress {\n                       background: black;\n                     }\n                   ")}),(0,y.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:b,onChange:e=>j(parseFloat(e.target.value)),className:"volume-slider h-24 w-1 appearance-none cursor-pointer",style:{writingMode:"bt-lr",WebkitAppearance:"slider-vertical"}}),(0,y.jsxs)("span",{className:"text-xs text-white mt-1",children:[Math.round(100*b),"%"]})]})]})]}),(0,y.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-300 mb-2",children:[(0,y.jsx)("span",{children:i(Math.floor(h))}),(0,y.jsx)("span",{children:i(Math.floor(m))})]}),(0,y.jsxs)("div",{className:"w-full h-1 bg-gray-700 rounded-full mb-6 relative cursor-pointer",children:[(0,y.jsx)("div",{className:"absolute h-full bg-red-600 rounded-full",style:{width:"".concat(h/(m||1)*100,"%")}}),(0,y.jsx)("div",{className:"absolute h-3 w-3 bg-red-600 rounded-full -mt-1 shadow",style:{left:"calc(".concat(h/(m||1)*100,"% - 6px)"),top:"-1px",cursor:"pointer"},onMouseDown:e=>{const t=e.currentTarget.parentElement.getBoundingClientRect(),r=(e.clientX-t.left)/t.width*(m||1);f(r)}}),(0,y.jsx)("input",{type:"range",min:"0",max:m||100,value:h,onChange:e=>{const t=Number(e.target.value);f(t)},className:"w-full h-1 bg-transparent rounded-full cursor-pointer absolute top-0 left-0 opacity-0"})]}),(0,y.jsxs)("div",{className:"flex justify-center items-center gap-8",children:[(0,y.jsx)("button",{onClick:v,className:"text-2xl focus:outline-none hover:opacity-80 transition-opacity ".concat(p?"text-red-600":"text-white"),title:"Aleat\xf3rio",children:(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M400 304l48 48-48 48m0-288l48 48-48 48M64 352h85.19a80 80 0 0066.56-35.62L256 256"}),(0,y.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M64 160h85.19a80 80 0 0166.56 35.62l80.5 120.76A80 80 0 00362.81 352H416m0-192h-53.19a80 80 0 00-66.56 35.62L288 208"})]})}),(0,y.jsx)("button",{className:"text-white text-3xl focus:outline-none hover:opacity-80 transition-opacity",onClick:d,children:(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"})]})}),(0,y.jsx)("button",{className:"bg-red-600 hover:bg-red-700 rounded-full w-14 h-14 flex items-center justify-center text-white text-2xl focus:outline-none transition-colors shadow-lg",onClick:c,children:l?(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})]}):(0,y.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})})}),(0,y.jsx)("button",{className:"text-white text-3xl focus:outline-none hover:opacity-80 transition-opacity",onClick:u,children:(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"m6 18 8.5-6L6 6v12zM16 6v12h2V6h-2z"})]})}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("button",{onClick:x,className:"text-2xl focus:outline-none hover:opacity-80 transition-opacity ".concat("off"!==g?"text-red-600":"text-white"),title:"Repetir",children:(0,y.jsxs)("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("polyline",{points:"17 2 21 6 17 10"}),(0,y.jsx)("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),(0,y.jsx)("polyline",{points:"7 22 3 18 7 14"}),(0,y.jsx)("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]})}),"one"===g&&(0,y.jsx)("span",{className:"absolute -top-1 -right-1 text-[8px] font-bold text-red-600 bg-white rounded-full w-3.5 h-3.5 flex items-center justify-center leading-none",children:"1"})]})]})]})]}),N&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 md:hidden flex flex-col",children:(0,y.jsxs)("div",{className:"bg-gradient-to-b from-gray-900 to-black flex-1 overflow-y-auto",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-700/30 sticky top-0 bg-gray-900/95",children:[(0,y.jsx)("h3",{className:"text-white font-semibold text-sm",children:"Fila"}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",className:"text-white hover:bg-gray-800 h-8 w-8",onClick:()=>_(!1),children:(0,y.jsx)(Wt,{className:"w-5 h-5"})})]}),(0,y.jsx)("div",{className:"space-y-1 p-3",children:a.map((e,t)=>(0,y.jsxs)("button",{onClick:()=>{s(e),_(!1)},className:"w-full flex items-center gap-3 px-3 py-2 rounded text-sm transition-colors ".concat(n.id===e.id?"bg-red-600/20 border-l-2 border-red-600":"hover:bg-gray-800/50"),children:[(0,y.jsx)("span",{className:"text-gray-400 text-xs w-5 flex-shrink-0",children:String(t+1).padStart(2,"0")}),(0,y.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,y.jsx)("p",{className:"text-white truncate",children:Gu(e.title)}),(0,y.jsx)("p",{className:"text-gray-500 text-xs",children:r.artistName})]}),(0,y.jsx)("span",{className:"text-gray-500 text-xs flex-shrink-0",children:i(e.duration)})]},e.id))})]})})]})},Ju=()=>(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"M14 10H3v2h11v-2zm0-4H3v2h11V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM3 16h7v-2H3v2z"})]}),Xu=()=>{(0,s.Zp)();const{currentSong:e,isPlaying:r,currentTime:n,duration:a,volume:o,isShuffle:l,repeatMode:c,togglePlay:d,handleNext:h,handlePrevious:m,seekTo:f,setVolume:p,toggleShuffle:g,toggleRepeat:v,queue:b,clearQueue:j,playSong:N,setIsCompactMode:_}=w(),{isPremium:k,user:A}=(0,i.A)(),[E,C]=(0,t.useState)(!1),[O,P]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),[R,I]=(0,t.useState)(!1),[M,L]=(0,t.useState)(!1),[z,F]=(0,t.useState)(!1),[B,U]=(0,t.useState)(!1),[q,V]=(0,t.useState)(!1),W=(0,t.useRef)(!1),[H,K]=(0,t.useState)({title:"",description:"",isPublic:!1,cover:null}),{isFavorite:$,toggleFavorite:G,loading:Y}=Ku((null===e||void 0===e?void 0:e.id)||null);if((0,t.useEffect)(()=>{if(!e)return;r&&window.innerWidth<768&&!W.current&&!q&&(U(!0),W.current=!1);const t=()=>{q||(U(!0),W.current=!1)};return window.addEventListener("openMobilePlayer",t),()=>window.removeEventListener("openMobilePlayer",t)},[null===e||void 0===e?void 0:e.id,q]),!e)return null;const J=e=>(null===e||void 0===e?void 0:e.replace(/\.mp3$/i,""))||"",X=()=>{A?L(!0):(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para criar uma playlist",variant:"destructive"})},Z=async()=>{if(null!==e&&void 0!==e&&e.audioUrl){(0,S.oR)({title:"Download Iniciado",description:"Baixando ".concat(e.title,"...")});try{if(e.id){const t=e.albumId||e.album_id||e.albumid;x(e.id,t)}const t=await fetch(e.audioUrl),r=await t.blob(),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(e.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(t){console.error("Download error:",t),(0,S.oR)({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else(0,S.oR)({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})},Q=async()=>{if(A)try{await G(),(0,S.oR)({title:$?"Removido dos favoritos":"Adicionado aos favoritos",description:e.title})}catch(t){(0,S.oR)({title:"Erro",description:"Erro ao atualizar favoritos",variant:"destructive"})}else(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar aos favoritos",variant:"destructive"})},ee=e=>{N(e,b)};return R?(0,y.jsxs)("div",{className:"fixed bottom-4 right-4 z-50 bg-zinc-900 rounded-lg shadow-2xl p-3 w-64",children:[(0,y.jsx)("button",{onClick:()=>{I(!1),_(!1)},className:"absolute -top-6 right-2 bg-red-600 px-2 py-1 rounded-t hover:bg-red-700 transition",title:"Expandir player",children:(0,y.jsx)(Kd,{className:"w-4 h-4 text-white"})}),(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)("img",{src:D?"/images/default-album.png":e.coverImage,alt:e.title,className:"w-12 h-12 rounded object-cover",onError:()=>T(!0)}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-white font-bold text-xs truncate",children:J(e.title)}),(0,y.jsx)("p",{className:"text-white/70 text-xs truncate",children:e.artistName})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:d,className:"text-white hover:bg-red-600 h-7 w-7",children:r?(0,y.jsx)($d,{className:"w-4 h-4",fill:"currentColor"}):(0,y.jsx)(Gd,{className:"w-4 h-4",fill:"currentColor"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:h,className:"text-white hover:bg-red-600 h-7 w-7",children:(0,y.jsx)(Yd,{className:"w-4 h-4"})})]})]})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)($u,{isOpen:z,onClose:()=>F(!1)}),B&&e&&(0,y.jsx)("div",{className:"md:hidden",children:(0,y.jsx)(Yu,{album:{artistName:e.artistName||e.artist_name},currentSong:e,albumSongs:b,isFavorite:$,onFavorite:Q,onSongSelect:ee,formatDuration:u,onClose:()=>{V(!0),W.current=!0,U(!1),setTimeout(()=>V(!1),300)},isPlaying:r,onPlay:d,onPause:d})}),(0,y.jsxs)("div",{className:"hidden md:flex flex-col fixed bottom-0 left-0 right-0 z-50 shadow-2xl transition-all animate-in slide-in-from-bottom duration-300",children:[(0,y.jsx)("button",{onClick:e=>{e.stopPropagation(),I(!0),_(!0)},className:"absolute right-24 -top-6 z-50 bg-zinc-900 border-t border-l border-r border-white/20 px-2 py-1 rounded-t hover:bg-zinc-800 transition",title:"Compactar player",children:(0,y.jsx)(Wt,{className:"w-4 h-4 text-white"})}),(0,y.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 border-t border-white/20 px-4 py-2 w-full cursor-pointer hover:bg-red-600/90 transition-colors",onClick:()=>e&&F(!0),children:(0,y.jsx)("div",{className:"max-w-screen-2xl mx-auto",children:(0,y.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3 w-72",children:[(0,y.jsxs)("div",{className:"relative group",children:[(0,y.jsx)("img",{src:D?"/images/default-album.png":e.coverImage,alt:e.title,className:"w-11 h-11 rounded object-cover shadow-lg group-hover:shadow-xl transition-all group-hover:brightness-75",onError:()=>T(!0)}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/20 rounded opacity-0 group-hover:opacity-100 transition-opacity"})]}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-white font-bold text-sm truncate",children:J(e.title)}),(0,y.jsx)("p",{className:"text-white/80 text-xs truncate",children:e.artistName})]}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),Q()},className:"hover:bg-white/20 h-8 w-8",children:(0,y.jsx)(Zt,{className:"w-4 h-4 ".concat($?"fill-white text-white":"text-white")})})]}),(0,y.jsxs)("div",{className:"flex-1 max-w-2xl",children:[(0,y.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-1",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),g()},className:"hover:bg-white/20 h-8 w-8 ".concat(l?"text-white":"text-white/60"),children:(0,y.jsx)(Jd,{className:"w-3.5 h-3.5"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),m()},className:"text-white hover:bg-white/20 h-8 w-8",children:(0,y.jsx)(Xd,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{onClick:e=>{e.stopPropagation(),d()},className:"w-10 h-10 rounded-full bg-white hover:bg-gray-100 text-red-600 shadow-lg",children:r?(0,y.jsx)($d,{className:"w-5 h-5",fill:"currentColor"}):(0,y.jsx)(Gd,{className:"w-5 h-5 ml-0.5",fill:"currentColor"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),h()},className:"text-white hover:bg-white/20 h-8 w-8",children:(0,y.jsx)(Yd,{className:"w-4 h-4"})}),(0,y.jsxs)(nr.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),v()},className:"hover:bg-white/20 h-8 w-8 ".concat("off"!==c?"text-white":"text-white/60"),children:[(0,y.jsx)(Zd,{className:"w-3.5 h-3.5"}),"one"===c&&(0,y.jsx)("span",{className:"absolute text-xs font-bold",children:"1"})]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)("span",{className:"text-xs text-white font-medium w-10 text-right",children:u(Math.floor(n))}),(0,y.jsx)(Hu,{value:[n],max:a||100,step:.1,onValueChange:e=>{f(e[0])},className:"flex-1",onClick:e=>e.stopPropagation()}),(0,y.jsx)("span",{className:"text-xs text-white font-medium w-10",children:u(Math.floor(a))})]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 justify-end flex-shrink-0",children:[(0,y.jsxs)(nr.$,{variant:"ghost",onClick:e=>{e.stopPropagation(),Z()},className:"text-white hover:bg-white/20 border border-white/30 px-3 h-8 text-xs",children:[(0,y.jsx)(Qd,{className:"w-3.5 h-3.5 mr-1.5"}),"BAIXAR"]}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),X()},className:"text-white hover:bg-white/20 h-8 w-8",title:"Criar playlist",children:(0,y.jsx)(Ju,{})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),C(!E)},className:"text-white hover:bg-white/20 h-8 w-8 ".concat(E?"bg-white/20":""),children:(0,y.jsx)(eu,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),O?(p(.7),P(!1)):(p(0),P(!0))},className:"text-white hover:bg-white/20 h-8 w-8",children:O||0===o?(0,y.jsx)(tu,{className:"w-4 h-4"}):(0,y.jsx)(ru,{className:"w-4 h-4"})}),(0,y.jsx)(Hu,{value:[o],max:1,step:.01,onValueChange:e=>{p(e[0]),P(0===e[0])},className:"w-20",onClick:e=>e.stopPropagation()})]})]})})}),E&&(0,y.jsx)("div",{className:"w-full bg-zinc-900 border-t border-zinc-800",children:(0,y.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-white font-semibold text-base",children:"Fila de Reprodu\xe7\xe3o"}),(0,y.jsxs)("p",{className:"text-gray-400 text-xs mt-1",children:[b.length," m\xfasicas"]})]}),(0,y.jsxs)(nr.$,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),j(),C(!1),(0,S.oR)({title:"Fila limpa",description:"Todas as m\xfasicas foram removidas da fila"})},className:"text-gray-400 hover:text-white hover:bg-zinc-800 h-8 px-3",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4 mr-2"}),"Limpar fila"]})]}),(0,y.jsx)("div",{className:"overflow-x-auto overflow-y-hidden px-4 py-3",children:(0,y.jsx)("div",{className:"flex gap-3",children:b.map((t,r)=>(0,y.jsxs)("div",{onClick:e=>{e.stopPropagation(),ee(t)},className:"flex-shrink-0 flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-all min-w-[220px] ".concat(e.id===t.id?"bg-red-600/30 ring-1 ring-red-500":"hover:bg-zinc-800"),children:[(0,y.jsx)("img",{src:t.coverImage||"/images/default-album.png",alt:t.title,className:"w-14 h-14 object-cover rounded",onError:e=>e.target.src="/images/default-album.png"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-white text-sm font-medium truncate",children:J(t.title)}),(0,y.jsx)("p",{className:"text-gray-400 text-xs truncate",children:t.artistName})]})]},t.id))})})]})})]}),!B&&(0,y.jsxs)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 shadow-2xl transition-all animate-in slide-in-from-bottom duration-300 cursor-pointer ".concat(E?"h-auto":""),children:[(0,y.jsx)("button",{onClick:()=>U(!0),className:"absolute right-4 -top-6 z-50 bg-zinc-900 border-t border-l border-r border-white/20 px-2 py-1 rounded-t hover:bg-zinc-800 transition",title:"Expandir player",children:(0,y.jsx)(Kd,{className:"w-4 h-4 text-white"})}),(0,y.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 border-t border-white/20 px-4 py-3",children:(0,y.jsx)("div",{className:"max-w-screen-2xl mx-auto",children:(0,y.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,y.jsxs)("div",{className:"flex-1 max-w-2xl",children:[(0,y.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-1",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:g,className:"hover:bg-white/20 h-8 w-8 ".concat(l?"text-white":"text-white/60"),children:(0,y.jsx)(Jd,{className:"w-3.5 h-3.5"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:m,className:"text-white hover:bg-white/20 h-8 w-8",children:(0,y.jsx)(Xd,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{onClick:d,className:"w-10 h-10 rounded-full bg-white hover:bg-gray-100 text-red-600 shadow-lg",children:r?(0,y.jsx)($d,{className:"w-5 h-5",fill:"currentColor"}):(0,y.jsx)(Gd,{className:"w-5 h-5 ml-0.5",fill:"currentColor"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:h,className:"text-white hover:bg-white/20 h-8 w-8",children:(0,y.jsx)(Yd,{className:"w-4 h-4"})}),(0,y.jsxs)(nr.$,{variant:"ghost",size:"icon",onClick:v,className:"hover:bg-white/20 h-8 w-8 ".concat("off"!==c?"text-white":"text-white/60"),children:[(0,y.jsx)(Zd,{className:"w-3.5 h-3.5"}),"one"===c&&(0,y.jsx)("span",{className:"absolute text-xs font-bold",children:"1"})]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)("span",{className:"text-xs text-white font-medium w-10 text-right",children:u(Math.floor(n))}),(0,y.jsx)(Hu,{value:[n],max:a||100,step:.1,onValueChange:e=>f(e[0]),className:"flex-1"}),(0,y.jsx)("span",{className:"text-xs text-white font-medium w-10",children:u(Math.floor(a))})]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 justify-end flex-shrink-0",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:Z,className:"text-white hover:bg-white/20 h-8 w-8",title:"Baixar",children:(0,y.jsx)(Qd,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:X,className:"text-white hover:bg-white/20 h-8 w-8",title:"Adicionar a playlist",children:(0,y.jsx)(Ju,{})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:()=>j(),className:"text-white hover:bg-white/20 h-8 w-8",title:"Fechar player",children:(0,y.jsx)(St,{className:"w-4 h-4"})})]})]})})})]})]})},Zu=(0,_t.A)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Qu=(0,_t.A)("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),eh=()=>{const e=(0,s.zy)(),t=(0,s.Zp)(),{user:r}=(0,i.A)(),n=[{path:"/lancamentos",label:"Lan\xe7amentos",icon:Md},{path:"/top-cds",label:"Tops",icon:Zu},{path:"/library",label:"Biblioteca",icon:Qu,protected:!0},{path:"/clips",label:"Clips",icon:Ld},{path:"/search",label:"Busca",icon:Ht}],a=t=>e.pathname===t;return(0,y.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-40",children:(0,y.jsx)("div",{className:"flex justify-around items-center",children:n.map(e=>{const n=e.icon;return e.protected&&!r?null:(0,y.jsxs)("button",{onClick:()=>t(e.path),className:"flex flex-col items-center gap-1 py-3 px-4 flex-1 transition-colors ".concat(a(e.path)?"text-red-600":"text-gray-600 hover:text-red-600"),children:[(0,y.jsx)(n,{className:"w-6 h-6"}),(0,y.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.path)})})})};var th=r(6851);const rh=["asChild"];var nh=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{const n=(0,th.TL)("Primitive.".concat(r)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,s=(0,_.A)(e,rh),i=a?n:r;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,y.jsx)(i,(0,N.A)((0,N.A)({},s),{},{ref:t}))});return a.displayName="Primitive.".concat(r),(0,N.A)((0,N.A)({},e),{},{[r]:a})},{});var ah=t.forwardRef((e,t)=>(0,y.jsx)(nh.label,(0,N.A)((0,N.A)({},e),{},{ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));ah.displayName="Label";var sh=ah;const ih=["className"],oh=(0,Nt.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lh=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,ih);return(0,y.jsx)(sh,(0,N.A)({ref:t,className:(0,kt.cn)(oh(),r)},n))});lh.displayName=sh.displayName;const ch=["className"],dh=["className"],uh=["className"],hh=["className"],mh=["className"],fh=["className"],ph=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,ch);return(0,y.jsx)("div",(0,N.A)({ref:t,className:(0,kt.cn)("rounded-xl border bg-card text-card-foreground shadow",r)},n))});ph.displayName="Card";const gh=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,dh);return(0,y.jsx)("div",(0,N.A)({ref:t,className:(0,kt.cn)("flex flex-col space-y-1.5 p-6",r)},n))});gh.displayName="CardHeader";const vh=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,uh);return(0,y.jsx)("div",(0,N.A)({ref:t,className:(0,kt.cn)("font-semibold leading-none tracking-tight",r)},n))});vh.displayName="CardTitle";const xh=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,hh);return(0,y.jsx)("div",(0,N.A)({ref:t,className:(0,kt.cn)("text-sm text-muted-foreground",r)},n))});xh.displayName="CardDescription";const yh=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,mh);return(0,y.jsx)("div",(0,N.A)({ref:t,className:(0,kt.cn)("p-6 pt-0",r)},n))});yh.displayName="CardContent";t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,fh);return(0,y.jsx)("div",(0,N.A)({ref:t,className:(0,kt.cn)("flex items-center p-6 pt-0",r)},n))}).displayName="CardFooter";const bh=(0,_t.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),wh=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[m,f]=(0,t.useState)(!1),{login:p,loginWithGoogle:v}=(0,i.A)(),x=(0,s.Zp)(),b=((0,s.zy)(),async e=>{if(e.preventDefault(),u){f(!0);try{const{error:e}=await g.ND.auth.resetPasswordForEmail(u,{redirectTo:window.location.origin});e?(0,S.oR)({title:"Erro",description:e.message||"Erro ao enviar link de recupera\xe7\xe3o",variant:"destructive"}):((0,S.oR)({title:"Sucesso!",description:"Verifique seu email para redefinir sua senha"}),d(!1),h(""))}catch(t){(0,S.oR)({title:"Erro",description:"Ocorreu um erro ao processar sua solicita\xe7\xe3o",variant:"destructive"})}f(!1)}else(0,S.oR)({title:"Erro",description:"Por favor, insira seu email",variant:"destructive"})});return c?(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,y.jsx)("div",{className:"w-full max-w-md",children:(0,y.jsxs)(ph,{className:"bg-white border-gray-200 shadow-lg",children:[(0,y.jsxs)(gh,{children:[(0,y.jsx)(vh,{className:"text-black",children:"Redefinir Senha"}),(0,y.jsx)(xh,{className:"text-gray-600",children:"Insira seu email para receber um link de recupera\xe7\xe3o"})]}),(0,y.jsxs)(yh,{children:[(0,y.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"forgot-email",className:"text-black",children:"E-mail"}),(0,y.jsx)(rr,{id:"forgot-email",type:"email",placeholder:"seu@email.com",value:u,onChange:e=>h(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,y.jsx)(nr.$,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:m,children:m?"Enviando...":"Enviar Link de Recupera\xe7\xe3o"})]}),(0,y.jsxs)("button",{onClick:()=>d(!1),className:"w-full mt-4 flex items-center justify-center text-red-600 hover:text-red-700",children:[(0,y.jsx)(bh,{className:"w-4 h-4 mr-2"}),"Voltar ao Login"]})]})]})})}):(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,y.jsxs)("div",{className:"w-full max-w-md",children:[(0,y.jsxs)("div",{className:"text-center mb-8",children:[(0,y.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,y.jsx)(Md,{className:"w-12 h-12 text-red-600"}),(0,y.jsx)("h1",{className:"text-4xl font-bold text-black",children:"RedMusic"})]}),(0,y.jsx)("p",{className:"text-gray-600",children:"Milhares de m\xfasicas ao seu alcance"})]}),(0,y.jsxs)(ph,{className:"bg-white border-gray-200 shadow-lg",children:[(0,y.jsxs)(gh,{children:[(0,y.jsx)(vh,{className:"text-black",children:"Entrar"}),(0,y.jsx)(xh,{className:"text-gray-600",children:"Acesse sua conta para continuar"})]}),(0,y.jsxs)(yh,{children:[(0,y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n){l(!0);try{var r,a;const t=await p(e,n);if(t.error)return(0,S.oR)({title:"Erro",description:t.error.message||"Conta n\xe3o encontrada ou senha incorreta",variant:"destructive"}),void l(!1);(0,S.oR)({title:"Login realizado!",description:"Bem-vindo de volta!"}),localStorage.removeItem("previousPath"),t.isAdmin||"admin"===(null===(r=t.data)||void 0===r?void 0:r.type)?x("/admin"):(t.isArtist||"artist"===(null===(a=t.data)||void 0===a?void 0:a.type))&&x("/artist/settings")}catch(s){(0,S.oR)({title:"Erro",description:"Ocorreu um erro ao fazer login",variant:"destructive"})}l(!1)}else(0,S.oR)({title:"Erro",description:"Por favor, insira seu email e senha",variant:"destructive"})},className:"space-y-4",children:[(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"email",className:"text-black",children:"E-mail"}),(0,y.jsx)(rr,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:e=>r(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"password",className:"text-black",children:"Senha"}),(0,y.jsx)(rr,{id:"password",type:"password",placeholder:"Sua senha",value:n,onChange:e=>a(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,y.jsxs)(nr.$,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:o,children:[(0,y.jsx)(Fd,{className:"w-4 h-4 mr-2"}),o?"Entrando...":"Entrar"]})]}),(0,y.jsxs)("div",{className:"relative my-6",children:[(0,y.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,y.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,y.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,y.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Ou"})})]}),(0,y.jsxs)(nr.$,{type:"button",onClick:async()=>{try{const e=await v();e.error&&(0,S.oR)({title:"Erro",description:e.error.message||"Erro ao fazer login com Google",variant:"destructive"})}catch(e){(0,S.oR)({title:"Erro",description:"Ocorreu um erro ao fazer login com Google",variant:"destructive"})}},className:"w-full bg-white hover:bg-gray-100 text-black border border-gray-300",children:[(0,y.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,y.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,y.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,y.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,y.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Fazer Login com o Google"]}),(0,y.jsxs)("p",{className:"text-center text-gray-600 text-sm mt-4",children:["N\xe3o tem uma conta?"," ",(0,y.jsx)(s.N_,{to:"/cadastrar",className:"text-red-600 underline",children:"Cadastre-se"})]})]})]})]})})},jh=()=>{const e=(0,s.Zp)(),{loginWithGoogle:r}=((0,s.zy)(),(0,i.A)()),[n,a]=(0,t.useState)("user"),[o,l]=(0,t.useState)(1),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[m,f]=(0,t.useState)(!1),[p,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(""),[w,j]=(0,t.useState)(""),[N,_]=(0,t.useState)(""),[k,A]=(0,t.useState)(""),[E,C]=(0,t.useState)(!1),[O,P]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),[R,I]=(0,t.useState)(!1),[M,L]=(0,t.useState)(""),[z,F]=(0,t.useState)(""),[B,U]=(0,t.useState)(""),[q,V]=(0,t.useState)(""),[W,H]=(0,t.useState)(""),[K,$]=(0,t.useState)(""),[G,Y]=(0,t.useState)(""),[J,X]=(0,t.useState)(!1),[Z,Q]=(0,t.useState)(!1),[ee,te]=(0,t.useState)(!1),[re,ne]=(0,t.useState)("user"),[ae,se]=(0,t.useState)(!1),ie=e=>{let{className:t="w-5 h-5"}=e;return(0,y.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,y.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,y.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})},oe=e=>{let{className:t="w-5 h-5"}=e;return(0,y.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,y.jsx)("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),(0,y.jsx)("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})},le=e=>{let{className:t="w-5 h-5"}=e;return(0,y.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,y.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})},ce=e=>e?e.toString().normalize("NFKD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u0898-\u089F\u08C9-\u08D2\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C3C\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u1714\u1715\u1734\u17C9-\u17D3\u17DD\u1939-\u193B\u1A60\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABE\u1AC1-\u1ACB\u1ACF-\u1ADD\u1AE0-\u1AEB\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1BE6\u1BF2\u1BF3\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1D9B-\u1DBE\u1DC4-\u1DCF\u1DF5-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F1\uA7F8\uA7F9\uA806\uA82C\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDD4E\uDD69-\uDD6D\uDEFA\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC46\uDC70\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3B\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74\uDFCE-\uDFD0\uDFD2\uDFD3\uDFE1\uDFE2]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97\uDDD9\uDF41\uDF42\uDF5A]|\uD80D[\uDC47-\uDC55]|\uD818\uDD2F|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDD6B\uDD6C\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDC30-\uDC6D\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/[\s_-]+/g,"").replace(/^-+|-+$/g,""):"",de=e=>{ne(e),te(!0)},ue=async()=>{se(!0);try{var t,r;const{data:a,error:s}=await g.ND.auth.signUp({email:w,password:N,options:{data:{full_name:x,user_type:n,cidade:"user"===n?"":q,estado:"user"===n?"":W,genero:"user"===n?"":K,estilo_musical:"artist"===n?G:void 0}}});if(s)throw s;const{data:i}=await g.ND.from("admin_users").select("id").eq("id",null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.id).maybeSingle();if(i)return se(!1),(0,S.oR)({title:"Acesso Restrito",description:"Esta conta \xe9 de administrador. Use o painel de admin."}),void e("/admin");if("artist"===n&&null!==a&&void 0!==a&&null!==(r=a.user)&&void 0!==r&&r.id){const{error:e}=await g.ND.from("artists").insert({id:a.user.id,name:M,slug:z,email:w,cidade:q,estado:W,genero:K,estilo_musical:G,bio:"",avatar_url:"",cover_url:"",followers_count:0,is_verified:!1});e&&console.error("Erro ao criar perfil:",e)}(0,S.oR)({title:"Cadastro realizado!",description:"Verifique seu email para confirmar a conta"}),l(3)}catch(a){(0,S.oR)({title:"Erro ao cadastrar",description:a.message||"Tente novamente mais tarde",variant:"destructive"})}finally{se(!1)}},he=(0,y.jsxs)("div",{style:{whiteSpace:"pre-wrap",fontSize:13,lineHeight:1.6},children:[(0,y.jsx)("div",{style:{fontWeight:700,marginBottom:10},children:"AVISO LEGAL"}),(0,y.jsx)("p",{children:'O site "Ou\xe7a Aqui", oferece uma plataforma para compartilhamento e divulga\xe7\xe3o de conte\xfado musical. Ao acessar ou utilizar nossos servi\xe7os, voc\xea concorda com os Termos de Uso e a Pol\xedtica de Privacidade, os quais podem ser alterados periodicamente. Recomendamos que voc\xea os revise regularmente.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"1. Uso do Servi\xe7o"}),(0,y.jsx)("p",{children:'Usu\xe1rios: Podem acessar, ouvir, compartilhar, e criar suas playlists no "Ou\xe7a Aqui".'}),(0,y.jsx)("p",{children:"Visitantes: Podem acessar o conte\xfado dispon\xedvel para visualiza\xe7\xe3o e streaming, sem a capacidade de realizar upload. O uso da plataforma est\xe1 sujeito \xe0 cria\xe7\xe3o de uma conta, sendo de sua responsabilidade manter a seguran\xe7a da mesma."}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"2. Tipos de Conta e Funcionalidades"}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:10,marginBottom:5},children:"Usu\xe1rio:"}),(0,y.jsx)("p",{children:"Pode acessar e ouvir m\xfasicas e conte\xfados dispon\xedveis na plataforma."}),(0,y.jsx)("p",{children:"Pode compartilhar m\xfasicas com outros usu\xe1rios e criar suas pr\xf3prias playlists."}),(0,y.jsx)("p",{children:"N\xe3o tem permiss\xe3o para fazer upload de conte\xfado."}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:10,marginBottom:5},children:"Artista:"}),(0,y.jsx)("p",{children:"Pode acessar e ouvir m\xfasicas, assim como os usu\xe1rios."}),(0,y.jsx)("p",{children:"Tem a permiss\xe3o para compartilhar m\xfasicas com outros usu\xe1rios."}),(0,y.jsx)("p",{children:"Pode fazer upload de m\xfasicas e outros conte\xfados, disponibilizando-os para streaming e download pelos usu\xe1rios."}),(0,y.jsx)("p",{children:"Tem a possibilidade de gerenciar e editar seus pr\xf3prios conte\xfados dentro da plataforma."}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"3. Direitos e Responsabilidades"}),(0,y.jsx)("p",{children:'Voc\xea \xe9 o \xfanico respons\xe1vel pelo conte\xfado que enviar. Ao fazer upload de conte\xfado, concede ao "Ou\xe7a Aqui" uma licen\xe7a n\xe3o exclusiva para exibi\xe7\xe3o, reprodu\xe7\xe3o e distribui\xe7\xe3o do conte\xfado atrav\xe9s de nossa plataforma.'}),(0,y.jsx)("p",{children:"O conte\xfado enviado n\xe3o pode violar direitos de terceiros, incluindo direitos autorais, marcas registradas, privacidade ou qualquer outra legisla\xe7\xe3o vigente."}),(0,y.jsx)("p",{children:'O "Ou\xe7a Aqui" reserva-se o direito de remover qualquer conte\xfado que infrinja as leis ou que seja considerado inadequado.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"4. Modifica\xe7\xe3o do Servi\xe7o"}),(0,y.jsx)("p",{children:'O "Ou\xe7a Aqui" pode, a qualquer momento, modificar ou descontinuar servi\xe7os, funcionalidades ou recursos sem aviso pr\xe9vio, n\xe3o sendo respons\xe1vel por compensa\xe7\xf5es aos usu\xe1rios.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"5. Propriedade Intelectual"}),(0,y.jsx)("p",{children:'O conte\xfado do "Ou\xe7a Aqui", incluindo sua marca, design e funcionalidades, s\xe3o protegidos por direitos autorais e n\xe3o podem ser reproduzidos sem autoriza\xe7\xe3o pr\xe9via.'}),(0,y.jsx)("p",{children:'O conte\xfado publicado por usu\xe1rios \xe9 de sua propriedade, mas voc\xea concede ao "Ou\xe7a Aqui" uma licen\xe7a para us\xe1-lo conforme necess\xe1rio para operar a plataforma.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"6. Limita\xe7\xe3o de Responsabilidade"}),(0,y.jsx)("p",{children:'O "Ou\xe7a Aqui" n\xe3o se responsabiliza por danos diretos, indiretos, incidentais ou consequenciais relacionados ao uso da plataforma. O servi\xe7o \xe9 fornecido "como est\xe1", sem garantias expressas ou impl\xedcitas.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"7. Encerramento de Conta"}),(0,y.jsx)("p",{children:'Voc\xea pode encerrar sua conta a qualquer momento. O "Ou\xe7a Aqui" tamb\xe9m pode suspender ou encerrar sua conta caso haja viola\xe7\xe3o dos Termos de Uso.'}),(0,y.jsx)("div",{style:{fontWeight:700,marginTop:15,marginBottom:10},children:"8. Foro"}),(0,y.jsx)("p",{children:"Qualquer disputa relacionada a estes Termos de Uso ser\xe1 resolvida no foro da cidade de S\xe3o Vicente F\xe9rrer, Pernambuco, com exclus\xe3o de qualquer outro foro."})]});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:(0,y.jsx)("div",{className:"w-full max-w-md",children:1===o?(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-6 md:p-8",children:[(0,y.jsx)("h2",{className:"text-2xl md:text-2xl font-bold text-gray-900 mb-1",children:"Cadastre-se GR\xc1TIS"}),(0,y.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Crie sua conta para acessar a plataforma"}),(0,y.jsxs)("div",{className:"mb-8",children:[(0,y.jsx)("p",{className:"text-gray-700 font-semibold text-sm mb-3",children:"Tipo de conta:"}),(0,y.jsxs)("div",{className:"flex gap-3",children:[(0,y.jsx)("button",{onClick:()=>a("user"),className:"flex-1 px-4 py-3 rounded-lg font-bold text-sm transition-colors ".concat("user"===n?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Usu\xe1rio"}),(0,y.jsx)("button",{onClick:()=>a("artist"),className:"flex-1 px-4 py-3 rounded-lg font-bold text-sm transition-colors ".concat("artist"===n?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Artista"})]})]}),(0,y.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x&&w&&N&&k?D?N===k?N.length<6?(0,S.oR)({title:"Erro",description:"A senha deve ter no m\xednimo 6 caracteres",variant:"destructive"}):"artist"===n?l(2):ue():(0,S.oR)({title:"Erro",description:"As senhas n\xe3o coincidem",variant:"destructive"}):(0,S.oR)({title:"Erro",description:"Voc\xea precisa aceitar os termos de uso",variant:"destructive"}):(0,S.oR)({title:"Erro",description:"Preencha todos os campos",variant:"destructive"})},className:"space-y-4",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(ie,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:"text",placeholder:"Nome completo",value:x,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(oe,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:"email",placeholder:"E-mail",value:w,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(le,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:E?"text":"password",placeholder:"Senha",value:N,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"}),(0,y.jsx)("button",{type:"button",onClick:()=>C(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:E?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(le,{className:"w-5 h-5 absolute left-3 top-3.5 text-gray-400"}),(0,y.jsx)("input",{type:O?"text":"password",placeholder:"Confirmar Senha",value:k,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"}),(0,y.jsx)("button",{type:"button",onClick:()=>P(!O),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:O?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]}),(0,y.jsxs)("div",{className:"flex items-start gap-2",children:[(0,y.jsx)("input",{type:"checkbox",id:"acceptTerms",checked:D,onChange:e=>{R?T(e.target.checked):de("user")},className:"mt-1 cursor-pointer"}),(0,y.jsxs)("label",{htmlFor:"acceptTerms",className:"text-xs text-gray-700",children:["Li e aceito os"," ",(0,y.jsx)("span",{className:"text-red-600 underline cursor-pointer hover:text-red-700",onClick:()=>de("user"),children:"termos de uso"}),!R&&(0,y.jsx)("span",{className:"text-gray-500 text-xs ml-1",children:"(Abra para ler)"})]})]}),(0,y.jsxs)("button",{type:"submit",disabled:ae,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold py-2.5 rounded-full transition-colors flex items-center justify-center gap-2 mt-5 text-sm",children:[ae&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"artist"===n?"PR\xd3XIMO":"CADASTRAR"]})]})]}):2===o?(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 md:p-12 max-w-2xl mx-auto",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Informa\xe7\xf5es",(0,y.jsx)("br",{}),"B\xe1sicas"]})]}),(0,y.jsx)("div",{className:"flex-1 h-1 bg-red-600 mx-4 mb-6"}),(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-600 text-white flex items-center justify-center font-bold text-sm",children:"2"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Informa\xe7\xf5es do",(0,y.jsx)("br",{}),"Artista"]})]}),(0,y.jsx)("div",{className:"flex-1 h-1 bg-gray-300 mx-4 mb-6"}),(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-300 text-white flex items-center justify-center font-bold text-sm",children:"3"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Cadastro",(0,y.jsx)("br",{}),"Finalizado"]})]})]}),(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Informa\xe7\xf5es do Artista"}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!M||!z||!q||!W||!K||!G)return void(0,S.oR)({title:"Erro",description:"Preencha todos os campos obrigat\xf3rios",variant:"destructive"});if(!J)return void(0,S.oR)({title:"Erro",description:"Voc\xea precisa aceitar os termos de uso",variant:"destructive"});await(async e=>{if(!e)return!1;const{data:t}=await g.ND.from("artists").select("id").eq("slug",e).single();return!t})(z)?ue():U("Este endere\xe7o j\xe1 est\xe1 em uso")},className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome (Artista/Banda)"}),(0,y.jsx)("input",{type:"text",placeholder:"Nome do artista ou banda",value:M,onChange:e=>(e=>{L(e);const t=ce(e);F(t),U("")})(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL do Perfil"}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)("span",{className:"text-gray-600 text-sm whitespace-nowrap",children:"https://oucaaqui.com/"}),(0,y.jsx)("input",{type:"text",placeholder:"seuartista",value:z,onChange:e=>{F(ce(e.target.value)),U("")},className:"flex-1 px-4 py-3 border rounded-lg focus:outline-none placeholder-gray-400 text-sm ".concat(B?"border-red-500 focus:border-red-600":"border-gray-300 focus:border-red-600")})]}),B&&(0,y.jsx)("p",{className:"text-red-500 text-xs mt-1",children:B}),z&&!B&&(0,y.jsxs)("p",{className:"text-green-600 text-xs mt-1",children:["https://oucaaqui.com/",z]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),(0,y.jsx)("input",{type:"text",placeholder:"Sua cidade",value:q,onChange:e=>V(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 placeholder-gray-400 text-sm"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,y.jsxs)("select",{value:W,onChange:e=>H(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm",children:[(0,y.jsx)("option",{value:"",children:"Selecione um estado"}),[{value:"ac",label:"Acre"},{value:"al",label:"Alagoas"},{value:"ap",label:"Amap\xe1"},{value:"am",label:"Amazonas"},{value:"ba",label:"Bahia"},{value:"ce",label:"Cear\xe1"},{value:"df",label:"Distrito Federal"},{value:"es",label:"Esp\xedrito Santo"},{value:"go",label:"Goi\xe1s"},{value:"ma",label:"Maranh\xe3o"},{value:"mt",label:"Mato Grosso"},{value:"ms",label:"Mato Grosso do Sul"},{value:"mg",label:"Minas Gerais"},{value:"pa",label:"Par\xe1"},{value:"pb",label:"Para\xedba"},{value:"pr",label:"Paran\xe1"},{value:"pe",label:"Pernambuco"},{value:"pi",label:"Piau\xed"},{value:"rj",label:"Rio de Janeiro"},{value:"rn",label:"Rio Grande do Norte"},{value:"rs",label:"Rio Grande do Sul"},{value:"ro",label:"Rond\xf4nia"},{value:"rr",label:"Roraima"},{value:"sc",label:"Santa Catarina"},{value:"sp",label:"S\xe3o Paulo"},{value:"se",label:"Sergipe"},{value:"to",label:"Tocantins"}].map(e=>(0,y.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"G\xeanero"}),(0,y.jsxs)("select",{value:K,onChange:e=>$(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm",children:[(0,y.jsx)("option",{value:"",children:"Selecione"}),(0,y.jsx)("option",{value:"masculino",children:"Masculino"}),(0,y.jsx)("option",{value:"feminino",children:"Feminino"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estilo Musical"}),(0,y.jsxs)("select",{value:G,onChange:e=>Y(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm",children:[(0,y.jsx)("option",{value:"",children:"Selecione"}),(0,y.jsx)("option",{value:"forro",children:"Forr\xf3"}),(0,y.jsx)("option",{value:"arrocha",children:"Arrocha"}),(0,y.jsx)("option",{value:"piseiro",children:"Piseiro"}),(0,y.jsx)("option",{value:"arrochadeira",children:"Arrochadeira"}),(0,y.jsx)("option",{value:"pagode",children:"Pagode"}),(0,y.jsx)("option",{value:"sertanejo",children:"Sertanejo"}),(0,y.jsx)("option",{value:"brega-funk",children:"Brega Funk"}),(0,y.jsx)("option",{value:"variados",children:"Variados"}),(0,y.jsx)("option",{value:"samba",children:"Samba"}),(0,y.jsx)("option",{value:"funk",children:"Funk"}),(0,y.jsx)("option",{value:"axe",children:"Ax\xe9"}),(0,y.jsx)("option",{value:"reggae",children:"Reggae"}),(0,y.jsx)("option",{value:"brega",children:"Brega"}),(0,y.jsx)("option",{value:"gospel",children:"Gospel"}),(0,y.jsx)("option",{value:"rap",children:"Rap/Hip-Hop"}),(0,y.jsx)("option",{value:"pop",children:"Pop"}),(0,y.jsx)("option",{value:"mpb",children:"MPB"}),(0,y.jsx)("option",{value:"rock",children:"Rock"}),(0,y.jsx)("option",{value:"eletronica",children:"Eletr\xf4nica"}),(0,y.jsx)("option",{value:"podcast",children:"Podcast"}),(0,y.jsx)("option",{value:"trap",children:"Trap"}),(0,y.jsx)("option",{value:"frevo",children:"Frevo"})]})]}),(0,y.jsxs)("div",{className:"flex items-start gap-2",children:[(0,y.jsx)("input",{type:"checkbox",id:"acceptTermsArtist",checked:J,onChange:e=>{Z?X(e.target.checked):de("artist")},className:"mt-1 cursor-pointer"}),(0,y.jsxs)("label",{htmlFor:"acceptTermsArtist",className:"text-xs text-gray-700",children:["Li e aceito os"," ",(0,y.jsx)("span",{className:"text-red-600 underline cursor-pointer hover:text-red-700",onClick:()=>de("artist"),children:"termos de uso"}),!Z&&(0,y.jsx)("span",{className:"text-gray-500 text-xs ml-1",children:"(Abra para ler)"})]})]}),(0,y.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,y.jsx)("button",{type:"button",onClick:()=>l(1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-900 font-bold py-3 rounded-full transition-colors",children:"VOLTAR"}),(0,y.jsxs)("button",{type:"submit",disabled:ae,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold py-2.5 rounded-full transition-colors flex items-center justify-center gap-2 text-sm",children:[ae&&(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"CADASTRAR"]})]})]})]}):3===o?(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 md:p-12 max-w-2xl mx-auto",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Informa\xe7\xf5es",(0,y.jsx)("br",{}),"B\xe1sicas"]})]}),(0,y.jsx)("div",{className:"flex-1 h-1 bg-red-600 mx-4 mb-6"}),(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Informa\xe7\xf5es do",(0,y.jsx)("br",{}),"Artista"]})]}),(0,y.jsx)("div",{className:"flex-1 h-1 bg-red-600 mx-4 mb-6"}),(0,y.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-sm",children:"\u2713"}),(0,y.jsxs)("p",{className:"text-xs text-gray-600 text-center max-w-[80px]",children:["Cadastro",(0,y.jsx)("br",{}),"Finalizado"]})]})]}),(0,y.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,y.jsx)("div",{className:"w-24 h-24 rounded-full bg-green-100 flex items-center justify-center mb-6",children:(0,y.jsx)("svg",{className:"w-12 h-12 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,y.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})}),(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Cadastro finalizado com sucesso"}),(0,y.jsx)("p",{className:"text-gray-600 text-center mb-8",children:"Seu cadastro foi realizado com sucesso! Verifique seu e-mail para confirmar sua conta e come\xe7ar a usar a plataforma."}),(0,y.jsx)("button",{onClick:()=>{b(""),j(""),_(""),A(""),L(""),F(""),U(""),V(""),H(""),$(""),Y(""),T(!1),X(!1),a("user"),l(1),e("/")},className:"bg-red-600 hover:bg-red-700 text-white font-bold px-8 py-3 rounded-full transition-colors",children:"OK"})]})]}):null})}),ee&&(0,y.jsx)(Nd,{open:ee,onOpenChange:te,children:(0,y.jsxs)(kd,{style:{maxWidth:600,padding:0},children:[(0,y.jsx)(Cd,{style:{padding:"24px 24px 0 24px",fontWeight:700,fontSize:20},children:"Termos de Uso"}),(0,y.jsxs)(Od,{children:[(0,y.jsx)("div",{style:{maxHeight:"50vh",overflowY:"auto",textAlign:"left",padding:24},children:he}),(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:24},children:(0,y.jsx)("button",{type:"button",style:{background:"#dc2626",color:"#fff",border:"none",borderRadius:6,padding:"12px 48px",fontWeight:700,fontSize:16,cursor:"pointer"},onClick:()=>{"user"===re?(I(!0),T(!0)):(Q(!0),X(!0)),te(!1)},children:"Concordo"})})]})]})})]})},Nh=(0,_t.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),_h=()=>{const e=(0,s.Zp)(),[r,n]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[m,f]=(0,t.useState)(!1),[p,v]=(0,t.useState)(null);(0,t.useEffect)(()=>{console.log("=== RESET PASSWORD INIT ===");(async()=>{try{const e=window.location.hash;if(console.log("URL:",window.location.href),console.log("Hash encontrado:",!!e),!e)return d("Link de recupera\xe7\xe3o n\xe3o encontrado."),void l(!1);const t=new URLSearchParams(e.substring(1)),r=t.get("access_token"),n=t.get("refresh_token"),a=t.get("type");if(console.log("Token extra\xeddo:",{access_token:!!r,refresh_token:!!n,type:a}),!r||"recovery"!==a)return d("Link de recupera\xe7\xe3o inv\xe1lido."),void l(!1);v({access_token:r,refresh_token:n}),f(!0),d(""),l(!1)}catch(XK){console.error("Erro ao inicializar:",XK),d("Erro ao processar link de recupera\xe7\xe3o."),l(!1)}})()},[]);return!o||c||u?c&&!m?(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,y.jsx)("div",{className:"w-full max-w-md",children:(0,y.jsxs)(ph,{className:"bg-white border-gray-200 shadow-lg",children:[(0,y.jsx)(gh,{children:(0,y.jsx)(vh,{className:"text-black",children:"Link Inv\xe1lido"})}),(0,y.jsxs)(yh,{children:[(0,y.jsx)("p",{className:"text-red-600 mb-4",children:c}),(0,y.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Se o link expirou, solicite um novo na p\xe1gina de login."}),(0,y.jsx)(nr.$,{onClick:()=>e("/login"),className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Voltar ao Login"})]})]})})}):u?(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,y.jsx)("div",{className:"w-full max-w-md",children:(0,y.jsxs)(ph,{className:"bg-white border-gray-200 shadow-lg",children:[(0,y.jsx)(gh,{children:(0,y.jsx)(vh,{className:"text-green-600",children:"Sucesso!"})}),(0,y.jsxs)(yh,{children:[(0,y.jsx)("p",{className:"text-green-600 mb-4",children:u}),(0,y.jsx)("p",{className:"text-gray-600 mb-4",children:"Redirecionando para o login..."}),(0,y.jsx)(nr.$,{onClick:()=>e("/login"),className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Ir para Login"})]})]})})}):(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,y.jsxs)("div",{className:"w-full max-w-md",children:[(0,y.jsxs)("div",{className:"text-center mb-8",children:[(0,y.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,y.jsx)(Md,{className:"w-12 h-12 text-red-600"}),(0,y.jsx)("h1",{className:"text-4xl font-bold text-black",children:"RedMusic"})]}),(0,y.jsx)("p",{className:"text-gray-600",children:"Redefinir Senha"})]}),(0,y.jsxs)(ph,{className:"bg-white border-gray-200 shadow-lg",children:[(0,y.jsxs)(gh,{children:[(0,y.jsx)(vh,{className:"text-black",children:"Nova Senha"}),(0,y.jsx)(xh,{className:"text-gray-600",children:"Digite sua nova senha abaixo"})]}),(0,y.jsx)(yh,{children:(0,y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d(""),r&&a)if(r.length<6)d("A senha deve ter no m\xednimo 6 caracteres");else if(r===a){l(!0);try{if(console.log("=== TENTANDO RESETAR SENHA ==="),null===p||void 0===p||!p.access_token)throw new Error("Token n\xe3o encontrado. Por favor, recarregue o link.");console.log("Validando recovery token com verifyOtp");try{await g.ND.auth.verifyOtp({token:p.access_token,type:"recovery"})}catch(t){throw console.error("Erro ao verificar token:",t),new Error((null===t||void 0===t?void 0:t.message)||"Token de recupera\xe7\xe3o inv\xe1lido")}console.log("Token verificado!"),await new Promise(e=>setTimeout(e,500)),console.log("Atualizando senha...");try{await g.ND.auth.updateUser({password:r})}catch(t){throw console.error("Erro ao atualizar senha:",t),new Error((null===t||void 0===t?void 0:t.message)||"Erro ao atualizar senha")}console.log("Senha atualizada com sucesso!"),h("Sua senha foi redefinida com sucesso!"),(0,S.oR)({title:"Sucesso!",description:"Sua senha foi redefinida. Redirecionando para login..."}),await g.ND.auth.signOut(),setTimeout(()=>e("/login"),2e3)}catch(XK){console.error("Erro completo:",XK);const t=(null===XK||void 0===XK?void 0:XK.message)||"Erro ao redefinir senha";d(t)}l(!1)}else d("As senhas n\xe3o conferem");else d("Por favor, preencha todos os campos")},className:"space-y-4",children:[c&&(0,y.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:c}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"password",className:"text-black",children:"Nova Senha"}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(Nh,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,y.jsx)(rr,{id:"password",type:"password",placeholder:"M\xednimo 6 caracteres",value:r,onChange:e=>n(e.target.value),className:"bg-white border-gray-300 text-black pl-10",disabled:o,required:!0})]})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"confirm-password",className:"text-black",children:"Confirmar Senha"}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(Nh,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,y.jsx)(rr,{id:"confirm-password",type:"password",placeholder:"Repita a senha",value:a,onChange:e=>i(e.target.value),className:"bg-white border-gray-300 text-black pl-10",disabled:o,required:!0})]})]}),(0,y.jsx)(nr.$,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:o,children:o?"Processando...":"Redefinir Senha"})]})})]}),(0,y.jsxs)("p",{className:"text-center text-gray-600 text-sm mt-6",children:["Lembrou da senha?"," ",(0,y.jsx)("button",{onClick:()=>e("/login"),className:"text-red-600 underline hover:text-red-700",children:"Voltar ao login"})]})]})}):(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"medium",text:"Verificando link..."})})},Sh=(0,_t.A)("disc-3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]]),kh=(0,_t.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var Ah=r(2360);const Eh=(0,_t.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ch=(0,_t.A)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),Oh=()=>{const e=(0,s.Zp)(),[r,n]=(0,t.useState)(0),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{const{data:e,error:t}=await g.ND.from("slides").select("*").order("order_index",{ascending:!0});if(t)return console.error("Erro ao carregar slides:",t),void l(!1);if(e&&e.length>0){const t=e.filter(e=>!0===e.active).map(e=>({id:e.id,image:e.image_url,title:e.title,link:e.link}));i(t)}l(!1)}catch(XK){console.error("Erro ao carregar slides:",XK),l(!1)}})()},[]),(0,t.useEffect)(()=>{const e=setInterval(()=>{n(e=>(e+1)%a.length)},5e3);return()=>clearInterval(e)},[a.length]);const c=e=>{n(e)};return 0===a.length?null:(0,y.jsxs)("div",{className:"relative w-full bg-white",children:[(0,y.jsxs)("div",{className:"hidden md:flex gap-4",children:[(0,y.jsxs)("div",{className:"relative flex-1 h-[510px] overflow-hidden rounded-lg group",children:[a.map((t,n)=>(0,y.jsx)("div",{onClick:()=>t.link&&e(t.link),className:"absolute inset-0 transition-opacity duration-700 ".concat(n===r?"opacity-100 z-10":"opacity-0 z-0"," ").concat(t.link?"cursor-pointer":""),children:(0,y.jsx)("img",{src:t.image,alt:t.title||"Slide ".concat(n+1),loading:0===n?"eager":"lazy",decoding:"async",className:"w-full h-full object-cover"})},t.id)),(0,y.jsx)("button",{onClick:e=>{e.stopPropagation(),n(e=>(e-1+a.length)%a.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-black/40 hover:bg-black/60 rounded flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:(0,y.jsx)(kh,{className:"w-5 h-5 text-white"})}),(0,y.jsx)("button",{onClick:e=>{e.stopPropagation(),n(e=>(e+1)%a.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-black/40 hover:bg-black/60 rounded flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:(0,y.jsx)($l,{className:"w-5 h-5 text-white"})}),(0,y.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex space-x-2",children:a.map((e,t)=>(0,y.jsx)("button",{onClick:()=>c(t),className:"h-2 rounded-full transition-all ".concat(t===r?"bg-red-600 w-8":"bg-white/50 w-2")},t))})]}),(0,y.jsx)("div",{className:"hidden lg:flex flex-col gap-2 w-48 overflow-y-auto",children:a.map((e,t)=>(0,y.jsx)("button",{onClick:()=>c(t),className:"relative h-[95px] overflow-hidden rounded-lg transition-all flex-shrink-0 ".concat(t===r?"ring-2 ring-red-600 opacity-100":"opacity-70 hover:opacity-100"),children:(0,y.jsx)("img",{src:e.image,alt:"Thumbnail ".concat(t+1),loading:"lazy",decoding:"async",className:"w-full h-full object-cover"})},e.id))})]}),(0,y.jsxs)("div",{className:"md:hidden flex flex-col gap-3",children:[(0,y.jsxs)("div",{className:"relative w-full h-[220px] overflow-hidden rounded-lg group",children:[a.map((t,n)=>(0,y.jsx)("div",{onClick:()=>t.link&&e(t.link),className:"absolute inset-0 transition-opacity duration-700 ".concat(n===r?"opacity-100 z-10":"opacity-0 z-0"," ").concat(t.link?"cursor-pointer":""),children:(0,y.jsx)("img",{src:t.image,alt:t.title||"Slide ".concat(n+1),loading:0===n?"eager":"lazy",decoding:"async",className:"w-full h-full object-cover"})},t.id)),(0,y.jsx)("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-20 flex space-x-1",children:a.map((e,t)=>(0,y.jsx)("button",{onClick:()=>c(t),className:"h-1.5 rounded-full transition-all ".concat(t===r?"bg-red-600 w-6":"bg-white/50 w-1.5")},t))})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 gap-3 max-h-[440px] overflow-y-auto",children:a.slice(0,5).map((e,t)=>(0,y.jsx)("button",{onClick:()=>c(t),className:"relative h-[100px] overflow-hidden rounded-lg transition-all flex-shrink-0 ".concat(t===r?"ring-2 ring-red-600 opacity-100":"opacity-70 hover:opacity-100"),children:(0,y.jsx)("img",{src:e.image,alt:"Thumbnail ".concat(t+1),loading:"lazy",decoding:"async",className:"w-full h-full object-cover"})},e.id))})]})]})},Ph=()=>{const[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=setTimeout(()=>{o()},500);return()=>clearTimeout(e)},[]);const o=async()=>{try{const{data:e}=await g.ND.from("homepage_popup").select("*").eq("active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(e){r(e);const t="popup-".concat(e.id,"-seen");sessionStorage.getItem(t)||(a(!0),requestAnimationFrame(()=>i(!0)),sessionStorage.setItem(t,"true"))}}catch(e){}};return n&&e?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("style",{children:"\n        @keyframes popupFadeIn {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n\n        @keyframes popupScaleIn {\n          from {\n            transform: scale(0.9) translateY(-20px);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1) translateY(0);\n            opacity: 1;\n          }\n        }\n\n        @keyframes popupFadeOut {\n          from {\n            opacity: 1;\n          }\n          to {\n            opacity: 0;\n          }\n        }\n\n        @keyframes popupScaleOut {\n          from {\n            transform: scale(1) translateY(0);\n            opacity: 1;\n          }\n          to {\n            transform: scale(0.9) translateY(-20px);\n            opacity: 0;\n          }\n        }\n\n        .popup-overlay {\n          animation: ".concat(s?"popupFadeIn":"popupFadeOut"," 0.3s ease-out forwards;\n        }\n\n        .popup-content {\n          animation: ").concat(s?"popupScaleIn":"popupScaleOut"," 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;\n        }\n      ")}),(0,y.jsx)("div",{className:"popup-overlay fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4 -mt-16",children:(0,y.jsxs)("div",{className:"popup-content relative max-w-3xl w-full",children:[(0,y.jsx)("button",{onClick:()=>{i(!1),setTimeout(()=>a(!1),300)},className:"absolute top-4 right-4 z-10 bg-red-600 rounded-full p-2 shadow-lg hover:bg-red-700 transition",children:(0,y.jsx)(St,{className:"w-6 h-6 text-white"})}),(0,y.jsx)("div",{className:"bg-white rounded-lg overflow-hidden shadow-2xl ".concat(e.link_url?"cursor-pointer hover:shadow-3xl transition-shadow":""),onClick:()=>{null!==e&&void 0!==e&&e.link_url&&(e.link_url.startsWith("http")?window.open(e.link_url,"_blank"):window.location.href=e.link_url)},children:(0,y.jsx)("img",{src:e.image_url,alt:"Popup promocional",className:"w-full h-auto object-cover"})})]})})]}):null},Dh=()=>{const{playSong:e}=w(),{user:r}=(0,i.A)(),n=(0,t.useRef)(null),a=(0,t.useRef)(null),o=(0,t.useRef)(null),[l,c]=((0,t.useRef)(null),(0,t.useState)("mes")),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[v,x]=(0,t.useState)(new Set),[b,j]=(0,t.useState)([]),[_,k]=(0,t.useState)([]),[A,E]=(0,t.useState)(0),[C,O]=(0,t.useState)(!0),[P,D]=(0,t.useState)(null),T=[{name:"Forr\xf3",slug:"forro",imageUrl:"/images/slides/GENEROS/forr\xf3.jpg"},{name:"Arrocha",slug:"arrocha",imageUrl:"/images/slides/GENEROS/ARROCHA.jpg"},{name:"Piseiro",slug:"piseiro",imageUrl:"/images/slides/GENEROS/PISEIRO.jpg"},{name:"Arrochadeira",slug:"arrochadeira",imageUrl:"/images/slides/GENEROS/ARROCHADEIRA.jpg"},{name:"Pagode",slug:"pagode",imageUrl:"/images/slides/GENEROS/PAGODE.jpg"},{name:"Sertanejo",slug:"sertanejo",imageUrl:"/images/slides/GENEROS/SERTANEJO.jpg"},{name:"Brega Funk",slug:"brega-funk",imageUrl:"/images/slides/GENEROS/BREGAFUNK.jpg"},{name:"Variados",slug:"variados",imageUrl:"/images/slides/GENEROS/POP.jpg"},{name:"Samba",slug:"samba",imageUrl:"/images/slides/GENEROS/SAMBA.jpg"},{name:"Funk",slug:"funk",imageUrl:"/images/slides/GENEROS/FUNK.jpg"},{name:"Ax\xe9",slug:"axe",imageUrl:"/images/slides/GENEROS/AX\xc9.jpg"},{name:"Reggae",slug:"reggae",imageUrl:"/images/slides/GENEROS/REGGAE.jpg"},{name:"Brega",slug:"brega",imageUrl:"/images/slides/GENEROS/BREGA.jpg"},{name:"Gospel",slug:"gospel",imageUrl:"/images/slides/GENEROS/GOSPEL.jpg"},{name:"Rap/Hip-Hop",slug:"rap-hip-hop",imageUrl:"/images/slides/GENEROS/HIP-HOP.jpg"},{name:"Pop",slug:"pop",imageUrl:"/images/slides/GENEROS/POP.jpg"},{name:"MPB",slug:"mpb",imageUrl:"/images/slides/GENEROS/MPB.jpg"},{name:"Rock",slug:"rock",imageUrl:"/images/slides/GENEROS/ROCK.jpg"},{name:"Eletr\xf4nica",slug:"eletronica",imageUrl:"/images/slides/GENEROS/ELETR\xd4NICA.jpg"},{name:"Trap",slug:"trap",imageUrl:"/images/slides/GENEROS/TRAP.jpg"},{name:"Frevo",slug:"frevo",imageUrl:"/images/slides/GENEROS/FREVO.jpg"}],R=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0",I=async()=>{try{D(null);const[e,t,a,s]=await Promise.all([g.ND.from("albums").select("\n                *,\n                artist:artists(id, name, slug, is_verified)\n                ").eq("is_private",!1).is("deleted_at",null).order("release_date",{ascending:!1,nullsFirst:!1}).limit(50),g.ND.from("artists").select("*").order("followers_count",{ascending:!1}).limit(20),g.ND.from("collaboration_invites").select("album_id, invited_user_id").eq("status","accepted"),g.ND.from("artist_videos").select("*").order("created_at",{ascending:!1}).limit(12)]);if(e.data&&e.data.length>0){const t=e.data,r={};if(a.data&&a.data.length>0){const e=[...new Set(a.data.map(e=>e.invited_user_id))],{data:t}=await g.ND.from("artists").select("id, name, slug, is_verified").in("id",e);if(t){const e={};t.forEach(t=>{e[t.id]=t}),a.data.forEach(t=>{e[t.invited_user_id]&&(r[t.album_id]||(r[t.album_id]=[]),r[t.album_id].push(e[t.invited_user_id]))})}}const n=t.map(e=>{var t,n,a;return{id:e.id,slug:e.slug,title:e.title,artistName:(null===(t=e.artist)||void 0===t?void 0:t.name)||e.artist_name,artistId:e.artist_id,artistSlug:(null===(n=e.artist)||void 0===n?void 0:n.slug)||e.artist_id,artistVerified:(null===(a=e.artist)||void 0===a?void 0:a.is_verified)||!1,collaborators:r[e.id]||[],coverImage:e.cover_url||"/images/default-album.png",releaseYear:e.release_year,playCount:e.play_count||0,downloadCount:e.download_count||0}});if(u(n),n.length>0){const e=[...n].sort(()=>Math.random()-.5);j(e.slice(0,6))}}const i=t.data;if(i&&i.length>0){const e=i.sort((e,t)=>(t.followers_count||0)-(e.followers_count||0)),t=e.map(e=>({id:e.id,slug:e.slug,name:e.name,avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",verified:e.is_verified,bio:e.bio}));if(m(t),null!==r&&void 0!==r&&r.id)try{const{data:e}=await g.ND.from("follows").select("artist_id").eq("follower_id",r.id);e&&x(new Set(e.map(e=>e.artist_id)))}catch(n){console.warn("Erro ao carregar artistas seguidos:",n)}}if(s.data&&s.data.length>0){const e=s.data.filter(e=>!0===e.is_public);if(e.length>0){const t=[...new Set(e.map(e=>e.artist_id))],{data:r}=await g.ND.from("artists").select("id, name, slug, is_verified").in("id",t),n={};r&&r.forEach(e=>{n[e.id]=e});const a=e.map(e=>{const t=n[e.artist_id]||{};return{id:e.id,title:e.title,videoUrl:e.video_url,thumbnail:e.thumbnail||"/images/default-album.png",artistName:t.name||"Artista Desconhecido",artistSlug:t.slug||e.artist_id,artistVerified:t.is_verified||!1,createdAt:e.created_at,views:e.views_count||0}});k(a)}else k([])}}catch(a){var e,t;console.error("Erro ao carregar dados da home:",a),null!==(e=a.message)&&void 0!==e&&e.includes("Timeout")?D("Carregamento lento - tentando novamente em breve"):null!==(t=a.message)&&void 0!==t&&t.includes("400")?console.warn("Erro de permiss\xe3o ao carregar alguns dados"):D(a.message||"Erro ao carregar alguns dados")}finally{O(!1)}};(0,t.useEffect)(()=>{I()},[]),(0,t.useEffect)(()=>{M()},[l,d]);const M=async()=>{try{if(0===d.length)return;if("geral"===l){const e=[...d].sort((e,t)=>t.playCount-e.playCount);return void p(e)}const e=new Date;let t;"dia"===l?(t=new Date(e),t.setHours(0,0,0,0)):"semana"===l?t=new Date(e.getTime()-6048e5):"mes"===l&&(t=new Date(e.getTime()-2592e6));const{data:r,error:n}=await g.ND.from("plays").select("album_id").gte("created_at",t.toISOString()).lte("created_at",e.toISOString());if(n)throw n;const a={};(r||[]).forEach(e=>{a[e.album_id]=(a[e.album_id]||0)+1});const s=d.filter(e=>a[e.id]>0).map(e=>(0,N.A)((0,N.A)({},e),{},{period_play_count:a[e.id]||0})).sort((e,t)=>t.period_play_count-e.period_play_count);p(s)}catch(e){p([])}},L=(e,t)=>{if(e.current){const r="left"===t?-800:800;e.current.scrollBy({left:r,behavior:"smooth"})}},z=async(e,t)=>{if(t.preventDefault(),null!==r&&void 0!==r&&r.id)try{if(v.has(e)){await g.ND.from("follows").delete().eq("follower_id",r.id).eq("artist_id",e);const t=new Set(v);t.delete(e),x(t),(0,S.oR)({title:"Sucesso",description:"Deixou de seguir o artista"})}else{await g.ND.from("follows").insert([{follower_id:r.id,artist_id:e}]);const t=new Set(v);t.add(e),x(t),(0,S.oR)({title:"Sucesso",description:"Agora voc\xea segue este artista"})}}catch(n){(0,S.oR)({title:"Erro",description:"Ocorreu um erro ao seguir o artista",variant:"destructive"})}else(0,S.oR)({title:"Erro",description:"Fa\xe7a login para seguir artistas",variant:"destructive"})};return C?(0,y.jsx)("div",{className:"flex-1 flex items-center justify-center bg-white min-h-screen",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})}):(0,y.jsx)("div",{className:"flex-1 overflow-y-auto bg-white relative",children:(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)(Ph,{}),P&&(0,y.jsx)("div",{className:"bg-red-50 border border-red-200 px-4 py-3 text-red-800",children:(0,y.jsxs)("p",{children:["Erro ao carregar alguns dados: ",P]})}),(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,y.jsx)(Oh,{})}),(0,y.jsx)("div",{className:"box-adicionar-artista dotted-border",children:(0,y.jsxs)("div",{className:"inner",children:[(0,y.jsxs)("div",{className:"mensagem",children:["Divulgue sua banda em nosso site ",(0,y.jsx)("b",{children:"www.oucaaqui.com"})]}),(0,y.jsxs)("a",{href:"https://web.archive.org/web/20180329073822/http://jairzinhocds.com.br/contato/",className:"btn-twomp",children:[(0,y.jsx)("span",{className:"icon-lapis-enviar"}),"Entre em contato"]})]})}),(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[P&&(0,y.jsx)("div",{className:"flex justify-center mb-8",children:(0,y.jsx)(nr.$,{onClick:()=>I(),className:"bg-red-600 hover:bg-red-700 text-white",children:"Tentar Novamente"})}),(0,y.jsxs)("section",{className:"mb-16 hidden md:block",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(Sh,{className:"w-8 h-8 text-red-600"}),(0,y.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Lan\xe7amentos Recentes"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(s.N_,{to:"/lancamentos",className:"text-red-600 hover:text-red-500 font-bold text-sm",children:"VER TODOS"}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)(nr.$,{onClick:()=>L(n,"left"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,y.jsx)(kh,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{onClick:()=>L(n,"right"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,y.jsx)($l,{className:"w-4 h-4"})})]})]})]}),(0,y.jsx)("div",{ref:n,className:"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:0===d.length?(0,y.jsx)("p",{className:"text-gray-500 py-8 w-full",children:"Nenhum lan\xe7amento dispon\xedvel no momento."}):d.map(e=>(0,y.jsxs)("div",{className:"flex-shrink-0",style:{width:"calc((100% - 80px) / 6)"},children:[(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 text-xs mb-2 flex-wrap",children:[(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{children:e.artistName}),e.artistVerified&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),e.collaborators&&e.collaborators.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{children:"&"}),e.collaborators.map((e,t)=>(0,y.jsxs)(s.N_,{to:"/".concat(e.slug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{children:e.name}),e.is_verified&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]},e.id))]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:R(e.period_play_count||e.playCount)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:R(e.downloadCount)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))})]}),(0,y.jsxs)("section",{className:"mb-16 hidden md:block",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(Zu,{className:"w-8 h-8 text-red-600"}),(0,y.jsx)("h2",{className:"text-3xl font-bold text-black",children:"TOP CDS"}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-sm ml-4",children:[(0,y.jsx)("button",{onClick:()=>c("dia"),className:"font-bold pb-1 transition-colors ".concat("dia"===l?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-red-600"),children:"DIA"}),(0,y.jsx)("span",{className:"text-gray-400",children:"/"}),(0,y.jsx)("button",{onClick:()=>c("semana"),className:"font-medium transition-colors ".concat("semana"===l?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"SEMANA"}),(0,y.jsx)("span",{className:"text-gray-400",children:"/"}),(0,y.jsx)("button",{onClick:()=>c("mes"),className:"font-medium transition-colors ".concat("mes"===l?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"M\xcaS"}),(0,y.jsx)("span",{className:"text-gray-400",children:"/"}),(0,y.jsx)("button",{onClick:()=>c("geral"),className:"font-medium transition-colors ".concat("geral"===l?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"GERAL"})]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(s.N_,{to:"/top-cds",className:"text-red-600 hover:text-red-500 font-bold text-sm",children:"VER TODOS"}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)(nr.$,{onClick:()=>L(a,"left"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,y.jsx)(kh,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{onClick:()=>L(a,"right"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,y.jsx)($l,{className:"w-4 h-4"})})]})]})]}),(0,y.jsx)("div",{ref:a,className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===f.length?(0,y.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum CD dispon\xedvel para este per\xedodo."}):f.map((e,t)=>(0,y.jsxs)("div",{children:[(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-red-600 text-white font-bold text-lg w-10 h-10 flex items-center justify-center rounded shadow-lg",children:t+1}),(0,y.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 text-xs mb-2 flex-wrap",children:[(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{children:e.artistName}),e.artistVerified&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),e.collaborators&&e.collaborators.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{children:"&"}),e.collaborators.map((e,t)=>(0,y.jsxs)(s.N_,{to:"/".concat(e.slug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{children:e.name}),e.is_verified&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]},e.id))]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:R(e.period_play_count||e.playCount)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:R(e.downloadCount)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},"".concat(e.id,"-").concat(l)))})]}),(0,y.jsxs)("section",{className:"mb-8 md:mb-16",children:[(0,y.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(Gt,{className:"w-8 h-8 text-red-600"}),(0,y.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Artistas em Destaque"})]})}),(0,y.jsx)("div",{className:"hidden md:grid grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-14",children:0===h.length?(0,y.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum artista dispon\xedvel no momento."}):h.slice(0,2).map(e=>(0,y.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,y.jsx)(s.N_,{to:"/".concat(e.slug||e.id),className:"group cursor-pointer mb-1",children:(0,y.jsx)("div",{className:"relative inline-block",children:(0,y.jsx)("img",{src:e.avatar,alt:e.name,className:"w-28 h-28 rounded-full object-cover transform group-hover:scale-110 transition-transform duration-300 shadow-lg group-hover:ring-2 group-hover:ring-red-600"})})}),(0,y.jsxs)(s.N_,{to:"/".concat(e.slug||e.id),className:"flex items-center gap-1 justify-center text-black font-semibold text-sm mb-1 hover:text-red-600 transition-colors w-full whitespace-nowrap",children:[(0,y.jsx)("span",{className:"text-sm",children:e.name}),e.verified&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,y.jsx)("button",{onClick:t=>z(e.id,t),className:"inline-flex items-center justify-center gap-1.5 whitespace-nowrap text-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 shadow py-1.5 px-4 h-9 w-[130px] rounded-full font-semibold ".concat(v.has(e.id)?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-red-600 text-white hover:bg-red-700"),children:v.has(e.id)?"SEGUINDO":(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Eh,{className:"w-3.5 h-3.5"}),"SEGUIR"]})})]},e.id))}),(0,y.jsx)("div",{className:"md:hidden flex gap-6 overflow-x-auto scrollbar-hide scroll-smooth",children:0===h.length?(0,y.jsx)("p",{className:"text-gray-500 py-8 w-full",children:"Nenhum artista dispon\xedvel no momento."}):h.slice(0,6).map(e=>(0,y.jsxs)("div",{className:"flex flex-col items-center text-center flex-shrink-0",style:{minWidth:"100px"},children:[(0,y.jsx)(s.N_,{to:"/".concat(e.slug||e.id),className:"group cursor-pointer mb-2",children:(0,y.jsx)("div",{className:"relative inline-block",children:(0,y.jsx)("img",{src:e.avatar,alt:e.name,className:"w-20 h-20 rounded-full object-cover transform group-hover:scale-110 transition-transform duration-300 shadow-lg group-hover:ring-2 group-hover:ring-red-600"})})}),(0,y.jsxs)(s.N_,{to:"/".concat(e.slug||e.id),className:"flex items-center gap-0.5 justify-center text-black font-semibold text-xs mb-2 hover:text-red-600 transition-colors w-full",children:[(0,y.jsx)("span",{className:"truncate",children:e.name}),e.verified&&(0,y.jsx)(Ah.A,{className:"w-2.5 h-2.5 text-blue-500 flex-shrink-0"})]}),(0,y.jsx)("button",{onClick:t=>z(e.id,t),className:"inline-flex items-center justify-center gap-1 whitespace-nowrap text-xs transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-3 [&_svg]:shrink-0 shadow py-1 px-2 h-7 rounded-full font-semibold ".concat(v.has(e.id)?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-red-600 text-white hover:bg-red-700"),children:v.has(e.id)?"SIM":(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Eh,{className:"w-2.5 h-2.5"}),"ADD"]})})]},e.id))})]}),(0,y.jsxs)("section",{className:"mb-8 md:mb-16",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-6 flex-wrap",children:[(0,y.jsx)(Ch,{className:"w-8 h-8 text-red-600 flex-shrink-0"}),(0,y.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-black whitespace-nowrap",children:"Ou\xe7a Aqui Recomenda!"})]}),(0,y.jsx)("div",{className:"hidden md:grid grid-cols-3 lg:grid-cols-6 gap-4",children:0===b.length?(0,y.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum \xe1lbum dispon\xedvel no momento."}):b.map(e=>(0,y.jsxs)("div",{className:"flex-shrink-0",children:[(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 text-xs mb-2 flex-wrap",children:[(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{children:e.artistName}),e.artistVerified&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),e.collaborators&&e.collaborators.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{children:"&"}),e.collaborators.map(e=>(0,y.jsxs)(s.N_,{to:"/".concat(e.slug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{children:e.name}),e.is_verified&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]},e.id))]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:R(e.playCount)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:R(e.downloadCount)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))}),(0,y.jsx)("div",{className:"md:hidden grid grid-cols-3 gap-2",children:0===b.length?(0,y.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum \xe1lbum dispon\xedvel no momento."}):b.map(e=>(0,y.jsxs)("div",{className:"flex-shrink-0",children:[(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-2 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-3 h-3 text-white ml-0.5",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-xs mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsx)("div",{className:"flex items-center gap-0.5 text-gray-600 text-xs flex-wrap",children:(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors truncate",children:[(0,y.jsx)("span",{className:"truncate text-xs",children:e.artistName}),e.artistVerified&&(0,y.jsx)(Ah.A,{className:"w-2.5 h-2.5 text-blue-500 flex-shrink-0"})]})})]},e.id))})]}),_.length>0&&(0,y.jsxs)("section",{className:"mb-16 hidden md:block",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,y.jsx)(Ld,{className:"w-8 h-8 text-red-600"}),(0,y.jsx)("h2",{className:"text-3xl font-bold text-black",children:"CLIPS"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,y.jsxs)("div",{className:"lg:col-span-2",children:[(0,y.jsx)("div",{className:"relative w-full bg-black rounded-lg overflow-hidden shadow-lg",children:(0,y.jsx)("div",{className:"relative",style:{paddingBottom:"56.25%"},children:(0,y.jsx)("iframe",{className:"absolute top-0 left-0 w-full h-full",src:"https://www.youtube.com/embed/".concat((e=>{if(!e)return"";const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);return t?t[1]:""})(_[A].videoUrl)),title:_[A].title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),(0,y.jsxs)("div",{className:"mt-4",children:[(0,y.jsx)("h3",{className:"text-xl font-bold text-black mb-2",children:_[A].title}),(0,y.jsxs)(s.N_,{to:"/".concat(_[A].artistSlug),className:"flex items-center gap-1 text-gray-600 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{className:"font-semibold",children:_[A].artistName}),_[A].artistVerified&&(0,y.jsx)(Ah.A,{className:"w-4 h-4 text-blue-500"})]})]})]}),(0,y.jsx)("div",{className:"lg:col-span-1",children:(0,y.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:_.slice(0,20).map((e,t)=>(0,y.jsxs)("div",{className:"flex gap-3 p-3 rounded-lg cursor-pointer transition-all ".concat(t===A?"bg-red-600":"bg-gray-100 hover:bg-gray-200"),onClick:()=>{E(t)},children:[(0,y.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-24 h-20 rounded object-cover flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h4",{className:"text-sm font-semibold truncate ".concat(t===A?"text-white":"text-black"),children:e.title}),(0,y.jsx)("p",{className:"text-xs truncate ".concat(t===A?"text-red-100":"text-gray-600"),children:e.artistName})]})]},e.id))})})]})]}),(0,y.jsxs)("section",{className:"mb-4 md:mb-16",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(Md,{className:"w-8 h-8 text-red-600"}),(0,y.jsx)("h2",{className:"text-3xl font-bold text-black",children:"G\xeaneros"})]}),(0,y.jsx)("div",{className:"hidden md:flex items-center gap-3",children:(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)(nr.$,{onClick:()=>L(o,"left"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,y.jsx)(kh,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{onClick:()=>L(o,"right"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,y.jsx)($l,{className:"w-4 h-4"})})]})})]}),(0,y.jsx)("div",{ref:o,className:"hidden md:flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:T.map(e=>(0,y.jsx)(s.N_,{to:"/genero/".concat(e.slug),className:"flex-shrink-0",style:{width:"calc((100% - 80px) / 6)"},children:(0,y.jsxs)("div",{className:"h-32 rounded-lg shadow-lg flex items-center justify-center p-4 cursor-pointer group hover:shadow-xl transition-all duration-300 relative overflow-hidden",style:{backgroundImage:"linear-gradient(135deg, rgba(0, 0, 0, 0.72) 0%, rgba(0, 0, 0, 0.72) 100%), url('".concat(e.imageUrl,"')"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,y.jsx)("div",{className:"absolute inset-0 group-hover:bg-red-600/85 transition-all duration-300"}),(0,y.jsx)("h3",{className:"text-white font-bold text-lg text-center relative z-10 group-hover:scale-110 transition-transform duration-300",children:e.name})]})},e.slug))}),(0,y.jsx)("div",{className:"md:hidden grid grid-cols-3 gap-3",children:T.map(e=>(0,y.jsx)(s.N_,{to:"/genero/".concat(e.slug),className:"flex-shrink-0",children:(0,y.jsxs)("div",{className:"h-24 rounded-lg shadow-lg flex items-center justify-center p-2 cursor-pointer group hover:shadow-xl transition-all duration-300 relative overflow-hidden",style:{backgroundImage:"linear-gradient(135deg, rgba(0, 0, 0, 0.72) 0%, rgba(0, 0, 0, 0.72) 100%), url('".concat(e.imageUrl,"')"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,y.jsx)("div",{className:"absolute inset-0 group-hover:bg-red-600/85 transition-all duration-300"}),(0,y.jsx)("h3",{className:"text-white font-bold text-sm text-center relative z-10 group-hover:scale-110 transition-transform duration-300",children:e.name})]})},e.slug))})]})]})]})})},Th=(0,_t.A)("sliders-horizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Rh=e=>{const{user:r}=(0,i.A)();(0,t.useEffect)(()=>{(async()=>{try{await g.ND.from("page_visits").insert({page_name:e||window.location.pathname,user_id:(null===r||void 0===r?void 0:r.id)||null,user_agent:navigator.userAgent,ip_address:null})}catch(t){console.log("Erro ao registrar visita:",t.message)}})()},[e,null===r||void 0===r?void 0:r.id])},Ih=e=>{let{src:t,alt:r="",className:n="",showBadge:a=!0,badgeClassName:s=""}=e;const i=s||"w-7 h-7",o=null!==s&&void 0!==s&&s.includes("w-5")?"w-3 h-3":"w-4 h-4";return(0,y.jsxs)("div",{className:"relative inline-block ".concat((n.includes("w-"),"")),children:[(0,y.jsx)("img",{src:t,alt:r,className:"".concat(n," block")}),a&&(0,y.jsx)("div",{className:"absolute bottom-2 right-2",children:(0,y.jsx)("div",{className:"".concat(i," rounded-full bg-blue-500 flex items-center justify-center shadow-md"),children:(0,y.jsx)(Ah.A,{className:o,color:"#fff"})})})]})},Mh=()=>{Rh("search");const[e,r]=(0,s.ok)(),n=e.get("q")||"",[a,i]=(0,t.useState)(n),[o,l]=(0,t.useState)("todos"),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)("recent"),[m,f]=(0,t.useState)("recent"),[p,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)([]),N=[{id:"recent",label:"MAIS RECENTES"},{id:"plays",label:"MAIS OUVIDAS"},{id:"downloads",label:"MAIS BAIXADAS"},{id:"oldest",label:"MAIS ANTIGOS"}];(0,t.useEffect)(()=>{n&&_(n)},[n]);const _=async e=>{d(!0);try{const t=await g.ND.from("artists").select("*").or("name.ilike.%".concat(e,"%,slug.ilike.%").concat(e,"%")).limit(20),r=(t.data||[]).map(e=>e.id),[n,a]=await Promise.all([g.ND.from("albums").select("\n            *,\n            artist:artists(id, name, slug, is_verified, avatar_url)\n          ").or("title.ilike.%".concat(e,"%,slug.ilike.%").concat(e,"%").concat(r.length>0?",artist_id.in.(".concat(r.join(","),")"):"")).order("created_at",{ascending:!1}).limit(50),g.ND.from("playlists").select("*").eq("is_public",!0).ilike("title","%".concat(e,"%")).order("created_at",{ascending:!1}).limit(20)]);console.log("Playlists encontradas:",a.data,"Erro:",a.error),v(t.data||[]);const s=new Date,i=(n.data||[]).filter(e=>!e.is_private&&(!e.is_scheduled||(!e.scheduled_publish_at||new Date(e.scheduled_publish_at)<=s)));b(i),j(a.data||[])}catch(t){console.error("Erro na busca:",t)}d(!1)},S="todos"===o||"perfis"===o,k="todos"===o||"albums"===o,A="todos"===o||"playlists"===o,E=(e,t)=>{const r=[...e];switch(t){case"plays":return r.sort((e,t)=>(t.play_count||0)-(e.play_count||0));case"downloads":return r.sort((e,t)=>(t.download_count||0)-(e.download_count||0));case"oldest":return r.sort((e,t)=>new Date(e.created_at)-new Date(t.created_at));default:return r.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))}},C=E(x,u),O=E(w,m),P=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,y.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,y.jsx)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&r({q:a.trim()})},className:"mb-8",children:(0,y.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[(0,y.jsx)(Ht,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,y.jsx)(rr,{type:"text",placeholder:"Buscar artistas, \xe1lbuns, playlists...",value:a,onChange:e=>i(e.target.value),className:"pl-12 h-12 bg-white border-gray-200 text-gray-900"})]})}),n&&(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"flex gap-2 mb-8 flex-wrap",children:[{id:"todos",label:"Todos"},{id:"perfis",label:"Perfis"},{id:"albums",label:"CDS/SINGLES"},{id:"playlists",label:"Playlists"}].map(e=>(0,y.jsx)("button",{onClick:()=>l(e.id),className:"px-6 py-2 rounded-full font-medium transition-colors ".concat(o===e.id?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.label},e.id))}),(0,y.jsx)("main",{children:c?(0,y.jsx)("div",{className:"text-center py-12",children:(0,y.jsx)(Vt,{size:"medium",text:"Buscando..."})}):(0,y.jsxs)("div",{className:"space-y-10",children:[S&&p.length>0&&(0,y.jsxs)("section",{children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4 pb-2 border-b-2 border-red-600",children:"PERFIS"}),(0,y.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-8 gap-4",children:("todos"===o?p.slice(0,8):p).map(e=>{var t;return(0,y.jsxs)(s.N_,{to:"/".concat(e.slug),className:"group cursor-pointer text-center",children:[(0,y.jsx)("div",{className:"relative mb-2 mx-auto",style:{maxWidth:"120px"},children:(0,y.jsx)(Ih,{src:e.avatar_url||"/images/default-avatar.png",alt:e.name,className:"w-full aspect-square rounded-full object-cover transform group-hover:scale-105 transition-transform duration-300 shadow-md",badgeClassName:"w-6 h-6",showBadge:e.is_verified})}),(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-xs mb-0.5 truncate group-hover:text-red-600 transition-colors",children:e.name}),(0,y.jsxs)("p",{className:"text-gray-500 text-xs",children:[(null===(t=e.followers_count)||void 0===t?void 0:t.toLocaleString())||0," ouvintes"]})]},e.id)})}),"todos"===o&&p.length>8&&(0,y.jsx)("button",{onClick:()=>l("perfis"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODOS PERFIS"})]}),k&&x.length>0&&(0,y.jsxs)("section",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"CDS/SINGLES"}),(0,y.jsxs)(ac,{modal:!1,children:[(0,y.jsxs)(sc,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,y.jsx)(Th,{className:"w-4 h-4"}),"Filtros",(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),(0,y.jsx)(oc,{align:"end",className:"bg-white",children:N.map(e=>(0,y.jsx)(lc,{onClick:()=>h(e.id),className:"cursor-pointer ".concat(u===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:("todos"===o?C.slice(0,12):C).map(e=>{var t,r;return(0,y.jsxs)(s.N_,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||"artista","/").concat(e.slug),className:"group cursor-pointer",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,y.jsx)("p",{className:"text-gray-500 text-xs truncate mb-2",children:(null===(r=e.artist)||void 0===r?void 0:r.name)||"Artista"}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:P(e.play_count)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:P(e.download_count)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})}),"todos"===o&&x.length>12&&(0,y.jsx)("button",{onClick:()=>l("albums"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODOS CDS/SINGLES"})]}),A&&w.length>0&&(0,y.jsxs)("section",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"PLAYLISTS"}),(0,y.jsxs)(ac,{modal:!1,children:[(0,y.jsxs)(sc,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,y.jsx)(Th,{className:"w-4 h-4"}),"Filtros",(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),(0,y.jsx)(oc,{align:"end",className:"bg-white",children:N.map(e=>(0,y.jsx)(lc,{onClick:()=>f(e.id),className:"cursor-pointer ".concat(m===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:("todos"===o?O.slice(0,6):O).map(e=>(0,y.jsxs)(s.N_,{to:"/playlist/".concat(e.id),className:"group cursor-pointer",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,y.jsx)("p",{className:"text-gray-500 text-xs truncate",children:"Playlist"})]},e.id))}),"todos"===o&&w.length>6&&(0,y.jsx)("button",{onClick:()=>l("playlists"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODAS PLAYLISTS"})]}),!c&&0===p.length&&0===x.length&&0===w.length&&(0,y.jsxs)("div",{className:"text-center py-16",children:[(0,y.jsx)(Ht,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum resultado encontrado"}),(0,y.jsxs)("p",{className:"text-gray-500",children:['N\xe3o encontramos resultados para "',n,'"']})]})]})})]}),!n&&(0,y.jsxs)("div",{className:"text-center py-20",children:[(0,y.jsx)(Ht,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"O que voc\xea quer encontrar?"}),(0,y.jsx)("p",{className:"text-gray-500",children:"Busque por artistas, \xe1lbuns ou playlists"})]})]})})},Lh=(0,_t.A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),zh=()=>{Rh("library");const{playSong:e}=w(),{user:r}=(0,i.A)(),[n,a]=(0,t.useState)("favoritos"),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)({favoriteAlbums:[],favoritePlaylists:[],userPlaylists:[]});(0,t.useEffect)(()=>{d()},[null===r||void 0===r?void 0:r.id]);const d=async()=>{if(null!==r&&void 0!==r&&r.id)try{o(!0);const{data:e}=await g.ND.from("album_favorites").select("album_id").eq("user_id",r.id);let t=[];if(e&&e.length>0){const r=e.map(e=>e.album_id),{data:n}=await g.ND.from("albums").select("\n            *,\n            artist:artist_id (\n              id,\n              slug,\n              is_verified\n            )\n          ").in("id",r).order("created_at",{ascending:!1});t=n||[]}const{data:n}=await g.ND.from("playlist_favorites").select("playlist_id").eq("user_id",r.id);let a=[];if(n&&n.length>0){const e=n.map(e=>e.playlist_id),{data:t}=await g.ND.from("playlists").select("*").in("id",e).order("created_at",{ascending:!1});a=t||[]}const{data:s}=await g.ND.from("playlists").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});c({favoriteAlbums:t,favoritePlaylists:a,userPlaylists:s||[]})}catch(e){console.error("Erro ao carregar biblioteca:",e),(0,S.oR)({title:"Erro",description:"Erro ao carregar dados da biblioteca",variant:"destructive"})}finally{o(!1)}else o(!1)},u=e=>{let{tab:t,icon:r,label:s}=e;return(0,y.jsxs)("button",{onClick:()=>a(t),className:"flex items-center justify-center gap-2 py-3 md:py-2 rounded-lg font-bold text-sm md:text-base border-2 transition-all flex-1 ".concat(n===t?"bg-red-600 text-white border-red-600":"bg-white text-red-600 border-red-600 hover:shadow-md"),children:[r,(0,y.jsx)("span",{children:s})]})};return(0,y.jsxs)("div",{className:"flex-1 overflow-y-auto bg-white",children:[(0,y.jsx)("div",{className:"px-3 md:px-6 py-4 md:py-6 bg-white border-b border-gray-100",children:(0,y.jsxs)("div",{className:"flex gap-3",children:[(0,y.jsx)(u,{tab:"favoritos",icon:(0,y.jsx)(Zt,{className:"w-5 h-5 fill-current"}),label:"Favoritos"}),(0,y.jsx)(u,{tab:"playlists",icon:(0,y.jsx)(Lh,{className:"w-5 h-5"}),label:"Playlists"}),(0,y.jsx)(u,{tab:"downloads",icon:(0,y.jsx)(Qd,{className:"w-5 h-5"}),label:"Downloads"})]})}),(0,y.jsxs)("div",{className:"px-3 md:px-6 py-4 bg-white border-b border-gray-100 flex items-center justify-between",children:[(0,y.jsx)("span",{className:"text-gray-800 font-medium text-sm",children:(()=>{switch(n){case"favoritos":return"".concat(l.favoriteAlbums.length," favoritos");case"playlists":return"".concat(l.favoritePlaylists.length+l.userPlaylists.length," playlists");case"downloads":return"Em breve";default:return""}})()}),"favoritos"===n&&(0,y.jsxs)("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-bold text-sm transition-colors flex items-center gap-2 whitespace-nowrap",children:[(0,y.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,y.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),"Ver Lan\xe7amentos"]})]}),(0,y.jsx)("div",{className:"px-4 md:px-6 py-6 bg-white",children:s?(0,y.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsxs)(y.Fragment,{children:["favoritos"===n&&(0,y.jsx)("div",{className:"space-y-3",children:0===l.favoriteAlbums.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Zt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-500 text-lg",children:"Nenhum \xe1lbum favoritado ainda"})]}):l.favoriteAlbums.map(e=>(0,y.jsx)("div",{className:"group cursor-pointer block hover:bg-gray-50 p-3 rounded-lg transition-colors",onClick:()=>{var t;window.location.href="/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,"/").concat(e.slug||e.id)},children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsxs)("div",{className:"relative flex-shrink-0 overflow-hidden rounded-lg shadow-md border-2 border-gray-200",children:[(0,y.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-20 h-20 object-cover transform group-hover:scale-105 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-50 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-4 h-4 text-white ml-0.5",fill:"white"})})})]}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-xs line-clamp-2 group-hover:text-red-600 transition-colors",children:e.title}),(0,y.jsx)("p",{className:"text-gray-600 text-xs mt-0.5",children:e.artist_name}),(0,y.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:[e.total_tracks||0," m\xfasicas"]})]})]})},e.id))}),"playlists"===n&&(0,y.jsx)("div",{className:"space-y-3",children:0===l.favoritePlaylists.length&&0===l.userPlaylists.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Qt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-500 text-lg",children:"Nenhuma playlist ainda"})]}):(0,y.jsxs)(y.Fragment,{children:[l.favoritePlaylists.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"mb-3 mt-4",children:(0,y.jsx)("p",{className:"text-gray-600 text-xs font-semibold uppercase",children:"Playlists Favoritas"})}),l.favoritePlaylists.map(e=>(0,y.jsx)("div",{className:"group cursor-pointer block hover:bg-gray-50 p-3 rounded-lg transition-colors",onClick:()=>{window.location.href="/playlist/".concat(e.slug||e.id)},children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsxs)("div",{className:"relative flex-shrink-0 overflow-hidden rounded-lg shadow-md border-2 border-gray-200 w-20 h-20 bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center",children:[e.cover_url?(0,y.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"}):(0,y.jsx)(Qt,{className:"w-6 h-6 text-white opacity-30"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-50 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-4 h-4 text-white ml-0.5",fill:"white"})})})]}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-xs line-clamp-2 group-hover:text-red-600 transition-colors",children:e.title}),(0,y.jsx)("p",{className:"text-gray-600 text-xs mt-0.5 line-clamp-1",children:e.description}),(0,y.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:[(e.song_ids||[]).length," m\xfasicas"]})]})]})},e.id))]}),l.userPlaylists.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"mb-3 mt-6",children:(0,y.jsx)("p",{className:"text-gray-600 text-xs font-semibold uppercase",children:"Minhas Playlists"})}),l.userPlaylists.map(e=>(0,y.jsx)("div",{className:"group cursor-pointer block hover:bg-gray-50 p-3 rounded-lg transition-colors",onClick:()=>{window.location.href="/playlist/".concat(e.slug||e.id)},children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsxs)("div",{className:"relative flex-shrink-0 overflow-hidden rounded-lg shadow-md border-2 border-gray-200 w-20 h-20 bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center",children:[e.cover_url?(0,y.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"}):(0,y.jsx)(Qt,{className:"w-6 h-6 text-white opacity-30"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-50 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-4 h-4 text-white ml-0.5",fill:"white"})})})]}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-xs line-clamp-2 group-hover:text-red-600 transition-colors",children:e.title}),(0,y.jsx)("p",{className:"text-gray-600 text-xs mt-0.5 line-clamp-1",children:e.description}),(0,y.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:[(e.song_ids||[]).length," m\xfasicas"]})]})]})},e.id))]})]})}),"downloads"===n&&(0,y.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,y.jsx)(Qd,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,y.jsx)("p",{className:"text-gray-500 text-lg",children:"Downloads em breve"}),(0,y.jsx)("p",{className:"text-gray-400 text-sm",children:"Funcionalidade ser\xe1 implementada em breve"})]})]})})]})},Fh=()=>{const{user:e}=(0,i.A)(),[r,n]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)("");(0,t.useEffect)(()=>{h()},[e]);const h=async()=>{if(null!==e&&void 0!==e&&e.id)try{const{data:t,error:r}=await g.ND.from("playlists").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;n(t||[])}catch(t){console.error("Erro ao carregar playlists:",t),(0,S.oR)({title:"Erro",description:"Falha ao carregar playlists",variant:"destructive"})}finally{o(!1)}};return a?(0,y.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})}):(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,y.jsx)("h1",{className:"text-3xl font-bold text-black",children:"Minhas Playlists"}),(0,y.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[(0,y.jsx)(Eh,{className:"w-5 h-5"}),"Nova Playlist"]})]}),l&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,y.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,y.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Criar Nova Playlist"}),(0,y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d.trim())try{const{data:t,error:a}=await g.ND.from("playlists").insert([{name:d,user_id:e.id,slug:d.toLowerCase().replace(/\s+/g,"-")}]).select();if(a)throw a;n([t[0],...r]),u(""),c(!1),(0,S.oR)({title:"Sucesso",description:"Playlist criada com sucesso"})}catch(a){console.error("Erro ao criar playlist:",a),(0,S.oR)({title:"Erro",description:"Falha ao criar playlist",variant:"destructive"})}},children:[(0,y.jsx)("input",{type:"text",placeholder:"Nome da playlist",value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4",autoFocus:!0}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)("button",{type:"submit",className:"flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Criar"}),(0,y.jsx)("button",{type:"button",onClick:()=>c(!1),className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})]})}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===r.length?(0,y.jsx)("p",{className:"col-span-full text-gray-500 text-center py-8",children:"Voc\xea n\xe3o tem playlists ainda. Crie uma para come\xe7ar!"}):r.map(e=>(0,y.jsxs)(s.N_,{to:"/playlist/".concat(e.slug),className:"group cursor-pointer",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg bg-gradient-to-br from-red-600 to-red-800 aspect-square flex items-center justify-center",children:[(0,y.jsx)(Gd,{className:"w-8 h-8 text-white opacity-50",fill:"white"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-sm truncate group-hover:text-red-600 transition-colors",children:e.name})]},e.id))})]})},Bh=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(0),[i,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{l()},[]);const l=async()=>{try{const{data:e}=await g.ND.from("artist_videos").select("*").eq("is_public",!0).order("created_at",{ascending:!1}).limit(50);if(e&&e.length>0){const t=[...new Set(e.map(e=>e.artist_id))],{data:n}=await g.ND.from("artists").select("id, name, slug, is_verified").in("id",t),a={};n&&n.forEach(e=>{a[e.id]=e});const s=e.map(e=>{const t=a[e.artist_id]||{};return{id:e.id,title:e.title,videoUrl:e.video_url,thumbnail:e.thumbnail||"/images/default-album.png",artistName:t.name||"Artista Desconhecido",artistSlug:t.slug||e.artist_id,artistVerified:t.is_verified||!1,createdAt:e.created_at,views:e.views_count||0}});r(s)}}catch(e){console.error("Erro ao carregar clips:",e)}finally{o(!1)}},c=e=>{if(!e)return"";const t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);return t?t[1]:""};if(i)return(0,y.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})});if(0===e.length)return(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,y.jsx)("h1",{className:"text-3xl font-bold text-black mb-8",children:"CLIPS"}),(0,y.jsx)("p",{className:"text-gray-500 text-center py-16",children:"Nenhum clip dispon\xedvel no momento."})]});const d=e[n];return(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,y.jsx)("h1",{className:"text-3xl font-bold text-black mb-8",children:"CLIPS"}),(0,y.jsxs)("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,y.jsxs)("div",{className:"lg:col-span-2",children:[(0,y.jsx)("div",{className:"relative w-full bg-black rounded-lg overflow-hidden shadow-lg",children:(0,y.jsx)("div",{className:"relative",style:{paddingBottom:"56.25%"},children:(0,y.jsx)("iframe",{className:"absolute top-0 left-0 w-full h-full",src:"https://www.youtube.com/embed/".concat(c(d.videoUrl)),title:d.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),(0,y.jsxs)("div",{className:"mt-4",children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-black mb-2",children:d.title}),(0,y.jsxs)(s.N_,{to:"/".concat(d.artistSlug),className:"flex items-center gap-1 text-gray-600 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{className:"font-semibold",children:d.artistName}),d.artistVerified&&(0,y.jsx)(Ah.A,{className:"w-4 h-4 text-blue-500"})]})]})]}),(0,y.jsx)("div",{className:"lg:col-span-1",children:(0,y.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:e.map((e,t)=>(0,y.jsxs)("div",{className:"flex gap-3 p-3 rounded-lg cursor-pointer transition-all ".concat(t===n?"bg-red-600":"bg-gray-100 hover:bg-gray-200"),onClick:()=>a(t),children:[(0,y.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-24 h-20 rounded object-cover flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h4",{className:"text-sm font-semibold truncate ".concat(t===n?"text-white":"text-black"),children:e.title}),(0,y.jsx)("p",{className:"text-xs truncate ".concat(t===n?"text-red-100":"text-gray-600"),children:e.artistName})]})]},e.id))})})]}),(0,y.jsxs)("div",{className:"md:hidden",children:[(0,y.jsx)("div",{className:"relative w-full bg-black rounded-lg overflow-hidden shadow-lg mb-6",children:(0,y.jsx)("div",{className:"relative",style:{paddingBottom:"56.25%"},children:(0,y.jsx)("iframe",{className:"absolute top-0 left-0 w-full h-full",src:"https://www.youtube.com/embed/".concat(c(d.videoUrl)),title:d.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h2",{className:"text-xl font-bold text-black mb-2",children:d.title}),(0,y.jsxs)(s.N_,{to:"/".concat(d.artistSlug),className:"flex items-center gap-1 text-gray-600 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{className:"font-semibold",children:d.artistName}),d.artistVerified&&(0,y.jsx)(Ah.A,{className:"w-4 h-4 text-blue-500"})]})]}),(0,y.jsx)("div",{className:"space-y-3",children:e.map((e,t)=>(0,y.jsxs)("div",{className:"flex gap-3 p-3 rounded-lg cursor-pointer transition-all ".concat(t===n?"bg-red-600":"bg-gray-100 hover:bg-gray-200"),onClick:()=>a(t),children:[(0,y.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-24 h-20 rounded object-cover flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h4",{className:"text-sm font-semibold truncate ".concat(t===n?"text-white":"text-black"),children:e.title}),(0,y.jsx)("p",{className:"text-xs truncate ".concat(t===n?"text-red-100":"text-gray-600"),children:e.artistName})]})]},e.id))})]})]})},Uh=(0,_t.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),qh=(0,_t.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Vh=["className"],Wh=["side","className","children"],Hh=["className"],Kh=["className"],$h=cd,Gh=dd,Yh=ud,Jh=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Vh);return(0,y.jsx)(hd,(0,N.A)((0,N.A)({className:(0,kt.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n),{},{ref:t}))});Jh.displayName=hd.displayName;const Xh=(0,Nt.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Zh=t.forwardRef((e,t)=>{let{side:r="right",className:n,children:a}=e,s=(0,_.A)(e,Wh);return(0,y.jsxs)(Yh,{children:[(0,y.jsx)(Jh,{}),(0,y.jsxs)(md,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)(Xh({side:r}),n)},s),{},{children:[(0,y.jsxs)(gd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,y.jsx)(St,{className:"h-4 w-4"}),(0,y.jsx)("span",{className:"sr-only",children:"Close"})]}),a]}))]})});Zh.displayName=md.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Hh);return(0,y.jsx)(fd,(0,N.A)({ref:t,className:(0,kt.cn)("text-lg font-semibold text-foreground",r)},n))}).displayName=fd.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Kh);return(0,y.jsx)(pd,(0,N.A)({ref:t,className:(0,kt.cn)("text-sm text-muted-foreground",r)},n))}).displayName=pd.displayName;const Qh=()=>(0,y.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 256 256",height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M144,80a8,8,0,0,1,8-8h96a8,8,0,0,1,0,16H152A8,8,0,0,1,144,80Zm104,40H152a8,8,0,0,0,0,16h96a8,8,0,0,0,0-16Zm0,48H176a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16Zm-96.25,22a8,8,0,0,1-5.76,9.74,7.55,7.55,0,0,1-2,.26,8,8,0,0,1-7.75-6c-6.16-23.94-30.34-42-56.25-42s-50.09,18.05-56.25,42a8,8,0,0,1-15.5-4c5.59-21.71,21.84-39.29,42.46-48a48,48,0,1,1,58.58,0C129.91,150.71,146.16,168.29,151.75,190ZM80,136a32,32,0,1,0-32-32A32,32,0,0,0,80,136Z"})}),em=()=>(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{fill:"none",strokeLinejoin:"round",strokeWidth:"48",d:"M144 144h320M144 256h320M144 368h320"}),(0,y.jsx)("path",{fill:"none",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:"32",d:"M64 128h32v32H64zm0 112h32v32H64zm0 112h32v32H64z"})]}),tm=()=>(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,y.jsx)("path",{d:"M14 10H3v2h11v-2zm0-4H3v2h11V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM3 16h7v-2H3v2z"})]}),rm=e=>(null===e||void 0===e?void 0:e.replace(/\.mp3$/i,""))||"",nm=e=>{let{song:r,index:n,onPlay:a,onPlayMobile:o,formatDuration:l,isHighlighted:c=!1}=e;const d=(0,s.Zp)(),{user:u}=(0,i.A)(),{isFavorite:h,toggleFavorite:m}=Ku(null===r||void 0===r?void 0:r.id),{playSong:f}=w(),[p,v]=(0,t.useState)(!1),[b,j]=(0,t.useState)(null),[N,_]=(0,t.useState)(!1),[k,A]=(0,t.useState)([]),[E,C]=(0,t.useState)(!1),[O,P]=(0,t.useState)(""),[D,T]=(0,t.useState)(!1),[R,I]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(p){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight="".concat(e,"px")}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[p]);const M=(0,t.useCallback)(async e=>{if(e.stopPropagation(),u)try{await m(),(0,S.oR)({title:h?"Removido dos favoritos":"Adicionado aos favoritos",description:r.title})}catch(t){(0,S.oR)({title:"Erro",description:"Erro ao atualizar favoritos",variant:"destructive"})}else(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para favoritar m\xfasicas",variant:"destructive"})},[null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.title,u,h,m]),L=(0,t.useCallback)(async e=>{if(e.stopPropagation(),r.audioUrl){(0,S.oR)({title:"Download Iniciado",description:r.title});try{if(r.id){const e=r.albumId||r.album_id||r.albumid;x(r.id,e)}const e=await fetch(r.audioUrl),t=await e.blob(),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="".concat(r.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(t){console.error("Download error:",t),(0,S.oR)({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else(0,S.oR)({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})},[null===r||void 0===r?void 0:r.audioUrl,null===r||void 0===r?void 0:r.title,null===r||void 0===r?void 0:r.id]),z=(0,t.useCallback)(async()=>{if(u){C(!0);try{const{data:e,error:t}=await g.ND.from("playlists").select("id, title, cover_url, song_ids").eq("user_id",u.id).order("created_at",{ascending:!1});if(t)throw t;A(e||[])}catch(e){console.error("Erro ao carregar playlists:",e)}finally{C(!1)}}},[u]),F=(0,t.useCallback)(e=>{e.stopPropagation(),u?(I(!1),z(),_(!0)):(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar \xe0 playlist"})},[u,z]),B=(0,t.useCallback)(async e=>{if(null!==r&&void 0!==r&&r.id&&null!==e&&void 0!==e&&e.id)try{const t=e.song_ids||[];if(t.includes(r.id))return void(0,S.oR)({title:"M\xfasica j\xe1 est\xe1 na playlist",description:rm(r.title),variant:"destructive"});const n=[...t,r.id],{error:a}=await g.ND.from("playlists").update({song_ids:n}).eq("id",e.id);if(a)throw a;(0,S.oR)({title:"M\xfasica adicionada!",description:rm(r.title)}),_(!1)}catch(t){console.error("Erro ao adicionar m\xfasica:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel adicionar a m\xfasica",variant:"destructive"})}},[null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.title]),U=(0,t.useCallback)(async()=>{if(O.trim()&&u&&null!==r&&void 0!==r&&r.id)if(O.trim().length<5)(0,S.oR)({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{T(!0);try{const e=(e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())(O.trim()),{data:t,error:n}=await g.ND.from("playlists").insert({user_id:u.id,slug:e,title:O.trim(),description:"",cover_url:null,is_public:!1,song_ids:[r.id],play_count:0}).select().single();if(n)throw n;(0,S.oR)({title:"Playlist criada!",description:'"'.concat(O.trim(),'" com a m\xfasica adicionada')}),P(""),_(!1)}catch(e){console.error("Erro ao criar playlist:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel criar a playlist",variant:"destructive"})}finally{T(!1)}}},[O,u,null===r||void 0===r?void 0:r.id]),q=(0,t.useCallback)(e=>{e.stopPropagation(),I(!1),null!==r&&void 0!==r&&r.artistSlug?d("/".concat(r.artistSlug)):(0,S.oR)({title:"Perfil n\xe3o dispon\xedvel",description:"Informa\xe7\xf5es do artista n\xe3o encontradas",variant:"destructive"})},[null===r||void 0===r?void 0:r.artistSlug,d]),V=(0,t.useCallback)(e=>{e.stopPropagation(),r&&(f(r,[r]),(0,S.oR)({title:"Adicionado ao player",description:rm(r.title)}))},[r,f]),W=(0,t.useCallback)(async e=>{if(e.stopPropagation(),v(!0),null!==r&&void 0!==r&&r.artistId)try{const{data:e}=await g.ND.from("artists").select("name, is_verified, avatar_url").eq("id",r.artistId).maybeSingle();e&&j(e)}catch(t){console.error("Erro ao buscar dados do artista:",t)}},[null===r||void 0===r?void 0:r.artistId]);return(0,y.jsxs)("div",{className:"flex items-center gap-3 md:gap-4 px-4 py-3 border-b border-gray-100 last:border-0 hover:bg-red-100 transition-colors ".concat(c?"bg-blue-100":""),children:[(0,y.jsxs)("span",{className:"text-gray-600 w-6 md:w-8 text-center font-medium text-sm md:text-base",children:[String(n+1).padStart(2,"0"),"."]}),(0,y.jsx)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation();window.innerWidth<768?null===o||void 0===o||o(r):null===a||void 0===a||a(r)},children:(0,y.jsx)("p",{className:"text-black font-medium truncate text-sm md:text-base",children:rm(r.title)})}),(0,y.jsxs)("div",{className:"md:hidden flex items-center gap-2",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:F,title:"Adicionar \xe0 playlist",className:"h-8 w-8",children:(0,y.jsx)(em,{})}),(0,y.jsxs)($h,{open:R,onOpenChange:I,children:[(0,y.jsx)(Gh,{asChild:!0,children:(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",title:"Mais op\xe7\xf5es",className:"h-8 w-8",children:(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,y.jsx)("circle",{cx:"12",cy:"12",r:"2"}),(0,y.jsx)("circle",{cx:"12",cy:"19",r:"2"})]})})}),(0,y.jsx)(Zh,{side:"bottom",className:"p-6",children:(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsxs)("button",{onClick:e=>{M(e),I(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:[(0,y.jsx)(Zt,{className:"w-5 h-5 ".concat(h?"fill-red-600 text-red-600":"text-gray-600")}),(0,y.jsx)("span",{className:"text-base",children:h?"Remover dos favoritos":"Favoritar M\xfasica"})]}),(0,y.jsxs)("button",{onClick:e=>{V(e),I(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:[(0,y.jsx)(em,{className:"w-5 h-5 text-gray-600"}),(0,y.jsx)("span",{className:"text-base",children:"Adicionar \xe0 fila"})]}),(0,y.jsxs)("button",{onClick:q,className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:[(0,y.jsx)("svg",{className:"w-5 h-5 text-gray-600",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),(0,y.jsx)("span",{className:"text-base",children:"Ver Perfil"})]}),(0,y.jsxs)("button",{onClick:F,className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:[(0,y.jsx)(tm,{className:"w-5 h-5 text-gray-600"}),(0,y.jsx)("span",{className:"text-base",children:"Adicionar \xe0 Playlist"})]})]})})]})]}),(0,y.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:M,title:h?"Remover dos favoritos":"Adicionar aos favoritos",children:(0,y.jsx)(Zt,{className:"w-5 h-5 ".concat(h?"fill-red-600 text-red-600":"text-gray-600 hover:text-red-600")})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:V,title:"Adicionar ao player",children:(0,y.jsx)(Eh,{className:"w-5 h-5 text-gray-600"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:F,title:"Adicionar \xe0 playlist",children:(0,y.jsx)(em,{})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:W,title:"Cr\xe9ditos da m\xfasica",children:(0,y.jsx)(Qh,{})}),(0,y.jsx)("span",{className:"text-gray-600 text-sm w-12 text-right",children:l(r.duration)}),(0,y.jsx)(nr.$,{onClick:L,variant:"outline",size:"sm",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:"\u2193 BAIXAR"})]}),(0,y.jsx)(Nd,{open:p,onOpenChange:v,children:(0,y.jsxs)(kd,{className:"max-w-md",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Cr\xe9ditos"})}),(0,y.jsxs)("div",{className:"space-y-6 py-4",children:[(0,y.jsxs)("div",{className:"flex gap-3",children:[(0,y.jsx)("img",{src:null===r||void 0===r?void 0:r.coverImage,alt:null===r||void 0===r?void 0:r.title,className:"w-16 h-16 rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsxs)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:[String((null===r||void 0===r?void 0:r.trackNumber)||0).padStart(2,"0")," - ",rm(null===r||void 0===r?void 0:r.title)]}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(null===b||void 0===b?void 0:b.avatar_url)&&(0,y.jsx)("img",{src:b.avatar_url,alt:b.name,className:"w-4 h-4 rounded-full object-cover"}),(0,y.jsx)("span",{className:"text-xs text-gray-600",children:(null===b||void 0===b?void 0:b.name)||(null===r||void 0===r?void 0:r.artistName)}),(null===b||void 0===b?void 0:b.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Composi\xe7\xe3o de"}),null!==r&&void 0!==r&&r.composer?(0,y.jsx)("p",{className:"text-base text-gray-900",children:r.composer}):(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600",children:"N\xe3o encontrado"}),(0,y.jsx)("button",{className:"text-red-600 text-sm hover:underline mt-2",children:"Fa\xe7a uma sugest\xe3o"})]})]})]}),(0,y.jsx)("div",{className:"flex justify-end",children:(0,y.jsx)(nr.$,{variant:"outline",onClick:e=>{e.stopPropagation(),v(!1)},children:"Fechar"})})]})}),(0,y.jsx)(Nd,{open:N,onOpenChange:_,children:(0,y.jsxs)(kd,{className:"max-w-md",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Adicionar \xe0 Playlist"})}),(0,y.jsxs)("div",{className:"space-y-4 py-4",children:[(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)("input",{type:"text",placeholder:"Nome da nova playlist...",value:O,onChange:e=>P(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"}),(0,y.jsx)(nr.$,{onClick:U,disabled:!O.trim()||D,className:"bg-red-600 hover:bg-red-700 text-white",children:D?"...":(0,y.jsx)(Eh,{className:"w-4 h-4"})})]}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,y.jsx)("span",{className:"w-full border-t"})}),(0,y.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,y.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"ou escolha uma playlist"})})]}),(0,y.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:E?(0,y.jsx)("p",{className:"text-center text-gray-500 py-4",children:"Carregando..."}):0===k.length?(0,y.jsx)("p",{className:"text-center text-gray-500 py-4",children:"Voc\xea ainda n\xe3o tem playlists"}):k.map(e=>{var t;return(0,y.jsxs)("button",{onClick:()=>B(e),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[(0,y.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:e.cover_url?(0,y.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-full h-full object-cover"}):(0,y.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-red-100",children:(0,y.jsx)(tm,{className:"w-6 h-6 text-red-600"})})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("span",{className:"font-medium text-gray-900 block truncate",children:e.title}),(0,y.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===(t=e.song_ids)||void 0===t?void 0:t.length)||0," m\xfasicas"]})]})]},e.id)})})]}),(0,y.jsx)("div",{className:"flex justify-end",children:(0,y.jsx)(nr.$,{variant:"outline",onClick:()=>_(!1),children:"Cancelar"})})]})})]})},am=["children"],sm=["children"];function im(e){const r=om(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=(0,_.A)(e,am),i=t.Children.toArray(a),o=i.find(cm);if(o){const e=o.props.children,a=i.map(r=>r===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function om(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=(0,_.A)(e,sm);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const r=(0,N.A)({},t);for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,N.A)((0,N.A)({},a),s):"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return(0,N.A)((0,N.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(s.ref=r?(0,E.t)(r,e):e),t.cloneElement(n,s)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var lm=Symbol("radix.slottable");function cm(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===lm}const dm=["__scopePopover"],um=["__scopePopover"],hm=["forceMount"],mm=["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"],fm=["__scopePopover"],pm=["__scopePopover"];var gm="Popover",[vm,xm]=I(gm,[Sa]),ym=Sa(),[bm,wm]=vm(gm),jm=e=>{const{__scopePopover:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=ym(r),c=t.useRef(null),[d,u]=t.useState(!1),[h,m]=Ne({prop:a,defaultProp:null!==s&&void 0!==s&&s,onChange:i,caller:gm});return(0,y.jsx)(Ua,(0,N.A)((0,N.A)({},l),{},{children:(0,y.jsx)(bm,{scope:r,contentId:jr(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:t.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:d,onCustomAnchorAdd:t.useCallback(()=>u(!0),[]),onCustomAnchorRemove:t.useCallback(()=>u(!1),[]),modal:o,children:n})}))};jm.displayName=gm;var Nm="PopoverAnchor",_m=t.forwardRef((e,r)=>{const{__scopePopover:n}=e,a=(0,_.A)(e,dm),s=wm(Nm,n),i=ym(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return t.useEffect(()=>(o(),()=>l()),[o,l]),(0,y.jsx)(qa,(0,N.A)((0,N.A)((0,N.A)({},i),a),{},{ref:r}))});_m.displayName=Nm;var Sm="PopoverTrigger",km=t.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=(0,_.A)(e,um),a=wm(Sm,r),s=ym(r),i=(0,E.s)(t,a.triggerRef),o=(0,y.jsx)(re.button,(0,N.A)((0,N.A)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Bm(a.open)},n),{},{ref:i,onClick:A(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?o:(0,y.jsx)(qa,(0,N.A)((0,N.A)({asChild:!0},s),{},{children:o}))});km.displayName=Sm;var Am="PopoverPortal",[Em,Cm]=vm(Am,{forceMount:void 0}),Om=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=wm(Am,t);return(0,y.jsx)(Em,{scope:t,forceMount:r,children:(0,y.jsx)(be,{present:r||s.open,children:(0,y.jsx)(ye,{asChild:!0,container:a,children:n})})})};Om.displayName=Am;var Pm="PopoverContent",Dm=t.forwardRef((e,t)=>{const r=Cm(Pm,e.__scopePopover),{forceMount:n=r.forceMount}=e,a=(0,_.A)(e,hm),s=wm(Pm,e.__scopePopover);return(0,y.jsx)(be,{present:n||s.open,children:s.modal?(0,y.jsx)(Rm,(0,N.A)((0,N.A)({},a),{},{ref:t})):(0,y.jsx)(Im,(0,N.A)((0,N.A)({},a),{},{ref:t}))})});Dm.displayName=Pm;var Tm=im("PopoverContent.RemoveScroll"),Rm=t.forwardRef((e,r)=>{const n=wm(Pm,e.__scopePopover),a=t.useRef(null),s=(0,E.s)(r,a),i=t.useRef(!1);return t.useEffect(()=>{const e=a.current;if(e)return _s(e)},[]),(0,y.jsx)(mi,{as:Tm,allowPinchZoom:!0,children:(0,y.jsx)(Mm,(0,N.A)((0,N.A)({},e),{},{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:A(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),i.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:A(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;i.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:A(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})}))})}),Im=t.forwardRef((e,r)=>{const n=wm(Pm,e.__scopePopover),a=t.useRef(!1),s=t.useRef(!1);return(0,y.jsx)(Mm,(0,N.A)((0,N.A)({},e),{},{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented)||(a.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault());a.current=!1,s.current=!1},onInteractOutside:t=>{var r,i;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const o=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}}))}),Mm=t.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d}=e,u=(0,_.A)(e,mm),h=wm(Pm,r),m=ym(r);return or(),(0,y.jsx)(mr,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:(0,y.jsx)(ue,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:(0,y.jsx)(Va,(0,N.A)((0,N.A)((0,N.A)({"data-state":Bm(h.open),role:"dialog",id:h.contentId},m),u),{},{ref:t,style:(0,N.A)((0,N.A)({},u.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),Lm="PopoverClose",zm=t.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=(0,_.A)(e,fm),a=wm(Lm,r);return(0,y.jsx)(re.button,(0,N.A)((0,N.A)({type:"button"},n),{},{ref:t,onClick:A(e.onClick,()=>a.onOpenChange(!1))}))});zm.displayName=Lm;var Fm=t.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=(0,_.A)(e,pm),a=ym(r);return(0,y.jsx)(Wa,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});function Bm(e){return e?"open":"closed"}Fm.displayName="PopoverArrow";var Um=Om,qm=Dm;const Vm=["className","align","sideOffset"],Wm=jm,Hm=km,Km=t.forwardRef((e,t)=>{let{className:r,align:n="center",sideOffset:a=4}=e,s=(0,_.A)(e,Vm);return(0,y.jsx)(Um,{children:(0,y.jsx)(qm,(0,N.A)({ref:t,align:n,sideOffset:a,className:(0,kt.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",r)},s))})});Km.displayName=qm.displayName;const $m=(0,t.lazy)(()=>Promise.resolve().then(r.bind(r,5695))),Gm=()=>{var e,r,n,a;Rh("album");const{artistSlug:o,albumSlug:l}=(0,s.g)(),{playSong:c,currentSong:d,isPlaying:u,togglePlay:f,setIsFullPlayerOpen:p}=((0,s.Zp)(),w()),{user:x,isPremium:b}=(0,i.A)(),[j,_]=(0,t.useState)(!1),[k,A]=(0,t.useState)(null),[E,C]=(0,t.useState)([]),[O,P]=(0,t.useState)(null),[D,T]=(0,t.useState)([]),[R,I]=(0,t.useState)(!0),[M,L]=(0,t.useState)(!1),[z,F]=(0,t.useState)(!1),[B,U]=(0,t.useState)([]),[q,V]=(0,t.useState)(null),[W,H]=(0,t.useState)(!1),[K,$]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{let e=!0;return(async()=>{var t,r;if(!e)return;if(I(!0),L(!1),U([]),C([]),A(null),P(null),T([]),V(null),_(!1),F(!1),"album"===o)return void(e&&(L(!0),I(!1)));let{data:n}=await g.ND.from("albums").select("*").eq("slug",l).is("deleted_at",null).maybeSingle();if(!n){const{data:e}=await g.ND.from("albums").select("*").eq("id",l).is("deleted_at",null).maybeSingle();n=e}if(!n)return void(e&&(L(!0),I(!1)));const a=(async(e,t,r)=>{let{data:n,error:a}=await g.ND.from("artists").select("id, name, slug, avatar_url, cover_url, verified, bio, followers_count").eq("slug",o).maybeSingle();if(a&&console.error("Artist slug query error:",a),!n){const{data:e,error:t}=await g.ND.from("artists").select("id, name, slug, avatar_url, cover_url, verified, bio, followers_count").eq("id",o).maybeSingle();t&&console.error("Artist ID query error:",t),n=e}return console.log("Artist data loaded:",{slug:o,artist:null===(e=n)||void 0===e?void 0:e.name,avatar_url:null===(t=n)||void 0===t?void 0:t.avatar_url,verified:null===(r=n)||void 0===r?void 0:r.verified}),n})(),s=(async(e,t)=>{let r=await g.ND.from("songs").select("*").eq("album_id",n.id).order("track_number",{ascending:!0});if(console.log("Songs query with album_id filter:",{albumId:n.id,count:null===(e=r.data)||void 0===e?void 0:e.length,error:r.error,firstSong:null===(t=r.data)||void 0===t?void 0:t[0]}),!r.data||0===r.data.length){var a;console.log("Nenhuma m\xfasica com album_id. Listando TODAS as m\xfasicas para debug...");let e=await g.ND.from("songs").select("id, album_id, title, artist_id").limit(5);console.log("Amostra de todas as m\xfasicas:",{count:null===(a=e.data)||void 0===a?void 0:a.length,songs:e.data})}return r})();let i,c;try{[i,c]=await Promise.all([a,s]),console.log("Promise.all resolved:",{artistData:!!i,songsResult:c})}catch(N){throw console.error("Error in Promise.all:",N),N}if(console.log("Album loading:",{albumId:n.id,isPrivate:n.is_private,artistId:n.artist_id,userId:null===x||void 0===x?void 0:x.id,artistFound:!!i,artistData:i,avatar_url:null===(t=i)||void 0===t?void 0:t.avatar_url,profile_image:null===(r=i)||void 0===r?void 0:r.profile_image}),i||console.warn("Artista n\xe3o encontrado, mas prosseguindo com \xe1lbum"),n.is_private&&(null===x||void 0===x?void 0:x.id)!==n.artist_id&&(null===x||void 0===x||!x.isAdmin))return void(e&&(console.warn("\xc1lbum privado e usu\xe1rio n\xe3o \xe9 o dono"),L(!0),I(!1)));if(!e)return;P(i||{id:n.artist_id,name:n.artist_name}),A({id:n.id,slug:n.slug,title:n.title,artistName:n.artist_name,artistId:n.artist_id,coverImage:n.cover_url||"/images/default-album.png",releaseYear:n.release_year,description:n.description,genre:n.genre,archiveUrl:n.archive_url,download_count:n.download_count||0,play_count:n.play_count||0});const[d,u,h,m]=await Promise.all([g.ND.from("artist_videos").select("id, title, video_url, video_id, thumbnail").eq("album_id",n.id).maybeSingle(),g.ND.from("collaboration_invites").select("invited_user_id").eq("album_id",n.id).eq("status","accepted"),null!==x&&void 0!==x&&x.id?g.ND.from("album_favorites").select("id").eq("user_id",x.id).eq("album_id",n.id).maybeSingle():Promise.resolve({data:null}),g.ND.from("albums").select("id, slug, title, artist_name, artist_id, cover_url, play_count, genre, artist:artists(slug)").eq("is_private",!1).neq("id",n.id).order("play_count",{ascending:!1}).limit(30)]),{data:f,error:p}=c;if(console.log("Songs query result:",{albumId:n.id,songsCount:null===f||void 0===f?void 0:f.length,error:p,songs:f}),p&&console.error("Erro ao carregar m\xfasicas:",p),f&&f.length>0){const e=f.map(e=>{var t;return{id:e.id,title:e.title,artistName:e.artist_name,artistId:e.artist_id,artistSlug:null===(t=i)||void 0===t?void 0:t.slug,albumId:e.album_id,albumName:e.album_name,coverImage:e.cover_url||n.cover_url||"/images/default-album.png",audioUrl:e.audio_url,duration:e.duration||0,trackNumber:e.track_number,composer:e.composer,isrc:e.isrc}});C(e),console.log("Carregadas ".concat(e.length," m\xfasicas"))}else console.warn("Nenhuma m\xfasica encontrada para o \xe1lbum",{albumId:n.id,songs:f}),C([]);const{data:v}=d;v&&V({id:v.id,title:v.title,url:v.video_url,videoId:v.video_id,thumbnail:v.thumbnail});const{data:y}=u;if(y&&y.length>0){const e=y.map(e=>e.invited_user_id),{data:t}=await g.ND.from("artists").select("id, name, slug, avatar_url, is_verified").in("id",e);t&&T(t)}const{data:b}=h;_(!!b);const{data:w}=m;let j=[];if(w&&w.length>0){const e=w.filter(e=>e.genre===n.genre);j=e.length>0?e.slice(0,6):w.slice(0,6)}if(j.length>0){const e=j.slice(0,6).map(e=>{var t;const r=(null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id;return{id:e.id,slug:e.slug,title:e.title,artistName:e.artist_name,artistId:e.artist_id,coverImage:e.cover_url||"/images/default-album.png",playCount:e.play_count||0,downloadCount:e.download_count||0,artistSlug:r,artistVerified:!1,collaborators:[]}}).slice(0,6);U(e)}else U([]);e&&I(!1)})(),()=>{e=!1}},[o,l]),(0,t.useEffect)(()=>{p(W)},[W,p]),R)return(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"medium",text:"Carregando \xe1lbum..."})});if(M||!k)return(0,y.jsxs)("div",{className:"fixed inset-0 top-16 bg-white flex flex-col items-center justify-center pb-32",children:[(0,y.jsxs)("div",{className:"relative mb-6",children:[(0,y.jsx)("div",{className:"w-24 h-24 rounded-full bg-red-100 flex items-center justify-center",children:(0,y.jsx)(Jt,{className:"w-12 h-12 text-red-600"})}),(0,y.jsx)("div",{className:"absolute -top-1 -right-1 w-8 h-8 rounded-full bg-red-600 flex items-center justify-center",children:(0,y.jsx)(St,{className:"w-5 h-5 text-white"})})]}),(0,y.jsx)("p",{className:"text-gray-900 text-2xl font-bold mb-2",children:"\xc1lbum n\xe3o encontrado"}),(0,y.jsx)("p",{className:"text-gray-500 mb-6",children:"O \xe1lbum que voc\xea procura n\xe3o existe ou foi removido."}),(0,y.jsx)(s.N_,{to:"/",children:(0,y.jsx)(nr.$,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Voltar para Home"})})]});const G=async()=>{if(E.length>0){const e=window.innerWidth<768;if(c(E[0],E),e&&setTimeout(()=>{H(!0)},0),k.id){const{error:e}=await g.ND.rpc("increment_play_count",{album_id:k.id});e?(await g.ND.from("albums").update({play_count:(k.play_count||0)+1}).eq("id",k.id),A(e=>(0,N.A)((0,N.A)({},e),{},{play_count:(e.play_count||0)+1}))):A(e=>(0,N.A)((0,N.A)({},e),{},{play_count:(e.play_count||0)+1}))}}},Y=async()=>{if(k.archiveUrl){(0,S.oR)({title:"Download Iniciado",description:"Baixando ".concat(k.title,"...")});try{if(k.id){const e=E.map(e=>e.id);!async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e)try{if(await g.ND.from("albums").update({download_count:g.ND.sql(h||(h=v(["COALESCE(download_count, 0) + 1"])))}).eq("id",e),t&&t.length>0)for(const e of t)await g.ND.from("songs").update({downloads:g.ND.sql(m||(m=v(["COALESCE(downloads, 0) + 1"])))}).eq("id",e)}catch(r){console.error("Error recording album download:",r)}else console.error("albumId is required for recording download")}(k.id,e),A(e=>(0,N.A)((0,N.A)({},e),{},{download_count:(e.download_count||0)+1}))}const e=await fetch(k.archiveUrl),t=await e.blob(),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r;const a=k.archiveUrl.includes(".rar")?"rar":"zip";n.download="".concat(k.title,".").concat(a),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)}catch(e){console.error("Download error:",e),(0,S.oR)({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else(0,S.oR)({title:"Download Indispon\xedvel",description:"O arquivo do \xe1lbum n\xe3o est\xe1 dispon\xedvel",variant:"destructive"})},J=async()=>{if(x)try{if(j){const{error:e}=await g.ND.from("album_favorites").delete().eq("user_id",x.id).eq("album_id",k.id);if(e)throw e;_(!1),(0,S.oR)({title:"Removido dos favoritos",description:k.title})}else{const{error:e}=await g.ND.from("album_favorites").insert([{user_id:x.id,album_id:k.id,created_at:(new Date).toISOString()}]);if(e)throw e;_(!0),(0,S.oR)({title:"Adicionado aos favoritos",description:k.title})}}catch(e){console.error("Erro ao favoritar album:",e),(0,S.oR)({title:"Erro",description:"Tabela de favoritos n\xe3o configurada. Contate o suporte.",variant:"destructive"})}else(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar aos favoritos",variant:"destructive"})},X=e=>{if(!e)return"0:00";const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(String(r).padStart(2,"0"))},Z=e=>{window.innerWidth<768?(c(e,E),setTimeout(()=>{H(!0)},0)):c(e,E)};return(0,y.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,y.jsx)("div",{className:"relative bg-gradient-to-b from-red-900 to-black pt-6 md:pt-20 pb-4 md:pb-8",children:(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,y.jsxs)("div",{className:"hidden md:flex items-end gap-8",children:[(0,y.jsxs)("div",{className:"relative w-64 h-64 group cursor-pointer",onClick:G,children:[(0,y.jsx)("img",{src:z?"/images/default-album.png":k.coverImage,alt:k.title,loading:"eager",className:"w-full h-full rounded-lg shadow-2xl object-cover",onError:()=>{console.error("Erro ao carregar imagem:",k.coverImage),F(!0)}}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-lg",children:(0,y.jsx)(Gd,{className:"w-8 h-8 text-white ml-1",fill:"white"})})})]}),(0,y.jsxs)("div",{className:"text-white pb-4 flex flex-col justify-between h-56",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-sm uppercase tracking-wider mb-2",children:"\xc1lbum"}),(0,y.jsx)("h1",{className:"text-3xl font-bold mb-2 max-w-xl",children:k.title}),k.description&&(0,y.jsxs)("p",{className:"text-gray-300 text-sm max-w-xl leading-relaxed",children:[(0,y.jsx)("span",{className:"text-gray-400",children:"Descri\xe7\xe3o:"})," ",k.description.length>150?"".concat(k.description.slice(0,150),"..."):k.description]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,y.jsxs)("div",{className:"flex items-center mr-2",style:{marginLeft:D.length>0?"4px":"0"},children:[(0,y.jsx)(s.N_,{to:"/".concat((null===O||void 0===O?void 0:O.slug)||o),className:"hover:z-20 relative z-10",style:{marginBottom:D.length>0?"8px":"0"},children:(0,y.jsx)("img",{src:(null===O||void 0===O?void 0:O.avatar_url)||(null===O||void 0===O?void 0:O.cover_url)||"/images/default-avatar.png",alt:k.artistName,className:"w-8 h-8 rounded-full object-cover border-2 border-white",onError:e=>{console.warn("Avatar failed to load:",{src:e.target.src,artistId:null===O||void 0===O?void 0:O.id,avatar_url:null===O||void 0===O?void 0:O.avatar_url,profile_image:null===O||void 0===O?void 0:O.profile_image}),e.target.src="/images/default-avatar.png"}})}),D.map((e,t)=>(0,y.jsx)(s.N_,{to:"/".concat(e.slug),className:"hover:z-20 relative",style:{zIndex:9-t,marginLeft:"-12px",marginTop:"8px"},children:(0,y.jsx)("img",{src:e.avatar_url||"/images/default-avatar.png",alt:e.name,className:"w-8 h-8 rounded-full object-cover border-2 border-white",onError:e=>{e.target.src="/images/default-avatar.png"}})},e.id))]}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsxs)(s.N_,{to:"/".concat((null===O||void 0===O?void 0:O.slug)||o),className:"flex items-start hover:opacity-80 transition-opacity",children:[(0,y.jsx)("span",{className:"text-lg",children:k.artistName}),(null===O||void 0===O?void 0:O.verified)&&(0,y.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500 flex items-center justify-center ml-0.5 mt-0.5",children:(0,y.jsx)(Ah.A,{className:"w-2 h-2 text-white"})})]}),D.map(e=>(0,y.jsxs)(t.Fragment,{children:[(0,y.jsx)("span",{className:"text-gray-400 mx-1",children:"&"}),(0,y.jsxs)(s.N_,{to:"/".concat(e.slug),className:"flex items-start hover:opacity-80 transition-opacity",children:[(0,y.jsx)("span",{className:"text-lg",children:e.name}),e.is_verified&&(0,y.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500 flex items-center justify-center ml-0.5 mt-0.5",children:(0,y.jsx)(Ah.A,{className:"w-2 h-2 text-white"})})]})]},e.id))]}),(0,y.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,y.jsx)("span",{className:"text-gray-400",children:k.releaseYear}),(0,y.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,y.jsxs)("span",{className:"text-gray-400",children:[E.length," m\xfasicas"]})]})]})]}),(0,y.jsxs)("div",{className:"md:hidden flex flex-col items-center text-center text-white",children:[(0,y.jsxs)("div",{className:"relative w-48 h-48 group cursor-pointer mb-6",onClick:G,children:[(0,y.jsx)("img",{src:z?"/images/default-album.png":k.coverImage,alt:k.title,loading:"eager",className:"w-full h-full rounded-lg shadow-2xl object-cover",onError:()=>{console.error("Erro ao carregar imagem:",k.coverImage),F(!0)}}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-14 h-14 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-lg",children:(0,y.jsx)(Gd,{className:"w-7 h-7 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("p",{className:"text-sm uppercase tracking-wider mb-2",children:"\xc1lbum"}),(0,y.jsx)("h1",{className:"text-2xl font-bold mb-3",children:k.title}),(0,y.jsx)("div",{className:"flex items-center gap-2 justify-center mb-2",children:(0,y.jsxs)(s.N_,{to:"/".concat((null===O||void 0===O?void 0:O.slug)||o),className:"flex items-center hover:opacity-80 transition-opacity",children:[(0,y.jsx)("span",{children:k.artistName}),(null===O||void 0===O?void 0:O.verified)&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-400 ml-1"})]})}),(0,y.jsxs)("span",{className:"text-gray-400 text-sm",children:[k.releaseYear," \u2022 ",E.length," m\xfasicas"]})]})]})}),(0,y.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,y.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,y.jsx)(nr.$,{onClick:G,className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 text-white shadow-lg",children:(0,y.jsx)(Gd,{className:"w-6 h-6 ml-1",fill:"white"})}),(0,y.jsx)(nr.$,{variant:"outline",size:"icon",onClick:J,className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,y.jsx)(Zt,{className:"w-5 h-5 ".concat(j?"fill-red-600 text-red-600":"text-gray-600")})}),(0,y.jsxs)(nr.$,{onClick:Y,className:"bg-red-600 hover:bg-red-700 text-white px-8 h-12 text-base font-bold shadow-lg",children:[(0,y.jsx)(Qd,{className:"w-5 h-5 mr-2"}),"BAIXAR CD COMPLETO"]}),(0,y.jsxs)(Wm,{children:[(0,y.jsx)(Hm,{asChild:!0,children:(0,y.jsx)(nr.$,{variant:"outline",size:"icon",className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,y.jsx)(Uh,{className:"w-5 h-5 text-gray-600"})})}),(0,y.jsx)(Km,{className:"w-auto p-3",side:"right",align:"center",children:(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-green-500 hover:bg-green-600 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://wa.me/?text=".concat(encodeURIComponent("".concat(k.title," - ").concat(k.artistName,"\n").concat(e))),"_blank")},title:"WhatsApp",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-blue-600 hover:bg-blue-700 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e)),"_blank")},title:"Facebook",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-black hover:bg-gray-800 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(e),"&text=").concat(encodeURIComponent("".concat(k.title," - ").concat(k.artistName))),"_blank")},title:"Twitter / X",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,y.jsx)("div",{className:"w-px h-8 bg-gray-300"}),(0,y.jsxs)(nr.$,{variant:"outline",className:"h-10 gap-2",onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e),(0,S.oR)({title:"Link copiado!",description:"O link foi copiado para a \xe1rea de transfer\xeancia"})},children:[(0,y.jsx)(qh,{className:"w-4 h-4"}),"Copiar Link"]})]})})]}),(0,y.jsx)("div",{className:"flex-1"}),(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,y.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,y.jsx)("span",{className:"text-lg font-bold text-red-600",children:(null===(e=k.download_count)||void 0===e?void 0:e.toLocaleString())||0})}),(0,y.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,y.jsx)("span",{className:"text-xs text-gray-500",children:"Downloads"})})]}),(0,y.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,y.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,y.jsx)("span",{className:"text-lg font-bold text-gray-800",children:(null===(r=k.play_count)||void 0===r?void 0:r.toLocaleString())||0})}),(0,y.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,y.jsx)("span",{className:"text-xs text-gray-500",children:"Plays"})})]})]})]}),(0,y.jsxs)("div",{className:"md:hidden flex flex-col items-center gap-4",children:[(0,y.jsxs)("div",{className:"flex items-center gap-4",children:[(0,y.jsx)(nr.$,{onClick:G,className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 text-white shadow-lg",children:(0,y.jsx)(Gd,{className:"w-6 h-6 ml-1",fill:"white"})}),(0,y.jsx)(nr.$,{variant:"outline",size:"icon",onClick:J,className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,y.jsx)(Zt,{className:"w-5 h-5 ".concat(j?"fill-red-600 text-red-600":"text-gray-600")})})]}),(0,y.jsxs)(nr.$,{onClick:Y,className:"w-full bg-red-600 hover:bg-red-700 text-white h-12 text-base font-bold shadow-lg",children:[(0,y.jsx)(Qd,{className:"w-5 h-5 mr-2"}),"BAIXAR CD COMPLETO"]}),(0,y.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,y.jsxs)(Wm,{children:[(0,y.jsx)(Hm,{asChild:!0,children:(0,y.jsxs)(nr.$,{variant:"outline",className:"flex-1 h-10 gap-2",children:[(0,y.jsx)(Uh,{className:"w-4 h-4"}),"Compartilhar"]})}),(0,y.jsx)(Km,{className:"w-auto p-3",side:"top",align:"center",children:(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-green-500 hover:bg-green-600 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://wa.me/?text=".concat(encodeURIComponent("".concat(k.title," - ").concat(k.artistName,"\n").concat(e))),"_blank")},title:"WhatsApp",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-blue-600 hover:bg-blue-700 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e)),"_blank")},title:"Facebook",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-black hover:bg-gray-800 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(e),"&text=").concat(encodeURIComponent("".concat(k.title," - ").concat(k.artistName))),"_blank")},title:"Twitter / X",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})]})})]}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsx)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:(0,y.jsxs)("div",{className:"px-3 py-1 text-center",children:[(0,y.jsx)("span",{className:"text-sm font-bold text-red-600",children:(null===(n=k.download_count)||void 0===n?void 0:n.toLocaleString())||0}),(0,y.jsx)("span",{className:"text-xs text-gray-500 block",children:"Downloads"})]})})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsx)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:(0,y.jsxs)("div",{className:"px-3 py-1 text-center",children:[(0,y.jsx)("span",{className:"text-sm font-bold text-gray-800",children:(null===(a=k.play_count)||void 0===a?void 0:a.toLocaleString())||0}),(0,y.jsx)("span",{className:"text-xs text-gray-500 block",children:"Plays"})]})})})]})]})]})}),q&&(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-8 mb-8",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,y.jsx)(Ld,{className:"w-6 h-6 text-red-600"}),(0,y.jsx)("h2",{className:"text-2xl font-bold text-black",children:"V\xcdDEO"})]}),(0,y.jsx)("div",{className:"relative w-full max-w-2xl bg-black rounded-lg overflow-hidden shadow-lg",children:(0,y.jsx)("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:(0,y.jsx)("iframe",{className:"absolute inset-0 w-full h-full",src:"https://www.youtube.com/embed/".concat(q.videoId,"?autoplay=0&controls=1&modestbranding=1"),title:q.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})]}),(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-8",children:[(0,y.jsx)("div",{className:"bg-red-600 text-white px-4 py-3 rounded-t-lg",children:(0,y.jsx)("h2",{className:"text-xl font-bold",children:"M\xdaSICAS DO CD"})}),(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-b-lg",children:[(0,y.jsx)("div",{style:{maxHeight:E.length>10?"550px":"auto",overflowY:E.length>10?"auto":"visible"},children:E.map((e,t)=>(0,y.jsx)(nm,{song:e,index:t,onPlay:()=>c(e,E),onPlayMobile:Z,formatDuration:X,isHighlighted:d&&d.id===e.id},e.id))}),0===E.length&&(0,y.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma m\xfasica encontrada neste \xe1lbum"})]})]}),(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-16 mb-16",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-6 flex-wrap",children:[(0,y.jsx)(Ch,{className:"w-8 h-8 text-red-600 flex-shrink-0"}),(0,y.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-black whitespace-nowrap",children:"Ou\xe7a Aqui Recomenda!"})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===B.length?(0,y.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum \xe1lbum dispon\xedvel no momento."}):B.map(e=>(0,y.jsxs)("div",{children:[(0,y.jsxs)(s.N_,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsx)("div",{className:"flex items-center gap-1 text-gray-600 text-xs mb-2",children:(0,y.jsx)(s.N_,{to:"/".concat(e.artistSlug),className:"hover:text-red-600 transition-colors truncate",children:e.artistName})}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:e.playCount>999?(e.playCount/1e3).toFixed(1)+"K":e.playCount}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:e.downloadCount>999?(e.downloadCount/1e3).toFixed(1)+"K":e.downloadCount}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))})]}),(0,y.jsx)(t.Suspense,{fallback:(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-4 mt-16 mb-16 py-8 text-center text-gray-500",children:"Carregando coment\xe1rios..."}),children:(0,y.jsx)($m,{albumId:k.id,artistId:k.artistId})})]})},Ym=(0,_t.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Jm=(e,r)=>{const[n,a]=(0,t.useState)(r),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null);return(0,t.useEffect)(()=>{if(!e)return void i(!1);(async()=>{try{i(!0);const{data:t,error:n}=await g.ND.from("albums").select("cover_url").eq("id",e).maybeSingle();if(n)throw n;if(null!==t&&void 0!==t&&t.cover_url){const e="".concat(t.cover_url,"?t=").concat((new Date).getTime());a(e),l(null)}else a(r)}catch(XK){console.error("Erro ao buscar imagem do \xe1lbum:",XK),a(r),l(XK)}finally{i(!1)}})()},[e,r]),{imageUrl:n,loading:s,error:o}},Xm=()=>(0,y.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 256 256",height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M144,80a8,8,0,0,1,8-8h96a8,8,0,0,1,0,16H152A8,8,0,0,1,144,80Zm104,40H152a8,8,0,0,0,0,16h96a8,8,0,0,0,0-16Zm0,48H176a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16Zm-96.25,22a8,8,0,0,1-5.76,9.74,7.55,7.55,0,0,1-2,.26,8,8,0,0,1-7.75-6c-6.16-23.94-30.34-42-56.25-42s-50.09,18.05-56.25,42a8,8,0,0,1-15.5-4c5.59-21.71,21.84-39.29,42.46-48a48,48,0,1,1,58.58,0C129.91,150.71,146.16,168.29,151.75,190ZM80,136a32,32,0,1,0-32-32A32,32,0,0,0,80,136Z"})}),Zm=()=>(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{fill:"none",strokeLinejoin:"round",strokeWidth:"48",d:"M144 144h320M144 256h320M144 368h320"}),(0,y.jsx)("path",{fill:"none",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:"32",d:"M64 128h32v32H64zm0 112h32v32H64zm0 112h32v32H64z"})]}),Qm=e=>(null===e||void 0===e?void 0:e.replace(/\.mp3$/i,""))||"",ef=e=>{let{song:r,index:n,onPlay:a,onDownload:s,showActions:o=!0,formatDuration:l,playlistId:c=null}=e;const{user:d}=(0,i.A)(),{isFavorite:u,toggleFavorite:h}=Ku(null===r||void 0===r?void 0:r.id),{playSong:m}=w(),[f,p]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),{imageUrl:j}=Jm(null===r||void 0===r?void 0:r.albumId,(null===r||void 0===r?void 0:r.coverImage)||"/placeholder-album.jpg"),N=j||(null===r||void 0===r?void 0:r.coverImage)||"/placeholder-album.jpg";(0,t.useEffect)(()=>{if(f){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight="".concat(e,"px")}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[f]);const _=(0,t.useCallback)(async e=>{if(e.stopPropagation(),d)try{await h(),(0,S.oR)({title:u?"Removido dos favoritos":"Adicionado aos favoritos",description:r.title})}catch(t){(0,S.oR)({title:"Erro",description:"Erro ao atualizar favoritos",variant:"destructive"})}else(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para favoritar m\xfasicas",variant:"destructive"})},[null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.title,d,u,h]),k=(0,t.useCallback)(e=>{e.stopPropagation(),d||(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar \xe0 playlist"})},[d]),A=(0,t.useCallback)(async e=>{if(e.stopPropagation(),r.audioUrl){(0,S.oR)({title:"Download Iniciado",description:r.title});try{if(r.id){const e=r.albumId||r.album_id||r.albumid;x(r.id,e)}const e=await fetch(r.audioUrl),t=await e.blob(),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="".concat(r.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(t){console.error("Download error:",t),(0,S.oR)({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else(0,S.oR)({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})},[null===r||void 0===r?void 0:r.audioUrl,null===r||void 0===r?void 0:r.title,null===r||void 0===r?void 0:r.id]),E=(0,t.useCallback)(e=>{e.stopPropagation(),r&&(m(r,[r],c),(0,S.oR)({title:"Adicionado ao player",description:Qm(r.title)}))},[r,m,c]),C=(0,t.useCallback)(async e=>{if(e.stopPropagation(),p(!0),null!==r&&void 0!==r&&r.artistId)try{const{data:e}=await g.ND.from("artists").select("name, is_verified, avatar_url").eq("id",r.artistId).maybeSingle();e&&b(e)}catch(t){console.error("Erro ao buscar dados do artista:",t)}},[null===r||void 0===r?void 0:r.artistId]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-gray-100 transition-colors rounded-md mb-2 group cursor-pointer",children:[(0,y.jsxs)("span",{className:"text-gray-600 w-8 text-center font-medium flex-shrink-0",children:[String(n+1).padStart(2,"0"),"."]}),(0,y.jsx)("img",{src:N,alt:r.title,className:"w-16 h-16 rounded object-cover flex-shrink-0",onError:e=>{e.target.src="/placeholder-album.jpg"}}),(0,y.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>null===a||void 0===a?void 0:a(),children:[(0,y.jsx)("p",{className:"text-red-600 font-semibold truncate text-sm",children:r.title}),(0,y.jsx)("p",{className:"text-gray-600 text-sm truncate",children:r.artistName})]}),o&&(0,y.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:_,title:u?"Remover dos favoritos":"Adicionar aos favoritos",children:(0,y.jsx)(Zt,{className:"w-5 h-5 ".concat(u?"fill-red-600 text-red-600":"text-gray-600 hover:text-red-600")})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:E,title:"Adicionar ao player",children:(0,y.jsx)(Eh,{className:"w-5 h-5 text-gray-600"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:k,title:"Adicionar \xe0 playlist",children:(0,y.jsx)(Zm,{})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:C,title:"Cr\xe9ditos da m\xfasica",children:(0,y.jsx)(Xm,{})}),(0,y.jsx)("span",{className:"text-gray-600 text-sm w-12 text-right",children:(l||(e=>{if(!e)return"0:00";const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(String(r).padStart(2,"0"))}))(r.duration)}),(0,y.jsx)(nr.$,{onClick:A,variant:"outline",size:"sm",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:"\u2193 BAIXAR"})]})]}),(0,y.jsx)(Nd,{open:f,onOpenChange:p,children:(0,y.jsxs)(kd,{className:"max-w-md",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Cr\xe9ditos"})}),(0,y.jsxs)("div",{className:"space-y-6 py-4",children:[(0,y.jsxs)("div",{className:"flex gap-3",children:[(0,y.jsx)("img",{src:N,alt:null===r||void 0===r?void 0:r.title,className:"w-16 h-16 rounded object-cover",onError:e=>{e.target.src="/placeholder-album.jpg"}}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:Qm(null===r||void 0===r?void 0:r.title)}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(null===v||void 0===v?void 0:v.avatar_url)&&(0,y.jsx)("img",{src:v.avatar_url,alt:v.name,className:"w-4 h-4 rounded-full object-cover"}),(0,y.jsx)("span",{className:"text-xs text-gray-600",children:(null===v||void 0===v?void 0:v.name)||(null===r||void 0===r?void 0:r.artistName)}),(null===v||void 0===v?void 0:v.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Composi\xe7\xe3o de"}),null!==r&&void 0!==r&&r.composer?(0,y.jsx)("p",{className:"text-base text-gray-900",children:r.composer}):(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600",children:"N\xe3o encontrado"}),(0,y.jsx)("button",{className:"text-red-600 text-sm hover:underline mt-2",children:"Fa\xe7a uma sugest\xe3o"})]})]})]}),(0,y.jsx)("div",{className:"flex justify-end",children:(0,y.jsx)(nr.$,{variant:"outline",onClick:e=>{e.stopPropagation(),p(!1)},children:"Fechar"})})]})})]})};var tf=r(5695);const rf=()=>{var e,r;const{playlistSlug:n}=(0,s.g)(),{playSong:a,currentSong:o,isPlaying:l}=w(),{user:c}=(0,i.A)(),[d,u]=(0,t.useState)(null),[h,m]=(0,t.useState)([]),[f,p]=(0,t.useState)(null),[v,x]=(0,t.useState)(!0),[b,j]=(0,t.useState)(!1),[_,k]=(0,t.useState)([]),A=null===d||void 0===d?void 0:d.id,{isFavorite:E,toggleFavorite:C,loading:O}=(e=>{const{user:r}=(0,i.A)(),[n,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{null!==r&&void 0!==r&&r.id&&e?l():a(!1)},[null===r||void 0===r?void 0:r.id,e]);const l=async()=>{try{const{data:t}=await g.ND.from("playlist_favorites").select("id").eq("user_id",r.id).eq("playlist_id",e).single();a(!!t)}catch(t){a(!1)}};return{isFavorite:n,toggleFavorite:async()=>{if(null!==r&&void 0!==r&&r.id&&e)try{if(o(!0),n){const{error:t}=await g.ND.from("playlist_favorites").delete().eq("user_id",r.id).eq("playlist_id",e);if(t)throw t;a(!1)}else{const{error:t}=await g.ND.from("playlist_favorites").insert({user_id:r.id,playlist_id:e,created_at:(new Date).toISOString()});if(t)throw t;a(!0)}}catch(t){throw console.error("Error toggling playlist favorite:",t),t}finally{o(!1)}},loading:s}})(A),P=(0,t.useCallback)(async()=>{if(null!==d&&void 0!==d&&d.song_ids&&0!==d.song_ids.length)try{(0,S.oR)({title:"Atualizando imagens...",description:"Sincronizando capas dos \xe1lbuns"});const{data:e}=await g.ND.from("songs").select("*").in("id",d.song_ids);if(e){const t=[...new Set(e.map(e=>e.album_id).filter(Boolean))],{data:r}=t.length>0?await g.ND.from("albums").select("id, cover_url").in("id",t):{data:[]},n={};r&&r.forEach(e=>{n[e.id]="".concat(e.cover_url,"?t=").concat((new Date).getTime())});const a=d.song_ids.map(t=>e.find(e=>e.id===t)).filter(Boolean).map(e=>({id:e.id,title:e.title,artistName:e.artist_name,artistId:e.artist_id,albumId:e.album_id,albumName:e.album_name,coverImage:e.album_id&&n[e.album_id]||e.cover_url||"/placeholder-album.jpg",audioUrl:e.audio_url,duration:e.duration||0}));m(a),(0,S.oR)({title:"Imagens atualizadas",description:"Capas dos \xe1lbuns sincronizadas com sucesso"})}}catch(e){console.error("Erro ao atualizar imagens:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar as imagens",variant:"destructive"})}},[null===d||void 0===d?void 0:d.song_ids,null===d||void 0===d?void 0:d.id]);if((0,t.useEffect)(()=>{(async()=>{(new Date).getTime();let{data:e}=await g.ND.from("playlists").select("*").eq("slug",n).maybeSingle();if(!e){const{data:t}=await g.ND.from("playlists").select("*").eq("id",n).maybeSingle();e=t}if(!e)return j(!0),void x(!1);u((0,N.A)((0,N.A)({},e),{},{download_count:e.download_count||0,play_count:e.play_count||0}));const{data:t}=await g.ND.from("artists").select("id, name, slug, avatar_url, is_verified").eq("id",e.user_id).maybeSingle();if(p(t),e.song_ids&&e.song_ids.length>0){const{data:t}=await g.ND.from("songs").select("*").in("id",e.song_ids);if(t){const r=[...new Set(t.map(e=>e.album_id).filter(Boolean))],{data:n}=r.length>0?await g.ND.from("albums").select("id, cover_url").in("id",r):{data:[]},a={};n&&n.forEach(e=>{a[e.id]=e.cover_url});const s=e.song_ids.map(e=>t.find(t=>t.id===e)).filter(Boolean).map(e=>({id:e.id,title:e.title,artistName:e.artist_name,artistId:e.artist_id,albumId:e.album_id,albumName:e.album_name,coverImage:e.album_id&&a[e.album_id]||e.cover_url||"/placeholder-album.jpg",audioUrl:e.audio_url,duration:e.duration||0}));m(s)}}try{const{data:t}=await g.ND.from("playlists").select("*").neq("id",e.id).order("play_count",{ascending:!1}).limit(6);if(t&&t.length>0){const e=t.map(e=>({id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-playlist.jpg",playCount:e.play_count||0,downloadCount:e.download_count||0,creatorId:e.user_id}));k(e)}}catch(r){console.error("Erro ao carregar playlists recomendadas:",r)}x(!1)})()},[n]),v)return(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"medium",text:"Carregando playlist..."})});if(b||!d)return(0,y.jsxs)("div",{className:"fixed inset-0 top-16 bg-white flex flex-col items-center justify-center pb-32",children:[(0,y.jsxs)("div",{className:"relative mb-6",children:[(0,y.jsx)("div",{className:"w-24 h-24 rounded-full bg-red-100 flex items-center justify-center",children:(0,y.jsx)(Qt,{className:"w-12 h-12 text-red-600"})}),(0,y.jsx)("div",{className:"absolute -top-1 -right-1 w-8 h-8 rounded-full bg-red-600 flex items-center justify-center",children:(0,y.jsx)(St,{className:"w-5 h-5 text-white"})})]}),(0,y.jsx)("p",{className:"text-gray-900 text-2xl font-bold mb-2",children:"Playlist n\xe3o encontrada"}),(0,y.jsx)("p",{className:"text-gray-500 mb-6",children:"A playlist que voc\xea procura n\xe3o existe ou foi removida."}),(0,y.jsx)(s.N_,{to:"/",children:(0,y.jsx)(nr.$,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Voltar para Home"})})]});const D=async()=>{h.length>0&&(a(h[0],h,d.id),T())},T=()=>{u(e=>(0,N.A)((0,N.A)({},e),{},{play_count:(e.play_count||0)+1}))},R=e=>{if(!e)return"0:00";const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(String(r).padStart(2,"0"))};return(0,y.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,y.jsx)("div",{className:"relative bg-gradient-to-b from-red-900 to-black pt-20 pb-8",children:(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,y.jsxs)("div",{className:"flex items-end gap-8",children:[(0,y.jsxs)("div",{className:"relative w-64 h-64 group cursor-pointer",onClick:D,children:[(0,y.jsx)("img",{src:d.cover_url||"/images/default-playlist.jpg",alt:d.title,className:"w-full h-full rounded-lg shadow-2xl object-cover"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-lg",children:(0,y.jsx)(Gd,{className:"w-8 h-8 text-white ml-1",fill:"white"})})})]}),(0,y.jsxs)("div",{className:"text-white pb-4 flex flex-col justify-between h-56",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-sm uppercase tracking-wider mb-2",children:"Playlist"}),(0,y.jsx)("h1",{className:"text-3xl font-bold mb-2 max-w-xl",children:d.title}),d.description&&(0,y.jsx)("p",{className:"text-gray-300 text-sm max-w-xl leading-relaxed",children:d.description})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[(0,y.jsx)("div",{className:"flex items-center",children:f&&(0,y.jsx)(s.N_,{to:"/".concat(f.slug||f.id),className:"hover:z-20 relative z-10",children:(0,y.jsx)("img",{src:f.avatar_url||"/images/default-avatar.png",alt:f.name,className:"w-8 h-8 rounded-full object-cover border-2 border-white"})})}),f&&(0,y.jsxs)(s.N_,{to:"/".concat(f.slug||f.id),className:"flex items-start hover:opacity-80 transition-opacity",children:[(0,y.jsx)("span",{className:"text-lg",children:f.name}),f.is_verified&&(0,y.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500 flex items-center justify-center ml-0.5 mt-0.5",children:(0,y.jsx)(Ah.A,{className:"w-2 h-2 text-white"})})]}),(0,y.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,y.jsxs)("span",{className:"text-gray-400",children:[h.length," m\xfasicas"]})]})]})]})})}),(0,y.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,y.jsxs)("div",{className:"flex items-center gap-4",children:[(0,y.jsx)(nr.$,{onClick:D,className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 text-white shadow-lg",children:(0,y.jsx)(Gd,{className:"w-6 h-6 ml-1",fill:"white"})}),(0,y.jsx)(nr.$,{variant:"outline",size:"icon",onClick:async()=>{if(c)try{await C(),(0,S.oR)({title:E?"Removido dos favoritos":"Adicionado aos favoritos",description:d.name})}catch(e){(0,S.oR)({title:"Erro",description:"Erro ao atualizar favoritos",variant:"destructive"})}else(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar aos favoritos",variant:"destructive"})},className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,y.jsx)(Zt,{className:"w-5 h-5 ".concat(E?"fill-red-600 text-red-600":"text-gray-600")})}),(0,y.jsxs)(nr.$,{onClick:async()=>{if((0,S.oR)({title:"Download Iniciado",description:"Baixando ".concat(h.length," m\xfasicas...")}),d.id)try{await g.ND.from("playlists").update({download_count:(d.download_count||0)+1}).eq("id",d.id),u(e=>(0,N.A)((0,N.A)({},e),{},{download_count:(e.download_count||0)+1}))}catch(e){console.error("Erro ao incrementar download_count:",e)}for(const t of h)if(t.audioUrl)try{const e=await fetch(t.audioUrl),r=await e.blob(),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(t.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Download error:",e)}},className:"bg-red-600 hover:bg-red-700 text-white px-8 h-12 text-base font-bold shadow-lg",children:[(0,y.jsx)(Qd,{className:"w-5 h-5 mr-2"}),"BAIXAR PLAYLIST"]}),(0,y.jsx)(nr.$,{onClick:P,variant:"outline",className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",title:"Atualizar imagens das m\xfasicas",children:(0,y.jsx)(Ym,{className:"w-5 h-5 text-gray-600"})}),(0,y.jsxs)(Wm,{children:[(0,y.jsx)(Hm,{asChild:!0,children:(0,y.jsx)(nr.$,{variant:"outline",size:"icon",className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,y.jsx)(Uh,{className:"w-5 h-5 text-gray-600"})})}),(0,y.jsx)(Km,{className:"w-auto p-3",side:"right",align:"center",children:(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-green-500 hover:bg-green-600 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://wa.me/?text=".concat(encodeURIComponent("".concat(d.title,"\n").concat(e))),"_blank")},title:"WhatsApp",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-blue-600 hover:bg-blue-700 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e)),"_blank")},title:"Facebook",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,y.jsx)("button",{className:"w-12 h-12 rounded-lg bg-black hover:bg-gray-800 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(e),"&text=").concat(encodeURIComponent(d.title)),"_blank")},title:"Twitter / X",children:(0,y.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,y.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,y.jsx)("div",{className:"w-px h-8 bg-gray-300"}),(0,y.jsxs)(nr.$,{variant:"outline",className:"h-10 gap-2",onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e),(0,S.oR)({title:"Link copiado!",description:"O link foi copiado para a \xe1rea de transfer\xeancia"})},children:[(0,y.jsx)(qh,{className:"w-4 h-4"}),"Copiar Link"]})]})})]}),(0,y.jsx)("div",{className:"flex-1"}),(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,y.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,y.jsx)("span",{className:"text-lg font-bold text-red-600",children:(null===(e=d.download_count)||void 0===e?void 0:e.toLocaleString())||0})}),(0,y.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,y.jsx)("span",{className:"text-xs text-gray-500",children:"Downloads"})})]}),(0,y.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,y.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,y.jsx)("span",{className:"text-lg font-bold text-gray-800",children:(null===(r=d.play_count)||void 0===r?void 0:r.toLocaleString())||0})}),(0,y.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,y.jsx)("span",{className:"text-xs text-gray-500",children:"Plays"})})]})]})]})})}),(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-4 mt-8",children:0===h.length?(0,y.jsxs)("div",{className:"text-center py-20",children:[(0,y.jsx)(Qt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Esta playlist ainda n\xe3o tem m\xfasicas"})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"bg-red-600 text-white px-4 py-3 rounded-t-lg",children:(0,y.jsx)("h2",{className:"text-xl font-bold",children:"M\xdaSICAS DA PLAYLIST"})}),(0,y.jsx)("div",{className:"bg-white border border-gray-200 rounded-b-lg",style:{maxHeight:h.length>10?"550px":"auto",overflowY:h.length>10?"auto":"visible"},children:h.map((e,t)=>(0,y.jsx)(ef,{song:e,index:t,onPlay:()=>(e=>{a(e,h,d.id),T()})(e),showActions:!0,formatDuration:R,playlistId:d.id},e.id))})]})}),(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-16 mb-16",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-6 flex-wrap",children:[(0,y.jsx)(Ch,{className:"w-8 h-8 text-red-600 flex-shrink-0"}),(0,y.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-black whitespace-nowrap",children:"Ou\xe7a Aqui Recomenda!"})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===_.length?(0,y.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhuma playlist dispon\xedvel no momento."}):_.map(e=>(0,y.jsxs)("div",{children:[(0,y.jsxs)(s.N_,{to:"/playlist/".concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:e.playCount>999?(e.playCount/1e3).toFixed(1)+"K":e.playCount}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:e.downloadCount>999?(e.downloadCount/1e3).toFixed(1)+"K":e.downloadCount}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))})]}),(0,y.jsx)(tf.default,{playlistId:null===d||void 0===d?void 0:d.id,artistId:null===f||void 0===f?void 0:f.id})]})},nf=()=>null,af=()=>null,sf=()=>{var e;Rh("top-cds");const[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("geral"),c=[{id:"dia",label:"DIA"},{id:"semana",label:"SEMANA"},{id:"mes",label:"M\xcaS"},{id:"geral",label:"GERAL"}];(0,t.useEffect)(()=>{d()},[o]);const d=async()=>{i(!0);try{const{data:e,error:t}=await g.ND.from("albums").select("\n           *,\n           artist:artists(id, name, slug, is_verified, avatar_url)\n         ").or("is_private.is.null,is_private.eq.false").filter("deleted_at","is",null).order("created_at",{ascending:!1});if(t)throw t;if(!e)return n([]),void i(!1);const r=e.filter(e=>!e.is_private),{data:a}=await g.ND.from("collaboration_invites").select("album_id, invited_user_id").eq("status","accepted"),s={};if(a&&a.length>0){const e=[...new Set(a.map(e=>e.invited_user_id))],{data:t}=await g.ND.from("artists").select("id, name, slug, is_verified").in("id",e);if(t){const e={};t.forEach(t=>{e[t.id]=t}),a.forEach(t=>{e[t.invited_user_id]&&(s[t.album_id]||(s[t.album_id]=[]),s[t.album_id].push(e[t.invited_user_id]))})}}const l=r.map(e=>{const t=s[e.id]||[];return(0,N.A)((0,N.A)({},e),{},{collaborators:t})});if("geral"===o){const e=[...l].sort((e,t)=>t.play_count-e.play_count);return n(e),void i(!1)}const c=new Date;let d;"dia"===o?(d=new Date(c),d.setHours(0,0,0,0)):"semana"===o?d=new Date(c.getTime()-6048e5):"mes"===o&&(d=new Date(c.getTime()-2592e6));const{data:u,error:h}=await g.ND.from("plays").select("album_id").gte("created_at",d.toISOString()).lte("created_at",c.toISOString());if(h)throw h;const m={};(u||[]).forEach(e=>{m[e.album_id]=(m[e.album_id]||0)+1});const f=l.filter(e=>m[e.id]>0).map(e=>(0,N.A)((0,N.A)({},e),{},{period_play_count:m[e.id]||0})).sort((e,t)=>t.period_play_count-e.period_play_count);n(f)}catch(e){console.error("Erro ao carregar \xe1lbuns:",e),n([])}i(!1)},u=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,y.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,y.jsxs)("div",{className:"flex justify-center gap-4 px-2",children:[(0,y.jsx)(nf,{}),(0,y.jsxs)("div",{className:"w-full max-w-7xl px-4 py-8",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-red-600",children:[(0,y.jsx)("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),(0,y.jsx)("polyline",{points:"16 7 22 7 22 13"})]}),(0,y.jsx)("h2",{className:"text-2xl font-bold text-black",children:"TOP CDS"})]}),(0,y.jsxs)(ac,{modal:!1,children:[(0,y.jsxs)(sc,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,y.jsx)(Th,{className:"w-4 h-4"}),(null===(e=c.find(e=>e.id===o))||void 0===e?void 0:e.label)||"GERAL",(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),(0,y.jsx)(oc,{align:"end",className:"bg-white",children:c.map(e=>(0,y.jsx)(lc,{onClick:()=>l(e.id),className:"cursor-pointer ".concat(o===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),a?(0,y.jsx)("div",{className:"text-center py-12",children:(0,y.jsx)(Vt,{size:"medium",text:"Carregando..."})}):0===r.length?(0,y.jsxs)("div",{className:"text-center py-16",children:[(0,y.jsx)(Zu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum CD encontrado"}),(0,y.jsx)("p",{className:"text-gray-500",children:"N\xe3o h\xe1 CDs para o per\xedodo selecionado"})]}):(0,y.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:r.map((e,t)=>{var r,n,a,i;return(0,y.jsxs)("div",{children:[(0,y.jsxs)(s.N_,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-red-600 text-white font-bold text-lg w-10 h-10 flex items-center justify-center rounded shadow-lg",children:t+1}),(0,y.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-xs mb-2 flex-wrap",children:[(0,y.jsxs)(s.N_,{to:"/".concat((null===(n=e.artist)||void 0===n?void 0:n.slug)||e.artist_id),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{children:(null===(a=e.artist)||void 0===a?void 0:a.name)||e.artist_name}),(null===(i=e.artist)||void 0===i?void 0:i.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),e.collaborators&&e.collaborators.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{children:"&"}),e.collaborators.map(e=>(0,y.jsxs)(s.N_,{to:"/".concat(e.slug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,y.jsx)("span",{children:e.name}),e.is_verified&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]},e.id))]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:u("geral"===o?e.play_count:e.period_play_count)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:u(e.download_count)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})})]}),(0,y.jsx)(af,{})]})})},of=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(0);(0,t.useEffect)(()=>{d()},[]),(0,t.useEffect)(()=>{const e=()=>{if(!n&&i){window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-500&&u()}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[n,i,l]);const d=async()=>{a(!0),c(0);const{data:e,error:t}=await g.ND.from("albums").select("\n        *,\n        artist:artists(id, name, slug, is_verified, avatar_url)\n      ").order("release_date",{ascending:!1}).range(0,19);if(!t&&e){const t=e.filter(e=>!0!==e.is_private&&(null===e.deleted_at||void 0===e.deleted_at));r(t),c(20),o(t.length>=20)}a(!1)},u=async()=>{const{data:e,error:t}=await g.ND.from("albums").select("\n        *,\n        artist:artists(id, name, slug, is_verified, avatar_url)\n      ").order("release_date",{ascending:!1}).range(l,l+19);if(!t&&e){const t=e.filter(e=>!0!==e.is_private&&(null===e.deleted_at||void 0===e.deleted_at));r(e=>[...e,...t]),c(l+20),o(t.length>=20)}},h=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,y.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,y.jsx)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-red-600",children:[(0,y.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,y.jsx)("path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2"}),(0,y.jsx)("circle",{cx:"12",cy:"12",r:"2"}),(0,y.jsx)("path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2"})]}),(0,y.jsx)("h2",{className:"text-2xl font-bold text-black",children:"LAN\xc7AMENTOS RECENTES"})]})}),n?(0,y.jsx)("div",{className:"text-center py-12",children:(0,y.jsx)(Vt,{size:"medium",text:"Carregando..."})}):0===e.length?(0,y.jsxs)("div",{className:"text-center py-16",children:[(0,y.jsx)(Sh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum lan\xe7amento encontrado"}),(0,y.jsx)("p",{className:"text-gray-500",children:"N\xe3o h\xe1 lan\xe7amentos recentes no momento"})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:e.map(e=>{var t,r,n,a;return(0,y.jsxs)("div",{children:[(0,y.jsxs)(s.N_,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsxs)(s.N_,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id),className:"flex items-center gap-1 text-gray-500 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,y.jsx)("span",{className:"truncate",children:(null===(n=e.artist)||void 0===n?void 0:n.name)||e.artist_name}),(null===(a=e.artist)||void 0===a?void 0:a.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:h(e.play_count)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:h(e.download_count)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})}),n&&(0,y.jsx)("div",{className:"flex justify-center py-12",children:(0,y.jsx)(Vt,{size:"medium",text:"Carregando mais..."})})]})]})})},lf=()=>{const{genre:e}=(0,s.g)(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),o={"forr\xf3":"Forr\xf3",forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega funk":"Brega Funk","brega-funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk","ax\xe9":"Ax\xe9",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel","rap/hip-hop":"Rap/Hip-Hop","rap-hip-hop":"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock","eletr\xf4nica":"Eletr\xf4nica",eletronica:"Eletr\xf4nica",trap:"Trap",frevo:"Frevo"},l=e=>{if(!e)return"";const t=decodeURIComponent(e).toLowerCase();return o[t]||t.charAt(0).toUpperCase()+t.slice(1)};(0,t.useEffect)(()=>{c()},[e]);const c=async()=>{i(!0);const t=decodeURIComponent(e).toLowerCase(),r=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/-/g," "),a=r(t),{data:s}=await g.ND.from("artists").select("id, estilo_musical"),o=(s||[]).filter(e=>{if(!e.estilo_musical)return!1;const n=r(e.estilo_musical);return n.includes(a)||n.includes(t.replace(/-/g," "))}).map(e=>e.id);if(0===o.length)return n([]),void i(!1);const{data:l,error:c}=await g.ND.from("albums").select("\n        *,\n        artist:artists(id, name, slug, is_verified, avatar_url)\n      ").in("artist_id",o).order("release_date",{ascending:!1});!c&&l&&n(l),i(!1)},d=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,y.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,y.jsx)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:(0,y.jsx)("h2",{className:"text-2xl font-bold text-black",children:l(e)})}),a?(0,y.jsx)("div",{className:"text-center py-12",children:(0,y.jsx)(Vt,{size:"medium",text:"Carregando..."})}):0===r.length?(0,y.jsxs)("div",{className:"text-center py-16",children:[(0,y.jsx)(qt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum \xe1lbum encontrado"}),(0,y.jsxs)("p",{className:"text-gray-500",children:["N\xe3o h\xe1 \xe1lbuns do g\xeanero ",l(e)," no momento"]})]}):(0,y.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:r.map(e=>{var t,r,n,a;return(0,y.jsxs)("div",{children:[(0,y.jsxs)(s.N_,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,y.jsxs)(s.N_,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id),className:"flex items-center gap-1 text-gray-500 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,y.jsx)("span",{className:"truncate",children:(null===(n=e.artist)||void 0===n?void 0:n.name)||e.artist_name}),(null===(a=e.artist)||void 0===a?void 0:a.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:d(e.play_count)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:d(e.download_count)}),(0,y.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})})]})})},cf=(0,_t.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),df=()=>{var e,r,n,a;const{slug:o}=(0,s.g)(),{playSong:u}=w(),{user:h}=(0,i.A)(),[m,f]=(0,t.useState)(!1),[p,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)("albums"),[j,_]=(0,t.useState)(null),[k,A]=(0,t.useState)(!0),[E,C]=(0,t.useState)([]),[O,P]=(0,t.useState)([]),[D,T]=(0,t.useState)([]),[R,I]=(0,t.useState)(null),[M,L]=(0,t.useState)(1),[z,F]=(0,t.useState)("recent"),[B,U]=(0,t.useState)([]),[q,V]=(0,t.useState)("recent"),[W,H]=(0,t.useState)([]),K=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0",$={"forr\xf3":"Forr\xf3",forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk","ax\xe9":"Ax\xe9",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel","rap/hip-hop":"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock","eletr\xf4nica":"Eletr\xf4nica",eletronica:"Eletr\xf4nica",trap:"Trap",frevo:"Frevo"},G={"forr\xf3":"forro",forro:"forro",arrocha:"arrocha",piseiro:"piseiro",arrochadeira:"arrochadeira",pagode:"pagode",sertanejo:"sertanejo","brega funk":"brega-funk",variados:"variados",samba:"samba",funk:"funk","ax\xe9":"axe",axe:"axe",reggae:"reggae",brega:"brega",gospel:"gospel","rap/hip-hop":"rap-hip-hop",pop:"pop",mpb:"mpb",rock:"rock","eletr\xf4nica":"eletronica",eletronica:"eletronica",trap:"trap",frevo:"frevo"},Y=e=>{if(!e)return"";const t=e.toLowerCase();return $[t]||e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},J=e=>{if(!e)return"";const t=e.toLowerCase();return G[t]||t.replace(/\s+/g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,"")},X=(e,t)=>{const r=[...e];switch(t){case"recent":r.sort((e,t)=>{const r=new Date(e.release_date||e.created_at||0);return new Date(t.release_date||t.created_at||0).getTime()-r.getTime()});break;case"oldest":r.sort((e,t)=>{const r=new Date(e.release_date||e.created_at||0),n=new Date(t.release_date||t.created_at||0);return r.getTime()-n.getTime()});break;case"alphabetic":r.sort((e,t)=>e.title.localeCompare(t.title,"pt-BR"));break;default:return r}return r};(0,t.useEffect)(()=>{U(X(E,z))},[E,z]),(0,t.useEffect)(()=>{H(X(O,q))},[O,q]),(0,t.useEffect)(()=>{(async()=>{let{data:e}=await g.ND.from("artists").select("*").eq("slug",o).maybeSingle();if(!e){const{data:t}=await g.ND.from("artists").select("*").eq("id",o).maybeSingle();e=t}if(e){const{count:t}=await g.ND.from("follows").select("*",{count:"exact",head:!0}).eq("artist_id",e.id),{data:r}=await g.ND.from("albums").select("play_count").eq("artist_id",e.id),n=(r||[]).reduce((e,t)=>e+(t.play_count||0),0);_({id:e.id,name:e.name,bio:e.bio,avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",verified:e.is_verified,followers:t||0,monthlyListeners:n,genre:e.estilo_musical,location:e.cidade&&e.estado?"".concat(e.cidade,", ").concat(e.estado):e.cidade||e.estado||"",instagram:e.instagram||"",twitter:e.twitter||"",youtube:e.youtube||""})}else if(h&&h.id===o){const{error:e}=await g.ND.from("artists").insert({id:h.id,email:h.email,name:h.name||"Artista",slug:(h.name||"artista").toLowerCase().replace(/[^a-z0-9]/g,""),bio:"",estilo_musical:h.estilo_musical||"",cidade:h.cidade||"",estado:h.estado||"",avatar_url:"",cover_url:"",followers_count:0,is_verified:!1});e?(console.error("Erro ao criar artista:",e),_(null)):_({id:h.id,name:h.name||"Artista",bio:"",avatar:"/images/default-avatar.png",coverImage:"",verified:!1,followers:0,monthlyListeners:0,genre:h.estilo_musical||""})}else{const e=l.find(e=>e.id===o||e.slug===o);_(e||null),e&&C(c.filter(t=>t.artistId===e.id))}A(!1)})().then(()=>{})},[o,h]),(0,t.useEffect)(()=>{(async()=>{if(h&&null!==j&&void 0!==j&&j.id){const{data:e}=await g.ND.from("follows").select("id").eq("follower_id",h.id).eq("artist_id",j.id).maybeSingle();f(!!e)}})()},[h,null===j||void 0===j?void 0:j.id]),(0,t.useEffect)(()=>{if(null!==j&&void 0!==j&&j.id){const e=async()=>{const{data:e}=await g.ND.from("albums").select("*").eq("artist_id",j.id).order("release_date",{ascending:!1});console.log("Buscando colabora\xe7\xf5es para artistId:",j.id);const{data:t,error:r}=await g.ND.from("collaboration_invites").select("album_id").eq("invited_user_id",j.id).eq("status","accepted");console.log("Colabora\xe7\xf5es encontradas:",t,"Erro:",r);let n=[];if(t&&t.length>0){const e=t.map(e=>e.album_id),{data:r}=await g.ND.from("albums").select("*, artist:artists(slug, name)").in("id",e).order("release_date",{ascending:!1});console.log("\xc1lbuns de colabora\xe7\xe3o:",r),n=r||[]}const a=[...e||[],...n].filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id));if(a.length>0){const e=new Date,t=a.filter(t=>!t.deleted_at&&(!t.is_private&&(!t.is_scheduled||(!t.scheduled_publish_at||new Date(t.scheduled_publish_at)<=e))));t.sort((e,t)=>new Date(t.release_date)-new Date(e.release_date)),C(t.map(e=>{var t;return{id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-album.png",songCount:e.song_count||0,releaseYear:e.release_year,release_date:e.release_date,created_at:e.created_at,playCount:e.play_count||0,downloadCount:e.download_count||0,isCollab:e.artist_id!==j.id,artistSlug:(null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id}}))}},t=async()=>{const{data:e,error:t}=await g.ND.from("playlists").select("*").eq("user_id",j.id).eq("is_public",!0).order("created_at",{ascending:!1});console.log("Playlists do artista:",e,"Erro:",t),e&&P(e)},r=async()=>{try{const{data:e,error:t}=await g.ND.from("artist_videos").select("*").eq("artist_id",j.id).eq("is_public",!0).order("created_at",{ascending:!1});if(t)return console.log("Erro ao carregar v\xeddeos do Supabase:",t),void T([]);if(e&&e.length>0){const t=e.map(e=>{return{id:e.id,title:e.title,url:e.video_url,videoId:e.video_id,thumbnail:e.thumbnail||(t=e.video_id,"https://img.youtube.com/vi/".concat(t,"/maxresdefault.jpg")),addedAt:new Date(e.created_at)};var t});T(t),I(t[0])}else T([])}catch(e){console.error("Erro ao carregar v\xeddeos:",e),T([])}};e(),t(),r()}},[null===j||void 0===j?void 0:j.id]);j&&d.filter(e=>e.artistId===j.id);if(k)return(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando perfil..."})});if(!j)return(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,y.jsx)("p",{className:"text-black text-xl",children:"Artista n\xe3o encontrado"})});const Z=()=>{h?m?v(!0):Q():(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para seguir artistas",variant:"destructive"})},Q=async()=>{try{const{error:e}=await g.ND.from("follows").insert({follower_id:h.id,artist_id:j.id});if(e)return console.error("Erro ao seguir:",e),"23505"===e.code?void f(!0):void(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel seguir. Tente novamente.",variant:"destructive"});f(!0),_(e=>(0,N.A)((0,N.A)({},e),{},{followers:(e.followers||0)+1})),(0,S.oR)({title:"Seguindo",description:j.name})}catch(XK){console.error("Erro ao seguir:",XK),(0,S.oR)({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}};return(0,y.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("div",{className:"h-48 md:h-96 bg-cover bg-center",style:{backgroundImage:"url(".concat(j.coverImage,")"),backgroundPosition:"center"},children:(0,y.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/50 to-black"})}),(0,y.jsx)("div",{className:"absolute bottom-0 left-0 right-0",children:(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 pb-4 md:pb-6",children:[(0,y.jsxs)("div",{className:"flex md:hidden gap-4",children:[(0,y.jsx)("img",{src:j.avatar,alt:j.name,className:"w-20 h-20 rounded-full border-3 border-white shadow-xl object-cover flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsxs)("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[j.name,j.verified&&(0,y.jsx)("div",{className:"inline-flex items-center",children:(0,y.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:(0,y.jsx)(Ah.A,{className:"w-3 h-3",color:"#fff"})})})]}),(0,y.jsxs)("div",{className:"flex gap-3 text-white/80 text-xs",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)(Md,{className:"w-3 h-3"}),(0,y.jsxs)("span",{children:[null===(e=j.monthlyListeners)||void 0===e?void 0:e.toLocaleString()," ouvintes"]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)(cc,{className:"w-3 h-3"}),(0,y.jsxs)("span",{children:[null===(r=j.followers)||void 0===r?void 0:r.toLocaleString()," seguidores"]})]})]}),(0,y.jsx)(nr.$,{onClick:Z,className:"w-24 h-9 rounded-full font-semibold text-xs mt-2 ".concat(m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-red-600 text-white hover:bg-red-700"),children:m?"SEGUINDO":"+ SEGUIR"})]})]}),(0,y.jsxs)("div",{className:"hidden md:flex items-end gap-6",children:[(0,y.jsx)("div",{className:"relative",children:(0,y.jsx)("img",{src:j.avatar,alt:j.name,className:"w-40 h-40 rounded-full border-4 border-white shadow-2xl object-cover"})}),(0,y.jsxs)("div",{className:"flex-1 pb-2",children:[(0,y.jsxs)("h1",{className:"text-5xl font-bold text-white mb-2 flex items-center",children:[j.name,j.verified&&(0,y.jsx)("div",{className:"ml-4 inline-flex items-center",children:(0,y.jsx)("div",{className:"w-7 h-7 rounded-full bg-blue-500 flex items-center justify-center",children:(0,y.jsx)(Ah.A,{className:"w-4 h-4",color:"#fff"})})})]}),(0,y.jsxs)("div",{className:"flex items-center gap-6 text-white/80 text-sm mt-3",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)(cc,{className:"w-4 h-4"}),(0,y.jsxs)("span",{children:[null===(n=j.followers)||void 0===n?void 0:n.toLocaleString()," seguidores"]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)(Md,{className:"w-4 h-4"}),(0,y.jsxs)("span",{children:[null===(a=j.monthlyListeners)||void 0===a?void 0:a.toLocaleString()," ouvintes mensais"]})]})]})]}),(0,y.jsx)("div",{className:"pb-2",children:(0,y.jsx)(nr.$,{onClick:Z,className:"px-8 h-12 rounded-full font-semibold ".concat(m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-red-600 text-white hover:bg-red-700"),children:m?"DEIXAR DE SEGUIR":"+ SEGUIR"})})]})]})})]}),(0,y.jsx)("div",{className:"border-b border-gray-200 bg-white sticky top-0 z-10",children:(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-2 md:px-4",children:(0,y.jsxs)("div",{className:"flex justify-center md:justify-start gap-1 md:gap-8",children:[(0,y.jsxs)("button",{onClick:()=>b("albums"),className:"py-3 md:py-4 px-3 md:px-2 font-semibold text-xs md:text-base border-b-2 transition-colors flex items-center gap-1 md:gap-2 ".concat("albums"===x?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:[(0,y.jsx)(Sh,{className:"w-4 h-4 md:w-5 md:h-5"}),(0,y.jsx)("span",{className:"hidden sm:inline",children:"CDS/SINGLES"}),(0,y.jsx)("span",{className:"sm:hidden",children:"CDS"})]}),(0,y.jsxs)("button",{onClick:()=>b("playlist"),className:"py-3 md:py-4 px-3 md:px-2 font-semibold text-xs md:text-base border-b-2 transition-colors flex items-center gap-1 md:gap-2 ".concat("playlist"===x?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:[(0,y.jsx)(eu,{className:"w-4 h-4 md:w-5 md:h-5"}),"PLAYLISTS"]}),(0,y.jsxs)("button",{onClick:()=>b("videos"),className:"py-3 md:py-4 px-3 md:px-2 font-semibold text-xs md:text-base border-b-2 transition-colors flex items-center gap-1 md:gap-2 ".concat("videos"===x?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:[(0,y.jsx)(Ld,{className:"w-4 h-4 md:w-5 md:h-5"}),"V\xcdDEOS"]}),(0,y.jsxs)("button",{onClick:()=>b("perfil"),className:"py-3 md:py-4 px-3 md:px-2 font-semibold text-xs md:text-base border-b-2 transition-colors flex items-center gap-1 md:gap-2 lg:hidden ".concat("perfil"===x?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:[(0,y.jsx)(Gt,{className:"w-4 h-4 md:w-5 md:h-5"}),"PERFIL"]})]})})}),(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-3 md:px-4 py-4 md:py-8",children:(0,y.jsxs)("div",{className:"flex gap-8",children:[(0,y.jsxs)("div",{className:"flex-1",children:["albums"===x&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[(0,y.jsx)("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"CDS/SINGLES"}),(0,y.jsxs)("select",{value:z,onChange:e=>F(e.target.value),className:"px-2 md:px-4 py-1.5 md:py-2 border border-gray-300 rounded-lg text-xs md:text-sm text-gray-700",children:[(0,y.jsx)("option",{value:"recent",children:"MAIS RECENTES"}),(0,y.jsx)("option",{value:"oldest",children:"MAIS ANTIGOS"}),(0,y.jsx)("option",{value:"alphabetic",children:"A-Z"})]})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6",children:B.map(e=>(0,y.jsxs)(s.N_,{to:e.isCollab?"/".concat(e.artistSlug,"/").concat(e.slug||e.id):"/".concat((null===j||void 0===j?void 0:j.slug)||o,"/").concat(e.slug||e.id),className:"group cursor-pointer",children:[(0,y.jsxs)("div",{className:"relative mb-2 md:mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-10 h-10 md:w-14 md:h-14 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-4 h-4 md:w-6 md:h-6 text-white ml-0.5",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-sm md:text-base mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,y.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 text-xs mb-1",children:[(0,y.jsxs)("div",{className:"flex items-center gap-0.5 md:gap-1 px-1.5 md:px-2 py-0.5 md:py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:K(e.playCount)}),(0,y.jsx)("span",{className:"text-gray-500 hidden sm:inline",children:"Plays"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-0.5 md:gap-1 px-1.5 md:px-2 py-0.5 md:py-1 bg-gray-100 rounded",children:[(0,y.jsx)("span",{className:"font-bold text-gray-700",children:K(e.downloadCount)}),(0,y.jsx)("span",{className:"text-gray-500 hidden sm:inline",children:"Downloads"})]})]})]},e.id))}),0===E.length&&(0,y.jsxs)("div",{className:"text-center py-20",children:[(0,y.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Nenhum \xe1lbum publicado ainda"})]})]}),"playlist"===x&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[(0,y.jsx)("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"PLAYLISTS"}),(0,y.jsxs)("select",{value:q,onChange:e=>V(e.target.value),className:"px-2 md:px-4 py-1.5 md:py-2 border border-gray-300 rounded-lg text-xs md:text-sm text-gray-700",children:[(0,y.jsx)("option",{value:"recent",children:"MAIS RECENTES"}),(0,y.jsx)("option",{value:"oldest",children:"MAIS ANTIGOS"}),(0,y.jsx)("option",{value:"alphabetic",children:"A-Z"})]})]}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6",children:W.map(e=>(0,y.jsxs)(s.N_,{to:"/playlist/".concat(e.slug||e.id),className:"group cursor-pointer",children:[(0,y.jsxs)("div",{className:"relative mb-2 md:mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-10 h-10 md:w-14 md:h-14 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-4 h-4 md:w-6 md:h-6 text-white ml-0.5",fill:"white"})})})]}),(0,y.jsx)("h3",{className:"text-black font-semibold text-sm md:text-base mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,y.jsxs)("p",{className:"text-gray-600 text-xs md:text-sm",children:[(e.song_ids||[]).length," m\xfasicas"]})]},e.id))}),0===O.length&&(0,y.jsxs)("div",{className:"text-center py-12 md:py-20",children:[(0,y.jsx)(Md,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 text-sm md:text-base",children:"Nenhuma playlist ainda"})]})]}),"videos"===x&&(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg md:text-2xl font-bold text-black mb-4 md:mb-6",children:"V\xcdDEOS"}),R&&(0,y.jsxs)("div",{className:"mb-6 md:mb-8",children:[(0,y.jsx)("div",{className:"relative w-full bg-black rounded-lg overflow-hidden shadow-lg mb-2 md:mb-3",children:(0,y.jsx)("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:(0,y.jsx)("iframe",{className:"absolute inset-0 w-full h-full",src:"https://www.youtube.com/embed/".concat(R.videoId,"?autoplay=0&controls=1&modestbranding=1"),title:R.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),(0,y.jsx)("h3",{className:"text-black font-semibold text-base md:text-lg",children:R.title})]}),D.length>0&&(0,y.jsxs)("div",{className:"mt-6 md:mt-8",children:[(0,y.jsx)("h3",{className:"text-base md:text-lg font-bold text-black mb-3 md:mb-4",children:"Mais v\xeddeos"}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-6 mb-6 md:mb-8",children:D.slice(6*(M-1),6*M).map(e=>(0,y.jsxs)("button",{onClick:()=>I(e),className:"group cursor-pointer text-left transition-all ".concat((null===R||void 0===R?void 0:R.id)===e.id?"ring-2 ring-red-600 rounded-lg":""),children:[(0,y.jsxs)("div",{className:"relative mb-2 md:mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,y.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full aspect-video object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-4 h-4 md:w-5 md:h-5 text-white ml-0.5",fill:"white"})})})]}),(0,y.jsx)("h4",{className:"text-black font-semibold text-xs md:text-sm truncate group-hover:text-red-600 transition-colors",children:e.title})]},e.id))}),Math.ceil(D.length/6)>1&&(0,y.jsx)("div",{className:"flex justify-center items-center gap-1 md:gap-2 mt-4 md:mt-6",children:Array.from({length:Math.ceil(D.length/6)},(e,t)=>t+1).map(e=>(0,y.jsx)("button",{onClick:()=>L(e),className:"px-2 md:px-3 py-1.5 md:py-2 rounded text-sm md:text-base font-medium transition-colors ".concat(M===e?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e},e))})]}),0===D.length&&(0,y.jsxs)("div",{className:"text-center py-12 md:py-20",children:[(0,y.jsx)(Ld,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 text-sm md:text-base",children:"Nenhum v\xeddeo ainda"})]})]}),"perfil"===x&&(0,y.jsxs)("div",{children:[j.bio&&(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Biografia"}),(0,y.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed text-justify",children:j.bio})]}),(j.instagram||j.twitter||j.youtube)&&(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Redes Sociais"}),(0,y.jsxs)("div",{className:"space-y-2",children:[j.instagram&&(0,y.jsxs)("a",{href:j.instagram.startsWith("http")?j.instagram:"https://instagram.com/".concat(j.instagram.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,y.jsx)(qd,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:j.instagram.includes("/")?j.instagram.split("/").filter(Boolean).pop():j.instagram.replace("@","")})]}),j.twitter&&(0,y.jsxs)("a",{href:j.twitter.startsWith("http")?j.twitter:"https://twitter.com/".concat(j.twitter.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,y.jsx)(Vd,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:j.twitter.includes("/")?j.twitter.split("/").filter(Boolean).pop():j.twitter.replace("@","")})]}),j.youtube&&(0,y.jsxs)("a",{href:j.youtube.startsWith("http")?j.youtube:"https://youtube.com/".concat(j.youtube),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,y.jsx)(Wd,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:j.youtube.includes("/")?j.youtube.split("/").filter(Boolean).pop():j.youtube})]})]})]}),j.location&&(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Localiza\xe7\xe3o"}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[(0,y.jsx)(cf,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:j.location})]})]}),j.genre&&(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Estilo Musical"}),(0,y.jsxs)(s.N_,{to:"/genero/".concat(J(j.genre)),className:"flex items-center gap-2 text-gray-600 text-sm hover:text-red-600 transition-colors",children:[(0,y.jsx)(qt,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:Y(j.genre)})]})]})]})]}),(0,y.jsx)("div",{className:"w-[420px] flex-shrink-0 hidden lg:block",children:(0,y.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-4",children:[j.bio&&(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Biografia"}),(0,y.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed text-justify",children:j.bio})]}),(j.instagram||j.twitter||j.youtube)&&(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Redes Sociais"}),(0,y.jsxs)("div",{className:"space-y-2",children:[j.instagram&&(0,y.jsxs)("a",{href:j.instagram.startsWith("http")?j.instagram:"https://instagram.com/".concat(j.instagram.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,y.jsx)(qd,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:j.instagram.includes("/")?j.instagram.split("/").filter(Boolean).pop():j.instagram.replace("@","")})]}),j.twitter&&(0,y.jsxs)("a",{href:j.twitter.startsWith("http")?j.twitter:"https://twitter.com/".concat(j.twitter.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,y.jsx)(Vd,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:j.twitter.includes("/")?j.twitter.split("/").filter(Boolean).pop():j.twitter.replace("@","")})]}),j.youtube&&(0,y.jsxs)("a",{href:j.youtube.startsWith("http")?j.youtube:"https://youtube.com/".concat(j.youtube),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,y.jsx)(Wd,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:j.youtube.includes("/")?j.youtube.split("/").filter(Boolean).pop():j.youtube})]})]})]}),j.location&&(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Localiza\xe7\xe3o"}),(0,y.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[(0,y.jsx)(cf,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:j.location})]})]}),j.genre&&(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Estilo Musical"}),(0,y.jsxs)(s.N_,{to:"/genero/".concat(J(j.genre)),className:"flex items-center gap-2 text-gray-600 text-sm hover:text-red-600 transition-colors",children:[(0,y.jsx)(qt,{className:"w-4 h-4"}),(0,y.jsx)("span",{children:Y(j.genre)})]})]})]})})]})}),p&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,y.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4 shadow-xl",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-4",children:["Deixar de seguir @",null===j||void 0===j?void 0:j.name,"?"]}),(0,y.jsx)("p",{className:"text-gray-600 text-sm text-center mb-6",children:"Tem certeza de que deseja deixar de seguir este Artista?"}),(0,y.jsx)("div",{className:"border-t border-gray-200",children:(0,y.jsx)("button",{onClick:async()=>{try{const{error:e}=await g.ND.from("follows").delete().eq("follower_id",h.id).eq("artist_id",j.id);if(e)return console.error("Erro ao deixar de seguir:",e),void(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel deixar de seguir. Tente novamente.",variant:"destructive"});f(!1),_(e=>(0,N.A)((0,N.A)({},e),{},{followers:Math.max((e.followers||1)-1,0)})),v(!1),(0,S.oR)({title:"Deixou de seguir",description:j.name})}catch(XK){console.error("Erro ao deixar de seguir:",XK)}},className:"w-full py-3 text-red-600 font-semibold hover:bg-gray-50 transition-colors",children:"Deixar de seguir"})}),(0,y.jsx)("div",{className:"border-t border-gray-200",children:(0,y.jsx)("button",{onClick:()=>v(!1),className:"w-full py-3 text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancelar"})})]})})]})},uf=(0,_t.A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),hf=(0,_t.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),mf=(0,_t.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ff=(0,_t.A)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]),pf=(0,_t.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),gf=()=>{Rh("about");const e=(0,t.useRef)(null);(0,t.useEffect)(()=>{window.scrollTo(0,0)},[]);const r=[{id:1,title:"Acreditamos na m\xfasica",description:"Focamos nos g\xeaneros que representamos e buscamos conectar artistas e f\xe3s de forma \xfanica.",icon:(0,y.jsx)(Md,{className:"w-16 h-16 text-red-500",strokeWidth:1.5})},{id:2,title:"Sonhamos grande",description:"Nosso objetivo \xe9 expandir a m\xfasica brasileira para o mundo.",icon:(0,y.jsx)(uf,{className:"w-16 h-16 text-red-500",strokeWidth:1.5})},{id:3,title:"Somos \xe1geis e inovadores",description:"Buscamos solu\xe7\xf5es r\xe1pidas e criativas para nossos usu\xe1rios.",icon:(0,y.jsx)(hf,{className:"w-16 h-16 text-red-500",strokeWidth:1.5})},{id:4,title:"Somos colaborativos",description:"Trabalhamos juntos para alcan\xe7ar os melhores resultados.",icon:(0,y.jsx)(cc,{className:"w-16 h-16 text-red-500",strokeWidth:1.5})},{id:5,title:"Quebramos barreiras",description:"A m\xfasica une culturas e ultrapassa fronteiras.",icon:(0,y.jsx)(mf,{className:"w-16 h-16 text-red-500",strokeWidth:1.5})},{id:6,title:"Respeito e inclus\xe3o",description:"N\xe3o toleramos discrimina\xe7\xe3o e promovemos a igualdade.",icon:(0,y.jsx)(ff,{className:"w-16 h-16 text-red-500",strokeWidth:1.5})},{id:7,title:"Cumprimos compromissos",description:"Entregamos sempre o melhor, com qualidade e efici\xeancia.",icon:(0,y.jsx)(pf,{className:"w-16 h-16 text-red-500",strokeWidth:1.5})},{id:8,title:"Apoio ao desenvolvimento",description:"Incentivamos o crescimento profissional e a meritocracia.",icon:(0,y.jsx)(Zu,{className:"w-16 h-16 text-red-500",strokeWidth:1.5})}];return(0,y.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,y.jsxs)("div",{className:"relative bg-cover bg-center text-white py-32",style:{backgroundImage:"url(/images/bg.png)",backgroundAttachment:"fixed"},children:[(0,y.jsx)("div",{className:"absolute inset-0 bg-black/30"}),(0,y.jsxs)("div",{className:"relative container mx-auto px-4 text-center h-full flex flex-col justify-center min-h-80",children:[(0,y.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-2 leading-tight",children:"Nossa miss\xe3o \xe9 impulsionar e conectar"}),(0,y.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-16 leading-tight",children:"o universo da m\xfasica de forma \xfanica."}),(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)("button",{onClick:()=>{var t;null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-600 hover:bg-red-700 transition-colors animate-bounce",children:(0,y.jsx)(Wt,{className:"w-6 h-6 text-white"})})})]})]}),(0,y.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,y.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,y.jsx)("h2",{className:"text-4xl font-bold text-red-600 text-center mb-8",children:"Somos o Ou\xe7a Aqui"}),(0,y.jsx)("p",{className:"text-xl text-gray-600 text-center leading-relaxed",children:"Ou\xe7a Aqui \xe9 a nova fronteira da m\xfasica brasileira, um espa\xe7o vibrante onde artistas emergentes podem lan\xe7ar seu repert\xf3rio gratuitamente para milh\xf5es de f\xe3s. Estamos construindo uma comunidade onde a conex\xe3o e o engajamento acontecem de forma fluida atrav\xe9s do nosso site intuitivo, aplicativo m\xf3vel e redes sociais."})]})}),(0,y.jsx)("div",{className:"bg-gray-50 py-16",children:(0,y.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,y.jsx)("h2",{className:"text-4xl font-bold text-red-600 text-center mb-8",children:"Vis\xe3o"}),(0,y.jsx)("p",{className:"text-xl text-gray-600 text-center",children:"Ser a maior plataforma de m\xfasica brasileira, expandindo nosso modelo para outros mercados ao redor do mundo."})]})}),(0,y.jsx)("div",{ref:e,className:"bg-gradient-to-b from-red-600 to-red-700 py-20",children:(0,y.jsxs)("div",{className:"container mx-auto px-4",children:[(0,y.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-16",children:"Nossos Valores"}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(e=>(0,y.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,y.jsx)("div",{className:"flex justify-center mb-6",children:e.icon}),(0,y.jsx)("h3",{className:"text-lg font-bold text-red-600 text-center mb-4",children:e.title}),(0,y.jsx)("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:e.description})]},e.id))})]})}),(0,y.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,y.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,y.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Fa\xe7a parte da nossa jornada"}),(0,y.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Conecte-se com artistas, descubra novas m\xfasicas e fa\xe7a parte da maior comunidade de m\xfasica brasileira."}),(0,y.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,y.jsx)("a",{href:"/",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300",children:"Explorar M\xfasicas"}),(0,y.jsx)("a",{href:"/cadastrar",className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300",children:"Come\xe7ar Como Artista"})]})]})})]})},vf=["className"],xf=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,vf);return(0,y.jsx)("textarea",(0,N.A)({className:(0,kt.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},n))});xf.displayName="Textarea";const yf=()=>{const[e]=(0,s.ok)(),[r,n]=(0,t.useState)(e.get("tab")||"privacy");(0,t.useEffect)(()=>{const t=e.get("tab");t&&(n(t),window.scrollTo(0,0))},[e]);const[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({name:"",email:"",phone:"",mobile:"",address:"",cep:"",country:"",cnpj:"",content_url:"",protected_content:"",copyright_holder:"",proof_of_ownership:"",reason:"",additional_info:""}),u=e=>{const{name:t,value:r}=e.target;d(e=>(0,N.A)((0,N.A)({},e),{},{[t]:r}))};return(0,y.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 md:gap-8 md:items-start",children:[(0,y.jsx)("div",{className:"md:col-span-1",children:(0,y.jsx)("div",{className:"space-y-2 md:fixed md:w-56 md:top-28 md:max-h-screen md:overflow-y-auto",children:[{id:"privacy",label:"Pol\xedtica de Privacidade"},{id:"terms",label:"Termos de Uso"},{id:"intellectual",label:"Prote\xe7\xe3o de Propriedade Intelectual"},{id:"report",label:"Den\xfancia de Conte\xfado"}].map(e=>(0,y.jsxs)("button",{onClick:()=>n(e.id),className:"w-full text-left px-4 py-3 rounded font-semibold transition-all text-sm flex items-center justify-between ".concat(r===e.id?"bg-red-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"),children:[(0,y.jsx)("span",{children:e.label}),r===e.id&&(0,y.jsx)($l,{size:18})]},e.id))})}),(0,y.jsxs)("div",{className:"md:col-span-4",children:["privacy"===r&&(0,y.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[(0,y.jsx)("h1",{className:"text-3xl font-bold mb-8 text-gray-900",children:"Pol\xedtica de Privacidade"}),(0,y.jsxs)("div",{className:"space-y-6 text-gray-700 leading-relaxed",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"1. PRIVACIDADE"}),(0,y.jsx)("p",{className:"mb-3",children:'Um dos maiores compromissos do portal Ou\xe7a Aqui ("Ou\xe7a Aqui", "N\xf3s" ou "Portal") \xe9 o de proteger a privacidade de pessoas que, como voc\xea, s\xe3o usu\xe1rios do Portal. As informa\xe7\xf5es que voc\xea eventualmente nos confiar, atrav\xe9s deste Portal, se utilizadas, o ser\xe3o exclusivamente para facilitar e aprimorar nosso relacionamento com voc\xea e com os demais visitantes do Portal.'}),(0,y.jsx)("p",{className:"mb-3",children:"O Ou\xe7a Aqui entende a import\xe2ncia da privacidade para voc\xea. Assim, envidaremos o m\xe1ximo de esfor\xe7os para preserv\xe1-la."}),(0,y.jsx)("p",{children:"Ao aceitar os termos de nossa Pol\xedtica de Privacidade, voc\xea permite a coleta dos dados fornecidos por voc\xea, dos dados referentes ao seu uso do Ou\xe7a Aqui e concorda com o compartilhamento de seus dados, nos termos abaixo."})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"2. TRANSPAR\xcaNCIA E RAZ\xd5ES DA COLETA DE INFORMA\xc7\xd5ES"}),(0,y.jsx)("p",{className:"mb-3",children:"O Ou\xe7a Aqui busca a transpar\xeancia e o controle sobre as formas de coleta e de uso de informa\xe7\xf5es individuais identific\xe1veis. Neste sentido, informa que poder\xe1, durante o processo de cadastro, solicitar informa\xe7\xf5es pessoais, tais como nome, endere\xe7o residencial, e-mail, n\xfamero de telefone ou quaisquer outras informa\xe7\xf5es de visitantes do Portal, as quais, quando utilizadas sozinhas ou com outros dados, poder\xe3o identificar individualmente um visitante do Portal."}),(0,y.jsx)("p",{className:"mb-3 font-semibold",children:"Esses s\xe3o os principais objetivos da obten\xe7\xe3o de informa\xe7\xf5es de nossos usu\xe1rios:"}),(0,y.jsxs)("ul",{className:"list-disc list-inside space-y-2 mb-3 ml-2",children:[(0,y.jsx)("li",{children:"Oferecer servi\xe7os mais orientados, tornando mais produtiva a sua visita ao Portal."}),(0,y.jsx)("li",{children:"Manter os produtos, servi\xe7os e integra\xe7\xf5es do Portal seguros e protegidos"}),(0,y.jsx)("li",{children:"Proteger os direitos ou propriedades do Portal e de outros"}),(0,y.jsx)("li",{children:"Avaliar ou entender a efici\xeancia dos an\xfancios que voc\xea e outras pessoas visualizam"}),(0,y.jsx)("li",{children:"Fazer sugest\xf5es para voc\xea e outros usu\xe1rios do Portal"}),(0,y.jsx)("li",{children:"Opera\xe7\xf5es internas, que incluem corre\xe7\xe3o de erros, an\xe1lise de dados, testes, pesquisa e desenvolvimento"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"3. ARMAZENAMENTO E EXCLUS\xc3O"}),(0,y.jsx)("p",{className:"mb-3",children:"Suas informa\xe7\xf5es s\xe3o armazenadas pelo tempo necess\xe1rio para o fornecimento dos produtos e servi\xe7os do Portal. Normalmente, as informa\xe7\xf5es associadas \xe0 sua conta ser\xe3o mantidas at\xe9 sua conta ser exclu\xedda."}),(0,y.jsx)("p",{className:"mb-3",children:"Se voc\xea deseja que suas informa\xe7\xf5es sejam removidas, tem a op\xe7\xe3o de enviar um e-mail para contato@oucaaqui.com. Existem as seguintes op\xe7\xf5es:"}),(0,y.jsxs)("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("strong",{children:"Exclus\xe3o Definitiva:"})," Esta a\xe7\xe3o \xe9 irrevers\xedvel. Todos os seus dados ser\xe3o permanentemente exclu\xeddos."]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("strong",{children:"Anonimiza\xe7\xe3o dos Dados P\xfablicos:"})," Seus dados p\xfablicos ser\xe3o removidos dentro de 15 dias."]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"4. DIREITOS DO USU\xc1RIO (LGPD)"}),(0,y.jsxs)("p",{children:["De acordo com a Lei Geral de Prote\xe7\xe3o de Dados (LGPD), voc\xea tem o direito de acessar e corrigir suas informa\xe7\xf5es pessoais. Para exercer esses direitos, entre em contato: ",(0,y.jsx)("strong",{children:"contato@oucaaqui.com"})]})]})]})]}),"terms"===r&&(0,y.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[(0,y.jsx)("h1",{className:"text-3xl font-bold mb-8 text-gray-900",children:"Termos de Uso"}),(0,y.jsxs)("div",{className:"space-y-6 text-gray-700 leading-relaxed",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"1. INTRODU\xc7\xc3O"}),(0,y.jsx)("p",{className:"mb-3",children:'O portal Ou\xe7a Aqui ("Ou\xe7a Aqui", "N\xf3s" ou "Portal") \xe9 uma plataforma de rede social atrav\xe9s da qual os Usu\xe1rios e Visitantes (definidos no item 7 abaixo) poder\xe3o compartilhar e ter acesso aos Conte\xfados (definido no item 14 abaixo), observadas as regras estabelecidas no presente documento ("Termos de Uso").'})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"2. CONCORD\xc2NCIA COM OS TERMOS"}),(0,y.jsx)("p",{children:'Ao acessar, usar, visitar e/ou utilizar as funcionalidades do Portal, incluindo todo e qualquer servi\xe7o ou produto disponibilizado atrav\xe9s do Portal ("Servi\xe7os"), voc\xea expressamente manifesta sua ci\xeancia e concord\xe2ncia com os Termos de Uso, Pol\xedtica de Privacidade e Pol\xedtica de Den\xfancia de Viola\xe7\xe3o de Direitos.'})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"3. TIPOS DE CONTA E FUNCIONALIDADES"}),(0,y.jsx)("p",{className:"mb-3 font-semibold",children:"Usu\xe1rio:"}),(0,y.jsxs)("ul",{className:"list-disc list-inside space-y-2 mb-4 ml-2",children:[(0,y.jsx)("li",{children:"Pode acessar e ouvir m\xfasicas e conte\xfados dispon\xedveis na plataforma."}),(0,y.jsx)("li",{children:"Pode compartilhar m\xfasicas com outros usu\xe1rios e criar suas pr\xf3prias playlists."}),(0,y.jsx)("li",{children:"N\xe3o tem permiss\xe3o para fazer upload de conte\xfado."})]}),(0,y.jsx)("p",{className:"mb-3 font-semibold",children:"Artista:"}),(0,y.jsxs)("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[(0,y.jsx)("li",{children:"Pode acessar e ouvir m\xfasicas, assim como os usu\xe1rios."}),(0,y.jsx)("li",{children:"Pode fazer upload de m\xfasicas e outros conte\xfados."}),(0,y.jsx)("li",{children:"Pode gerenciar e editar seus pr\xf3prios conte\xfados dentro da plataforma."})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"4. PROPRIEDADE INTELECTUAL"}),(0,y.jsx)("p",{className:"mb-3",children:'O conte\xfado do "Ou\xe7a Aqui", incluindo sua marca, design e funcionalidades, s\xe3o protegidos por direitos autorais e n\xe3o podem ser reproduzidos sem autoriza\xe7\xe3o pr\xe9via.'}),(0,y.jsx)("p",{children:'O conte\xfado publicado por usu\xe1rios \xe9 de sua propriedade, mas voc\xea concede ao "Ou\xe7a Aqui" uma licen\xe7a para us\xe1-lo conforme necess\xe1rio para operar a plataforma.'})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"5. FORO"}),(0,y.jsx)("p",{children:"Qualquer disputa relacionada a estes Termos de Uso ser\xe1 resolvida no foro da cidade de S\xe3o Vicente F\xe9rrer, Pernambuco, com exclus\xe3o de qualquer outro foro."})]})]})]}),"intellectual"===r&&(0,y.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[(0,y.jsx)("h1",{className:"text-3xl font-bold mb-8 text-gray-900",children:"Pol\xedtica de Prote\xe7\xe3o da Propriedade Intelectual"}),(0,y.jsxs)("div",{className:"space-y-6 text-gray-700 leading-relaxed",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"Defini\xe7\xe3o e classifica\xe7\xe3o de obras pass\xedveis de direitos autorais"}),(0,y.jsx)("p",{className:"mb-3",children:"Ao criar determinada obra que seja original, isto \xe9, obra criativa e fixada em qualquer meio, tang\xedvel ou intang\xedvel, o indiv\xedduo passa a deter sua titularidade/propriedade e tamb\xe9m os direitos sobre esta obra."}),(0,y.jsx)("p",{className:"mb-3",children:"Como n\xe3o poderia deixar de ser, tais direitos t\xeam natureza exclusiva para sua utiliza\xe7\xe3o de forma determinada e espec\xedfica."}),(0,y.jsx)("p",{children:"No tocante ao Portal Ou\xe7a Aqui, os modelos de obras mais relevantes e que deve-se ter cautela acerca da prote\xe7\xe3o de direitos autorais s\xe3o (i) grava\xe7\xf5es de som e composi\xe7\xf5es musicais e (ii) obras dram\xe1ticas tal como musicais."})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"Pr\xe1ticas que n\xe3o ausentam sua responsabilidade por infra\xe7\xe3o de direitos autorais"}),(0,y.jsx)("p",{className:"mb-3",children:"Observe-se que o conte\xfado postado por voc\xea pode ainda sofrer reivindica\xe7\xe3o de viola\xe7\xe3o de direitos autorais, muito embora tenha-se:"}),(0,y.jsxs)("ul",{className:"list-disc list-inside space-y-2 mb-3 ml-2",children:[(0,y.jsx)("li",{children:"Dado cr\xe9dito ao titular/propriet\xe1rio dos direitos autorais"}),(0,y.jsx)("li",{children:"Identificado a exist\xeancia de outros arquivos semelhantes no Portal Ou\xe7a Aqui"}),(0,y.jsx)("li",{children:"Adquirido o arquivo fonogr\xe1fico atrav\xe9s de CDs e DVDs f\xedsicos, arquivos de mp3 em lojas online"}),(0,y.jsx)("li",{children:"Gravado o conte\xfado em shows e eventos"}),(0,y.jsx)("li",{children:"Dentre outros artif\xedcios que n\xe3o t\xeam o cond\xe3o de afastar sua infra\xe7\xe3o de direitos autorais de terceiros"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-lg font-bold mb-3 text-gray-900",children:"Portal Ou\xe7a Aqui n\xe3o pode dirimir lit\xedgios referentes \xe0 propriedade de direitos autorais"}),(0,y.jsx)("p",{className:"mb-3",children:"O Portal Ou\xe7a Aqui n\xe3o tem legitimidade, obriga\xe7\xe3o ou capacidade de dirimir conflitos relativos \xe0 propriedade de direitos autorais."}),(0,y.jsx)("p",{className:"mb-3",children:"Sempre que receber uma notifica\xe7\xe3o v\xe1lida sobre suposta infra\xe7\xe3o de direitos autorais e pedido para sua exclus\xe3o, o Portal Ou\xe7a Aqui remover\xe1 de seus servidores o conte\xfado supostamente infrator."}),(0,y.jsx)("p",{children:"Inclusive, conforme consta das nossas Pol\xedticas (Termos de Uso, Pol\xedtica de Privacidade e Pol\xedtica de Prote\xe7\xe3o da Propriedade Intelectual), nos reservamos o direito de notificar o Usu\xe1rio respons\xe1vel e, em caso de reincid\xeancia, banir o Usu\xe1rio de nossa Comunidade destinada \xfanica e exclusivamente \xe0 promo\xe7\xe3o de artistas e bandas, sejam ela j\xe1 consagradas ou em lan\xe7amento de carreira."})]})]})]}),"report"===r&&(0,y.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[(0,y.jsx)("h1",{className:"text-3xl font-bold mb-8 text-gray-900",children:"Den\xfancia de Conte\xfado"}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.name&&c.email&&c.protected_content&&c.copyright_holder){i(!0);try{const{data:e,error:t}=await g.ND.from("copyright_reports").insert({name:c.name,email:c.email,phone:c.phone||null,mobile:c.mobile||null,address:c.address||null,cep:c.cep||null,country:c.country||null,cnpj:c.cnpj||null,content_url:c.content_url||null,protected_content:c.protected_content,copyright_holder:c.copyright_holder,proof_of_ownership:c.proof_of_ownership||null,is_representative:o,additional_info:c.additional_info||null,status:"pending",created_at:(new Date).toISOString()});if(t)throw t;(0,S.oR)({title:"Den\xfancia enviada com sucesso",description:"Sua den\xfancia foi recebida e ser\xe1 analisada pela nossa equipe em breve."}),d({name:"",email:"",phone:"",mobile:"",address:"",cep:"",country:"",cnpj:"",content_url:"",protected_content:"",copyright_holder:"",proof_of_ownership:"",reason:"",additional_info:""}),l(!1)}catch(t){console.error("Erro:",t),(0,S.oR)({title:"Erro ao enviar den\xfancia",description:t.message||"Ocorreu um erro ao processar sua den\xfancia. Tente novamente.",variant:"destructive"})}finally{i(!1)}}else(0,S.oR)({title:"Campos obrigat\xf3rios",description:"Por favor, preencha todos os campos obrigat\xf3rios marcados com *",variant:"destructive"})},className:"space-y-6",children:[!o&&(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Nome completo *"}),(0,y.jsx)(rr,{type:"text",name:"name",value:c.name,onChange:u,placeholder:"Nome completo",className:"w-full bg-gray-100",required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"E-mail *"}),(0,y.jsx)(rr,{type:"email",name:"email",value:c.email,onChange:u,placeholder:"E-mail",className:"w-full bg-gray-100",required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Endere\xe7o"}),(0,y.jsx)(rr,{type:"text",name:"address",value:c.address,onChange:u,placeholder:"Endere\xe7o",className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"CEP"}),(0,y.jsx)(rr,{type:"text",name:"cep",value:c.cep,onChange:u,placeholder:"CEP",className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Pa\xeds"}),(0,y.jsx)(rr,{type:"text",name:"country",value:c.country,onChange:u,placeholder:"Pa\xeds",className:"w-full bg-gray-100"})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Telefone"}),(0,y.jsx)(rr,{type:"tel",name:"phone",value:c.phone,onChange:u,placeholder:"Telefone",className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Celular"}),(0,y.jsx)(rr,{type:"tel",name:"mobile",value:c.mobile,onChange:u,placeholder:"Celular",className:"w-full bg-gray-100"})]})]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,y.jsx)("label",{className:"text-sm font-medium text-gray-900",children:"Voc\xea \xe9 o procurador ou representante do detentor de direitos violados?"}),(0,y.jsx)("button",{type:"button",onClick:()=>{l(!o),o||d(e=>(0,N.A)((0,N.A)({},e),{},{phone:"",mobile:"",cnpj:""}))},className:"relative inline-flex h-8 w-14 items-center rounded-full transition-colors ".concat(o?"bg-blue-600":"bg-gray-300"),children:(0,y.jsx)("span",{className:"inline-block h-6 w-6 transform rounded-full bg-white transition-transform ".concat(o?"translate-x-7":"translate-x-1")})}),o&&(0,y.jsx)("span",{className:"text-sm text-blue-600 font-semibold ml-2",children:"Sim"})]}),o&&(0,y.jsxs)("div",{className:"space-y-4 bg-gray-50 rounded-lg p-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Nome completo"}),(0,y.jsx)(rr,{type:"text",name:"name",value:c.name,onChange:u,placeholder:"Nome completo",className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"E-mail"}),(0,y.jsx)(rr,{type:"email",name:"email",value:c.email,onChange:u,placeholder:"E-mail",className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Endere\xe7o"}),(0,y.jsx)(rr,{type:"text",name:"address",value:c.address,onChange:u,placeholder:"Endere\xe7o",className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"CEP"}),(0,y.jsx)(rr,{type:"text",name:"cep",value:c.cep,onChange:u,placeholder:"CEP",className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Pa\xeds"}),(0,y.jsx)(rr,{type:"text",name:"country",value:c.country,onChange:u,placeholder:"Pa\xeds",className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"CNPJ (Se houver)"}),(0,y.jsx)(rr,{type:"text",name:"cnpj",value:c.cnpj,onChange:u,placeholder:"CNPJ (Se houver)",className:"w-full bg-gray-100"})]})]})]}),(0,y.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,y.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Informa\xe7\xf5es do Conte\xfado"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Preencha o campo abaixo indicando a(s) URL(s) e/ou refer\xeancias que permitam localiza\xe7\xe3o do conte\xfado supostamente violador:"}),(0,y.jsx)(xf,{name:"content_url",value:c.content_url,onChange:u,placeholder:"",rows:3,className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Descreva ou identifique os Conte\xfados Protegidos, objeto da suposta viola\xe7\xe3o:"}),(0,y.jsx)(xf,{name:"protected_content",value:c.protected_content,onChange:u,placeholder:"",rows:4,className:"w-full bg-gray-100",required:!0})]})]}),(0,y.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Propriet\xe1rio dos Direitos Autorais *"}),(0,y.jsx)(rr,{type:"text",name:"copyright_holder",value:c.copyright_holder,onChange:u,placeholder:"Propriet\xe1rio dos Direitos Autorais",className:"w-full bg-gray-100",required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Prova de Propriedade"}),(0,y.jsx)(xf,{name:"proof_of_ownership",value:c.proof_of_ownership,onChange:u,placeholder:"",rows:3,className:"w-full bg-gray-100"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Informa\xe7\xf5es Adicionais"}),(0,y.jsx)(xf,{name:"additional_info",value:c.additional_info,onChange:u,placeholder:"",rows:3,className:"w-full bg-gray-100"})]})]}),(0,y.jsxs)("div",{className:"border-t pt-6",children:[(0,y.jsx)(nr.$,{type:"submit",disabled:a,className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 font-semibold rounded-lg",children:a?"Enviando...":"Enviar Den\xfancia"}),(0,y.jsxs)("p",{className:"text-xs text-gray-500 mt-3 text-center",children:["* Campos obrigat\xf3rios. Sua den\xfancia ser\xe1 tratada de forma confidencial.",(0,y.jsx)("br",{}),"Para mais informa\xe7\xf5es: ",(0,y.jsx)("strong",{children:"contato@oucaaqui.com"})]})]})]})]})]})]})})})},bf=(0,_t.A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),wf=()=>{const{user:e,logout:r}=(0,i.A)(),n=(0,s.zy)(),a=(0,s.Zp)(),[o,l]=(0,t.useState)(null),c=(null===o||void 0===o?void 0:o.avatar_url)||(null===e||void 0===e?void 0:e.avatar),{imageUrl:d}=er(c,"/images/default-avatar.png");(0,t.useEffect)(()=>{(async()=>{if(null!==e&&void 0!==e&&e.id){const{data:t}=await g.ND.from("artists").select("*").eq("id",e.id).maybeSingle();t&&l(t)}})()},[null===e||void 0===e?void 0:e.id]);const u=e=>n.pathname===e;return(0,y.jsxs)("div",{className:"hidden md:flex md:flex-col w-64 bg-white border-r border-gray-200 h-full",children:[(0,y.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,y.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,y.jsx)("img",{src:d,alt:(null===o||void 0===o?void 0:o.name)||(null===e||void 0===e?void 0:e.name),className:"w-12 h-12 rounded-full object-cover",loading:"eager",decoding:"async",onError:e=>{"/images/default-avatar.png"!==e.target.src&&(e.target.src="/images/default-avatar.png")}}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)("p",{className:"font-semibold text-gray-900",children:null===e||void 0===e?void 0:e.name}),(null===o||void 0===o?void 0:o.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-4 h-4 text-blue-500 flex-shrink-0"})]}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Artista"})]})]})}),(0,y.jsxs)("nav",{className:"py-4 overflow-y-auto",children:[(0,y.jsxs)("div",{className:"px-4 mb-4",children:[(0,y.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"ADICIONAR"}),(0,y.jsxs)(s.N_,{to:"/artist/upload",className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(u("/artist/upload")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Yt,{className:"w-5 h-5"}),(0,y.jsx)("span",{className:"font-medium",children:"Novo Upload"})]})]}),(0,y.jsxs)("div",{className:"px-4 mb-4",children:[(0,y.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"EDITAR PERFIL"}),(0,y.jsxs)(s.N_,{to:"/artist/albums",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(u("/artist/albums")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Sh,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"CDS/SINGLES"})]}),(0,y.jsxs)(s.N_,{to:"/artist/playlists",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(u("/artist/playlists")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Qt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Minhas Playlists"})]}),(0,y.jsxs)(s.N_,{to:"/artist/favoritos",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(u("/artist/favoritos")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Zt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Favoritos"})]}),(0,y.jsxs)(s.N_,{to:"/artist/meus-videos",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(u("/artist/meus-videos")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Ld,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Meus V\xeddeos"})]}),(0,y.jsxs)(s.N_,{to:"/".concat((null===o||void 0===o?void 0:o.slug)||(null===e||void 0===e?void 0:e.id)),className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(n.pathname.includes("/profile-public")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Gt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Meu Perfil"})]})]}),(0,y.jsxs)("div",{className:"px-4 mb-4",children:[(0,y.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"COMUNICA\xc7\xc3O"}),(0,y.jsxs)(s.N_,{to:"/artist/support",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(u("/artist/support")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(bf,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Suporte"})]})]}),(0,y.jsxs)("div",{className:"px-4 mb-4",children:[(0,y.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"DASHBOARD"}),(0,y.jsxs)(s.N_,{to:"/artist/settings",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(u("/artist/settings")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Kt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,y.jsxs)(s.N_,{to:"/artist/email-senha",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(u("/artist/email-senha")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Nh,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Email e senha"})]}),(0,y.jsxs)(s.N_,{to:"/artist/dashboard",className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(u("/artist/dashboard")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,y.jsx)(Xt,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Estat\xedsticas"})]})]})]}),(0,y.jsx)("div",{className:"px-4 pt-4 border-t border-gray-200",children:(0,y.jsxs)("button",{onClick:()=>{r(),a("/")},className:"flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg w-full",children:[(0,y.jsx)($t,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Sair"})]})})]})},jf=()=>{var e;Rh("artist-dashboard-new");const{user:r}=(0,i.A)(),[n,a]=(0,t.useState)("geral"),[s,o]=(0,t.useState)("7"),[l,c]=(0,t.useState)("plays"),[d,u]=(0,t.useState)(!0),[h,m]=(0,t.useState)({plays:0,downloads:0}),[f,p]=(0,t.useState)([]),[v,x]=(0,t.useState)(null),[b,w]=(0,t.useState)([]),[j,_]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[A,E]=(0,t.useState)(!1),[C,O]=(0,t.useState)([]),[P,D]=(0,t.useState)(null),[T,R]=(0,t.useState)(!1),I=new Date,M=new Date(I);M.setDate(M.getDate()-1);const L=I.toLocaleDateString("pt-BR"),z=M.toLocaleDateString("pt-BR");(0,t.useEffect)(()=>{F()},[null===r||void 0===r?void 0:r.id,n,s,v,P]),(0,t.useEffect)(()=>{console.log("\n>>> Auto-select useEffect (DEPRECATED - now in loadData) <<<"),console.log("  activeTab:",n),console.log("  albums.length:",f.length),console.log("  playlists.length:",C.length),console.log("  selectedAlbum:",v),console.log("  selectedPlaylist:",P),console.log(">>> End Auto-select <<<\n")},[n,f,C,v,P]);const F=async()=>{if(null!==r&&void 0!==r&&r.id){u(!0),console.log("\n\n *** LOADATA START ***"),console.log("Current state:"),console.log("  user.id:",null===r||void 0===r?void 0:r.id),console.log("  activeTab:",n),console.log("  selectedAlbum:",v),console.log("  selectedPlaylist:",P),console.log("  albums:",f.length),console.log("  playlists:",C.length);try{let{data:t,error:a}=await g.ND.from("albums").select("*").eq("artist_id",r.id).order("created_at",{ascending:!1});p(t||[]);let{data:i}=await g.ND.from("playlists").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});O(i||[]),console.log("\n*** AUTO-SELECT LOGIC START ***"),console.log("activeTab:",n),console.log("selectedAlbum:",v),console.log("selectedPlaylist:",P),console.log("albumsData length:",null===t||void 0===t?void 0:t.length),console.log("playlistsData length:",null===i||void 0===i?void 0:i.length);let o=v,l=P;"cds"===n&&t&&t.length>0&&!v&&(console.log("CONDITION MET: activeTab=cds, has albums, no selection"),console.log("AUTO-SELECT: Setting first album:",t[0].id),o=t[0].id,x(t[0].id)),"playlists"===n&&i&&i.length>0&&!P?(console.log("CONDITION MET: activeTab=playlists, has playlists, no selection"),console.log("AUTO-SELECT: Setting first playlist:",i[0].id),l=i[0].id,D(i[0].id)):"playlists"===n&&(console.log("CONDITION NOT MET for auto-select:"),console.log("  activeTab===playlists?","playlists"===n),console.log("  playlistsData?",!!i),console.log("  playlistsData.length > 0?",(null===i||void 0===i?void 0:i.length)>0),console.log("  !selectedPlaylist?",!P)),console.log("finalSelectedAlbum:",o),console.log("finalSelectedPlaylist:",l),console.log("*** AUTO-SELECT LOGIC END ***\n");const c="http://localhost:8000",d=new URL("/api/statistics/artist/".concat(r.id,"/stats"),c);d.searchParams.append("period",parseInt(s)),console.log("CHECK 1: activeTab === cds?","cds"===n,"| finalSelectedAlbum?",!!o),"cds"===n&&o&&(console.log("\u2713\u2713\u2713 ENTERING CDS BRANCH with:",o),d.searchParams.append("album_id",o)),console.log("CHECK 2: activeTab === playlists?","playlists"===n,"| finalSelectedPlaylist?",!!l),"playlists"===n&&l?(console.log("\u2713\u2713\u2713 ENTERING PLAYLISTS BRANCH with:",l),console.log("\u2713 Adding playlist_id to URL:",l),d.searchParams.append("playlist_id",l),d.searchParams.append("t",Date.now())):"playlists"!==n||l||console.warn("\u26a0\ufe0f  PLAYLISTS tab but finalSelectedPlaylist is null!"),console.log("\n=== LoadData triggered ==="),console.log("  activeTab:",n),console.log("  selectedAlbum:",v),console.log("  selectedPlaylist:",P),console.log("  playlists loaded:",C.length),console.log("Final URL:",d.toString()),console.log("======================\n");const u=d.toString();console.log("DEBUG: About to fetch URL:",u),console.log("DEBUG: URL has playlist_id?",u.includes("playlist_id")),console.log("DEBUG: Full URL breakdown:",{href:d.href,search:d.search,pathname:d.pathname});try{const{data:{session:e}}=await g.ND.auth.getSession(),t=null===e||void 0===e?void 0:e.access_token,r=await fetch(u,{method:"GET",headers:(0,N.A)({"Content-Type":"application/json"},t&&{Authorization:"Bearer ".concat(t)})});if(console.log("Stats response status:",r.status),r.ok){const e=await r.json();console.log("Stats data received:",e),console.log("DEBUG: Backend returned plays:",e.total_plays),console.log("DEBUG: Expected plays for this playlist: 2"),console.log("DEBUG: Plays match playlist data?",2===e.total_plays?"YES":"NO (PROBLEM!)"),m({plays:e.total_plays,downloads:e.total_downloads}),w(e.chart_data)}else{const e=await r.text();console.warn("Erro ao buscar estat\xedsticas da API:",r.status,e),m({plays:0,downloads:0});const t=parseInt(s),n=[];for(let r=0;r<t;r++){const e=new Date;e.setDate(e.getDate()-(t-1-r));const a=e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});n.push({plays:0,downloads:0,date:a})}w(n)}}catch(e){console.error("Erro no fetch:",e),m({plays:0,downloads:0}),w([])}}catch(t){console.error("Erro ao carregar dados:",t),m({plays:0,downloads:0}),w([])}finally{u(!1)}}},B=[{value:"7",label:"\xdaltimos 7 dias"},{value:"14",label:"\xdaltimos 14 dias"},{value:"30",label:"\xdaltimos 30 dias"}],U=Math.max(...b.map(e=>"plays"===l?e.plays:e.downloads),1);return d?(0,y.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})}):(0,y.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,y.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,y.jsx)(wf,{})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,y.jsx)("div",{className:"mb-6",children:(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(Xt,{className:"w-8 h-8 text-red-600"}),(0,y.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Estat\xedsticas"})]})}),(0,y.jsx)("div",{className:"flex gap-2 mb-6",children:[{id:"geral",label:"GERAL"},{id:"cds",label:"CDS/SINGLES"},{id:"playlists",label:"PLAYLISTS"}].map(e=>(0,y.jsx)(nr.$,{onClick:()=>{a(e.id),x(null),D(null),E(!1),R(!1)},className:"rounded-full px-6 ".concat(n===e.id?"bg-red-600 hover:bg-red-700 text-white":"bg-white border border-red-600 text-red-600 hover:bg-red-50"),children:e.label},e.id))}),"cds"===n&&(0,y.jsx)(ph,{className:"mb-6 border-red-200 overflow-hidden",children:(0,y.jsx)(yh,{className:"p-0",children:d&&0===f.length?(0,y.jsxs)("div",{className:"p-4 flex items-center gap-2 text-red-600",children:[(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"Carregando..."]}):0===f.length?(0,y.jsx)("div",{className:"p-4 text-gray-500",children:"Nenhum \xe1lbum encontrado"}):(0,y.jsx)(y.Fragment,{children:(()=>{let e=[...f];if(v){const t=e.find(e=>e.id===v);t&&(e=[t,...e.filter(e=>e.id!==v)])}return e})().length>0&&(0,y.jsxs)(y.Fragment,{children:[(()=>{const e=v?[f.find(e=>e.id===v),...f.filter(e=>e.id!==v)]:f,t=e[0];return(0,y.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b cursor-pointer hover:bg-gray-50 ".concat(v===t.id?"bg-red-50":""),onClick:()=>x(v===t.id?null:t.id),children:[(0,y.jsx)("img",{src:t.cover_url||"/placeholder-album.jpg",alt:t.title,className:"w-12 h-12 rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"font-medium text-red-600",children:t.title}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:["Enviado: ",new Date(t.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(t.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),f.length>1&&(0,y.jsx)("button",{onClick:e=>{e.stopPropagation(),E(!A)},className:"p-1",children:(0,y.jsx)(Wt,{className:"w-5 h-5 text-red-400 transition-transform ".concat(A?"rotate-180":"")})})]},t.id)})(),f.length>1&&A&&(0,y.jsx)(y.Fragment,{children:(()=>{const e=v?[f.find(e=>e.id===v),...f.filter(e=>e.id!==v)]:f;return e.slice(1).map(e=>(0,y.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b last:border-b-0 cursor-pointer hover:bg-gray-50 ".concat(v===e.id?"bg-red-50":""),onClick:()=>{x(e.id),E(!1)},children:[(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-12 h-12 rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"font-medium text-red-600",children:e.title}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:["Enviado: ",new Date(e.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]},e.id))})()})]})})})}),"playlists"===n&&(0,y.jsx)(ph,{className:"mb-6 border-red-200 overflow-hidden",children:(0,y.jsx)(yh,{className:"p-0",children:d&&0===C.length?(0,y.jsxs)("div",{className:"p-4 flex items-center gap-2 text-red-600",children:[(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin"}),"Carregando..."]}):0===C.length?(0,y.jsx)("div",{className:"p-4 text-gray-500",children:"Nenhuma playlist encontrada"}):(0,y.jsxs)(y.Fragment,{children:[(()=>{const e=(P?[C.find(e=>e.id===P),...C.filter(e=>e.id!==P)]:C)[0];return(0,y.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b cursor-pointer hover:bg-gray-50 ".concat(P===e.id?"bg-red-50":""),onClick:()=>D(P===e.id?null:e.id),children:[e.cover_url?(0,y.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-12 h-12 rounded object-cover"}):(0,y.jsx)("div",{className:"w-12 h-12 rounded bg-red-100 flex items-center justify-center",children:(0,y.jsx)(Md,{className:"w-6 h-6 text-red-600"})}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"font-medium text-red-600",children:e.title}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:["Criada: ",new Date(e.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),C.length>1&&(0,y.jsx)("button",{onClick:e=>{e.stopPropagation(),R(!T)},className:"p-1",children:(0,y.jsx)(Wt,{className:"w-5 h-5 text-red-400 transition-transform ".concat(T?"rotate-180":"")})})]},e.id)})(),C.length>1&&T&&(0,y.jsx)(y.Fragment,{children:(P?[C.find(e=>e.id===P),...C.filter(e=>e.id!==P)]:C).slice(1).map(e=>(0,y.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b last:border-b-0 cursor-pointer hover:bg-gray-50 ".concat(P===e.id?"bg-red-50":""),onClick:()=>{D(e.id),R(!1)},children:[e.cover_url?(0,y.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-12 h-12 rounded object-cover"}):(0,y.jsx)("div",{className:"w-12 h-12 rounded bg-red-100 flex items-center justify-center",children:(0,y.jsx)(Md,{className:"w-6 h-6 text-red-600"})}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"font-medium text-red-600",children:e.title}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:["Criada: ",new Date(e.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]},e.id))})]})})}),(0,y.jsx)(ph,{className:"border-gray-200",children:(0,y.jsxs)(yh,{className:"p-6",children:[(0,y.jsx)("div",{className:"flex justify-end mb-4",children:(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsxs)(nr.$,{variant:"outline",onClick:()=>_(!j),className:"flex items-center gap-2",children:[null===(e=B.find(e=>e.value===s))||void 0===e?void 0:e.label,(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),j&&(0,y.jsx)("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-lg z-10 min-w-[160px]",children:B.map(e=>(0,y.jsx)("div",{onClick:()=>{o(e.value),_(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat(s===e.value?"bg-blue-50 text-blue-600":""),children:e.label},e.value))})]})}),"cds"===n&&(0,y.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["* CDs lan\xe7ados na data de hoje (",(0,y.jsx)("span",{className:"font-medium",children:L}),") n\xe3o est\xe3o contabilizados abaixo."]}),(0,y.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["* Dados atualizados at\xe9 o dia (",(0,y.jsx)("span",{className:"font-medium",children:z}),")"]}),(0,y.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["** O carregamento pode demorar entre ",(0,y.jsx)("span",{className:"font-medium",children:"20-30 segundos"})]}),(0,y.jsxs)("div",{className:"flex items-center gap-8 mb-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"PLAYS"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-red-600",children:h.plays.toLocaleString("pt-BR")})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"DOWNLOADS"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:h.downloads.toLocaleString("pt-BR")})]}),(0,y.jsx)("div",{className:"flex-1"}),(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)("span",{className:"text-sm text-gray-500",children:"Dados por filtro:"}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsxs)(nr.$,{variant:"outline",onClick:()=>k(!S),className:"flex items-center gap-2",children:["plays"===l?"PLAYS":"DOWNLOADS",(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),S&&(0,y.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-lg z-10 min-w-[120px]",children:[(0,y.jsx)("div",{onClick:()=>{c("plays"),k(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat("plays"===l?"bg-blue-50 text-blue-600":""),children:"PLAYS"}),(0,y.jsx)("div",{onClick:()=>{c("downloads"),k(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat("downloads"===l?"bg-blue-50 text-blue-600":""),children:"DOWNLOADS"})]})]})]})]}),(0,y.jsx)("div",{className:"relative h-64 border-l border-b border-gray-300",children:d?(0,y.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,y.jsx)("div",{className:"flex flex-col items-center gap-2",children:(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600"}),(0,y.jsx)(Md,{className:"w-6 h-6 text-red-400 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]})})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none",children:[0,1,2,3,4].map(e=>(0,y.jsx)("div",{className:"border-t border-gray-100 w-full"},e))}),(0,y.jsx)("div",{className:"absolute inset-0 flex items-end justify-around px-2",children:b.map((e,t)=>{const r="plays"===l?e.plays:e.downloads,n=U>0?r/U*100:0;return(0,y.jsx)("div",{className:"flex flex-col items-center flex-1",children:(0,y.jsx)("div",{className:"w-2 bg-blue-500 rounded-t transition-all",style:{height:"".concat(Math.max(n,2),"%")}})},t)})}),(0,y.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",preserveAspectRatio:"none",children:[(0,y.jsx)("polyline",{fill:"none",stroke:"#3b82f6",strokeWidth:"2",points:b.map((e,t)=>{const r="plays"===l?e.plays:e.downloads,n=(t+.5)/b.length*100,a=100-(U>0?r/U*100:0);return"".concat(n,",").concat(a)}).join(" ")}),b.map((e,t)=>{const r="plays"===l?e.plays:e.downloads,n=(t+.5)/b.length*100,a=100-(U>0?r/U*100:0);return(0,y.jsx)("circle",{cx:n,cy:a,r:"4",fill:"#3b82f6"},t)})]})]})}),(0,y.jsx)("div",{className:"flex justify-around mt-2 text-xs text-gray-500",children:b.map((e,t)=>(0,y.jsx)("span",{children:e.date},t))})]})})]})})]})},Nf=(0,_t.A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),_f=(0,_t.A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Sf=(0,_t.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),kf=["scope","children"];function Af(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const a=r[0];if(1===r.length)return a;const s=()=>{const e=r.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(r){const n=e.reduce((e,t)=>{let{useScope:n,scopeName:a}=t;const s=n(r)["__scope".concat(a)];return(0,N.A)((0,N.A)({},e),s)},{});return t.useMemo(()=>({["__scope".concat(a.scopeName)]:n}),[n])}};return s.scopeName=a.scopeName,s}const Ef=["asChild"];var Cf=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{const n=(0,th.TL)("Primitive.".concat(r)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,s=(0,_.A)(e,Ef),i=a?n:r;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,y.jsx)(i,(0,N.A)((0,N.A)({},s),{},{ref:t}))});return a.displayName="Primitive.".concat(r),(0,N.A)((0,N.A)({},e),{},{[r]:a})},{});const Of=["__scopeProgress","value","max","getValueLabel"],Pf=["__scopeProgress"];var Df="Progress",Tf=100,[Rf,If]=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const a=()=>{const r=n.map(e=>t.createContext(e));return function(n){const a=(null===n||void 0===n?void 0:n[e])||r;return t.useMemo(()=>({["__scope".concat(e)]:(0,N.A)((0,N.A)({},n),{},{[e]:a})}),[n,a])}};return a.scopeName=e,[function(r,a){const s=t.createContext(a);s.displayName=r+"Context";const i=n.length;n=[...n,a];const o=r=>{var n;const{scope:a,children:o}=r,l=(0,_.A)(r,kf),c=(null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n[i])||s,d=t.useMemo(()=>l,Object.values(l));return(0,y.jsx)(c.Provider,{value:d,children:o})};return o.displayName=r+"Provider",[o,function(n,o){var l;const c=(null===o||void 0===o||null===(l=o[e])||void 0===l?void 0:l[i])||s,d=t.useContext(c);if(d)return d;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(r,"`"))}]},Af(a,...r)]}(Df),[Mf,Lf]=Rf(Df),zf=t.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=Uf}=e,i=(0,_.A)(e,Of);var o,l;!a&&0!==a||Wf(a)||console.error((o="".concat(a),l="Progress","Invalid prop `max` of value `".concat(o,"` supplied to `").concat(l,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(Tf,"`.")));const c=Wf(a)?a:Tf;null===n||Hf(n,c)||console.error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(Tf," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}("".concat(n),"Progress"));const d=Hf(n,c)?n:null,u=Vf(d)?s(d,c):void 0;return(0,y.jsx)(Mf,{scope:r,value:d,max:c,children:(0,y.jsx)(Cf.div,(0,N.A)((0,N.A)({"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Vf(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":qf(d,c),"data-value":null!==d&&void 0!==d?d:void 0,"data-max":c},i),{},{ref:t}))})});zf.displayName=Df;var Ff="ProgressIndicator",Bf=t.forwardRef((e,t)=>{var r;const{__scopeProgress:n}=e,a=(0,_.A)(e,Pf),s=Lf(Ff,n);return(0,y.jsx)(Cf.div,(0,N.A)((0,N.A)({"data-state":qf(s.value,s.max),"data-value":null!==(r=s.value)&&void 0!==r?r:void 0,"data-max":s.max},a),{},{ref:t}))});function Uf(e,t){return"".concat(Math.round(e/t*100),"%")}function qf(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Vf(e){return"number"===typeof e}function Wf(e){return Vf(e)&&!isNaN(e)&&e>0}function Hf(e,t){return Vf(e)&&!isNaN(e)&&e<=t&&e>=0}Bf.displayName=Ff;var Kf=zf,$f=Bf;const Gf=["className","value"],Yf=t.forwardRef((e,t)=>{let{className:r,value:n}=e,a=(0,_.A)(e,Gf);return(0,y.jsx)(Kf,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r)},a),{},{children:(0,y.jsx)($f,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})}))});Yf.displayName=Kf.displayName;const Jf=(0,_t.A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xf=()=>{const{user:e}=(0,i.A)(),r=(0,s.Zp)(),[n,a]=(0,t.useState)(1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(0),[u,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[p,v]=(0,t.useState)(null),[x,b]=(0,t.useState)({title:"",description:"",genre:"",tags:[],coverImage:null,isPublic:!0,publishType:"immediate",scheduleDate:"",scheduleTime:"",releaseDate:"",customUrl:"",youtubeUrl:"",albumFile:null}),[w,j]=(0,t.useState)(""),[_,k]=(0,t.useState)(null),[A,E]=(0,t.useState)(!1),[C,O]=(0,t.useState)(""),[P,D]=(0,t.useState)(!1),[T,R]=(0,t.useState)("nao"),[I,M]=(0,t.useState)("nao"),[L,z]=(0,t.useState)([]),[F,B]=(0,t.useState)({}),[U,q]=(0,t.useState)(!1),[V,W]=(0,t.useState)([]),[H,K]=(0,t.useState)(""),[$,G]=(0,t.useState)([]),[Y,J]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(!1),[Q,ee]=(0,t.useState)(!1),[te,re]=(0,t.useState)(null),ne=e=>{const{name:t,value:r}=e.target;b(e=>(0,N.A)((0,N.A)({},e),{},{[t]:r}))},ae=e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},se=e=>"https://img.youtube.com/vi/".concat(e,"/maxresdefault.jpg"),ie=e=>{W(V.filter(t=>t.id!==e))},oe=(e,t)=>{const r=e.target.files[0];if(r)if("coverImage"===t){b(e=>(0,N.A)((0,N.A)({},e),{},{[t]:r}));const e=new FileReader;e.onloadend=()=>{k(e.result)},e.readAsDataURL(r)}else b(e=>(0,N.A)((0,N.A)({},e),{},{[t]:r}))},le=e=>e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]/g,""),ce=e=>{if(1===e){if(!x.title.trim())return(0,S.oR)({title:"Campo obrigat\xf3rio",description:"Por favor, preencha o T\xedtulo do \xc1lbum",variant:"destructive"}),!1;if(!x.genre)return(0,S.oR)({title:"Campo obrigat\xf3rio",description:"Por favor, selecione o G\xeanero Musical",variant:"destructive"}),!1;if(!x.coverImage)return(0,S.oR)({title:"Campo obrigat\xf3rio",description:"Por favor, envie a Capa do \xc1lbum",variant:"destructive"}),!1}else if(2===e){if(!x.releaseDate)return(0,S.oR)({title:"Campo obrigat\xf3rio",description:"Por favor, selecione a Data de Lan\xe7amento do \xe1lbum",variant:"destructive"}),!1;if("scheduled"===x.publishType&&(!x.scheduleDate||!x.scheduleTime))return(0,S.oR)({title:"Campo obrigat\xf3rio",description:"Por favor, selecione a data e hora para programar a publica\xe7\xe3o",variant:"destructive"}),!1;if(x.customUrl&&!x.customUrl.match(/^[a-zA-Z0-9-_]*$/))return(0,S.oR)({title:"URL inv\xe1lida",description:"A URL deve conter apenas letras, n\xfameros, h\xedfens e underscores",variant:"destructive"}),!1}else if(3===e&&!x.albumFile)return(0,S.oR)({title:"Campo obrigat\xf3rio",description:"Por favor, envie o arquivo ZIP com as m\xfasicas",variant:"destructive"}),!1;return!0},de=()=>{ce(n)&&n<3&&a(n+1)},ue=()=>{n>1&&a(n-1)},he=async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(!0),d(0),h(!1);const r=Math.random().toString(36).substring(7);let n=0;try{var s;const c=new FormData;c.append("uploadId",r),c.append("title",x.title),c.append("description",x.description||""),c.append("genre",x.genre),c.append("tags",JSON.stringify(Array.isArray(x.tags)?x.tags:[])),c.append("isPublic",!1!==x.isPublic),c.append("publishType",x.publishType),c.append("videoLink",x.videoLink||"");let u=x.releaseDate;if(u&&!u.match(/^\d{4}-\d{2}-\d{2}$/)){const e=new Date(u);isNaN(e.getTime())||(u=e.toISOString().split("T")[0])}if(console.log("Release date enviado:",u),c.append("releaseDate",u),c.append("customUrl",x.customUrl||le(x.title)),c.append("artistId",(null===e||void 0===e?void 0:e.id)||""),c.append("artistName",(null===e||void 0===e?void 0:e.name)||"Artista"),c.append("youtubeUrl",x.youtubeUrl||""),c.append("albumFile",x.albumFile),console.log("publishType:",x.publishType),console.log("scheduleDate (local):",x.scheduleDate),console.log("scheduleTime (local):",x.scheduleTime),"scheduled"===x.publishType){const e="".concat(x.scheduleDate,"T").concat(x.scheduleTime,":00-03:00");console.log("Agendamento (Hor\xe1rio de Bras\xedlia - UTC-3):",{data:x.scheduleDate,hora:x.scheduleTime,datetime:e}),c.append("scheduledPublishAt",e),console.log("Enviando dados de agendamento (UTC-3):",e)}c.append("needsComposer",T),c.append("needsISRC",I),c.append("songMetadata",JSON.stringify(F)),c.append("collaborators",JSON.stringify(V.map(e=>e.id))),x.coverImage&&c.append("coverImage",x.coverImage);const m="http://localhost:8000",{data:{session:p}}=await g.ND.auth.getSession(),y=null===p||void 0===p?void 0:p.access_token,b=y?"".concat(m,"/api/upload-progress/progress/").concat(r,"?token=").concat(encodeURIComponent(y)):"".concat(m,"/api/upload-progress/progress/").concat(r),w=new EventSource(b);let j=!1,N=!1,_=Date.now();const S=new Promise((e,t)=>{const a=setTimeout(()=>{N||console.warn("SSE timeout - continuing upload");try{w.close()}catch(t){}e()},6e5);w.onopen=()=>{j=!0,console.log("SSE conectado para upload ".concat(r))},w.onmessage=r=>{try{const i=JSON.parse(r.data);if(console.log("SSE message recebida:",i),i.error)console.error("SSE error:",i.error),t(new Error(i.error));else if(console.log("Progress via SSE: ".concat(i.progress,"% - ").concat(i.step)),void 0!==i.progress&&(n=Math.max(i.progress,n),d(n),_=Date.now(),console.log("SSE progress: ".concat(n,"%"))),i.progress>=100||"concluido"===i.step||"completed"===i.step){console.log("Upload completed via SSE"),N=!0,clearTimeout(a);try{w.close()}catch(s){}e()}}catch(s){console.error("Erro ao parsear mensagem SSE:",s)}},w.onerror=t=>{console.log("SSE connection error or closed",t),clearTimeout(a);try{w.close()}catch(r){}N||(console.log("Resolvendo SSE promise apesar do erro"),e())}}),k=new Promise(async(e,t)=>{try{const{data:{session:r}}=await g.ND.auth.getSession(),a=null===r||void 0===r?void 0:r.access_token;if(!a)return void t(new Error("N\xe3o autenticado. Por favor, fa\xe7a login novamente."));const s=new XMLHttpRequest;s.timeout=6e5,s.upload.addEventListener("progress",e=>{if(e.lengthComputable){const t=e.loaded/e.total*20,r=Math.round(t);Date.now()-_>1e3&&(n=Math.max(r,n),d(n),console.log("Upload bytes: ".concat(e.loaded,"/").concat(e.total," = ").concat(r,"% (current: ").concat(n,"%)")))}}),s.addEventListener("load",()=>{200===s.status||201===s.status?(console.log("Upload completed"),e(JSON.parse(s.responseText))):t(new Error(JSON.parse(s.responseText).detail||"Erro ao fazer upload"))}),s.addEventListener("error",()=>{console.error("Upload error"),t(new Error("Erro na conex\xe3o"))}),s.addEventListener("abort",()=>{console.error("Upload aborted"),t(new Error("Upload cancelado"))}),s.addEventListener("timeout",()=>{console.error("Upload timeout"),t(new Error("Upload excedeu o tempo limite (10 minutos). Arquivo muito grande?"))}),s.open("POST","".concat(m,"/api/album-upload/upload")),s.setRequestHeader("Authorization","Bearer ".concat(a)),s.send(c)}catch(r){t(r)}}),A=setInterval(async()=>{try{if(!N){const e="".concat("http://localhost:8000","/api/upload-progress/status/").concat(r);console.log("Polling: ".concat(e));const t=await fetch(e);if(t.ok){const e=await t.json();if(console.log("Polling response:",e),void 0!==e.progress){const t=Math.max(e.progress,n);n=t,d(t),console.log("Progress atualizado: ".concat(t,"%"))}(e.progress>=100||"completed"===e.status)&&(console.log("Upload completed via polling"),N=!0,clearInterval(A))}else console.log("Polling returned status ".concat(t.status))}}catch(e){console.error("Erro no polling:",e)}},1e3),E=await k;clearInterval(A),await S;try{w.close()}catch(i){}const C=E;if(x.youtubeUrl&&null!==(s=C.album)&&void 0!==s&&s.id)try{const t=ae(x.youtubeUrl);if(t){const r="http://localhost:8000",n=await fetch("".concat(r,"/api/artist-videos/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({artist_id:null===e||void 0===e?void 0:e.id,album_id:C.album.id,video_url:x.youtubeUrl,video_id:t,title:C.album.title,thumbnail:se(t),is_public:!0})});n.ok||console.error("Erro ao adicionar v\xeddeo:",await n.text())}}catch(o){console.error("Erro ao adicionar v\xeddeo do YouTube:",o)}d(100),l(!1),h(!0),t&&C.songs?(z(C.songs.map((e,t)=>({id:t+1,name:e.title||"M\xfasica ".concat(t+1),composer:"",isrc:""}))),setTimeout(()=>{h(!1),a(4)},1500)):(v(C.album.id),f(!0))}catch(o){l(!1),d(0),(0,S.oR)({title:"Erro no upload",description:o.message||"N\xe3o foi poss\xedvel enviar o \xe1lbum. Tente novamente.",variant:"destructive"})}},me=x.customUrl||le(x.title);return(0,y.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,y.jsx)("div",{className:"hidden md:block w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,y.jsx)(wf,{})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"max-w-6xl mx-auto p-4 md:p-8",children:[(0,y.jsx)("div",{className:"mb-6 md:mb-8",children:(0,y.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1 md:mb-2 flex items-center gap-2 md:gap-3",children:[(0,y.jsx)(Yt,{className:"w-6 md:w-8 h-6 md:h-8 text-red-600 flex-shrink-0"}),"Upload de \xc1lbum"]})}),(0,y.jsx)("div",{className:"mb-6 md:mb-8",children:(0,y.jsx)("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[1,2,3].map(e=>(0,y.jsxs)(t.Fragment,{children:[(0,y.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,y.jsx)("div",{className:"w-7 md:w-8 h-7 md:h-8 rounded-full flex items-center justify-center font-bold text-xs transition-all flex-shrink-0 ".concat(e===n?"bg-red-600 text-white scale-110":e<n?"bg-green-600 text-white":"bg-gray-300 text-gray-700"),children:e<n?(0,y.jsx)(pf,{className:"w-3 md:w-3.5 h-3 md:h-3.5"}):e}),(0,y.jsxs)("p",{className:"text-xs leading-tight mt-1 hidden md:block ".concat(e===n?"text-red-600 font-semibold":"text-gray-600"),style:{lineHeight:"1.2"},children:[1===e&&"Informa\xe7\xf5es\nB\xe1sicas",2===e&&"Privacidade\ne URL",3===e&&"Upload do\nArquivo"]})]}),e<3&&(0,y.jsx)("div",{className:"flex-1 h-0.5 mx-1 ".concat(e<n?"bg-green-600":"bg-gray-300")})]},e))})}),1===n&&(0,y.jsx)(ph,{className:"bg-white shadow-sm",children:(0,y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),de()},className:"p-4 md:p-8 space-y-6 md:space-y-12",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-1 md:mb-2",children:"Etapa 1: Informa\xe7\xf5es B\xe1sicas"}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-600",children:"Preencha os detalhes do seu \xe1lbum"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8",children:[(0,y.jsx)("div",{className:"md:col-span-3 flex justify-center md:justify-start",children:(0,y.jsxs)("div",{className:"flex flex-col items-center w-full md:w-auto",children:[(0,y.jsx)("label",{htmlFor:"coverImage",className:"w-32 h-32 md:w-44 md:h-44 bg-gray-100 border-2 border-gray-300 rounded-lg overflow-hidden mb-3 md:mb-4 flex items-center justify-center cursor-pointer hover:border-red-500 transition-colors flex-shrink-0",children:_?(0,y.jsx)("img",{src:_,alt:"Capa do \xe1lbum",className:"w-full h-full object-cover"}):(0,y.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:(0,y.jsx)(Nf,{className:"w-8 md:w-12 h-8 md:h-12 text-gray-400"})})}),(0,y.jsxs)("label",{htmlFor:"coverImage",className:"w-32 md:w-44 flex items-center justify-center gap-1.5 bg-red-600 hover:bg-red-700 active:bg-red-800 font-semibold py-2 px-3 rounded-lg cursor-pointer transition-colors mb-2 text-xs md:text-sm",style:{color:"white"},children:[(0,y.jsx)(_f,{className:"w-3.5 h-3.5 flex-shrink-0"}),(0,y.jsx)("span",{className:"hidden md:inline",children:"Capa do \xc1lbum"}),(0,y.jsx)("span",{className:"md:hidden",children:"Selecionar"})]}),(0,y.jsx)("input",{id:"coverImage",type:"file",accept:"image/*",onChange:e=>oe(e,"coverImage"),className:"hidden"}),(0,y.jsxs)("p",{className:"text-xs text-gray-500 text-center mt-1 md:mt-2",children:["M\xednimo 500x500px",(0,y.jsx)("br",{className:"md:hidden"}),"JPG, PNG ou GIF"]})]})}),(0,y.jsxs)("div",{className:"md:col-span-9 space-y-4 md:space-y-5",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{htmlFor:"title",className:"text-gray-700 font-semibold",children:"T\xedtulo do \xc1lbum *"}),(0,y.jsx)(rr,{id:"title",name:"title",value:x.title,onChange:ne,placeholder:"Ex: Meu Primeiro \xc1lbum",className:"mt-2 border-gray-300 focus:border-red-500 focus:ring-red-500",required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{htmlFor:"description",className:"text-gray-700 font-semibold",children:"Descri\xe7\xe3o"}),(0,y.jsx)(xf,{id:"description",name:"description",value:x.description,onChange:e=>{e.target.value.length<=500&&b(t=>(0,N.A)((0,N.A)({},t),{},{description:e.target.value}))},placeholder:"Descreva seu \xe1lbum...",rows:3,maxLength:500,className:"mt-2 border-gray-300 focus:border-red-500 focus:ring-red-500 resize-none"}),(0,y.jsxs)("p",{className:"text-xs mt-1 ".concat(x.description.length>=500?"text-red-500":"text-gray-500"),children:[x.description.length,"/500 caracteres"]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{className:"text-gray-700 font-semibold",children:"G\xeanero Musical *"}),(0,y.jsxs)(Wm,{open:A,onOpenChange:E,children:[(0,y.jsx)(Hm,{asChild:!0,children:(0,y.jsxs)("button",{className:"mt-2 w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500 text-left",children:[(0,y.jsx)("span",{className:x.genre?"text-gray-900":"text-gray-500",children:x.genre?(()=>{const e=[{value:"forro",label:"Forr\xf3"},{value:"arrocha",label:"Arrocha"},{value:"piseiro",label:"Piseiro"},{value:"arrochadeira",label:"Arrochadeira"},{value:"pagode",label:"Pagode"},{value:"sertanejo",label:"Sertanejo"},{value:"brega-funk",label:"Brega Funk"},{value:"variados",label:"Variados"},{value:"samba",label:"Samba"},{value:"funk",label:"Funk"},{value:"axe",label:"Ax\xe9"},{value:"reggae",label:"Reggae"},{value:"brega",label:"Brega"},{value:"gospel",label:"Gospel"},{value:"rap-hiphop",label:"Rap/Hip-Hop"},{value:"pop",label:"Pop"},{value:"mpb",label:"MPB"},{value:"rock",label:"Rock"},{value:"eletronica",label:"Eletr\xf4nica"},{value:"podcast",label:"Podcast"},{value:"trap",label:"Trap"},{value:"frevo",label:"Frevo"}].find(e=>e.value===x.genre);return e?e.label:x.genre})():"Selecione o g\xeanero"}),(0,y.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})}),(0,y.jsx)(Km,{side:"top",align:"start",className:"w-80 p-0 max-h-80 overflow-y-auto",children:(0,y.jsx)("div",{className:"flex flex-col",children:[{value:"forro",label:"Forr\xf3"},{value:"arrocha",label:"Arrocha"},{value:"piseiro",label:"Piseiro"},{value:"arrochadeira",label:"Arrochadeira"},{value:"pagode",label:"Pagode"},{value:"sertanejo",label:"Sertanejo"},{value:"brega-funk",label:"Brega Funk"},{value:"variados",label:"Variados"},{value:"samba",label:"Samba"},{value:"funk",label:"Funk"},{value:"axe",label:"Ax\xe9"},{value:"reggae",label:"Reggae"},{value:"brega",label:"Brega"},{value:"gospel",label:"Gospel"},{value:"rap-hiphop",label:"Rap/Hip-Hop"},{value:"pop",label:"Pop"},{value:"mpb",label:"MPB"},{value:"rock",label:"Rock"},{value:"eletronica",label:"Eletr\xf4nica"},{value:"podcast",label:"Podcast"},{value:"trap",label:"Trap"},{value:"frevo",label:"Frevo"}].map(e=>(0,y.jsx)("button",{onClick:()=>{b(t=>(0,N.A)((0,N.A)({},t),{},{genre:e.value})),E(!1)},className:"px-4 py-3 text-left text-sm font-medium transition-all border-2 ".concat(x.genre===e.value?"bg-red-600 text-white border-red-600":"text-red-600 border-transparent hover:bg-red-600 hover:text-white"),children:e.label},e.value))})})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{htmlFor:"tags",className:"text-gray-700 font-semibold",children:"Tags (Digite cada tag separada por ENTER)"}),(0,y.jsx)(rr,{id:"tags",type:"text",value:w,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&w.trim()&&(e.preventDefault(),x.tags.includes(w.trim())||b(e=>(0,N.A)((0,N.A)({},e),{},{tags:[...e.tags,w.trim()]})),j(""))},placeholder:"Ex: sertanejo, tradicional, nordeste",className:"mt-2 border-gray-300 focus:border-red-500 focus:ring-red-500"}),x.tags.length>0&&(0,y.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:x.tags.map((e,t)=>(0,y.jsxs)("div",{className:"bg-red-600 text-white text-xs px-3 py-1 rounded-full flex items-center gap-2",children:[e,(0,y.jsx)("button",{type:"button",onClick:()=>{return e=t,void b(t=>(0,N.A)((0,N.A)({},t),{},{tags:t.tags.filter((t,r)=>r!==e)}));var e},className:"text-white hover:text-red-200 font-bold",children:"\xd7"})]},t))})]})]}),(0,y.jsxs)("div",{className:"border rounded-xl p-3 md:p-5 bg-gradient-to-br from-gray-50 to-white",children:[(0,y.jsxs)("div",{className:"flex items-start gap-3 md:gap-4 mb-3 md:mb-4",children:[(0,y.jsx)("div",{className:"w-10 md:w-12 h-10 md:h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:(0,y.jsx)(cc,{className:"w-5 md:w-6 h-5 md:h-6 text-red-600"})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)(lh,{className:"text-gray-900 font-semibold text-base md:text-lg block mb-1",children:"Colaboradores"}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-600 leading-relaxed",children:"Convide outros artistas para colaborar. O \xe1lbum aparecer\xe1 no perfil de todos os colaboradores que aceitarem."})]})]}),(0,y.jsxs)(nr.$,{type:"button",onClick:()=>ee(!0),variant:"outline",className:"w-full border-2 border-dashed border-gray-300 hover:border-red-400 hover:bg-red-50 text-gray-700 hover:text-red-600 font-medium py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[(0,y.jsx)(Sf,{className:"w-5 h-5"}),"Convidar colaborador"]}),V.length>0&&(0,y.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,y.jsxs)("p",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)(cc,{className:"w-4 h-4"}),"Colaboradores adicionados (",V.length,")"]}),(0,y.jsx)("div",{className:"space-y-2",children:V.map(e=>(0,y.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow group",children:[e.profile_image?(0,y.jsx)("img",{src:e.profile_image,alt:e.name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0 border-2 border-gray-200"}):(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center flex-shrink-0 text-white text-sm font-bold",children:e.name[0]}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,y.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),e.verified&&(0,y.jsxs)("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#00bcd4"},children:[(0,y.jsx)("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),(0,y.jsx)("path",{d:"m9 12 2 2 4-4"})]})]}),(0,y.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700 mt-1",children:[(0,y.jsx)(Jf,{className:"w-3 h-3"}),"Aguardando resposta"]})]}),(0,y.jsx)("button",{type:"button",onClick:()=>ie(e.id),className:"text-gray-400 hover:text-red-600 flex-shrink-0 transition-colors opacity-0 group-hover:opacity-100",title:"Remover colaborador",children:(0,y.jsx)(St,{className:"w-5 h-5"})})]},e.id))})]})]})]})]}),(0,y.jsxs)("div",{className:"flex gap-3 md:gap-4 pt-4 md:pt-6",children:[(0,y.jsx)(nr.$,{type:"button",variant:"outline",disabled:!0,className:"flex-1 opacity-50 cursor-not-allowed text-sm md:text-base py-2 md:py-3",children:"Voltar"}),(0,y.jsx)(nr.$,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold text-sm md:text-base py-2 md:py-3",children:"Pr\xf3ximo"})]})]})}),2===n&&(0,y.jsx)(ph,{className:"bg-white shadow-sm",children:(0,y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),de()},className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-1 md:mb-2",children:"Etapa 2: Privacidade e URL"}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-600",children:"Configure como seu \xe1lbum ser\xe1 acess\xedvel"})]}),(0,y.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{className:"text-gray-700 font-semibold text-sm md:text-base",children:"Visibilidade do \xc1lbum"}),(0,y.jsxs)("div",{className:"mt-3 md:mt-4 space-y-2 md:space-y-3",children:[(0,y.jsxs)("label",{className:"flex items-start p-3 md:p-4 border-2 rounded-lg cursor-pointer transition-colors gap-3",style:{borderColor:"immediate"===x.publishType?"#dc2626":"#d1d5db"},children:[(0,y.jsx)("input",{type:"radio",name:"publishType",value:"immediate",checked:"immediate"===x.publishType,onChange:()=>b(e=>(0,N.A)((0,N.A)({},e),{},{publishType:"immediate"})),className:"w-4 h-4 text-red-600 cursor-pointer mt-0.5 flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,y.jsx)(mf,{className:"w-4 md:w-5 h-4 md:h-5 text-red-600 flex-shrink-0"}),(0,y.jsx)("span",{className:"font-semibold text-gray-900 text-sm md:text-base",children:"P\xfablico"})]}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-600",children:"Qualquer pessoa pode acessar e ouvir seu \xe1lbum"})]})]}),(0,y.jsxs)("label",{className:"flex items-start p-3 md:p-4 border-2 rounded-lg cursor-pointer transition-colors gap-3",style:{borderColor:"private"===x.publishType?"#dc2626":"#d1d5db"},children:[(0,y.jsx)("input",{type:"radio",name:"publishType",value:"private",checked:"private"===x.publishType,onChange:()=>b(e=>(0,N.A)((0,N.A)({},e),{},{publishType:"private"})),className:"w-4 h-4 text-red-600 cursor-pointer mt-0.5 flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,y.jsx)(Nh,{className:"w-4 md:w-5 h-4 md:h-5 text-red-600 flex-shrink-0"}),(0,y.jsx)("span",{className:"font-semibold text-gray-900 text-sm md:text-base",children:"Privado"})]}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-600",children:"Apenas voc\xea pode acessar este \xe1lbum"})]})]}),(0,y.jsxs)("label",{className:"flex items-start p-3 md:p-4 border-2 rounded-lg cursor-pointer transition-colors gap-3",style:{borderColor:"scheduled"===x.publishType?"#dc2626":"#d1d5db"},children:[(0,y.jsx)("input",{type:"radio",name:"publishType",value:"scheduled",checked:"scheduled"===x.publishType,onChange:()=>b(e=>(0,N.A)((0,N.A)({},e),{},{publishType:"scheduled"})),className:"w-4 h-4 text-red-600 cursor-pointer mt-0.5 flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,y.jsx)(Jf,{className:"w-4 md:w-5 h-4 md:h-5 text-red-600 flex-shrink-0"}),(0,y.jsx)("span",{className:"font-semibold text-gray-900 text-sm md:text-base",children:"Programar"})]}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-600",children:"Selecione uma data e hora para tornar o conte\xfado p\xfablico"})]})]}),"scheduled"===x.publishType&&(0,y.jsxs)("div",{className:"ml-7 md:ml-8 space-y-2 md:space-y-3 pt-2",children:[(0,y.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4",children:[(0,y.jsx)(rr,{id:"scheduleDate",type:"date",value:x.scheduleDate,onChange:e=>b(t=>(0,N.A)((0,N.A)({},t),{},{scheduleDate:e.target.value})),className:"border-gray-300 focus:border-red-500 focus:ring-red-500 h-10 md:h-12 px-3 flex-1 text-sm md:text-base",style:{fontSize:"16px"}}),(0,y.jsx)(rr,{id:"scheduleTime",type:"time",value:x.scheduleTime,onChange:e=>b(t=>(0,N.A)((0,N.A)({},t),{},{scheduleTime:e.target.value})),className:"border-gray-300 focus:border-red-500 focus:ring-red-500 h-10 md:h-12 px-3 flex-1 md:flex-initial md:w-32 text-sm md:text-base",style:{fontSize:"16px"}})]}),(0,y.jsxs)("p",{className:"text-xs text-gray-600",children:["O \xe1lbum ser\xe1 ",(0,y.jsx)("strong",{children:"Privado"})," antes da data e hora agendada"]})]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)(lh,{className:"text-gray-700 font-semibold mb-1 block text-sm md:text-base",children:["Data de Lan\xe7amento ",(0,y.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-600 mb-2 md:mb-3",children:"Escolha a data em que o \xe1lbum foi lan\xe7ado. Isso afeta a ordem como ele aparece no seu perfil."}),(0,y.jsx)("input",{type:"date",name:"releaseDate",value:x.releaseDate||"",onChange:e=>b(t=>(0,N.A)((0,N.A)({},t),{},{releaseDate:e.target.value})),className:"w-full px-3 md:px-4 py-2 border border-gray-300 rounded-lg focus:border-red-500 focus:ring-red-500 focus:outline-none text-sm md:text-base h-10 md:h-12",style:{fontSize:"16px"},required:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{htmlFor:"customUrl",className:"text-gray-700 font-semibold text-sm md:text-base",children:"URL do \xc1lbum"}),(0,y.jsxs)("div",{className:"mt-2",children:[(0,y.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg border border-gray-300 overflow-hidden h-10 md:h-12",children:[(0,y.jsx)("span",{className:"px-3 md:px-4 py-2 text-gray-600 text-xs md:text-sm font-medium whitespace-nowrap flex-shrink-0",children:"oucaaqui.com/"}),(0,y.jsx)(rr,{id:"customUrl",name:"customUrl",value:x.customUrl,onChange:ne,placeholder:le(x.title)||"seu-album",className:"flex-1 border-0 bg-transparent px-2 md:px-4 py-2 text-gray-900 placeholder-gray-500 text-sm md:text-base h-full"})]}),(0,y.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Se deixar em branco, ser\xe1 usada: ",(0,y.jsxs)("span",{className:"font-semibold",children:["oucaaqui.com/",me||"seu-album"]})]}),(0,y.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Use apenas letras, n\xfameros, h\xedfens e underscores"})]})]}),(0,y.jsx)("div",{className:"border rounded-lg p-3 md:p-4 bg-gradient-to-br from-red-50 to-white",children:(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[(0,y.jsxs)("div",{className:"order-2 md:order-1",children:[(0,y.jsx)(lh,{className:"text-gray-700 font-semibold mb-2 md:mb-3 block text-sm md:text-base",children:"Pr\xe9via do V\xeddeo"}),(0,y.jsx)("div",{className:"bg-gray-200 rounded-lg w-full h-24 md:h-32 flex items-center justify-center overflow-hidden",children:C?(0,y.jsx)("img",{src:C,alt:"YouTube Preview",className:"w-full h-full object-cover"}):(0,y.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,y.jsxs)("svg",{className:"w-8 md:w-12 h-8 md:h-12 mx-auto mb-1 md:mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),(0,y.jsx)("p",{className:"text-xs md:text-sm",children:"V\xeddeo do YouTube"})]})}),(0,y.jsx)("p",{className:"text-xs text-gray-500 mt-1 md:mt-2",children:"Ser\xe1 automaticamente vinculado ao \xe1lbum"})]}),(0,y.jsxs)("div",{className:"order-1 md:order-2 space-y-2 md:space-y-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{htmlFor:"youtubeUrl",className:"text-gray-700 font-semibold text-sm md:text-base",children:"Link do V\xeddeo (Opcional)"}),(0,y.jsx)("p",{className:"text-xs text-gray-500 mb-1 md:mb-2",children:"Exemplo: https://youtu.be/dQw4w9WgXcQ"}),(0,y.jsx)(rr,{id:"youtubeUrl",type:"url",value:x.youtubeUrl,onChange:e=>{const t=e.target.value;if(b(e=>(0,N.A)((0,N.A)({},e),{},{youtubeUrl:t})),t){D(!0);const e=ae(t);O(e?se(e):""),D(!1)}else O("")},placeholder:"https://youtube.com/watch?v=...",disabled:P,className:"border-gray-300 focus:border-red-500 focus:ring-red-500 text-sm md:text-base"})]}),(0,y.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,y.jsx)("strong",{children:"Nota:"})," O v\xeddeo ser\xe1 adicionado automaticamente ao \xe1lbum quando voc\xea fizer o upload."]})]})]})}),(0,y.jsxs)("div",{className:"bg-gray-50 p-3 md:p-4 rounded-lg border border-gray-200",children:[(0,y.jsx)("p",{className:"text-xs text-gray-600 font-semibold mb-2",children:"PR\xc9VIA:"}),(0,y.jsxs)("div",{className:"bg-white p-2 md:p-3 rounded border border-gray-200",children:[(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-900 font-semibold truncate",children:(0,y.jsx)("strong",{children:x.title})}),(0,y.jsxs)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:["oucaaqui.com/",me||"seu-album"]})]})]})]}),(0,y.jsxs)("div",{className:"flex gap-3 md:gap-4 pt-4 md:pt-6",children:[(0,y.jsx)(nr.$,{type:"button",variant:"outline",onClick:ue,className:"flex-1 text-sm md:text-base py-2 md:py-3",children:"Voltar"}),(0,y.jsx)(nr.$,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold text-sm md:text-base py-2 md:py-3",children:"Pr\xf3ximo"})]})]})}),3===n&&(0,y.jsx)(ph,{className:"bg-white shadow-sm",children:(0,y.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),ce(3)&&q(!0)},className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[(0,y.jsx)("div",{children:(0,y.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-1 md:mb-2",children:"Etapa 3: Upload do Arquivo"})}),(0,y.jsxs)("div",{className:"flex items-start gap-2",children:[(0,y.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1.3em",width:"1.3em",xmlns:"http://www.w3.org/2000/svg",className:"text-red-600 flex-shrink-0 mt-0.5",children:[(0,y.jsx)("path",{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M128 80V64a48.14 48.14 0 0148-48h224a48.14 48.14 0 0148 48v368l-80-64"}),(0,y.jsx)("path",{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M320 96H112a48.14 48.14 0 00-48 48v352l152-128 152 128V144a48.14 48.14 0 00-48-48z"})]}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("p",{className:"text-gray-700 text-sm md:text-base leading-relaxed",children:[(0,y.jsx)("span",{className:"font-semibold text-red-600",children:"Para lembrar:"})," realize apenas uploads de sua propriedade ou sobre os quais voc\xea det\xe9m legalmente os direitos."]})})]}),(0,y.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{htmlFor:"albumFile",className:"text-gray-700 font-semibold text-sm md:text-base",children:"Arquivo ZIP com as M\xfasicas *"}),(0,y.jsx)("div",{className:"mt-2 md:mt-4",children:(0,y.jsxs)("label",{htmlFor:"albumFile",className:"flex flex-col items-center justify-center w-full px-4 md:px-6 py-8 md:py-12 border-2 border-dashed rounded-2xl cursor-pointer transition-all duration-300 ".concat(x.albumFile?"border-green-500 bg-green-50 hover:bg-green-100":"border-red-400 bg-white hover:border-red-600 hover:bg-red-50"),children:[(0,y.jsx)("div",{className:"text-center",children:x.albumFile?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"flex justify-center mb-2 md:mb-3",children:(0,y.jsx)("svg",{className:"w-8 md:w-10 h-8 md:h-10 text-green-600",viewBox:"0 0 512 512",fill:"currentColor",children:(0,y.jsx)("path",{d:"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.627 0L216 308.745l-52.686-52.686c-6.248-6.248-16.379-6.248-22.627 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628 0z"})})}),(0,y.jsx)("p",{className:"text-base md:text-lg font-bold text-green-700 mb-1 truncate",children:x.albumFile.name}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-green-600",children:"Arquivo selecionado com sucesso!"})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"flex justify-center mb-3 md:mb-4",children:(0,y.jsx)("svg",{className:"w-8 md:w-12 h-8 md:h-12 text-red-600",viewBox:"0 0 512 512",fill:"currentColor",children:(0,y.jsx)("path",{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"})})}),(0,y.jsx)("p",{className:"text-lg md:text-2xl font-bold text-red-600 mb-1",children:"CLIQUE PARA ENVIAR"}),(0,y.jsx)("p",{className:"text-xs md:text-sm text-gray-600",children:"ZIP com todas as m\xfasicas em MP3"})]})}),(0,y.jsx)("input",{id:"albumFile",type:"file",accept:".zip,.rar",onChange:e=>oe(e,"albumFile"),className:"hidden",disabled:o})]})})]}),(0,y.jsxs)("div",{className:"flex items-start gap-2",children:[(0,y.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 256 256",height:"1.2em",width:"1.2em",xmlns:"http://www.w3.org/2000/svg",className:"text-red-600 flex-shrink-0 mt-0.5",children:(0,y.jsx)("path",{d:"M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"})}),(0,y.jsxs)("p",{className:"text-gray-600 text-xs md:text-base leading-relaxed",children:[(0,y.jsx)("span",{className:"font-semibold text-red-600",children:"Vale saber:"})," s\xe3o permitidos arquivos de \xe1udio (mp3, ogg, m4a, .zip ou .rar), de at\xe9 250 MB."]})]}),o&&(0,y.jsxs)("div",{className:"space-y-4 p-5 bg-gradient-to-br from-red-50 to-red-100/50 rounded-xl border-2 border-red-200 shadow-md",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)("div",{className:"animate-pulse",children:(0,y.jsx)("div",{className:"w-3 h-3 bg-red-600 rounded-full"})}),(0,y.jsx)("span",{className:"text-gray-800 font-semibold text-sm",children:"Enviando \xe1lbum..."})]}),(0,y.jsxs)("span",{className:"text-red-600 font-bold text-lg",children:[c,"%"]})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("style",{children:"\n                                                    @keyframes stripes {\n                                                        0% { background-position: 0 0; }\n                                                        100% { background-position: 40px 0; }\n                                                    }\n                                                    .animated-stripes {\n                                                        background-color: #dc2626;\n                                                        background-image: repeating-linear-gradient(\n                                                            45deg,\n                                                            #dc2626,\n                                                            #dc2626 10px,\n                                                            #b91c1c 10px,\n                                                            #b91c1c 20px\n                                                        );\n                                                        background-size: 40px 40px;\n                                                        animation: stripes 1s linear infinite;\n                                                    }\n                                                "}),(0,y.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-6 overflow-hidden shadow-inner",children:(0,y.jsx)("div",{className:"animated-stripes h-full rounded-full transition-all duration-500 ease-out shadow-lg",style:{width:"".concat(c,"%")}})}),(0,y.jsx)("p",{className:"text-lg text-gray-600 font-bold",children:c<100?"\u26a0\ufe0f Por favor, n\xe3o feche esta p\xe1gina":"\u2713 Upload conclu\xeddo!"})]})]})]}),(0,y.jsxs)("div",{className:"flex gap-3 md:gap-4 pt-4 md:pt-6",children:[(0,y.jsx)(nr.$,{type:"button",variant:"outline",onClick:ue,disabled:o||u,className:"flex-1 text-sm md:text-base py-2 md:py-3",children:"Voltar"}),(0,y.jsxs)(nr.$,{type:"submit",disabled:o||u||!x.albumFile,className:"flex-1 bg-red-600 hover:bg-red-700 text-white disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-sm md:text-base py-2 md:py-3 flex items-center justify-center",children:[(0,y.jsx)(Yt,{className:"w-4 md:w-5 h-4 md:h-5 mr-1 md:mr-2 flex-shrink-0"}),(0,y.jsx)("span",{className:"hidden md:inline",children:o?"Enviando ".concat(c,"%..."):u?"Enviado!":"Publicar \xc1lbum"}),(0,y.jsx)("span",{className:"md:hidden",children:o?"".concat(c,"%"):u?"Enviado!":"Publicar"})]})]})]})}),U&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,y.jsx)(ph,{className:"bg-white shadow-lg w-full max-w-2xl mx-auto",children:(0,y.jsxs)("div",{className:"p-6 space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Informa\xe7\xf5es do \xc1lbum"}),(0,y.jsx)("p",{className:"text-sm text-gray-600",children:"Selecione se deseja preencher compositor e ISRC das m\xfasicas"})]}),(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{className:"text-gray-900 font-semibold mb-4 block",children:"COMPOSITOR(A)"}),(0,y.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Selecione se h\xe1 compositor(a) no arquivo."}),(0,y.jsxs)("div",{className:"flex gap-6",children:[(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,y.jsx)("input",{type:"radio",name:"composer",value:"sim",checked:"sim"===T,onChange:e=>R(e.target.value),className:"w-4 h-4 text-red-600"}),(0,y.jsx)("span",{className:"text-gray-700",children:"Sim"})]}),(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,y.jsx)("input",{type:"radio",name:"composer",value:"nao",checked:"nao"===T,onChange:e=>R(e.target.value),className:"w-4 h-4 text-red-600"}),(0,y.jsx)("span",{className:"text-gray-700",children:"N\xe3o"})]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{className:"text-gray-900 font-semibold mb-4 block",children:"ISRC"}),(0,y.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Selecione se as m\xfasicas do \xe1lbum cont\xeam ISRC (International Standard Recording Code - C\xf3digo de Grava\xe7\xe3o Padr\xe3o Internacional)."}),(0,y.jsxs)("div",{className:"flex gap-6",children:[(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,y.jsx)("input",{type:"radio",name:"isrc",value:"sim",checked:"sim"===I,onChange:e=>M(e.target.value),className:"w-4 h-4 text-red-600"}),(0,y.jsx)("span",{className:"text-gray-700",children:"Sim"})]}),(0,y.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,y.jsx)("input",{type:"radio",name:"isrc",value:"nao",checked:"nao"===I,onChange:e=>M(e.target.value),className:"w-4 h-4 text-red-600"}),(0,y.jsx)("span",{className:"text-gray-700",children:"N\xe3o"})]})]})]})]}),(0,y.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,y.jsx)(nr.$,{type:"button",variant:"outline",onClick:()=>q(!1),className:"flex-1",children:"Cancelar"}),(0,y.jsx)(nr.$,{onClick:async()=>{q(!1),he("sim"===T||"sim"===I)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Continuar"})]})]})})}),4===n&&(0,y.jsx)(ph,{className:"bg-white shadow-sm",children:(0,y.jsxs)("div",{className:"p-6 space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Enviado com sucesso!"}),(0,y.jsx)("p",{className:"text-sm text-gray-600",children:"Preencha mais informa\xe7\xf5es sobre as faixas (Compositores, ISRC, linguagem expl\xedcita, etc.)"})]}),(0,y.jsx)("div",{className:"space-y-6",children:L.map((e,t)=>{var r,n;return(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsx)("div",{children:(0,y.jsx)("h3",{className:"text-gray-900 font-semibold text-lg",children:e.name})}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["sim"===T&&(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{htmlFor:"composer-".concat(e.id),className:"text-gray-700 font-semibold mb-2 block",children:"Compositores (opcional)"}),(0,y.jsx)(rr,{id:"composer-".concat(e.id),type:"text",placeholder:"Digite aqui o compositor",value:(null===(r=F[e.id])||void 0===r?void 0:r.composer)||"",onChange:t=>B(r=>(0,N.A)((0,N.A)({},r),{},{[e.id]:(0,N.A)((0,N.A)({},r[e.id]),{},{composer:t.target.value})})),className:"border-gray-300 focus:border-red-500 focus:ring-red-500"})]}),"sim"===I&&(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{htmlFor:"isrc-".concat(e.id),className:"text-gray-700 font-semibold mb-2 block",children:"ISRC (opcional)"}),(0,y.jsx)(rr,{id:"isrc-".concat(e.id),type:"text",placeholder:"Insira o ISRC da faixa",value:(null===(n=F[e.id])||void 0===n?void 0:n.isrc)||"",onChange:t=>B(r=>(0,N.A)((0,N.A)({},r),{},{[e.id]:(0,N.A)((0,N.A)({},r[e.id]),{},{isrc:t.target.value})})),className:"border-gray-300 focus:border-red-500 focus:ring-red-500"})]})]}),t<L.length-1&&(0,y.jsx)("hr",{className:"border-gray-200 mt-6"})]},e.id)})}),(0,y.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,y.jsx)(nr.$,{type:"button",variant:"outline",onClick:ue,disabled:o,className:"flex-1",children:"Voltar"}),(0,y.jsxs)(nr.$,{onClick:()=>he(!1),disabled:o,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[(0,y.jsx)(Yt,{className:"w-5 h-5 mr-2"}),o?"Publicando ".concat(c,"%..."):"Publicar"]})]})]})}),Q&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,y.jsxs)(ph,{className:"bg-white shadow-2xl w-full max-w-lg mx-auto rounded-2xl overflow-hidden",children:[(0,y.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-6 py-5",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,y.jsx)(cc,{className:"w-5 h-5 text-white"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-white",children:"Convidar Colaboradores"}),(0,y.jsx)("p",{className:"text-red-100 text-sm",children:"Busque artistas para colaborar"})]})]}),(0,y.jsx)("button",{onClick:()=>{ee(!1),K(""),G([]),Z(!1)},className:"text-white/80 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-full",children:(0,y.jsx)(St,{className:"w-6 h-6"})})]})}),(0,y.jsxs)("div",{className:"p-6 space-y-4",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsxs)("div",{className:"relative flex items-center",children:[(0,y.jsx)(Ht,{className:"absolute left-4 w-5 h-5 text-gray-400 pointer-events-none"}),(0,y.jsx)(rr,{type:"text",placeholder:"Digite o nome do artista...",value:H,onChange:e=>(async e=>{if(K(e),!e.trim())return G([]),void Z(!1);J(!0),Z(!0);try{const t="http://localhost:8000",r=await fetch("".concat(t,"/api/artists/search?q=").concat(encodeURIComponent(e)));if(r.ok){const e=await r.json();console.log("Artistas encontrados:",e),G(Array.isArray(e)?e:[])}else console.error("Erro na resposta:",r.status),G([])}catch(t){console.error("Erro ao buscar artistas:",t),G([])}finally{J(!1)}})(e.target.value),className:"pl-12 pr-4 py-3 h-12 text-base border-2 border-gray-200 focus:border-red-500 focus:ring-red-500 rounded-xl",autoFocus:!0})]}),X&&(0,y.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl z-20 max-h-80 overflow-y-auto border border-gray-200",children:[Y&&(0,y.jsxs)("div",{className:"p-4 text-center text-sm text-gray-500",children:[(0,y.jsx)("span",{className:"inline-block animate-spin",children:"\u231b"})," Buscando..."]}),!Y&&0===$.length&&H.trim()&&(0,y.jsxs)("div",{className:"p-4 text-center text-sm text-gray-500",children:['Nenhum artista encontrado para "',H,'"']}),!Y&&$.length>0&&(0,y.jsx)("div",{className:"py-2",children:$.map((e,t)=>{const r=e.name.split(" ").slice(0,2).map(e=>e[0]).join("").toUpperCase(),n=["bg-blue-500","bg-purple-500","bg-pink-500","bg-orange-500","bg-green-500","bg-red-500","bg-indigo-500","bg-cyan-500"],a=n[(e.id||"").charCodeAt(0)%n.length],s=V.some(t=>t.id===e.id);return(0,y.jsxs)("button",{type:"button",onClick:()=>{s||(e=>{V.find(t=>t.id===e.id)||(W([...V,(0,N.A)((0,N.A)({},e),{},{status:"pending"})]),setTimeout(()=>{K(""),G([]),Z(!1)},100))})(e)},disabled:s,className:"w-full text-left px-4 py-3 flex items-center gap-3 transition-colors ".concat(s?"opacity-60 cursor-not-allowed bg-gray-50":"hover:bg-gray-50 cursor-pointer"," ").concat(t<$.length-1?"border-b border-gray-100":""),children:[(0,y.jsxs)("div",{className:"relative flex-shrink-0",children:[e.profile_image?(0,y.jsx)("img",{src:e.profile_image,alt:e.name,className:"w-14 h-14 rounded-full object-cover border-2 border-gray-200",onError:e=>{var t;e.target.style.display="none",null===(t=e.target.nextSibling)||void 0===t||t.style.removeProperty("display")}}):null,(0,y.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center flex-shrink-0 ".concat(a," font-bold text-white text-base border-2 border-gray-200 ").concat(e.profile_image?"hidden":""),style:e.profile_image?{display:"none"}:{},children:r})]}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,y.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),e.verified&&(0,y.jsxs)("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#00bcd4"},children:[(0,y.jsx)("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),(0,y.jsx)("path",{d:"m9 12 2 2 4-4"})]})]}),(0,y.jsxs)("div",{className:"space-y-0.5",children:[(0,y.jsxs)("p",{className:"text-xs text-gray-600 truncate",children:["@",e.username||e.name.toLowerCase().replace(/\s+/g,"")]}),(0,y.jsxs)("p",{className:"text-xs font-medium text-gray-700 flex items-center gap-1",children:[(0,y.jsx)("span",{children:"\ud83d\udc65"}),(0,y.jsxs)("span",{children:[(e.followers||0).toLocaleString("pt-BR")," seguidores"]})]})]})]}),s&&(0,y.jsx)("div",{className:"flex-shrink-0 text-xs font-medium text-gray-600 bg-gray-100 px-2 py-1 rounded",children:"Adicionado"})]},e.id)})})]})]}),V.length>0&&(0,y.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,y.jsxs)("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Colaboradores (",V.length,")"]}),(0,y.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:V.map(e=>(0,y.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.profile_image?(0,y.jsx)("img",{src:e.profile_image,alt:e.name,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}):(0,y.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:e.name.charAt(0)}),(0,y.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,y.jsxs)("div",{className:"flex items-center gap-1 mb-0.5",children:[(0,y.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),e.verified&&(0,y.jsxs)("svg",{className:"w-3 h-3 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#00bcd4"},children:[(0,y.jsx)("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),(0,y.jsx)("path",{d:"m9 12 2 2 4-4"})]})]}),(0,y.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700 mt-1",children:[(0,y.jsx)(Jf,{className:"w-3 h-3"}),"Aguardando resposta"]})]})]}),(0,y.jsx)("button",{type:"button",onClick:()=>ie(e.id),className:"text-gray-400 hover:text-red-600 transition-colors flex-shrink-0 ml-2 hover:bg-red-50 p-1 rounded",title:"Remover",children:(0,y.jsx)(St,{className:"w-4 h-4"})})]},e.id))})]}),(0,y.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,y.jsx)(nr.$,{type:"button",variant:"outline",onClick:()=>{ee(!1),setTimeout(()=>{K(""),G([]),Z(!1)},100)},className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,y.jsx)(nr.$,{type:"button",onClick:()=>{ee(!1),setTimeout(()=>{K(""),G([]),Z(!1)},100)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold",children:V.length>0?"Confirmar (".concat(V.length,")"):"Fechar"})]})]})]})}),m&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,y.jsx)(ph,{className:"bg-white shadow-2xl w-full max-w-md mx-auto",children:(0,y.jsxs)("div",{className:"p-8 space-y-6 text-center",children:[(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:(0,y.jsx)(pf,{className:"w-10 h-10 text-green-600"})})}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\xc1lbum Enviado!"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Seu \xe1lbum foi enviado com sucesso e j\xe1 est\xe1 dispon\xedvel na plataforma."})]}),(0,y.jsx)(nr.$,{onClick:()=>{f(!1),b({title:"",description:"",genre:"",tags:[],coverImage:null,youtubeUrl:"",isPublic:!0,publishType:"immediate",scheduleDate:"",scheduleTime:"",releaseDate:"",customUrl:"",albumFile:null}),k(null),O(""),h(!1),d(0),a(1);document.querySelectorAll('input[type="file"]').forEach(e=>e.value=""),r("/artist/albums")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold",children:"OK"})]})})})]})})]})},Zf=(0,_t.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Qf=(0,_t.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ep=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],tp=["__scopeTabs","loop"],rp=["__scopeTabs","value","disabled"],np=["__scopeTabs","value","forceMount","children"];var ap="Tabs",[sp,ip]=I(ap,[es]),op=es(),[lp,cp]=sp(ap),dp=t.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:o,activationMode:l="automatic"}=e,c=(0,_.A)(e,ep),d=sr(o),[u,h]=Ne({prop:n,onChange:a,defaultProp:null!==s&&void 0!==s?s:"",caller:ap});return(0,y.jsx)(lp,{scope:r,baseId:jr(),value:u,onValueChange:h,orientation:i,dir:d,activationMode:l,children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({dir:d,"data-orientation":i},c),{},{ref:t}))})});dp.displayName=ap;var up="TabsList",hp=t.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0}=e,a=(0,_.A)(e,tp),s=cp(up,r),i=op(r);return(0,y.jsx)(cs,(0,N.A)((0,N.A)({asChild:!0},i),{},{orientation:s.orientation,dir:s.dir,loop:n,children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({role:"tablist","aria-orientation":s.orientation},a),{},{ref:t}))}))});hp.displayName=up;var mp="TabsTrigger",fp=t.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1}=e,s=(0,_.A)(e,rp),i=cp(mp,r),o=op(r),l=vp(i.baseId,n),c=xp(i.baseId,n),d=n===i.value;return(0,y.jsx)(ds,(0,N.A)((0,N.A)({asChild:!0},o),{},{focusable:!a,active:d,children:(0,y.jsx)(re.button,(0,N.A)((0,N.A)({type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l},s),{},{ref:t,onMouseDown:A(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(n)}),onKeyDown:A(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(n)}),onFocus:A(e.onFocus,()=>{const e="manual"!==i.activationMode;d||a||!e||i.onValueChange(n)})}))}))});fp.displayName=mp;var pp="TabsContent",gp=t.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i}=e,o=(0,_.A)(e,np),l=cp(pp,n),c=vp(l.baseId,a),d=xp(l.baseId,a),u=a===l.value,h=t.useRef(u);return t.useEffect(()=>{const e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,y.jsx)(be,{present:s||u,children:t=>{let{present:n}=t;return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!n,id:d,tabIndex:0},o),{},{ref:r,style:(0,N.A)((0,N.A)({},e.style),{},{animationDuration:h.current?"0s":void 0}),children:n&&i}))}})});function vp(e,t){return"".concat(e,"-trigger-").concat(t)}function xp(e,t){return"".concat(e,"-content-").concat(t)}gp.displayName=pp;var yp=hp,bp=fp,wp=gp;const jp=["className"],Np=["className"],_p=["className"],Sp=dp,kp=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,jp);return(0,y.jsx)(yp,(0,N.A)({ref:t,className:(0,kt.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r)},n))});kp.displayName=yp.displayName;const Ap=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Np);return(0,y.jsx)(bp,(0,N.A)({ref:t,className:(0,kt.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r)},n))});Ap.displayName=bp.displayName;const Ep=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,_p);return(0,y.jsx)(wp,(0,N.A)({ref:t,className:(0,kt.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r)},n))});Ep.displayName=wp.displayName;var Cp=Symbol("radix.slottable");function Op(e){const t=e=>{let{children:t}=e;return(0,y.jsx)(y.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=Cp,t}const Pp=["__scopeAlertDialog"],Dp=["__scopeAlertDialog"],Tp=["__scopeAlertDialog"],Rp=["__scopeAlertDialog"],Ip=["__scopeAlertDialog","children"],Mp=["__scopeAlertDialog"],Lp=["__scopeAlertDialog"],zp=["__scopeAlertDialog"],Fp=["__scopeAlertDialog"];var Bp="AlertDialog",[Up,qp]=I(Bp,[Dc]),Vp=Dc(),Wp=e=>{const{__scopeAlertDialog:t}=e,r=(0,_.A)(e,Pp),n=Vp(t);return(0,y.jsx)(cd,(0,N.A)((0,N.A)((0,N.A)({},n),r),{},{modal:!0}))};Wp.displayName=Bp;var Hp=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=(0,_.A)(e,Dp),a=Vp(r);return(0,y.jsx)(dd,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});Hp.displayName="AlertDialogTrigger";var Kp=e=>{const{__scopeAlertDialog:t}=e,r=(0,_.A)(e,Tp),n=Vp(t);return(0,y.jsx)(ud,(0,N.A)((0,N.A)({},n),r))};Kp.displayName="AlertDialogPortal";var $p=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=(0,_.A)(e,Rp),a=Vp(r);return(0,y.jsx)(hd,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});$p.displayName="AlertDialogOverlay";var Gp="AlertDialogContent",[Yp,Jp]=Up(Gp),Xp=Op("AlertDialogContent"),Zp=t.forwardRef((e,r)=>{const{__scopeAlertDialog:n,children:a}=e,s=(0,_.A)(e,Ip),i=Vp(n),o=t.useRef(null),l=(0,E.s)(r,o),c=t.useRef(null);return(0,y.jsx)(sd,{contentName:Gp,titleName:Qp,docsSlug:"alert-dialog",children:(0,y.jsx)(Yp,{scope:n,cancelRef:c,children:(0,y.jsxs)(md,(0,N.A)((0,N.A)((0,N.A)({role:"alertdialog"},i),s),{},{ref:l,onOpenAutoFocus:A(s.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=c.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,y.jsx)(Xp,{children:a}),(0,y.jsx)(ig,{contentRef:o})]}))})})});Zp.displayName=Gp;var Qp="AlertDialogTitle",eg=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=(0,_.A)(e,Mp),a=Vp(r);return(0,y.jsx)(fd,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});eg.displayName=Qp;var tg="AlertDialogDescription",rg=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=(0,_.A)(e,Lp),a=Vp(r);return(0,y.jsx)(pd,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});rg.displayName=tg;var ng=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=(0,_.A)(e,zp),a=Vp(r);return(0,y.jsx)(gd,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t}))});ng.displayName="AlertDialogAction";var ag="AlertDialogCancel",sg=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=(0,_.A)(e,Fp),{cancelRef:a}=Jp(ag,r),s=Vp(r),i=(0,E.s)(t,a);return(0,y.jsx)(gd,(0,N.A)((0,N.A)((0,N.A)({},s),n),{},{ref:i}))});sg.displayName=ag;var ig=e=>{let{contentRef:r}=e;const n="`".concat(Gp,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Gp,"` by passing a `").concat(tg,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Gp,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return t.useEffect(()=>{var e;document.getElementById(null===(e=r.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(n)},[n,r]),null},og=$p,lg=Zp,cg=ng,dg=sg,ug=eg,hg=rg;const mg=["className"],fg=["className"],pg=["className"],gg=["className"],vg=["className"],xg=["className"],yg=["className"],bg=["className"],wg=Wp,jg=Kp,Ng=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,mg);return(0,y.jsx)(og,(0,N.A)((0,N.A)({className:(0,kt.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n),{},{ref:t}))});Ng.displayName=og.displayName;const _g=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,fg);return(0,y.jsxs)(jg,{children:[(0,y.jsx)(Ng,{}),(0,y.jsx)(lg,(0,N.A)({ref:t,className:(0,kt.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},n))]})});_g.displayName=lg.displayName;const Sg=e=>{let{className:t}=e,r=(0,_.A)(e,pg);return(0,y.jsx)("div",(0,N.A)({className:(0,kt.cn)("flex flex-col space-y-2 text-center sm:text-left",t)},r))};Sg.displayName="AlertDialogHeader";const kg=e=>{let{className:t}=e,r=(0,_.A)(e,gg);return(0,y.jsx)("div",(0,N.A)({className:(0,kt.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},r))};kg.displayName="AlertDialogFooter";const Ag=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,vg);return(0,y.jsx)(ug,(0,N.A)({ref:t,className:(0,kt.cn)("text-lg font-semibold",r)},n))});Ag.displayName=ug.displayName;const Eg=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,xg);return(0,y.jsx)(hg,(0,N.A)({ref:t,className:(0,kt.cn)("text-sm text-muted-foreground",r)},n))});Eg.displayName=hg.displayName;const Cg=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,yg);return(0,y.jsx)(cg,(0,N.A)({ref:t,className:(0,kt.cn)((0,nr.r)(),r)},n))});Cg.displayName=cg.displayName;const Og=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,bg);return(0,y.jsx)(dg,(0,N.A)({ref:t,className:(0,kt.cn)((0,nr.r)({variant:"outline"}),"mt-2 sm:mt-0",r)},n))});Og.displayName=dg.displayName;const Pg=()=>{const{user:e}=(0,i.A)(),[r,n]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)("published"),[h,m]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),[v,x]=(0,t.useState)(null),[b,w]=(0,t.useState)({title:"",description:"",coverImage:"",releaseDate:""}),[j,_]=(0,t.useState)([]),[k,A]=(0,t.useState)(null),[E,C]=(0,t.useState)(null),[O,P]=(0,t.useState)(!1),D=(0,t.useRef)(null),[T,R]=(0,t.useState)(null),[I,M]=(0,t.useState)(!1),[L,z]=(0,t.useState)({composer:"",isrc:""}),[F,B]=(0,t.useState)([]),[U,q]=(0,t.useState)(!1),[V,W]=(0,t.useState)(null),[H,K]=(0,t.useState)(!1),[$,G]=(0,t.useState)(null);(0,t.useEffect)(()=>{J(),Y()},[null===e||void 0===e?void 0:e.id]);const Y=async()=>{if(null===e||void 0===e||!e.id)return;const{data:t}=await g.ND.from("artists").select("slug").eq("id",e.id).maybeSingle();null!==t&&void 0!==t&&t.slug&&m(t.slug)},J=async()=>{if(null!==e&&void 0!==e&&e.id)try{let{data:t,error:r}=await g.ND.from("albums").select("*").eq("artist_id",e.id).order("release_date",{ascending:!1});if(r&&"PGRST116"===r.code){const n=await g.ND.from("albums").select("*").eq("artist_id",e.id).order("created_at",{ascending:!1});t=n.data,r=n.error}if(r)throw r;const a=new Date,s=[],i=[];(t||[]).forEach(e=>{const t={id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-album.png",songCount:e.song_count||0,releaseYear:e.release_year,releaseDate:e.release_date,genre:e.genre,description:e.description,deletedAt:e.deleted_at};if(e.deleted_at){const r=new Date(e.deleted_at),n=Math.floor((a-r)/864e5);t.daysRemaining=30-n,t.daysRemaining>0&&i.push(t)}else s.push(t)}),n(s),o(i)}catch(t){console.error("Erro ao carregar \xe1lbuns:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel carregar os \xe1lbuns",variant:"destructive"})}finally{c(!1)}else c(!1)},X=function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,y.jsx)(ph,{className:"bg-white shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:(0,y.jsxs)("div",{className:"p-3",children:[(0,y.jsxs)("div",{className:"relative mb-4 group",children:[(0,y.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-full aspect-square object-cover rounded-lg ".concat(r?"opacity-60":"")}),!r&&(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,y.jsx)(s.N_,{to:"/".concat(h||(null===e||void 0===e?void 0:e.id),"/").concat(t.slug||t.id),children:(0,y.jsx)(nr.$,{className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,y.jsx)(Gd,{className:"w-6 h-6 ml-1",fill:"white"})})})}),r&&(0,y.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,y.jsx)(Jf,{className:"w-3 h-3"}),t.daysRemaining," dias"]})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:t.title}),(0,y.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[(0,y.jsxs)("span",{children:[t.songCount," m\xfasicas"]}),(0,y.jsx)("span",{children:t.releaseYear})]}),r?(0,y.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,y.jsxs)(nr.$,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{const{error:t}=await g.ND.from("albums").update({deleted_at:null}).eq("id",e.id);if(t)throw t;(0,S.oR)({title:"\xc1lbum restaurado",description:'"'.concat(e.title,'" foi restaurado com sucesso')}),J()}catch(t){console.error("Erro ao restaurar:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel restaurar o \xe1lbum",variant:"destructive"})}})(t),className:"flex-1 border-green-300 text-green-600 hover:bg-green-50 flex items-center justify-center sm:justify-start",children:[(0,y.jsx)(Zf,{className:"w-4 h-4 sm:mr-1"}),(0,y.jsx)("span",{className:"hidden sm:inline",children:"Restaurar"})]}),(0,y.jsx)(nr.$,{variant:"outline",size:"sm",onClick:()=>{G(t),K(!0)},className:"flex-1 border-red-300 text-red-600 hover:bg-red-50 flex items-center justify-center",children:(0,y.jsx)(uc.A,{className:"w-4 h-4"})})]}):(0,y.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,y.jsxs)(nr.$,{variant:"outline",size:"sm",onClick:()=>(async e=>{x(e),w({title:e.title,description:e.description||"",coverImage:e.coverImage,releaseDate:e.releaseDate||""}),A(null),C(null);const{data:t}=await g.ND.from("songs").select("*").eq("album_id",e.id).order("track_number",{ascending:!0});_(t||[]);const{data:r}=await g.ND.from("collaboration_invites").select("id, invited_user_id, status").eq("album_id",e.id);if(r&&r.length>0){const e=await Promise.all(r.map(async e=>{const{data:t}=await g.ND.from("artists").select("name, avatar_url").eq("id",e.invited_user_id).maybeSingle();return(0,N.A)((0,N.A)({},e),{},{artists:t})}));B(e)}else B([]);p(!0)})(t),className:"flex-1 border-gray-300 text-gray-700",children:[(0,y.jsx)(Qf,{className:"w-4 h-4 mr-1"}),"Editar"]}),(0,y.jsx)(nr.$,{variant:"outline",size:"sm",onClick:()=>{W(t),q(!0)},className:"border-red-300 text-red-600 hover:bg-red-50",children:(0,y.jsx)(uc.A,{className:"w-4 h-4"})})]})]})]})},t.id)};return(0,y.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,y.jsx)("div",{className:"hidden md:block w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,y.jsx)(wf,{})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"max-w-7xl mx-auto p-8 pb-16",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meus \xc1lbuns"}),(0,y.jsx)("p",{className:"text-gray-600",children:l?"Carregando...":"".concat(r.length," \xe1lbuns publicados")})]}),(0,y.jsx)(s.N_,{to:"/artist/upload",children:(0,y.jsxs)(nr.$,{className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,y.jsx)(Eh,{className:"w-5 h-5 mr-2"}),"Novo \xc1lbum"]})})]}),(0,y.jsxs)(Sp,{value:d,onValueChange:u,className:"w-full",children:[(0,y.jsxs)(kp,{className:"mb-6",children:[(0,y.jsxs)(Ap,{value:"published",className:"flex items-center gap-2",children:[(0,y.jsx)(Jt,{className:"w-4 h-4"}),"Publicados (",r.length,")"]}),(0,y.jsxs)(Ap,{value:"trash",className:"flex items-center gap-2",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4"}),"Lixeira (",a.length,")"]})]}),(0,y.jsx)(Ep,{value:"published",children:r.length>0?(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:r.map(e=>X(e,!1))}):(0,y.jsx)(ph,{className:"bg-white shadow-sm",children:(0,y.jsxs)("div",{className:"p-12 text-center",children:[(0,y.jsx)(Jt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum \xe1lbum ainda"}),(0,y.jsx)("p",{className:"text-gray-600 mb-6",children:"Comece a compartilhar sua m\xfasica com o mundo"}),(0,y.jsx)(s.N_,{to:"/artist/upload",children:(0,y.jsxs)(nr.$,{className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,y.jsx)(Eh,{className:"w-5 h-5 mr-2"}),"Fazer Primeiro Upload"]})})]})})}),(0,y.jsx)(Ep,{value:"trash",children:a.length>0?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,y.jsxs)("p",{className:"text-red-800 text-sm",children:[(0,y.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Os \xe1lbuns na lixeira ser\xe3o exclu\xeddos permanentemente ap\xf3s 30 dias. Voc\xea pode restaur\xe1-los a qualquer momento antes disso."]})}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:a.map(e=>X(e,!0))})]}):(0,y.jsx)(ph,{className:"bg-white shadow-sm",children:(0,y.jsxs)("div",{className:"p-12 text-center",children:[(0,y.jsx)(uc.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lixeira vazia"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Nenhum \xe1lbum na lixeira"})]})})})]})]})}),(0,y.jsx)(Nd,{open:f,onOpenChange:p,children:(0,y.jsxs)(kd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,y.jsxs)(Ad,{children:[(0,y.jsx)(Cd,{children:"Editar \xc1lbum"}),(0,y.jsx)(Od,{children:"Altere as informa\xe7\xf5es do \xe1lbum ou remova m\xfasicas"})]}),(0,y.jsxs)("div",{className:"space-y-6 py-4",children:[(0,y.jsxs)("div",{className:"flex gap-6",children:[(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("img",{src:E||b.coverImage,alt:"Capa do \xe1lbum",className:"w-40 h-40 object-cover rounded-lg"}),(0,y.jsx)("input",{type:"file",ref:D,onChange:e=>{const t=e.target.files[0];if(t){A(t);const e=new FileReader;e.onloadend=()=>{C(e.result)},e.readAsDataURL(t)}},accept:"image/*",className:"hidden"}),(0,y.jsx)(nr.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=D.current)||void 0===e?void 0:e.click()},className:"absolute bottom-2 right-2 bg-white/90",children:(0,y.jsx)(Nf,{className:"w-4 h-4"})})]}),(0,y.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"T\xedtulo"}),(0,y.jsx)(rr,{value:b.title,onChange:e=>w((0,N.A)((0,N.A)({},b),{},{title:e.target.value})),className:"mt-1"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),(0,y.jsx)(xf,{value:b.description,onChange:e=>{e.target.value.length<=150&&w((0,N.A)((0,N.A)({},b),{},{description:e.target.value}))},className:"mt-1",rows:3,maxLength:150}),(0,y.jsxs)("p",{className:"text-xs mt-1 ".concat(b.description.length>=150?"text-red-500":"text-gray-500"),children:[b.description.length,"/150 caracteres"]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Data de Lan\xe7amento"}),(0,y.jsx)(rr,{type:"date",value:b.releaseDate,onChange:e=>w((0,N.A)((0,N.A)({},b),{},{releaseDate:e.target.value})),className:"mt-1"})]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)(Md,{className:"w-4 h-4"}),"M\xfasicas do \xc1lbum (",j.length,")"]}),(0,y.jsx)("div",{className:"border rounded-lg divide-y max-h-60 overflow-y-auto",children:j.length>0?j.map((e,t)=>(0,y.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 group",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>(e=>{R(e),z({composer:e.composer||"",isrc:e.isrc||""}),M(!0)})(e),children:[(0,y.jsx)("span",{className:"text-gray-500 w-6 text-center",children:t+1}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"font-medium truncate",children:e.title}),e.composer&&(0,y.jsxs)("p",{className:"text-xs text-gray-500",children:["Compositor: ",e.composer]}),e.isrc&&(0,y.jsxs)("p",{className:"text-xs text-gray-500",children:["ISRC: ",e.isrc]})]})]}),(0,y.jsx)(nr.$,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{const{error:t}=await g.ND.from("songs").delete().eq("id",e);if(t)throw t;_(t=>t.filter(t=>t.id!==e)),await g.ND.from("albums").update({song_count:j.length-1}).eq("id",v.id),(0,S.oR)({title:"M\xfasica removida",description:"A m\xfasica foi removida do \xe1lbum"})}catch(t){console.error("Erro ao remover m\xfasica:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel remover a m\xfasica",variant:"destructive"})}})(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 opacity-0 group-hover:opacity-100",children:(0,y.jsx)(St,{className:"w-4 h-4"})})]},e.id)):(0,y.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma m\xfasica neste \xe1lbum"})})]}),F.length>0&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)(cc,{className:"w-4 h-4"}),"Colaboradores (",F.length,")"]}),(0,y.jsx)("div",{className:"border rounded-lg divide-y max-h-60 overflow-y-auto",children:F.map(e=>{var t,r,n,a,s;return(0,y.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 group",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[null!==(t=e.artists)&&void 0!==t&&t.avatar_url?(0,y.jsx)("img",{src:e.artists.avatar_url,alt:null===(r=e.artists)||void 0===r?void 0:r.name,className:"w-8 h-8 rounded-full object-cover"}):(0,y.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center text-sm font-bold",children:(null===(n=e.artists)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.charAt(0))||"C"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"font-medium truncate",children:(null===(s=e.artists)||void 0===s?void 0:s.name)||"Colaborador"}),(0,y.jsx)("p",{className:"text-xs font-semibold ".concat("pending"===e.status?"text-yellow-600":"text-green-600"),children:"pending"===e.status?"\u23f3 Solicita\xe7\xe3o pendente":"\u2713 Aceito"})]})]}),(0,y.jsx)(nr.$,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{const{error:t}=await g.ND.from("collaboration_invites").delete().eq("id",e);if(t)throw t;B(t=>t.filter(t=>t.id!==e)),(0,S.oR)({title:"Colaborador removido",description:"O colaborador foi removido do \xe1lbum"})}catch(t){console.error("Erro ao remover colaborador:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel remover o colaborador",variant:"destructive"})}})(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 opacity-0 group-hover:opacity-100",children:(0,y.jsx)(St,{className:"w-4 h-4"})})]},e.id)})})]})]}),(0,y.jsxs)(Ed,{children:[(0,y.jsx)(nr.$,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),(0,y.jsx)(nr.$,{onClick:async()=>{if(v){P(!0);try{let e=b.coverImage;if(k){const t=k.name.split(".").pop(),r="albums/".concat(v.id,"/cover_").concat(Date.now(),".").concat(t),{error:n}=await g.ND.storage.from("music").upload(r,k,{upsert:!0});if(n)throw n;const{data:{publicUrl:a}}=g.ND.storage.from("music").getPublicUrl(r);e=a}const{error:t}=await g.ND.from("albums").update({title:b.title,description:b.description,cover_url:e,release_date:b.releaseDate,song_count:j.length}).eq("id",v.id);if(t)throw t;(0,S.oR)({title:"\xc1lbum atualizado",description:"As altera\xe7\xf5es foram salvas com sucesso"}),p(!1),J()}catch(e){console.error("Erro ao salvar:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es",variant:"destructive"})}finally{P(!1)}}},disabled:O,className:"bg-red-600 hover:bg-red-700 text-white",children:O?"Salvando...":"Salvar Altera\xe7\xf5es"})]})]})}),(0,y.jsx)(wg,{open:U,onOpenChange:q,children:(0,y.jsxs)(_g,{children:[(0,y.jsxs)(Sg,{children:[(0,y.jsx)(Ag,{children:"Mover para lixeira?"}),(0,y.jsxs)(Eg,{children:['O \xe1lbum "',null===V||void 0===V?void 0:V.title,'" ser\xe1 movido para a lixeira e ficar\xe1 l\xe1 por 30 dias. Voc\xea pode restaur\xe1-lo a qualquer momento durante esse per\xedodo.']})]}),(0,y.jsxs)(kg,{children:[(0,y.jsx)(Og,{children:"Cancelar"}),(0,y.jsx)(Cg,{onClick:async()=>{if(V)try{const{error:e}=await g.ND.from("albums").update({deleted_at:(new Date).toISOString()}).eq("id",V.id);if(e)throw e;(0,S.oR)({title:"\xc1lbum movido para lixeira",description:'"'.concat(V.title,'" ficar\xe1 na lixeira por 30 dias')}),J()}catch(e){console.error("Erro ao mover para lixeira:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel mover o \xe1lbum para lixeira",variant:"destructive"})}finally{q(!1),W(null)}},className:"bg-red-600 hover:bg-red-700",children:"Mover para Lixeira"})]})]})}),(0,y.jsx)(wg,{open:H,onOpenChange:K,children:(0,y.jsxs)(_g,{children:[(0,y.jsxs)(Sg,{children:[(0,y.jsx)(Ag,{children:"Excluir permanentemente?"}),(0,y.jsxs)(Eg,{children:['O \xe1lbum "',null===$||void 0===$?void 0:$.title,'" e todas as suas m\xfasicas ser\xe3o exclu\xeddos permanentemente. Esta a\xe7\xe3o n\xe3o pode ser desfeita.']})]}),(0,y.jsxs)(kg,{children:[(0,y.jsx)(Og,{children:"Cancelar"}),(0,y.jsx)(Cg,{onClick:async()=>{if($)try{await g.ND.from("songs").delete().eq("album_id",$.id);const{error:e}=await g.ND.from("albums").delete().eq("id",$.id);if(e)throw e;(0,S.oR)({title:"\xc1lbum exclu\xeddo permanentemente",description:'"'.concat($.title,'" foi exclu\xeddo')}),J()}catch(e){console.error("Erro ao excluir:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel excluir o \xe1lbum",variant:"destructive"})}finally{K(!1),G(null)}},className:"bg-red-600 hover:bg-red-700",children:"Excluir Permanentemente"})]})]})}),(0,y.jsx)(Nd,{open:I,onOpenChange:M,children:(0,y.jsxs)(kd,{className:"max-w-md",children:[(0,y.jsxs)(Ad,{children:[(0,y.jsx)(Cd,{children:"Editar M\xfasica"}),(0,y.jsx)(Od,{children:null===T||void 0===T?void 0:T.title})]}),(0,y.jsxs)("div",{className:"space-y-4 py-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Compositor"}),(0,y.jsx)(rr,{value:L.composer,onChange:e=>z((0,N.A)((0,N.A)({},L),{},{composer:e.target.value})),placeholder:"Nome do compositor",className:"mt-1"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"ISRC"}),(0,y.jsx)(rr,{value:L.isrc,onChange:e=>z((0,N.A)((0,N.A)({},L),{},{isrc:e.target.value})),placeholder:"International Standard Recording Code",className:"mt-1"})]})]}),(0,y.jsxs)(Ed,{children:[(0,y.jsx)(nr.$,{variant:"outline",onClick:()=>M(!1),children:"Cancelar"}),(0,y.jsx)(nr.$,{onClick:async()=>{if(T)try{const{error:e}=await g.ND.from("songs").update({composer:L.composer,isrc:L.isrc}).eq("id",T.id);if(e)throw e;_(e=>e.map(e=>e.id===T.id?(0,N.A)((0,N.A)({},e),{},{composer:L.composer,isrc:L.isrc}):e)),(0,S.oR)({title:"M\xfasica atualizada",description:"As informa\xe7\xf5es da m\xfasica foram salvas"}),M(!1)}catch(e){console.error("Erro ao salvar m\xfasica:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as informa\xe7\xf5es da m\xfasica",variant:"destructive"})}},className:"bg-red-600 hover:bg-red-700 text-white",children:"Salvar"})]})]})})]})},Dg=()=>{const{user:e}=(0,i.A)(),[r,n]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)("recent"),[u,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)("create"),[p,v]=(0,t.useState)({title:"",description:"",isPrivate:!1,coverImage:null}),[x,b]=(0,t.useState)(null),[w,j]=(0,t.useState)(!1),_=(0,t.useRef)(null),[k,A]=(0,t.useState)(!1),[E,C]=(0,t.useState)(null),[O,P]=(0,t.useState)(""),[D,T]=(0,t.useState)([]),[R,I]=(0,t.useState)([]),[M,L]=(0,t.useState)(!1),[z,F]=(0,t.useState)([]),[B,U]=(0,t.useState)(null),[q,V]=(0,t.useState)(!1),[W,H]=(0,t.useState)(null),[K,$]=(0,t.useState)({title:"",description:"",isPrivate:!1}),[G,Y]=(0,t.useState)(null),[J,X]=(0,t.useState)(null),[Z,Q]=(0,t.useState)(!1),ee=(0,t.useRef)(null),[te,re]=(0,t.useState)([]),[ne,ae]=(0,t.useState)(!1),[se,ie]=(0,t.useState)(null);(0,t.useEffect)(()=>{oe(),le()},[null===e||void 0===e?void 0:e.id]);const oe=async()=>{if(null!==e&&void 0!==e&&e.id){s(!0);try{let t=g.ND.from("playlists").select("*").eq("user_id",e.id);"recent"===c?t=t.order("created_at",{ascending:!1}):"oldest"===c?t=t.order("created_at",{ascending:!0}):"played"===c&&(t=t.order("play_count",{ascending:!1}));const{data:r,error:a}=await t;if(a)throw a;n(r||[])}catch(t){console.error("Erro ao carregar playlists:",t)}finally{s(!1)}}},le=async()=>{try{const{data:e}=await g.ND.from("albums").select("id, title, artist_name, cover_url").order("created_at",{ascending:!1}).limit(10);T(e||[])}catch(e){console.error("Erro ao carregar \xe1lbuns recentes:",e)}},ce=async e=>{U(e);try{const{data:t}=await g.ND.from("songs").select("id, title, artist_name, cover_url").eq("album_id",e.id).order("track_number",{ascending:!0});F(t||[])}catch(t){console.error("Erro ao carregar m\xfasicas do \xe1lbum:",t)}},de=r.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())),ue=async(e,t)=>{if(t&&t.stopPropagation(),H(e),$({title:e.title,description:e.description||"",isPrivate:!e.is_public}),X(e.cover_url),Y(null),V(!0),e.song_ids&&e.song_ids.length>0){const{data:t}=await g.ND.from("songs").select("id, title, artist_name, cover_url").in("id",e.song_ids);if(t){const r=e.song_ids.map(e=>t.find(t=>t.id===e)).filter(Boolean);re(r)}}else re([])};return a?(0,y.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})}):(0,y.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,y.jsx)("div",{className:"hidden md:block w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,y.jsx)(wf,{})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,y.jsx)("div",{className:"mb-6",children:(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(Qt,{className:"w-8 h-8 text-red-600"}),(0,y.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Minhas Playlists"})]})}),(0,y.jsx)("div",{className:"flex justify-center mb-8",children:(0,y.jsxs)(nr.$,{onClick:()=>h(!0),className:"bg-red-600 hover:bg-red-700 text-white rounded-full px-8 py-3",children:[(0,y.jsx)(Eh,{className:"w-5 h-5 mr-2"}),"Nova playlist"]})}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6 gap-4",children:[(0,y.jsxs)("div",{className:"flex-1 relative",children:[(0,y.jsx)(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,y.jsx)(rr,{type:"text",placeholder:"Buscar Playlists",value:o,onChange:e=>l(e.target.value),className:"pl-10 rounded-full border-gray-300"})]}),(0,y.jsxs)(ac,{modal:!1,children:[(0,y.jsxs)(sc,{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors whitespace-nowrap",children:[(0,y.jsx)(Th,{className:"w-4 h-4"}),"Filtros",(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),(0,y.jsx)(oc,{align:"end",className:"bg-white",children:[{value:"recent",label:"MAIS RECENTES"},{value:"played",label:"MAIS OUVIDAS"},{value:"oldest",label:"MAIS ANTIGOS"}].map(e=>(0,y.jsx)(lc,{onClick:()=>{d(e.value),oe()},className:"cursor-pointer ".concat(c===e.value?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.value))})]})]}),a?(0,y.jsx)("div",{className:"flex justify-center py-12",children:(0,y.jsx)(mc,{className:"w-8 h-8 animate-spin text-gray-400"})}):0===de.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Md,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum Resultado encontrado"})]}):(0,y.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:de.map(e=>(0,y.jsx)(ph,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>ue(e),children:(0,y.jsxs)("div",{className:"flex items-center gap-4",children:[(0,y.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-16 h-16 rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.title}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.song_ids||[]).length," m\xfasicas"]}),!e.is_public&&(0,y.jsx)("span",{className:"text-xs text-red-500",children:"Privada"})]}),(0,y.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,y.jsx)(nr.$,{variant:"outline",size:"icon",onClick:t=>ue(e,t),className:"h-8 w-8 border-gray-300 text-gray-600 hover:bg-gray-50",children:(0,y.jsx)(Qf,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{variant:"outline",size:"icon",onClick:t=>{t.stopPropagation(),ie(e),ae(!0)},className:"h-8 w-8 border-red-300 text-red-600 hover:bg-red-50",children:(0,y.jsx)(uc.A,{className:"w-4 h-4"})})]})]})},e.id))})]})}),(0,y.jsx)(Nd,{open:u,onOpenChange:h,children:(0,y.jsxs)(kd,{className:"max-w-lg",children:[(0,y.jsx)(Ad,{children:(0,y.jsxs)("div",{className:"flex gap-8 border-b pb-2",children:[(0,y.jsx)("button",{onClick:()=>f("list"),className:"font-medium ".concat("list"===m?"text-gray-900":"text-gray-400"),children:"MINHAS PLAYLISTS"}),(0,y.jsx)("button",{onClick:()=>f("create"),className:"font-medium ".concat("create"===m?"text-red-600":"text-gray-400"),children:"CRIAR PLAYLIST"})]})}),"create"===m?(0,y.jsxs)("div",{className:"py-4",children:[(0,y.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,y.jsxs)("div",{onClick:()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 bg-red-500 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-red-600 transition-colors flex-shrink-0",children:[x?(0,y.jsx)("img",{src:x,alt:"Capa",className:"w-full h-full object-cover rounded-lg"}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Md,{className:"w-10 h-10 text-white mb-2"}),(0,y.jsx)("span",{className:"text-white text-xs text-center px-2",children:"Adicionar capa da playlist"})]}),(0,y.jsx)("input",{ref:_,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){v((0,N.A)((0,N.A)({},p),{},{coverImage:t}));const e=new FileReader;e.onloadend=()=>b(e.result),e.readAsDataURL(t)}},className:"hidden"})]}),(0,y.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,y.jsx)(rr,{placeholder:"T\xedtulo da playlist",value:p.title,onChange:e=>v((0,N.A)((0,N.A)({},p),{},{title:e.target.value})),maxLength:100}),(0,y.jsxs)("p",{className:"text-xs text-gray-500",children:["M\xednimo e m\xe1ximo de caracteres permitidos: 5 a 100",(0,y.jsx)("br",{}),"Caracteres especiais permitidos: _ # & ( ) [ ]"]}),(0,y.jsx)(xf,{placeholder:"Descri\xe7\xe3o",value:p.description,onChange:e=>v((0,N.A)((0,N.A)({},p),{},{description:e.target.value})),rows:3,className:"bg-gray-100 border-0"})]})]}),(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Tamanho m\xe1ximo da imagem 500x500 px."}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Carregue apenas imagens pr\xf3prias ou sobre as quais voc\xea legalmente det\xe9m os direitos."})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,y.jsx)("span",{className:"text-gray-700",children:"Tornar a playlist privada?"}),(0,y.jsx)("button",{onClick:()=>v((0,N.A)((0,N.A)({},p),{},{isPrivate:!p.isPrivate})),className:"w-12 h-6 rounded-full transition-colors ".concat(p.isPrivate?"bg-red-600":"bg-gray-300"),children:(0,y.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform ".concat(p.isPrivate?"translate-x-6":"translate-x-0.5")})})]}),(0,y.jsx)("div",{className:"flex justify-end",children:(0,y.jsxs)(nr.$,{onClick:async()=>{if(!p.title||p.title.length<5)(0,S.oR)({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{j(!0);try{let t=null;if(p.coverImage){const r=p.coverImage.name.split(".").pop(),n="playlists/".concat(e.id,"/").concat(Date.now(),".").concat(r),{error:a}=await g.ND.storage.from("music").upload(n,p.coverImage,{upsert:!0});if(!a){const{data:{publicUrl:e}}=g.ND.storage.from("music").getPublicUrl(n);t=e}}const a=(e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())(p.title),{data:s,error:i}=await g.ND.from("playlists").insert({user_id:e.id,slug:a,title:p.title,description:p.description,cover_url:t,is_public:!p.isPrivate,song_ids:[],play_count:0}).select().single();if(i)throw console.error("Erro ao criar playlist:",i),i;(0,S.oR)({title:"Playlist criada!",description:'"'.concat(p.title,'" foi criada com sucesso')}),n([s,...r]),h(!1),v({title:"",description:"",isPrivate:!1,coverImage:null}),b(null),C(s),A(!0)}catch(t){console.error("Erro ao criar playlist:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel criar a playlist",variant:"destructive"})}finally{j(!1)}}},disabled:w,className:"bg-red-600 hover:bg-red-700 text-white px-8",children:[w?(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin mr-2"}):null,"CRIAR PLAYLIST"]})})]}):(0,y.jsx)("div",{className:"py-4 max-h-96 overflow-y-auto",children:0===r.length?(0,y.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma playlist criada"}):r.map(e=>(0,y.jsxs)("div",{onClick:()=>{C(e),h(!1),A(!0)},className:"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer",children:[(0,y.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-12 h-12 rounded object-cover"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-medium",children:e.title}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.song_ids||[]).length," m\xfasicas"]})]})]},e.id))})]})}),(0,y.jsx)(Nd,{open:k,onOpenChange:A,children:(0,y.jsxs)(kd,{className:"max-w-md bg-zinc-900 text-white border-zinc-800",children:[(0,y.jsx)(Ad,{children:(0,y.jsxs)(Cd,{className:"text-white flex items-center gap-2",children:[(0,y.jsx)("button",{onClick:()=>{B?(U(null),F([])):A(!1)},children:"\u2190"}),B?B.title:"Adicionar a esta playlist"]})}),(0,y.jsxs)("div",{className:"relative mb-4",children:[(0,y.jsx)(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,y.jsx)(rr,{placeholder:"Buscar",value:O,onChange:e=>{P(e.target.value),(async e=>{if(!e||e.length<2)I([]);else{L(!0);try{const{data:t}=await g.ND.from("albums").select("id, title, artist_name, cover_url").ilike("title","%".concat(e,"%")).limit(10);I(t||[])}catch(t){console.error("Erro na busca:",t)}finally{L(!1)}}})(e.target.value)},className:"pl-10 bg-zinc-800 border-zinc-700 text-white placeholder-gray-400"})]}),(0,y.jsx)("div",{className:"max-h-96 overflow-y-auto",children:B?(0,y.jsx)("div",{className:"space-y-2",children:z.map(e=>(0,y.jsxs)("div",{className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded",children:[(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,y.jsx)("button",{onClick:()=>(async e=>{if(E)try{const t=E.song_ids||[];if(t.includes(e.id))return void(0,S.oR)({title:"M\xfasica j\xe1 adicionada",description:"Esta m\xfasica j\xe1 est\xe1 na playlist"});const a=[...t,e.id],{error:s}=await g.ND.from("playlists").update({song_ids:a}).eq("id",E.id);if(s)throw s;const i=(0,N.A)((0,N.A)({},E),{},{song_ids:a});C(i),H(i),n(r.map(e=>e.id===E.id?(0,N.A)((0,N.A)({},e),{},{song_ids:a}):e)),re([...te,{id:e.id,title:e.title,artist_name:e.artist_name,cover_url:e.cover_url}]),(0,S.oR)({title:"M\xfasica adicionada!",description:'"'.concat(e.title,'" foi adicionada \xe0 playlist')})}catch(t){console.error("Erro ao adicionar m\xfasica:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel adicionar a m\xfasica",variant:"destructive"})}})(e),className:"w-8 h-8 rounded-full border border-gray-500 flex items-center justify-center hover:bg-zinc-700",children:(0,y.jsx)(Eh,{className:"w-4 h-4"})})]},e.id))}):O&&R.length>0?(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("p",{className:"text-xs text-gray-400 uppercase mb-2",children:"\xc1lbuns encontrados"}),R.map(e=>(0,y.jsxs)("div",{onClick:()=>ce(e),className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded cursor-pointer",children:[(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,y.jsx)(Wt,{className:"w-4 h-4 -rotate-90"})]},e.id))]}):(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("p",{className:"text-xs text-gray-400 uppercase mb-2",children:"\xc1lbuns recentes"}),D.map(e=>(0,y.jsxs)("div",{onClick:()=>ce(e),className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded cursor-pointer",children:[(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,y.jsx)(Wt,{className:"w-4 h-4 -rotate-90 text-gray-400"})]},e.id)),0===D.length&&(0,y.jsxs)("div",{className:"text-center py-8",children:[(0,y.jsx)(Md,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),(0,y.jsx)("p",{className:"text-gray-400 font-semibold mb-1",children:"Adicione m\xfasicas a esta playlist"}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Clique na op\xe7\xe3o 'Criar/Adicionar' e adicione a m\xfasica ou um CD as playlists."})]})]})})]})}),(0,y.jsx)(Nd,{open:q,onOpenChange:V,children:(0,y.jsxs)(kd,{className:"max-w-lg",children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Editar Playlist"})}),(0,y.jsxs)("div",{className:"py-4",children:[(0,y.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,y.jsxs)("div",{onClick:()=>{var e;return null===(e=ee.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 bg-red-500 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-red-600 transition-colors flex-shrink-0 overflow-hidden",children:[J?(0,y.jsx)("img",{src:J,alt:"Capa",className:"w-full h-full object-cover"}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Md,{className:"w-10 h-10 text-white mb-2"}),(0,y.jsx)("span",{className:"text-white text-xs text-center px-2",children:"Alterar capa"})]}),(0,y.jsx)("input",{ref:ee,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){Y(t);const e=new FileReader;e.onloadend=()=>X(e.result),e.readAsDataURL(t)}},className:"hidden"})]}),(0,y.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,y.jsx)(rr,{placeholder:"T\xedtulo da playlist",value:K.title,onChange:e=>$((0,N.A)((0,N.A)({},K),{},{title:e.target.value})),maxLength:100}),(0,y.jsx)(xf,{placeholder:"Descri\xe7\xe3o",value:K.description,onChange:e=>$((0,N.A)((0,N.A)({},K),{},{description:e.target.value})),rows:3,className:"bg-gray-100 border-0"})]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,y.jsx)("span",{className:"text-gray-700",children:"Tornar a playlist privada?"}),(0,y.jsx)("button",{onClick:()=>$((0,N.A)((0,N.A)({},K),{},{isPrivate:!K.isPrivate})),className:"w-12 h-6 rounded-full transition-colors ".concat(K.isPrivate?"bg-red-600":"bg-gray-300"),children:(0,y.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform ".concat(K.isPrivate?"translate-x-6":"translate-x-0.5")})})]}),(0,y.jsxs)(nr.$,{onClick:()=>{C(W),A(!0)},variant:"outline",className:"w-full mb-4 border-dashed border-2",children:[(0,y.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Adicionar m\xfasicas \xe0 playlist"]}),te.length>0&&(0,y.jsx)("div",{className:"border rounded-lg max-h-48 overflow-y-auto mb-4",children:te.map((e,t)=>(0,y.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b last:border-0 hover:bg-gray-50",children:[(0,y.jsxs)("span",{className:"text-gray-500 text-sm w-6",children:[t+1,"."]}),(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"font-medium text-sm truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.artist_name})]}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if(W)try{const t=(W.song_ids||[]).filter(t=>t!==e),{error:a}=await g.ND.from("playlists").update({song_ids:t}).eq("id",W.id);if(a)throw a;H((0,N.A)((0,N.A)({},W),{},{song_ids:t})),re(te.filter(t=>t.id!==e)),n(r.map(e=>e.id===W.id?(0,N.A)((0,N.A)({},e),{},{song_ids:t}):e)),(0,S.oR)({title:"M\xfasica removida",description:"A m\xfasica foi removida da playlist"})}catch(t){console.error("Erro ao remover m\xfasica:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel remover a m\xfasica",variant:"destructive"})}})(e.id),className:"h-8 w-8 text-gray-400 hover:text-red-600",children:(0,y.jsx)(St,{className:"w-4 h-4"})})]},e.id))}),(0,y.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,y.jsx)(nr.$,{variant:"outline",onClick:()=>V(!1),children:"Cancelar"}),(0,y.jsxs)(nr.$,{onClick:async()=>{if(!K.title||K.title.length<5)(0,S.oR)({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{Q(!0);try{let t=W.cover_url;if(G){const r=G.name.split(".").pop(),n="playlists/".concat(e.id,"/").concat(Date.now(),".").concat(r),{error:a}=await g.ND.storage.from("music").upload(n,G,{upsert:!0});if(!a){const{data:{publicUrl:e}}=g.ND.storage.from("music").getPublicUrl(n);t=e}}const{error:a}=await g.ND.from("playlists").update({title:K.title,description:K.description,cover_url:t,is_public:!K.isPrivate}).eq("id",W.id);if(a)throw a;(0,S.oR)({title:"Playlist atualizada!",description:'"'.concat(K.title,'" foi atualizada')}),n(r.map(e=>e.id===W.id?(0,N.A)((0,N.A)({},e),{},{title:K.title,description:K.description,cover_url:t,is_public:!K.isPrivate}):e)),V(!1)}catch(t){console.error("Erro ao atualizar:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar a playlist",variant:"destructive"})}finally{Q(!1)}}},disabled:Z,className:"bg-red-600 hover:bg-red-700 text-white",children:[Z?(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin mr-2"}):null,"Salvar"]})]})]})]})}),(0,y.jsx)(Nd,{open:ne,onOpenChange:ae,children:(0,y.jsxs)(kd,{className:"max-w-sm",children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Excluir Playlist"})}),(0,y.jsxs)("p",{className:"text-gray-600 py-4",children:['Tem certeza que deseja excluir a playlist "',(0,y.jsx)("span",{className:"font-semibold",children:null===se||void 0===se?void 0:se.title}),'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.']}),(0,y.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,y.jsx)(nr.$,{variant:"outline",onClick:()=>ae(!1),children:"Cancelar"}),(0,y.jsx)(nr.$,{onClick:async()=>{if(se)try{const{error:e}=await g.ND.from("playlists").delete().eq("id",se.id);if(e)throw e;(0,S.oR)({title:"Playlist exclu\xedda",description:'"'.concat(se.title,'" foi exclu\xedda')}),n(r.filter(e=>e.id!==se.id)),ae(!1),ie(null)}catch(e){console.error("Erro ao excluir:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel excluir a playlist",variant:"destructive"})}},className:"bg-red-600 hover:bg-red-700 text-white",children:"Excluir"})]})]})})]})},Tg=e=>{var t,r,n,a,o,l;let{song:c,onRemove:d,onPlay:u}=e;const{user:h}=(0,i.A)(),m=(0,s.Zp)(),{isFavorite:f,toggleFavorite:p}=Ku(null===c||void 0===c?void 0:c.id),g=e=>{e.stopPropagation(),null===u||void 0===u||u(c)},v=e=>{var t,r,n;e.stopPropagation();const a=(null===(t=c.songs)||void 0===t||null===(r=t.artist)||void 0===r?void 0:r.slug)||(null===(n=c.songs)||void 0===n?void 0:n.artist_id);m("/".concat(a))};return(0,y.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-gray-100 transition-colors rounded-md mb-2 group cursor-pointer",children:[(0,y.jsx)("img",{src:(null===(t=c.songs)||void 0===t?void 0:t.cover_url)||"/placeholder-album.jpg",alt:null===(r=c.songs)||void 0===r?void 0:r.title,className:"w-16 h-16 rounded object-cover flex-shrink-0 cursor-pointer",onClick:g}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-red-600 font-semibold truncate text-sm cursor-pointer hover:text-red-700",onClick:g,children:null===(n=c.songs)||void 0===n?void 0:n.title}),(0,y.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:v,children:[(0,y.jsx)("p",{className:"text-gray-600 text-sm truncate hover:text-gray-900",children:null===(a=c.songs)||void 0===a?void 0:a.artist_name}),(null===(o=c.songs)||void 0===o||null===(l=o.artist)||void 0===l?void 0:l.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0 hover:text-blue-600"})]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",className:"transition-all hover:scale-110 p-2",title:"Favorito",children:(0,y.jsx)(Zt,{className:"w-5 h-5 fill-red-600 text-red-600"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",className:"transition-all hover:scale-110 p-2",onClick:e=>{e.stopPropagation(),h?null===u||void 0===u||u(c):(0,S.oR)({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar \xe0 playlist"})},title:"Adicionar \xe0 playlist",children:(0,y.jsx)(Eh,{className:"w-5 h-5 text-gray-700"})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",className:"transition-all hover:scale-110 p-2",onClick:v,title:"Perfil do artista",children:(0,y.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 24 24",children:(0,y.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",className:"transition-all hover:scale-110 p-2 opacity-0 group-hover:opacity-100",onClick:async e=>{e.stopPropagation(),await(null===d||void 0===d?void 0:d(c.song_id||c.songId))},title:"Remover dos favoritos",children:(0,y.jsx)(uc.A,{className:"w-5 h-5 text-gray-700"})})]})]})},Rg=()=>{const{user:e}=(0,i.A)(),r=(0,s.Zp)(),{playSong:n}=w(),[a,o]=(0,t.useState)("musicas"),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)("recent"),[h,m]=(0,t.useState)("recent"),[f,p]=(0,t.useState)(!0),[v,x]=(0,t.useState)({musicas:[],albums:[],playlists:[]});(0,t.useEffect)(()=>{b()},[null===e||void 0===e?void 0:e.id]);const b=async()=>{if(null!==e&&void 0!==e&&e.id)try{var t;p(!0);let r=null;const{data:n}=await g.ND.from("music_favorites").select("\n           music_id,\n           created_at,\n           songs:music_id (\n             id,\n             title,\n             artist_name,\n             cover_url,\n             duration,\n             artist_id,\n             album_id,\n             plays,\n             audio_url,\n             artist:artist_id (\n               id,\n               is_verified,\n               slug\n             )\n           )\n         ").eq("user_id",e.id).order("created_at",{ascending:!1});if(n&&n.length>0)r=n.map(e=>({song_id:e.music_id,created_at:e.created_at,songs:e.songs}));else{const{data:t}=await g.ND.from("favorites").select("\n            songId,\n            createdAt,\n            songs:songId (\n              id,\n              title,\n              artist_name,\n              cover_url,\n              duration,\n              artist_id,\n              album_id,\n              plays,\n              audio_url,\n              artist:artist_id (\n                id,\n                is_verified,\n                slug\n              )\n            )\n          ").eq("userId",e.id).order("createdAt",{ascending:!1});r=t&&t.length>0?t.map(e=>({song_id:e.songId,created_at:e.createdAt,songs:e.songs})):[]}let a=null;const{data:s}=await g.ND.from("album_favorites").select("album_id").eq("user_id",e.id);if(s&&s.length>0)a=s;else{const{data:t}=await g.ND.from("album_favorites").select("albumId").eq("userId",e.id);a=t}const i=(null===(t=a)||void 0===t?void 0:t.map(e=>e.album_id||e.albumId))||[];let o=[];if(i.length>0){const{data:e}=await g.ND.from("albums").select("\n            *,\n            artist:artist_id (\n              id,\n              slug,\n              is_verified\n            )\n          ").in("id",i).order("created_at",{ascending:!1});o=e||[]}let l=null;const{data:c}=await g.ND.from("playlist_favorites").select("playlist_id").eq("user_id",e.id).order("created_at",{ascending:!1});let d=[];if(c&&c.length>0)d=c.map(e=>e.playlist_id);else{const{data:t}=await g.ND.from("playlist_favorites").select("playlistId").eq("userId",e.id).order("createdAt",{ascending:!1});t&&t.length>0&&(d=t.map(e=>e.playlistId))}if(d.length>0){const{data:e}=await g.ND.from("playlists").select("\n            id, \n            user_id, \n            slug, \n            title, \n            description, \n            cover_url, \n            is_public, \n            song_ids, \n            play_count, \n            created_at, \n            updated_at\n          ").in("id",d).order("created_at",{ascending:!1});l=e||[]}else l=[];x({musicas:r||[],albums:o,playlists:l||[]})}catch(r){console.error("Erro ao carregar favoritos:",r),(0,S.oR)({title:"Erro",description:"Erro ao carregar favoritos",variant:"destructive"})}finally{p(!1)}else p(!1)},j=async(t,r)=>{try{if(console.log("Removing ".concat(t," favorite:"),r),"musica"===t){let t=null;const{error:n}=await g.ND.from("music_favorites").delete().eq("user_id",e.id).eq("music_id",r);if(n){console.log("music_favorites delete error, trying old table:",n);const{error:a}=await g.ND.from("favorites").delete().eq("userId",e.id).eq("songId",r);t=a}if(t)throw t;x(e=>(0,N.A)((0,N.A)({},e),{},{musicas:e.musicas.filter(e=>(e.song_id||e.songId)!==r)})),(0,S.oR)({title:"Sucesso",description:"M\xfasica removida dos favoritos"})}else if("album"===t){let t=null;const{error:n}=await g.ND.from("album_favorites").delete().eq("user_id",e.id).eq("album_id",r);if(n){console.log("album_favorites snake_case delete error, trying camelCase:",n);const{error:a}=await g.ND.from("album_favorites").delete().eq("userId",e.id).eq("albumId",r);t=a}if(t)throw t;x(e=>(0,N.A)((0,N.A)({},e),{},{albums:e.albums.filter(e=>e.id!==r)})),(0,S.oR)({title:"Sucesso",description:"\xc1lbum removido dos favoritos"})}else if("playlist"===t){const{error:t}=await g.ND.from("playlist_favorites").delete().eq("user_id",e.id).eq("playlist_id",r);if(t)throw t;x(e=>(0,N.A)((0,N.A)({},e),{},{playlists:e.playlists.filter(e=>e.id!==r)})),(0,S.oR)({title:"Sucesso",description:"Playlist removida dos favoritos"})}}catch(n){console.error("Error removing favorite:",n),(0,S.oR)({title:"Erro",description:n.message||"Erro ao remover dos favoritos",variant:"destructive"})}},_=(e,t)=>e.filter(e=>{const r=l.toLowerCase();if("songs"===t){const t=e.songs;return(null===t||void 0===t?void 0:t.title.toLowerCase().includes(r))||(null===t||void 0===t?void 0:t.artist_name.toLowerCase().includes(r))}var n,a,s;return"albums"===t?(null===(n=e.title)||void 0===n?void 0:n.toLowerCase().includes(r))||(null===(a=e.artist_name)||void 0===a?void 0:a.toLowerCase().includes(r)):"playlists"!==t||(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(r))}),k=(e,t)=>{var r;const n=[...e];return"plays"===t?null!==(r=e[0])&&void 0!==r&&r.songs?n.sort((e,t)=>{var r,n;return((null===(r=t.songs)||void 0===r?void 0:r.plays)||0)-((null===(n=e.songs)||void 0===n?void 0:n.plays)||0)}):n.sort((e,t)=>(t.play_count||0)-(e.play_count||0)):n.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))},A=_(v.musicas,"songs"),E=_(v.albums,"albums"),C=_(v.playlists,"playlists"),O=k(A,d),P=k(E,h);return f?(0,y.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})}):(0,y.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,y.jsx)("div",{className:"hidden md:block w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,y.jsx)(wf,{})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[(0,y.jsxs)("div",{className:"mb-8",children:[(0,y.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[(0,y.jsx)(Zt,{className:"w-8 h-8 text-red-600 fill-red-600"}),"Favoritos"]}),(0,y.jsx)("p",{className:"text-gray-600",children:"Suas m\xfasicas, \xe1lbuns e playlists favoritas"})]}),(0,y.jsxs)("div",{className:"flex gap-8 mb-8 border-b border-gray-300",children:[(0,y.jsxs)("button",{onClick:()=>o("musicas"),className:"pb-4 font-semibold text-lg ".concat("musicas"===a?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["M\xdaSICAS (",A.length,")"]}),(0,y.jsxs)("button",{onClick:()=>o("albums"),className:"pb-4 font-semibold text-lg ".concat("albums"===a?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["\xc1LBUNS (",E.length,")"]}),(0,y.jsxs)("button",{onClick:()=>o("playlists"),className:"pb-4 font-semibold text-lg ".concat("playlists"===a?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["PLAYLISTS (",C.length,")"]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-8 gap-4",children:[(0,y.jsxs)("div",{className:"flex-1 relative",children:[(0,y.jsx)(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,y.jsx)(rr,{type:"text",placeholder:"musicas"===a?"Buscar M\xfasicas":"albums"===a?"Buscar \xc1lbuns":"Buscar Playlists",value:l,onChange:e=>c(e.target.value),className:"pl-10 rounded-full border-gray-300"})]}),("musicas"===a||"albums"===a)&&(0,y.jsxs)(ac,{modal:!1,children:[(0,y.jsxs)(sc,{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors whitespace-nowrap",children:[(0,y.jsx)(Th,{className:"w-4 h-4"}),"Filtros",(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),(0,y.jsx)(oc,{align:"end",className:"bg-white",children:[{id:"recent",label:"MAIS RECENTES"},{id:"plays",label:"MAIS OUVIDAS"}].map(e=>(0,y.jsx)(lc,{onClick:()=>{"musicas"===a?u(e.id):m(e.id)},className:"cursor-pointer ".concat(("musicas"===a?d:h)===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),f?(0,y.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsxs)("div",{children:["musicas"===a&&(0,y.jsx)("div",{children:0===O.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Md,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 text-lg",children:l?"Nenhuma m\xfasica encontrada":"Nenhuma m\xfasica favorita ainda"})]}):(0,y.jsx)("div",{className:"space-y-2",children:O.map(e=>(0,y.jsx)(Tg,{song:e,onRemove:()=>j("musica",e.song_id),onPlay:()=>{var t,r,a,s,i,o,l,c,d;const u={id:null===(t=e.songs)||void 0===t?void 0:t.id,title:null===(r=e.songs)||void 0===r?void 0:r.title,artist_name:null===(a=e.songs)||void 0===a?void 0:a.artist_name,artistName:null===(s=e.songs)||void 0===s?void 0:s.artist_name,cover_url:null===(i=e.songs)||void 0===i?void 0:i.cover_url,coverImage:null===(o=e.songs)||void 0===o?void 0:o.cover_url,duration:null===(l=e.songs)||void 0===l?void 0:l.duration,audioUrl:null===(c=e.songs)||void 0===c?void 0:c.audio_url,albumId:null===(d=e.songs)||void 0===d?void 0:d.album_id};n(u,[u])}},e.song_id))})}),"albums"===a&&(0,y.jsx)("div",{children:0===P.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Sh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 text-lg",children:l?"Nenhum \xe1lbum encontrado":"Nenhum \xe1lbum favorito ainda"})]}):(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:P.map(e=>{var t;return(0,y.jsxs)("div",{className:"group cursor-pointer",onClick:()=>{var t;const n=(null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,a=e.slug||e.id;r("/".concat(n,"/").concat(a))},children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg bg-gray-200",children:[e.cover_url&&(0,y.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-full aspect-square object-cover group-hover:scale-105 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsxs)("div",{className:"space-y-1",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 truncate text-xs",children:e.title}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.artist_name}),(null===(t=e.artist)||void 0===t?void 0:t.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-3 h-3 text-blue-500 flex-shrink-0"})]})]}),(0,y.jsxs)("button",{onClick:t=>{t.stopPropagation(),j("album",e.id)},className:"mt-2 w-full text-xs text-red-600 hover:bg-red-50 py-2 rounded transition-colors flex items-center justify-center gap-1 font-medium",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4"}),"Remover"]})]},e.id)})})}),"playlists"===a&&(0,y.jsx)("div",{children:0===C.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Qt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 text-lg",children:l?"Nenhuma playlist encontrada":"Nenhuma playlist favorita ainda"})]}):(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:C.map(e=>{var t;return(0,y.jsxs)("div",{className:"group cursor-pointer",children:[(0,y.jsxs)("div",{className:"relative mb-3 rounded-lg overflow-hidden bg-gradient-to-br from-red-600 to-red-800 cursor-pointer",onClick:()=>{r("/playlist/".concat(e.slug||e.id))},children:[(0,y.jsx)("div",{className:"aspect-square flex items-center justify-center",children:(0,y.jsx)(Qt,{className:"w-16 h-16 text-white opacity-20"})}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-red-600 ml-1",fill:"#dc2626"})})})]}),(0,y.jsxs)("div",{className:"space-y-1",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 truncate text-xs",children:e.title}),(0,y.jsxs)("p",{className:"text-xs text-gray-600",children:[(null===(t=e.song_ids)||void 0===t?void 0:t.length)||0," m\xfasicas"]})]}),(0,y.jsxs)("button",{onClick:t=>{t.stopPropagation(),j("playlist",e.id)},className:"mt-2 w-full text-xs text-red-600 hover:bg-red-50 py-2 rounded transition-colors flex items-center justify-center gap-1 font-medium",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4"}),"Remover"]})]},e.id)})})})]})]})})]})},Ig=()=>{const{user:e}=(0,i.A)(),[r,n]=(0,t.useState)(!0),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)([]),[p,v]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)(""),[N,_]=(0,t.useState)(!1),[k,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{E()},[null===e||void 0===e?void 0:e.id]);const E=async()=>{if(null!==e&&void 0!==e&&e.id)try{n(!0);const{data:t}=await g.ND.from("albums").select("id, title, slug").eq("artist_id",e.id).order("created_at",{ascending:!1});b(t||[]);const{data:r,error:a}=await g.ND.from("artist_videos").select("*").eq("artist_id",e.id).eq("is_public",!0).order("created_at",{ascending:!1});a||f(r||[]);const{data:s,error:i}=await g.ND.from("artist_videos").select("*").eq("artist_id",e.id).not("album_id","is",null).order("created_at",{ascending:!1});i||v(s||[])}catch(t){console.error("Erro ao carregar dados:",t),(0,S.oR)({title:"Erro",description:"Erro ao carregar os dados",variant:"destructive"})}finally{n(!1)}else n(!1)},C=e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},O=e=>"https://img.youtube.com/vi/".concat(e,"/maxresdefault.jpg"),P=async t=>{try{const{error:r}=await g.ND.from("artist_videos").delete().eq("id",t).eq("artist_id",e.id);if(r)throw r;(0,S.oR)({title:"Sucesso",description:"V\xeddeo removido com sucesso"}),E()}catch(r){console.error("Erro ao remover v\xeddeo:",r),(0,S.oR)({title:"Erro",description:"Erro ao remover v\xeddeo",variant:"destructive"})}},D=e=>{navigator.clipboard.writeText(e),A(e),setTimeout(()=>A(null),2e3)};return r?(0,y.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})}):(0,y.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,y.jsx)("div",{className:"hidden md:block w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,y.jsx)(wf,{})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"max-w-6xl mx-auto p-4 md:p-8",children:[(0,y.jsxs)("div",{className:"mb-8",children:[(0,y.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[(0,y.jsx)(Gd,{className:"w-8 h-8 text-red-600"}),"Meus V\xeddeos"]}),(0,y.jsx)("p",{className:"text-gray-600",children:"Adicione e gerencie seus v\xeddeos do YouTube"})]}),r?(0,y.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsxs)("div",{className:"space-y-8",children:[(0,y.jsxs)("div",{className:"bg-white rounded-lg p-4 md:p-8 border border-gray-200",children:[(0,y.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Adicionar Novo V\xeddeo"}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"PREVIEW DO V\xcdDEO"}),(0,y.jsx)("div",{className:"bg-gray-200 rounded-lg w-full h-48 flex items-center justify-center overflow-hidden",children:w?(0,y.jsx)("img",{src:w,alt:"Preview",className:"w-full h-full object-cover"}):(0,y.jsx)(Ld,{className:"w-12 h-12 text-gray-400"})}),(0,y.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"A imagem preview do v\xeddeo \xe9 inserida automaticamente :)"})]}),(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link do v\xeddeo (Ex: https://youtu.be/EPquJPEilnPI)"}),(0,y.jsx)(rr,{type:"text",value:a,onChange:async e=>{const t=e.target.value;if(s(t),t){_(!0);const e=C(t);if(e){j(O(e));const r=await(async e=>{try{const t=await fetch("https://www.youtube.com/oembed?url=".concat(encodeURIComponent(e),"&format=json"));if(t.ok)return(await t.json()).title||""}catch(t){console.log("Erro ao buscar t\xedtulo do YouTube:",t)}return""})(t);r&&!o&&l(r)}_(!1)}},placeholder:"https://youtube.com/watch?v=...",className:"border-gray-300"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo do v\xeddeo (O t\xedtulo do v\xeddeo \xe9 inserido automaticamente)"}),(0,y.jsx)(rr,{type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"T\xedtulo do v\xeddeo",className:"border-gray-300"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione o CD"}),(0,y.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-600",children:[(0,y.jsx)("option",{value:"",children:"Nenhum CD"}),x.map(e=>(0,y.jsx)("option",{value:e.id,children:e.title},e.id))]})]})]})]}),(0,y.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)("input",{type:"checkbox",id:"addToProfile",checked:u,onChange:e=>h(e.target.checked),className:"w-4 h-4 rounded border-gray-300 text-red-600 cursor-pointer"}),(0,y.jsx)("label",{htmlFor:"addToProfile",className:"text-sm text-gray-700 cursor-pointer",children:"Adicionar v\xeddeo ao meu perfil"})]}),(0,y.jsxs)(nr.$,{onClick:async()=>{if(!a||!o)return void(0,S.oR)({title:"Erro",description:"Preencha a URL e o t\xedtulo do v\xeddeo",variant:"destructive"});const t=C(a);if(!t)return void(0,S.oR)({title:"Erro",description:"URL do YouTube inv\xe1lida",variant:"destructive"});const r=!!c,n=u&&!c;try{const{data:i,error:u}=await g.ND.from("artist_videos").insert({artist_id:e.id,video_url:a,video_id:t,title:o,thumbnail:w,album_id:r?c:null,is_public:n,created_at:(new Date).toISOString()}).select();if(u)throw u;(0,S.oR)({title:"Sucesso",description:r?"V\xeddeo adicionado ao CD com sucesso":"V\xeddeo adicionado ao seu perfil com sucesso"}),s(""),l(""),d(""),h(!1),j(""),E()}catch(i){console.error("Erro ao adicionar v\xeddeo:",i),(0,S.oR)({title:"Erro",description:i.message||"Erro ao adicionar v\xeddeo",variant:"destructive"})}},disabled:N,className:"bg-red-600 hover:bg-red-700 text-white rounded-full px-6 md:px-8 h-10 font-semibold w-full sm:w-auto",children:[(0,y.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"ADICIONAR V\xcdDEO"]})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"V\xeddeos no CD"}),(0,y.jsx)("div",{className:"space-y-3",children:0===p.length?(0,y.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhum v\xeddeo adicionado a CDs"}):p.map(e=>(0,y.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-red-600 transition-colors flex gap-4",children:[(0,y.jsx)("img",{src:e.thumbnail||O(e.video_id),alt:e.title,className:"w-24 h-16 rounded object-cover flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h4",{className:"font-semibold text-gray-900 text-sm mb-2 truncate",children:e.title}),(0,y.jsx)("div",{className:"text-xs text-gray-500 mb-3 break-all",children:(0,y.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,y.jsx)("span",{className:"truncate",children:e.video_url}),(0,y.jsx)("button",{onClick:()=>D(e.video_url),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:k===e.video_url?(0,y.jsx)(Gl,{className:"w-4 h-4 text-green-600"}):(0,y.jsx)(qh,{className:"w-4 h-4"})})]})}),(0,y.jsxs)("button",{onClick:()=>P(e.id),className:"text-xs text-red-600 hover:bg-red-50 py-2 px-3 rounded transition-colors flex items-center gap-1 font-medium",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4"}),"Remover"]})]})]},e.id))})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"V\xeddeos no Perfil"}),(0,y.jsx)("div",{className:"space-y-3",children:0===m.length?(0,y.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhum v\xeddeo no seu perfil"}):m.map(e=>(0,y.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-red-600 transition-colors flex gap-4",children:[(0,y.jsx)("img",{src:e.thumbnail||O(e.video_id),alt:e.title,className:"w-24 h-16 rounded object-cover flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h4",{className:"font-semibold text-gray-900 text-sm mb-2 truncate",children:e.title}),(0,y.jsx)("div",{className:"text-xs text-gray-500 mb-3 break-all",children:(0,y.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,y.jsx)("span",{className:"truncate",children:e.video_url}),(0,y.jsx)("button",{onClick:()=>D(e.video_url),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:k===e.video_url?(0,y.jsx)(Gl,{className:"w-4 h-4 text-green-600"}):(0,y.jsx)(qh,{className:"w-4 h-4"})})]})}),(0,y.jsxs)("button",{onClick:()=>P(e.id),className:"text-xs text-red-600 hover:bg-red-50 py-2 px-3 rounded transition-colors flex items-center gap-1 font-medium",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4"}),"Remover"]})]})]},e.id))})]})]})]})]})})]})},Mg={async getArtistStats(e){try{console.log("getArtistStats - userId:",e);const{data:t,error:r}=await g.ND.from("artists").select("id, followers_count, monthly_listeners").eq("id",e).maybeSingle();console.log("Artist data:",t,r);const{data:n,error:a}=await g.ND.from("albums").select("id, title").eq("artist_id",e);console.log("Albums data:",n,a);const{data:s,error:i}=await g.ND.from("songs").select("id, title, plays, cover_url, album_id").eq("artist_id",e).order("plays",{ascending:!1});console.log("Songs data:",s,i);const o=(s||[]).reduce((e,t)=>e+(t.plays||0),0),l=(s||[]).slice(0,5).map(e=>({songId:e.id,title:e.title,plays:e.plays||0,coverImage:e.cover_url})),c=[],d=new Date,u=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];for(let e=5;e>=0;e--){const t=new Date(d.getFullYear(),d.getMonth()-e,1),r=(6-e)/21,n=Math.floor(o*r);c.push({month:u[t.getMonth()],plays:n})}return{data:{totalPlays:o,monthlyListeners:(null===t||void 0===t?void 0:t.monthly_listeners)||Math.floor(.023*o),followers:(null===t||void 0===t?void 0:t.followers_count)||0,totalSongs:(null===s||void 0===s?void 0:s.length)||0,totalAlbums:(null===n||void 0===n?void 0:n.length)||0,topSongs:l,playsByMonth:c},error:null}}catch(XK){return console.error("getArtistStats error:",XK),{data:null,error:{message:String(XK)}}}},async getArtist(e){try{const{data:t,error:r}=await g.ND.from("artists").select("*").eq("id",e).maybeSingle();return{data:t,error:r}}catch(XK){return console.error("getArtist error:",XK),{data:null,error:{message:String(XK)}}}},async saveArtist(e,t,r){try{console.log("Salvando artista:",e,r);const{data:n}=await g.ND.from("artists").select("id").eq("id",e).maybeSingle(),a={name:r.name||"",bio:r.bio||"",estilo_musical:r.estilo_musical||"",cidade:r.cidade||"",estado:r.estado||"",avatar_url:r.avatar_url||"",cover_url:r.cover_url||"",instagram:r.instagram||"",twitter:r.twitter||"",youtube:r.youtube||""};if(r.slug&&(a.slug=r.slug),n){console.log("Artista existe, atualizando...");const{error:t}=await g.ND.from("artists").update(a).eq("id",e);return t?(console.error("Erro no update:",t),{data:null,error:t}):(console.log("Update sucesso!"),{data:{id:e},error:null})}{console.log("Artista n\xe3o existe, criando...");const{error:n}=await g.ND.from("artists").insert({id:e,email:t,name:r.name||"",slug:(r.name||"").toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),bio:r.bio||"",estilo_musical:r.estilo_musical||"",cidade:r.cidade||"",estado:r.estado||"",avatar_url:r.avatar_url||"",cover_url:r.cover_url||"",instagram:r.instagram||"",twitter:r.twitter||"",youtube:r.youtube||"",followers_count:0,is_verified:!1});return n?(console.error("Erro no insert:",n),{data:null,error:n}):(console.log("Insert sucesso!"),{data:{id:e},error:null})}}catch(XK){return console.error("saveArtist exception:",XK),{data:null,error:{message:String(XK)}}}}},Lg=["children"],zg=["children"];function Fg(e){const r=Bg(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=(0,_.A)(e,Lg),i=t.Children.toArray(a),o=i.find(qg);if(o){const e=o.props.children,a=i.map(r=>r===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,y.jsx)(r,(0,N.A)((0,N.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function Bg(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=(0,_.A)(e,zg);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const r=(0,N.A)({},t);for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=function(){const e=s(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,N.A)((0,N.A)({},a),s):"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return(0,N.A)((0,N.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(s.ref=r?(0,E.t)(r,e):e),t.cloneElement(n,s)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var Ug=Symbol("radix.slottable");function qg(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ug}const Vg=["__scopeSelect","disabled"],Wg=["__scopeSelect","className","style","children","placeholder"],Hg=["__scopeSelect","children"],Kg=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],$g=["__scopeSelect","onPlaced"],Gg=["__scopeSelect","align","collisionPadding"],Yg=["__scopeSelect","nonce"],Jg=["__scopeSelect"],Xg=["__scopeSelect"],Zg=["__scopeSelect","value","disabled","textValue"],Qg=["__scopeSelect","className","style"],ev=["__scopeSelect"],tv=["__scopeSelect","onAutoScroll"],rv=["__scopeSelect"],nv=["__scopeSelect"],av=["__scopeSelect","value"];var sv=[" ","Enter","ArrowUp","ArrowDown"],iv=[" ","Enter"],ov="Select",[lv,cv,dv]=H(ov),[uv,hv]=I(ov,[dv,Sa]),mv=Sa(),[fv,pv]=uv(ov),[gv,vv]=uv(ov),xv=e=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:f,form:p}=e,g=mv(r),[v,x]=t.useState(null),[b,w]=t.useState(null),[j,_]=t.useState(!1),S=sr(d),[k,A]=Ne({prop:a,defaultProp:null!==s&&void 0!==s&&s,onChange:i,caller:ov}),[E,C]=Ne({prop:o,defaultProp:l,onChange:c,caller:ov}),O=t.useRef(null),P=!v||(p||!!v.closest("form")),[D,T]=t.useState(new Set),R=Array.from(D).map(e=>e.props.value).join(";");return(0,y.jsx)(Ua,(0,N.A)((0,N.A)({},g),{},{children:(0,y.jsxs)(fv,{required:f,scope:r,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:jr(),value:E,onValueChange:C,open:k,onOpenChange:A,dir:S,triggerPointerDownPosRef:O,disabled:m,children:[(0,y.jsx)(lv.Provider,{scope:r,children:(0,y.jsx)(gv,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(e=>{T(t=>new Set(t).add(e))},[]),onNativeOptionRemove:t.useCallback(e=>{T(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:n})}),P?(0,y.jsxs)(ix,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:e=>C(e.target.value),disabled:m,form:p,children:[void 0===E?(0,y.jsx)("option",{value:""}):null,Array.from(D)]},R):null]})}))};xv.displayName=ov;var yv="SelectTrigger",bv=t.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:a=!1}=e,s=(0,_.A)(e,Vg),i=mv(n),o=pv(yv,n),l=o.disabled||a,c=(0,E.s)(r,o.onTriggerChange),d=cv(n),u=t.useRef("touch"),[h,m,f]=lx(e=>{const t=d().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),n=cx(t,e,r);void 0!==n&&o.onValueChange(n.value)}),p=e=>{l||(o.onOpenChange(!0),f()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,y.jsx)(qa,(0,N.A)((0,N.A)({asChild:!0},i),{},{children:(0,y.jsx)(re.button,(0,N.A)((0,N.A)({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ox(o.value)?"":void 0},s),{},{ref:c,onClick:A(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&p(e)}),onPointerDown:A(s.onPointerDown,e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(p(e),e.preventDefault())}),onKeyDown:A(s.onKeyDown,e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||sv.includes(e.key)&&(p(),e.preventDefault())})}))}))});bv.displayName=yv;var wv="SelectValue",jv=t.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i=""}=e,o=(0,_.A)(e,Wg),l=pv(wv,r),{onValueNodeHasChildrenChange:c}=l,d=void 0!==s,u=(0,E.s)(t,l.onValueNodeChange);return ve(()=>{c(d)},[c,d]),(0,y.jsx)(re.span,(0,N.A)((0,N.A)({},o),{},{ref:u,style:{pointerEvents:"none"},children:ox(l.value)?(0,y.jsx)(y.Fragment,{children:i}):s}))});jv.displayName=wv;var Nv=t.forwardRef((e,t)=>{const{__scopeSelect:r,children:n}=e,a=(0,_.A)(e,Hg);return(0,y.jsx)(re.span,(0,N.A)((0,N.A)({"aria-hidden":!0},a),{},{ref:t,children:n||"\u25bc"}))});Nv.displayName="SelectIcon";var _v=e=>(0,y.jsx)(ye,(0,N.A)({asChild:!0},e));_v.displayName="SelectPortal";var Sv="SelectContent",kv=t.forwardRef((e,r)=>{const n=pv(Sv,e.__scopeSelect),[a,s]=t.useState();if(ve(()=>{s(new DocumentFragment)},[]),!n.open){const t=a;return t?k.createPortal((0,y.jsx)(Ev,{scope:e.__scopeSelect,children:(0,y.jsx)(lv.Slot,{scope:e.__scopeSelect,children:(0,y.jsx)("div",{children:e.children})})}),t):null}return(0,y.jsx)(Pv,(0,N.A)((0,N.A)({},e),{},{ref:r}))});kv.displayName=Sv;var Av=10,[Ev,Cv]=uv(Sv),Ov=Fg("SelectContent.RemoveScroll"),Pv=t.forwardRef((e,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:v}=e,x=(0,_.A)(e,Kg),b=pv(Sv,n),[w,j]=t.useState(null),[S,k]=t.useState(null),C=(0,E.s)(r,e=>j(e)),[O,P]=t.useState(null),[D,T]=t.useState(null),R=cv(n),[I,M]=t.useState(!1),L=t.useRef(!1);t.useEffect(()=>{if(w)return _s(w)},[w]),or();const z=t.useCallback(e=>{const[t,...r]=R().map(e=>e.ref.current),[n]=r.slice(-1),a=document.activeElement;for(const s of e){if(s===a)return;if(null===s||void 0===s||s.scrollIntoView({block:"nearest"}),s===t&&S&&(S.scrollTop=0),s===n&&S&&(S.scrollTop=S.scrollHeight),null===s||void 0===s||s.focus(),document.activeElement!==a)return}},[R,S]),F=t.useCallback(()=>z([O,w]),[z,O,w]);t.useEffect(()=>{I&&F()},[I,F]);const{onOpenChange:B,triggerPointerDownPosRef:U}=b;t.useEffect(()=>{if(w){let e={x:0,y:0};const t=t=>{var r,n,a,s;e={x:Math.abs(Math.round(t.pageX)-(null!==(r=null===(n=U.current)||void 0===n?void 0:n.x)&&void 0!==r?r:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(s=U.current)||void 0===s?void 0:s.y)&&void 0!==a?a:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():w.contains(r.target)||B(!1),document.removeEventListener("pointermove",t),U.current=null};return null!==U.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[w,B,U]),t.useEffect(()=>{const e=()=>B(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[B]);const[q,V]=lx(e=>{const t=R().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=cx(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),W=t.useCallback((e,t,r)=>{const n=!L.current&&!r;(void 0!==b.value&&b.value===t||n)&&(P(e),n&&(L.current=!0))},[b.value]),H=t.useCallback(()=>null===w||void 0===w?void 0:w.focus(),[w]),K=t.useCallback((e,t,r)=>{const n=!L.current&&!r;(void 0!==b.value&&b.value===t||n)&&T(e)},[b.value]),$="popper"===a?Tv:Dv,G=$===Tv?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return(0,y.jsx)(Ev,{scope:n,content:w,viewport:S,onViewportChange:k,itemRefCallback:W,selectedItem:O,onItemLeave:H,itemTextRefCallback:K,focusSelectedItem:F,selectedItemText:D,position:a,isPositioned:I,searchRef:q,children:(0,y.jsx)(mi,{as:Ov,allowPinchZoom:!0,children:(0,y.jsx)(mr,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:A(s,e=>{var t;null===(t=b.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,y.jsx)(ue,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:(0,y.jsx)($,(0,N.A)((0,N.A)((0,N.A)({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault()},x),G),{},{onPlaced:()=>M(!0),ref:C,style:(0,N.A)({display:"flex",flexDirection:"column",outline:"none"},x.style),onKeyDown:A(x.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||V(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=R().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>z(t)),e.preventDefault()}})}))})})})})});Pv.displayName="SelectContentImpl";var Dv=t.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:a}=e,s=(0,_.A)(e,$g),i=pv(Sv,n),o=Cv(Sv,n),[l,c]=t.useState(null),[d,u]=t.useState(null),h=(0,E.s)(r,e=>u(e)),m=cv(n),f=t.useRef(!1),p=t.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=o,w=t.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&x){const e=i.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),r=i.valueNode.getBoundingClientRect(),n=x.getBoundingClientRect();if("rtl"!==i.dir){const a=n.left-t.left,s=r.left-a,i=e.left-s,o=e.width+i,c=Math.max(o,t.width),d=window.innerWidth-Av,u=nu(s,[Av,Math.max(Av,d-c)]);l.style.minWidth=o+"px",l.style.left=u+"px"}else{const a=t.right-n.right,s=window.innerWidth-r.right-a,i=window.innerWidth-e.right-s,o=e.width+i,c=Math.max(o,t.width),d=window.innerWidth-Av,u=nu(s,[Av,Math.max(Av,d-c)]);l.style.minWidth=o+"px",l.style.right=u+"px"}const s=m(),o=window.innerHeight-2*Av,c=g.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),p=parseInt(u.paddingTop,10),y=parseInt(u.borderBottomWidth,10),b=h+p+c+parseInt(u.paddingBottom,10)+y,w=Math.min(5*v.offsetHeight,b),j=window.getComputedStyle(g),N=parseInt(j.paddingTop,10),_=parseInt(j.paddingBottom,10),S=e.top+e.height/2-Av,k=o-S,A=v.offsetHeight/2,E=h+p+(v.offsetTop+A),C=b-E;if(E<=S){const e=s.length>0&&v===s[s.length-1].ref.current;l.style.bottom="0px";const t=d.clientHeight-g.offsetTop-g.offsetHeight,r=E+Math.max(k,A+(e?_:0)+t+y);l.style.height=r+"px"}else{const e=s.length>0&&v===s[0].ref.current;l.style.top="0px";const t=Math.max(S,h+g.offsetTop+(e?N:0)+A)+C;l.style.height=t+"px",g.scrollTop=E-S+g.offsetTop}l.style.margin="".concat(Av,"px 0"),l.style.minHeight=w+"px",l.style.maxHeight=o+"px",null===a||void 0===a||a(),requestAnimationFrame(()=>f.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,v,x,i.dir,a]);ve(()=>w(),[w]);const[j,S]=t.useState();ve(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const k=t.useCallback(e=>{e&&!0===p.current&&(w(),null===b||void 0===b||b(),p.current=!1)},[w,b]);return(0,y.jsx)(Rv,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:k,children:(0,y.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({},s),{},{ref:h,style:(0,N.A)({boxSizing:"border-box",maxHeight:"100%"},s.style)}))})})});Dv.displayName="SelectItemAlignedPosition";var Tv=t.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Av}=e,s=(0,_.A)(e,Gg),i=mv(r);return(0,y.jsx)(Va,(0,N.A)((0,N.A)((0,N.A)({},i),s),{},{ref:t,align:n,collisionPadding:a,style:(0,N.A)((0,N.A)({boxSizing:"border-box"},s.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});Tv.displayName="SelectPopperPosition";var[Rv,Iv]=uv(Sv,{}),Mv="SelectViewport",Lv=t.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:a}=e,s=(0,_.A)(e,Yg),i=Cv(Mv,n),o=Iv(Mv,n),l=(0,E.s)(r,i.onViewportChange),c=t.useRef(0);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,y.jsx)(lv.Slot,{scope:n,children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({"data-radix-select-viewport":"",role:"presentation"},s),{},{ref:l,style:(0,N.A)({position:"relative",flex:1,overflow:"hidden auto"},s.style),onScroll:A(s.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=o;if(null!==n&&void 0!==n&&n.current&&r){const e=Math.abs(c.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*Av,a=parseFloat(r.style.minHeight),s=parseFloat(r.style.height),i=Math.max(a,s);if(i<n){const a=i+e,s=Math.min(n,a),o=a-s;r.style.height=s+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})}))})]})});Lv.displayName=Mv;var zv="SelectGroup",[Fv,Bv]=uv(zv),Uv=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=(0,_.A)(e,Jg),a=jr();return(0,y.jsx)(Fv,{scope:r,id:a,children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({role:"group","aria-labelledby":a},n),{},{ref:t}))})});Uv.displayName=zv;var qv="SelectLabel",Vv=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=(0,_.A)(e,Xg),a=Bv(qv,r);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({id:a.id},n),{},{ref:t}))});Vv.displayName=qv;var Wv="SelectItem",[Hv,Kv]=uv(Wv),$v=t.forwardRef((e,r)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i}=e,o=(0,_.A)(e,Zg),l=pv(Wv,n),c=Cv(Wv,n),d=l.value===a,[u,h]=t.useState(null!==i&&void 0!==i?i:""),[m,f]=t.useState(!1),p=(0,E.s)(r,e=>{var t;return null===(t=c.itemRefCallback)||void 0===t?void 0:t.call(c,e,a,s)}),g=jr(),v=t.useRef("touch"),x=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,y.jsx)(Hv,{scope:n,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:t.useCallback(e=>{h(t=>{var r;return t||(null!==(r=null===e||void 0===e?void 0:e.textContent)&&void 0!==r?r:"").trim()})},[]),children:(0,y.jsx)(lv.ItemSlot,{scope:n,value:a,disabled:s,textValue:u,children:(0,y.jsx)(re.div,(0,N.A)((0,N.A)({role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},o),{},{ref:p,onFocus:A(o.onFocus,()=>f(!0)),onBlur:A(o.onBlur,()=>f(!1)),onClick:A(o.onClick,()=>{"mouse"!==v.current&&x()}),onPointerUp:A(o.onPointerUp,()=>{"mouse"===v.current&&x()}),onPointerDown:A(o.onPointerDown,e=>{v.current=e.pointerType}),onPointerMove:A(o.onPointerMove,e=>{var t;(v.current=e.pointerType,s)?null===(t=c.onItemLeave)||void 0===t||t.call(c):"mouse"===v.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:A(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=c.onItemLeave)||void 0===t||t.call(c))}),onKeyDown:A(o.onKeyDown,e=>{var t;""!==(null===(t=c.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(iv.includes(e.key)&&x()," "===e.key&&e.preventDefault())})}))})})});$v.displayName=Wv;var Gv="SelectItemText",Yv=t.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s}=e,i=(0,_.A)(e,Qg),o=pv(Gv,n),l=Cv(Gv,n),c=Kv(Gv,n),d=vv(Gv,n),[u,h]=t.useState(null),m=(0,E.s)(r,e=>h(e),c.onItemTextChange,e=>{var t;return null===(t=l.itemTextRefCallback)||void 0===t?void 0:t.call(l,e,c.value,c.disabled)}),f=null===u||void 0===u?void 0:u.textContent,p=t.useMemo(()=>(0,y.jsx)("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return ve(()=>(g(p),()=>v(p)),[g,v,p]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(re.span,(0,N.A)((0,N.A)({id:c.textId},i),{},{ref:m})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?k.createPortal(i.children,o.valueNode):null]})});Yv.displayName=Gv;var Jv="SelectItemIndicator",Xv=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=(0,_.A)(e,ev);return Kv(Jv,r).isSelected?(0,y.jsx)(re.span,(0,N.A)((0,N.A)({"aria-hidden":!0},n),{},{ref:t})):null});Xv.displayName=Jv;var Zv="SelectScrollUpButton",Qv=t.forwardRef((e,r)=>{const n=Cv(Zv,e.__scopeSelect),a=Iv(Zv,e.__scopeSelect),[s,i]=t.useState(!1),o=(0,E.s)(r,a.onScrollButtonChange);return ve(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),s?(0,y.jsx)(rx,(0,N.A)((0,N.A)({},e),{},{ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Qv.displayName=Zv;var ex="SelectScrollDownButton",tx=t.forwardRef((e,r)=>{const n=Cv(ex,e.__scopeSelect),a=Iv(ex,e.__scopeSelect),[s,i]=t.useState(!1),o=(0,E.s)(r,a.onScrollButtonChange);return ve(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;i(r)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),s?(0,y.jsx)(rx,(0,N.A)((0,N.A)({},e),{},{ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});tx.displayName=ex;var rx=t.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:a}=e,s=(0,_.A)(e,tv),i=Cv("SelectScrollButton",n),o=t.useRef(null),l=cv(n),c=t.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return t.useEffect(()=>()=>c(),[c]),ve(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[l]),(0,y.jsx)(re.div,(0,N.A)((0,N.A)({"aria-hidden":!0},s),{},{ref:r,style:(0,N.A)({flexShrink:0},s.style),onPointerDown:A(s.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(a,50))}),onPointerMove:A(s.onPointerMove,()=>{var e;null===(e=i.onItemLeave)||void 0===e||e.call(i),null===o.current&&(o.current=window.setInterval(a,50))}),onPointerLeave:A(s.onPointerLeave,()=>{c()})}))}),nx=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=(0,_.A)(e,rv);return(0,y.jsx)(re.div,(0,N.A)((0,N.A)({"aria-hidden":!0},n),{},{ref:t}))});nx.displayName="SelectSeparator";var ax="SelectArrow",sx=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=(0,_.A)(e,nv),a=mv(r),s=pv(ax,r),i=Cv(ax,r);return s.open&&"popper"===i.position?(0,y.jsx)(Wa,(0,N.A)((0,N.A)((0,N.A)({},a),n),{},{ref:t})):null});sx.displayName=ax;var ix=t.forwardRef((e,r)=>{let{__scopeSelect:n,value:a}=e,s=(0,_.A)(e,av);const i=t.useRef(null),o=(0,E.s)(r,i),l=au(a);return t.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==a&&r){const t=new Event("change",{bubbles:!0});r.call(e,a),e.dispatchEvent(t)}},[l,a]),(0,y.jsx)(re.select,(0,N.A)((0,N.A)({},s),{},{style:(0,N.A)((0,N.A)({},_e),s.style),ref:o,defaultValue:a}))});function ox(e){return""===e||void 0===e}function lx(e){const r=ae(e),n=t.useRef(""),a=t.useRef(0),s=t.useCallback(e=>{const t=n.current+e;r(t),function e(t){n.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(t)},[r]),i=t.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function cx(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(e,Math.max(a,0));1===n.length&&(s=s.filter(e=>e!==r));const i=s.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==r?i:void 0}ix.displayName="SelectBubbleInput";var dx=bv,ux=Nv,hx=_v,mx=kv,fx=Lv,px=Vv,gx=$v,vx=Yv,xx=Xv,yx=Qv,bx=tx,wx=nx;const jx=["className","children"],Nx=["className"],_x=["className"],Sx=["className","children","position"],kx=["className"],Ax=["className","children"],Ex=["className"],Cx=xv,Ox=jv,Px=t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=(0,_.A)(e,jx);return(0,y.jsxs)(dx,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},a),{},{children:[n,(0,y.jsx)(ux,{asChild:!0,children:(0,y.jsx)(Wt,{className:"h-4 w-4 opacity-50"})})]}))});Px.displayName=dx.displayName;const Dx=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Nx);return(0,y.jsx)(yx,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("flex cursor-default items-center justify-center py-1",r)},n),{},{children:(0,y.jsx)(Kd,{className:"h-4 w-4"})}))});Dx.displayName=yx.displayName;const Tx=t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,_x);return(0,y.jsx)(bx,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("flex cursor-default items-center justify-center py-1",r)},n),{},{children:(0,y.jsx)(Wt,{className:"h-4 w-4"})}))});Tx.displayName=bx.displayName;const Rx=t.forwardRef((e,t)=>{let{className:r,children:n,position:a="popper"}=e,s=(0,_.A)(e,Sx);return(0,y.jsx)(hx,{container:document.body,children:(0,y.jsxs)(mx,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("fixed z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a},s),{},{children:[(0,y.jsx)(Dx,{}),(0,y.jsx)(fx,{className:(0,kt.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,y.jsx)(Tx,{})]}))})});Rx.displayName=mx.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,kx);return(0,y.jsx)(px,(0,N.A)({ref:t,className:(0,kt.cn)("px-2 py-1.5 text-sm font-semibold",r)},n))}).displayName=px.displayName;const Ix=t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=(0,_.A)(e,Ax);return(0,y.jsxs)(gx,(0,N.A)((0,N.A)({ref:t,className:(0,kt.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{},{children:[(0,y.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,y.jsx)(xx,{children:(0,y.jsx)(Gl,{className:"h-4 w-4"})})}),(0,y.jsx)(vx,{children:n})]}))});Ix.displayName=gx.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=(0,_.A)(e,Ex);return(0,y.jsx)(wx,(0,N.A)({ref:t,className:(0,kt.cn)("-mx-1 my-1 h-px bg-muted",r)},n))}).displayName=wx.displayName;const Mx=(0,_t.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Lx=(0,_t.A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),zx={forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega-funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel",rap:"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock",eletronica:"Eletr\xf4nica",podcast:"Podcast",trap:"Trap",frevo:"Frevo"},Fx=()=>{var e,r;const{user:n,updateUser:a}=(0,i.A)(),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!0),[h,m]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[v,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(null!==n&&void 0!==n&&n.id){try{const{data:e,error:t}=await Mg.getArtist(n.id);o(e&&!t?{id:e.id,name:e.name||n.name,slug:e.slug||"",bio:e.bio||"",genre:e.estilo_musical||"",cidade:e.cidade||"",estado:e.estado||"",location:e.cidade&&e.estado?"".concat(e.cidade,", ").concat(e.estado):e.cidade||e.estado||"",avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",followers:e.followers_count||0,monthlyListeners:0,instagram:e.instagram||"",twitter:e.twitter||"",youtube:e.youtube||""}:{id:n.id,name:n.name||"",slug:"",bio:"",genre:n.estilo_musical||"",cidade:n.cidade||"",estado:n.estado||"",location:n.cidade&&n.estado?"".concat(n.cidade,", ").concat(n.estado):n.cidade||n.estado||"",avatar:n.avatar||"/images/default-avatar.png",coverImage:"",followers:0,monthlyListeners:0,instagram:"",twitter:"",youtube:""})}catch(e){console.error("Erro ao carregar dados do artista:",e),o({id:n.id,name:n.name||"",slug:"",bio:"",genre:n.estilo_musical||"",cidade:n.cidade||"",estado:n.estado||"",location:"",avatar:n.avatar||"/images/default-avatar.png",coverImage:"",followers:0,monthlyListeners:0,instagram:"",twitter:"",youtube:""})}u(!1)}else u(!1)})()},[n]);const b=e=>{const{name:t,value:r}=e.target;o(e=>(0,N.A)((0,N.A)({},e),{},{[t]:r}))},w=async(e,t)=>{if(!e||null===n||void 0===n||!n.id)return null;const r=e.name.split(".").pop(),a="".concat(n.id,"_").concat(t,"_").concat(Date.now(),".").concat(r),s="".concat(t,"s/").concat(a);console.log("Fazendo upload:",s);const{error:i}=await g.ND.storage.from("avatars").upload(s,e,{cacheControl:"3600",upsert:!0});if(i)throw console.error("Erro no upload:",i),i;const{data:o}=g.ND.storage.from("avatars").getPublicUrl(s);return console.log("URL p\xfablica:",o.publicUrl),o.publicUrl};if(d||!s)return(0,y.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})});const j=(e,t)=>{var r,n;const a=null===e||void 0===e||null===(r=e.target)||void 0===r||null===(n=r.files)||void 0===n?void 0:n[0];if(!a)return;"avatar"===t?p(a):x(a);const s=new FileReader;s.onload=()=>{const e=s.result;o("avatar"===t?t=>(0,N.A)((0,N.A)({},t),{},{avatar:e}):t=>(0,N.A)((0,N.A)({},t),{},{coverImage:e})),(0,S.oR)({title:"Imagem selecionada",description:'Clique em "Salvar Altera\xe7\xf5es" para confirmar'})},s.readAsDataURL(a)};return(0,y.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,y.jsx)("div",{className:"hidden md:block w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,y.jsx)(wf,{})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:[(0,y.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(0,y.jsx)(Kt,{className:"w-8 h-8 text-red-600"}),(0,y.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Configura\xe7\xf5es do Perfil"})]}),(0,y.jsx)(nr.$,{onClick:()=>l?(async()=>{if(n&&s){m(!0);try{var e,t;let r=s.avatar||"",i=s.coverImage||"";if(f)try{const e=await w(f,"avatar");e&&(r=e)}catch(XK){console.error("Erro upload avatar:",XK),(0,S.oR)({title:"Aviso",description:"N\xe3o foi poss\xedvel enviar a foto de perfil."})}if(v)try{const e=await w(v,"cover");e&&(i=e)}catch(XK){console.error("Erro upload capa:",XK),(0,S.oR)({title:"Aviso",description:"N\xe3o foi poss\xedvel enviar a capa."})}null!==(e=r)&&void 0!==e&&e.startsWith("data:")&&(r=""),null!==(t=i)&&void 0!==t&&t.startsWith("data:")&&(i="");const l={name:s.name||"",slug:s.slug||"",bio:s.bio||"",estilo_musical:s.genre||"",cidade:s.cidade||"",estado:s.estado||"",avatar_url:r,cover_url:i,instagram:s.instagram||"",twitter:s.twitter||"",youtube:s.youtube||""},{data:d,error:u}=await Mg.saveArtist(n.id,n.email,l);if(u)return console.error("Erro ao salvar:",u),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es. Verifique sua conex\xe3o.",variant:"destructive"}),void m(!1);console.log("Salvo com sucesso:",d),o(e=>(0,N.A)((0,N.A)({},e),{},{avatar:r||e.avatar,coverImage:i||e.coverImage})),p(null),x(null);const h=(0,N.A)((0,N.A)({},n),{},{name:s.name,avatar:r||s.avatar});"function"===typeof a&&a(h),(0,S.oR)({title:"Perfil atualizado!",description:"Suas informa\xe7\xf5es foram salvas com sucesso"}),c(!1)}catch(XK){console.error("Erro inesperado:",XK),(0,S.oR)({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}finally{m(!1)}}})():c(!0),className:"bg-red-600 hover:bg-red-700 text-white w-full sm:w-auto",disabled:h,children:h?"Salvando...":l?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Mx,{className:"w-4 h-4 mr-2"}),"Salvar Altera\xe7\xf5es"]}):"Editar Perfil"})]}),(0,y.jsx)(ph,{className:"bg-white shadow-sm mb-6 overflow-hidden",children:(0,y.jsxs)("div",{className:"relative h-40 sm:h-64 bg-gradient-to-r from-red-600 to-red-800",children:[s.coverImage&&(0,y.jsx)("img",{src:s.coverImage,alt:"Capa",className:"w-full h-full object-cover"}),l&&(0,y.jsxs)("label",{htmlFor:"coverUpload",className:"absolute inset-0 bg-black/50 flex items-center justify-center cursor-pointer hover:bg-black/60 transition-colors",children:[(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(_f,{className:"w-12 h-12 text-white mx-auto mb-2"}),(0,y.jsx)("p",{className:"text-white font-medium",children:"Alterar Capa"})]}),(0,y.jsx)("input",{id:"coverUpload",type:"file",accept:"image/*",className:"hidden",onChange:e=>j(e,"cover")})]})]})}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,y.jsx)(ph,{className:"bg-white shadow-sm md:col-span-1",children:(0,y.jsxs)("div",{className:"p-4 md:p-6",children:[(0,y.jsxs)("div",{className:"relative w-32 h-32 sm:w-48 sm:h-48 mx-auto mb-4",children:[(0,y.jsx)("img",{src:s.avatar,alt:s.name,className:"w-full h-full rounded-full object-cover bg-gray-200"}),l&&(0,y.jsxs)("label",{htmlFor:"avatarUpload",className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center cursor-pointer hover:bg-black/60 transition-colors",children:[(0,y.jsx)(_f,{className:"w-8 h-8 text-white"}),(0,y.jsx)("input",{id:"avatarUpload",type:"file",accept:"image/*",className:"hidden",onChange:e=>j(e,"avatar")})]})]}),(0,y.jsxs)("div",{className:"text-center space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 text-sm",children:"Seguidores"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=s.followers)||void 0===e?void 0:e.toLocaleString())||0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 text-sm",children:"Ouvintes Mensais"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(r=s.monthlyListeners)||void 0===r?void 0:r.toLocaleString())||0})]})]})]})}),(0,y.jsx)(ph,{className:"bg-white shadow-sm md:col-span-2",children:(0,y.jsxs)("div",{className:"p-4 md:p-6",children:[(0,y.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informa\xe7\xf5es do Perfil"}),(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"name",className:"text-gray-700",children:"Nome Art\xedstico"}),(0,y.jsx)(rr,{id:"name",name:"name",value:s.name||"",onChange:b,disabled:!l,className:"disabled:opacity-70"})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsxs)(lh,{htmlFor:"slug",className:"text-gray-700 flex items-center gap-2",children:[(0,y.jsx)(Lx,{className:"w-4 h-4"}),"URL do Perfil"]}),(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)("span",{className:"text-gray-500 text-sm mr-2",children:"oucaaqui.com/"}),(0,y.jsx)(rr,{id:"slug",name:"slug",value:s.slug||"",onChange:e=>{const t=e.target.value.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9]/g,"");o(e=>(0,N.A)((0,N.A)({},e),{},{slug:t}))},disabled:!l,placeholder:"seunome",className:"disabled:opacity-70 flex-1"})]}),l&&(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Apenas letras min\xfasculas e n\xfameros, sem espa\xe7os ou caracteres especiais."})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"bio",className:"text-gray-700",children:"Biografia"}),(0,y.jsx)(xf,{id:"bio",name:"bio",value:s.bio||"",onChange:b,disabled:!l,rows:4,className:"disabled:opacity-70 resize-none"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"genre",className:"text-gray-700",children:"Estilo Musical"}),l?(0,y.jsxs)(Cx,{value:s.genre||"",onValueChange:e=>o(t=>(0,N.A)((0,N.A)({},t),{},{genre:e})),disabled:!l,children:[(0,y.jsx)(Px,{children:(0,y.jsx)(Ox,{placeholder:"Selecione o estilo"})}),(0,y.jsx)(Rx,{children:Object.entries(zx).map(e=>{let[t,r]=e;return(0,y.jsx)(Ix,{value:t,children:r},t)})})]}):(0,y.jsx)(rr,{value:zx[s.genre]||s.genre||"",disabled:!0,className:"disabled:opacity-70"})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{htmlFor:"location",className:"text-gray-700",children:"Localiza\xe7\xe3o"}),l?(0,y.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,y.jsx)(rr,{id:"cidade",name:"cidade",placeholder:"Cidade",value:s.cidade||"",onChange:b}),(0,y.jsx)(rr,{id:"estado",name:"estado",placeholder:"Estado",value:s.estado||"",onChange:b})]}):(0,y.jsx)(rr,{value:s.location||"",disabled:!0,className:"disabled:opacity-70"})]})]}),(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)(lh,{className:"text-gray-700",children:"Redes Sociais"}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsx)(rr,{name:"instagram",placeholder:"Instagram",value:s.instagram||"",onChange:b,disabled:!l,className:"disabled:opacity-70"}),(0,y.jsx)(rr,{name:"twitter",placeholder:"Twitter/X",value:s.twitter||"",onChange:b,disabled:!l,className:"disabled:opacity-70"}),(0,y.jsx)(rr,{name:"youtube",placeholder:"YouTube",value:s.youtube||"",onChange:b,disabled:!l,className:"disabled:opacity-70"})]})]})]})]})})]})]})})]})},Bx={async changePassword(e,t){try{const{data:e,error:r}=await g.ND.auth.updateUser({password:t});return r?{data:null,error:{detail:r.message||"Erro ao alterar senha"}}:{data:e,error:null}}catch(XK){return console.error("changePassword error:",XK),{data:null,error:{detail:String(XK)}}}},async changeEmail(e,t){try{const{data:e,error:r}=await g.ND.auth.updateUser({email:t});return r?{data:null,error:{detail:r.message||"Erro ao alterar email"}}:{data:e,error:null}}catch(XK){return console.error("changeEmail error:",XK),{data:null,error:{detail:String(XK)}}}},async deleteProfile(e,t){try{return{data:null,error:{detail:"Funcionalidade em desenvolvimento"}}}catch(XK){return console.error("deleteProfile error:",XK),{data:null,error:{detail:String(XK)}}}}},Ux=()=>{const{user:e}=(0,i.A)(),[r,n]=(0,t.useState)(""),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!0);(0,t.useEffect)(()=>{f(!1)},[]);return m?(0,y.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})}):(0,y.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,y.jsx)("div",{className:"hidden md:block w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,y.jsx)(wf,{})}),(0,y.jsx)("div",{className:"flex-1",children:(0,y.jsxs)("div",{className:"max-w-2xl mx-auto p-4 md:p-8",children:[(0,y.jsxs)("h1",{className:"text-xl md:text-2xl font-bold mb-8 flex items-center gap-2 text-black",children:[(0,y.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock text-red-600",children:[(0,y.jsx)("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2"}),(0,y.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Email e senha"]}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsxs)("div",{className:"bg-white rounded-lg p-4 md:p-6 border border-gray-200",children:[(0,y.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Email"}),(0,y.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Apenas letras"}),(0,y.jsx)(rr,{type:"email",value:(null===e||void 0===e?void 0:e.email)||"",disabled:!0,className:"bg-gray-100 disabled:opacity-70"})]}),(0,y.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),h(!0);try{if(!o)return(0,S.oR)({title:"Erro",description:"Email \xe9 obrigat\xf3rio",variant:"destructive"}),void h(!1);if(o===(null===e||void 0===e?void 0:e.email))return(0,S.oR)({title:"Erro",description:"O novo email deve ser diferente do atual",variant:"destructive"}),void h(!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))return(0,S.oR)({title:"Erro",description:"Email inv\xe1lido",variant:"destructive"}),void h(!1);const{data:t,error:r}=await Bx.changeEmail(null===e||void 0===e?void 0:e.id,o);if(r)throw new Error(r.detail||r.message||"Erro ao alterar email");(0,S.oR)({title:"Sucesso!",description:"Email alterado com sucesso"}),l("")}catch(r){(0,S.oR)({title:"Erro",description:r.message||"Erro ao alterar email",variant:"destructive"})}finally{h(!1)}},className:"bg-white rounded-lg p-4 md:p-6 border border-gray-200",children:[(0,y.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alterar Email"}),(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Novo Email"}),(0,y.jsx)(rr,{type:"email",value:o,onChange:e=>l(e.target.value),placeholder:"novo.email@exemplo.com",disabled:u})]}),(0,y.jsx)(nr.$,{type:"submit",disabled:u,className:"w-full bg-red-600 hover:bg-red-700 text-white",children:u?"Salvando...":"Alterar Email"})]})]}),(0,y.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(!0);try{if(!r||!a)return(0,S.oR)({title:"Erro",description:"Todos os campos s\xe3o obrigat\xf3rios",variant:"destructive"}),void d(!1);if(r!==a)return(0,S.oR)({title:"Erro",description:"As novas senhas n\xe3o coincidem",variant:"destructive"}),void d(!1);if(r.length<6)return(0,S.oR)({title:"Erro",description:"A senha deve ter pelo menos 6 caracteres",variant:"destructive"}),void d(!1);const{data:t,error:i}=await Bx.changePassword(null===e||void 0===e?void 0:e.id,r);if(i)throw new Error(i.detail||i.message||"Erro ao alterar senha");(0,S.oR)({title:"Sucesso!",description:"Senha alterada com sucesso"}),n(""),s("")}catch(i){(0,S.oR)({title:"Erro",description:i.message||"Erro ao alterar senha",variant:"destructive"})}finally{d(!1)}},className:"bg-white rounded-lg p-4 md:p-6 border border-gray-200",children:[(0,y.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alterar Senha"}),(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),(0,y.jsx)(rr,{type:"password",value:r,onChange:e=>n(e.target.value),placeholder:"Nova senha",disabled:c})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nova Senha"}),(0,y.jsx)(rr,{type:"password",value:a,onChange:e=>s(e.target.value),placeholder:"Confirmar nova senha",disabled:c}),(0,y.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"M\xednimo 6 caracteres"})]}),(0,y.jsx)(nr.$,{type:"submit",disabled:c,className:"w-full bg-red-600 hover:bg-red-700 text-white",children:c?"Salvando...":"Alterar Senha"})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-lg p-4 md:p-6 border border-gray-200",children:[(0,y.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Deletar Perfil"}),(0,y.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Apagar o perfil \xe9 uma a\xe7\xe3o irrevers\xedvel"}),(0,y.jsx)(nr.$,{onClick:async()=>{window.confirm("Tem certeza que deseja deletar seu perfil? Esta a\xe7\xe3o \xe9 irrevers\xedvel.")&&(0,S.oR)({title:"Aviso",description:"Funcionalidade de dele\xe7\xe3o ser\xe1 implementada em breve",variant:"destructive"})},variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:"Deletar Perfil"})]})]})]})})]})};var qx=r(5746);const Vx=()=>{var e;const{user:r}=(0,i.A)(),[n,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)({subject:"",message:""}),[j,_]=(0,t.useState)(!1),[k,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{C(),E();const e=g.ND.channel("support_messages").on("postgres_changes",{event:"*",schema:"public",table:"support_messages"},()=>{C()}).subscribe();return()=>{g.ND.removeChannel(e)}},[null===r||void 0===r?void 0:r.id]);const E=async()=>{if(null!==r&&void 0!==r&&r.id)try{const{data:e}=await g.ND.storage.from("avatars").list("avatars",{limit:1,search:"".concat(r.id,"_avatar")});if(e&&e.length>0){const t=e[0],r=g.ND.storage.from("avatars").getPublicUrl("avatars/".concat(t.name)).data.publicUrl;A({avatar_url:r})}else A({id:r.id})}catch(XK){console.log("Error loading user avatar:",XK),A({id:r.id})}};(0,t.useEffect)(()=>{null!==l&&void 0!==l&&l.id&&O(l.id)},[null===l||void 0===l?void 0:l.id]);const C=async()=>{if(null===r||void 0===r||!r.id)return;const{data:e,error:t}=await g.ND.from("support_messages").select("*").eq("sender_id",r.id).order("created_at",{ascending:!1});e&&a(e),o(!1)},O=async e=>{const{data:t,error:r}=await g.ND.from("support_replies").select("*").eq("message_id",e).order("created_at",{ascending:!0});if(t){const e=t.map(e=>(0,N.A)((0,N.A)({},e),{},{senderAvatar:e.sender_avatar_url}));u(e)}};return s?(0,y.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando suporte..."})}):(0,y.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,y.jsx)(wf,{}),(0,y.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,y.jsx)("div",{className:"bg-white border-b border-gray-200 px-8 py-6",children:(0,y.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Suporte"}),(0,y.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Comunique-se diretamente com nosso time"})]}),(0,y.jsxs)(nr.$,{onClick:()=>x(!v),className:"bg-red-600 hover:bg-red-700",children:[(0,y.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Nova Conversa"]})]})}),(0,y.jsx)("div",{className:"flex-1 overflow-hidden px-8 py-6",children:(0,y.jsx)("div",{className:"max-w-6xl mx-auto h-full",children:v?(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 max-w-2xl",children:[(0,y.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-6",children:"Iniciar Nova Conversa"}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!b.subject.trim()||!b.message.trim())return void(0,S.oR)({title:"Erro",description:"Preenchera o assunto e a mensagem",variant:"destructive"});_(!0);const{data:t,error:s}=await g.ND.from("support_messages").insert({sender_id:r.id,sender_email:r.email,sender_type:"artist",subject:b.subject,message:b.message,status:"open",sender_avatar_url:(null===k||void 0===k?void 0:k.avatar_url)||null}).select().single();s?(0,S.oR)({title:"Erro ao enviar",description:s.message,variant:"destructive"}):(a([t,...n]),w({subject:"",message:""}),x(!1),(0,S.oR)({title:"Mensagem enviada",description:"O administrador responder\xe1 em at\xe9 24 horas"})),_(!1)},className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assunto"}),(0,y.jsx)(rr,{value:b.subject,onChange:e=>w((0,N.A)((0,N.A)({},b),{},{subject:e.target.value})),placeholder:"Ex: Problema com upload de m\xfasica",className:"w-full"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descri\xe7\xe3o"}),(0,y.jsx)("textarea",{value:b.message,onChange:e=>w((0,N.A)((0,N.A)({},b),{},{message:e.target.value})),placeholder:"Descreva seu problema ou d\xfavida com detalhes...",className:"w-full border border-gray-300 rounded-lg p-3 text-sm min-h-40 focus:outline-none focus:ring-2 focus:ring-red-600"})]}),(0,y.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 space-y-2",children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsx)(Jf,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-sm font-medium text-amber-900",children:"Tempo de resposta: at\xe9 24 horas"}),(0,y.jsx)("p",{className:"text-xs text-amber-700 mt-1",children:"Nossa equipe responde todas as mensagens dentro de 24 horas \xfateis. Voc\xea receber\xe1 uma notifica\xe7\xe3o quando houver uma resposta."})]})]})}),(0,y.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,y.jsx)(nr.$,{type:"submit",disabled:j,className:"bg-red-600 hover:bg-red-700",children:j?"Enviando...":"Enviar Mensagem"}),(0,y.jsx)(nr.$,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"})]})]})]}):(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[(0,y.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,y.jsx)("h2",{className:"font-semibold text-gray-900",children:"Conversas"}),(0,y.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[n.length," conversa(s)"]})]}),0===n.length?(0,y.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500 p-4",children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(bf,{className:"w-10 h-10 mx-auto mb-2 opacity-30"}),(0,y.jsx)("p",{className:"text-sm",children:"Nenhuma conversa ainda"})]})}):(0,y.jsx)("div",{className:"overflow-y-auto flex-1",children:n.map(e=>(0,y.jsxs)("button",{onClick:()=>c(e),className:"w-full text-left p-4 border-b border-gray-100 hover:bg-gray-50 transition ".concat((null===l||void 0===l?void 0:l.id)===e.id?"bg-blue-50 border-l-4 border-l-blue-600":""),children:[(0,y.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,y.jsx)("h3",{className:"font-medium text-gray-900 text-sm truncate flex-1",children:e.subject}),"resolved"===e.status&&(0,y.jsx)(pf,{className:"w-4 h-4 text-green-600 flex-shrink-0"})]}),(0,y.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:e.message}),(0,y.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,y.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===e.status?"bg-blue-100 text-blue-700":"in_progress"===e.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===e.status&&"Aberto","in_progress"===e.status&&"Em andamento","resolved"===e.status&&"Resolvido"]}),(0,y.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]})]},e.id))})]}),(0,y.jsx)("div",{className:"lg:col-span-2 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:l?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:l.subject}),(0,y.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,y.jsxs)("p",{className:"text-xs text-gray-500",children:["Iniciada ",new Date(l.created_at).toLocaleDateString("pt-BR")]}),(0,y.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===l.status?"bg-blue-100 text-blue-700":"in_progress"===l.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===l.status&&"Aberto","in_progress"===l.status&&"Em andamento","resolved"===l.status&&"Resolvido"]})]})]}),(0,y.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-50",children:[(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)("div",{className:"bg-white px-4 py-2 rounded-full text-xs text-gray-500 border border-gray-200",children:"Conversa iniciada"})}),(0,y.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,y.jsxs)("div",{className:"bg-red-600 text-white rounded-lg rounded-tr-none p-4 max-w-md",children:[(0,y.jsx)("p",{className:"text-base whitespace-pre-wrap leading-relaxed",children:l.message}),(0,y.jsx)("p",{className:"text-xs mt-3 opacity-70",children:new Date(l.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,y.jsx)("div",{className:"flex-shrink-0",children:null!==k&&void 0!==k&&k.avatar_url?(0,y.jsx)("img",{src:k.avatar_url,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-red-600"}):(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-sm",children:(null===r||void 0===r||null===(e=r.email)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})})]}),0===d.length&&"open"===l.status&&(0,y.jsxs)("div",{className:"flex justify-start gap-3",children:[(0,y.jsx)("div",{className:"flex-shrink-0",children:(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-semibold text-sm",children:"S"})}),(0,y.jsx)("div",{className:"bg-white rounded-lg rounded-tl-none p-4 max-w-md border border-gray-200",children:(0,y.jsxs)("div",{className:"flex items-start gap-2",children:[(0,y.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,y.jsx)(pf,{className:"w-5 h-5 text-green-600"})}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Mensagem recebida"}),(0,y.jsx)("p",{className:"text-sm text-gray-600 mt-2 leading-relaxed",children:"Obrigado por entrar em contato. Nossa equipe analisar\xe1 sua solicita\xe7\xe3o e entrar\xe1 em contato em at\xe9 24 horas \xfateis com uma resposta detalhada."}),(0,y.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Agora"})]})]})})]}),d.map(e=>{var t;return(0,y.jsxs)("div",{className:"flex ".concat("admin"===e.sender_type?"justify-start":"justify-end"," gap-3"),children:["admin"===e.sender_type&&(0,y.jsx)("div",{className:"flex-shrink-0",children:(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-semibold text-sm",children:"S"})}),(0,y.jsxs)("div",{className:"rounded-lg p-4 max-w-md ".concat("admin"===e.sender_type?"bg-white border border-gray-200 rounded-tl-none":"bg-red-600 text-white rounded-tr-none"),children:[(0,y.jsx)("p",{className:"text-base whitespace-pre-wrap leading-relaxed ".concat("admin"===e.sender_type?"text-gray-700":"text-white"),children:e.reply_text}),(0,y.jsx)("p",{className:"text-xs mt-3 ".concat("admin"===e.sender_type?"text-gray-500":"opacity-70"),children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),"admin"!==e.sender_type&&(0,y.jsx)("div",{className:"flex-shrink-0",children:e.senderAvatar?(0,y.jsx)("img",{src:e.senderAvatar,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-red-600"}):(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-sm",children:(null===r||void 0===r||null===(t=r.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"D"})})]},e.id)})]}),"resolved"!==l.status&&(0,y.jsx)("div",{className:"border-t border-gray-200 p-4 bg-white",children:(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)("textarea",{value:h,onChange:e=>m(e.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 border border-gray-300 rounded-lg p-3 text-sm min-h-12 max-h-32 focus:outline-none focus:ring-2 focus:ring-red-600 resize-none"}),(0,y.jsx)(nr.$,{onClick:async()=>{if(!h.trim())return void(0,S.oR)({title:"Erro",description:"Digite uma resposta",variant:"destructive"});if(null===l||void 0===l||!l.id)return;p(!0);const{error:e}=await g.ND.from("support_replies").insert({message_id:l.id,sender_id:r.id,sender_type:"artist",reply_text:h,sender_avatar_url:(null===k||void 0===k?void 0:k.avatar_url)||null});e?(0,S.oR)({title:"Erro ao enviar",description:e.message,variant:"destructive"}):(m(""),await O(l.id),(0,S.oR)({title:"Resposta enviada",description:"Seu recado foi enviado"})),p(!1)},disabled:f||!h.trim(),className:"bg-red-600 hover:bg-red-700 h-12",children:(0,y.jsx)(qx.A,{className:"w-4 h-4"})})]})})]}):(0,y.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(bf,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Selecione uma conversa para continuar"})]})})})]})})})]})]})},Wx=(0,_t.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Hx=()=>{const{user:e,logout:r}=(0,i.A)(),n=(0,s.Zp)(),{playSong:a}=w(),[o,l]=(0,t.useState)("playlists"),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[p,v]=(0,t.useState)(null),[x,b]=(0,t.useState)([]),[j,_]=(0,t.useState)(""),[k,A]=(0,t.useState)("recent"),[E,C]=(0,t.useState)(!1),[O,P]=(0,t.useState)({title:"",description:"",isPrivate:!1,coverImage:null}),[D,T]=(0,t.useState)(null),[R,I]=(0,t.useState)(!1),M=(0,t.useRef)(null),[L,z]=(0,t.useState)(!1),[F,B]=(0,t.useState)(null),[U,q]=(0,t.useState)(""),[V,W]=(0,t.useState)([]),[H,K]=(0,t.useState)([]),[$,G]=(0,t.useState)(!1),[Y,J]=(0,t.useState)([]),[X,Z]=(0,t.useState)(null),[Q,ee]=(0,t.useState)(!1),[te,re]=(0,t.useState)(null),[ne,ae]=(0,t.useState)({title:"",description:"",isPrivate:!1}),[se,ie]=(0,t.useState)(null),[oe,le]=(0,t.useState)(null),[ce,de]=(0,t.useState)(!1),ue=(0,t.useRef)(null),[he,me]=(0,t.useState)([]),[fe,pe]=(0,t.useState)(!1),[ge,ve]=(0,t.useState)(null),[xe,ye]=(0,t.useState)("musicas"),[be,we]=(0,t.useState)(""),[je,Ne]=(0,t.useState)("recent"),[_e,Se]=(0,t.useState)("recent"),[ke,Ae]=(0,t.useState)({musicas:[],albums:[],playlists:[]}),[Ee,Ce]=(0,t.useState)(""),[Oe,Pe]=(0,t.useState)((null===e||void 0===e?void 0:e.email)||""),[De,Te]=(0,t.useState)(""),[Re,Ie]=(0,t.useState)(""),[Me,Le]=(0,t.useState)(""),[ze,Fe]=(0,t.useState)({current:!1,new:!1,confirm:!1}),[Be,Ue]=(0,t.useState)(!1),[qe,Ve]=(0,t.useState)([]),[We,He]=(0,t.useState)(null),[Ke,$e]=(0,t.useState)([]),[Ge,Ye]=(0,t.useState)(""),[Je,Xe]=(0,t.useState)(!1),[Ze,Qe]=(0,t.useState)(!1),[et,tt]=(0,t.useState)({subject:"",message:""}),[rt,nt]=(0,t.useState)(!1);(0,t.useEffect)(()=>{var t,r;null!==e&&void 0!==e&&null!==(t=e.user_metadata)&&void 0!==t&&t.avatar_url?v(e.user_metadata.avatar_url):v("/images/default-avatar.png"),null!==e&&void 0!==e&&null!==(r=e.user_metadata)&&void 0!==r&&r.full_name&&Ce(e.user_metadata.full_name)},[e]),(0,t.useEffect)(()=>{"playlists"===o?(at(),st()):"favoritos"===o?ct():"suporte"===o&&xt()},[o]);const at=async()=>{try{f(!0);let t=g.ND.from("playlists").select("*").eq("user_id",e.id);"recent"===k?t=t.order("created_at",{ascending:!1}):"oldest"===k?t=t.order("created_at",{ascending:!0}):"played"===k&&(t=t.order("play_count",{ascending:!1}));const{data:r,error:n}=await t;if(n)throw n;b(r||[])}catch(t){console.error("Erro ao carregar playlists:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel carregar as playlists",variant:"destructive"})}finally{f(!1)}},st=async()=>{try{const{data:e}=await g.ND.from("albums").select("id, title, artist_name, cover_url").order("created_at",{ascending:!1}).limit(10);W(e||[])}catch(e){console.error("Erro ao carregar \xe1lbuns recentes:",e)}},it=async e=>{Z(e);try{const{data:t}=await g.ND.from("songs").select("id, title, artist_name, cover_url").eq("album_id",e.id).order("track_number",{ascending:!0});J(t||[])}catch(t){console.error("Erro ao carregar m\xfasicas do \xe1lbum:",t)}},ot=async(e,t)=>{if(t&&t.stopPropagation(),re(e),ae({title:e.title,description:e.description||"",isPrivate:!e.is_public}),le(e.cover_url),ie(null),ee(!0),e.song_ids&&e.song_ids.length>0){const{data:t}=await g.ND.from("songs").select("id, title, artist_name, cover_url").in("id",e.song_ids);if(t){const r=e.song_ids.map(e=>t.find(t=>t.id===e)).filter(Boolean);me(r)}}else me([])},lt=x.filter(e=>e.title.toLowerCase().includes(j.toLowerCase())),ct=async()=>{try{var t;f(!0);let r=null;const{data:n}=await g.ND.from("music_favorites").select("\n                    music_id,\n                    created_at,\n                    songs:music_id (\n                        id,\n                        title,\n                        artist_name,\n                        cover_url,\n                        duration,\n                        artist_id,\n                        album_id,\n                        plays,\n                        audio_url,\n                        artist:artist_id (\n                            id,\n                            is_verified,\n                            slug\n                        )\n                    )\n                ").eq("user_id",e.id).order("created_at",{ascending:!1});if(n&&n.length>0)r=n.map(e=>({song_id:e.music_id,created_at:e.created_at,songs:e.songs}));else{const{data:t}=await g.ND.from("favorites").select("\n                        songId,\n                        createdAt,\n                        songs:songId (\n                            id,\n                            title,\n                            artist_name,\n                            cover_url,\n                            duration,\n                            artist_id,\n                            album_id,\n                            plays,\n                            audio_url,\n                            artist:artist_id (\n                                id,\n                                is_verified,\n                                slug\n                            )\n                        )\n                    ").eq("userId",e.id).order("createdAt",{ascending:!1});r=t&&t.length>0?t.map(e=>({song_id:e.songId,created_at:e.createdAt,songs:e.songs})):[]}let a=null;const{data:s}=await g.ND.from("album_favorites").select("album_id").eq("user_id",e.id);if(s&&s.length>0)a=s;else{const{data:t}=await g.ND.from("album_favorites").select("albumId").eq("userId",e.id);a=t}const i=(null===(t=a)||void 0===t?void 0:t.map(e=>e.album_id||e.albumId))||[];let o=[];if(i.length>0){const{data:e}=await g.ND.from("albums").select("\n                        *,\n                        artist:artist_id (\n                            id,\n                            slug,\n                            is_verified\n                        )\n                    ").in("id",i).order("created_at",{ascending:!1});o=e||[]}let l=null;const{data:c}=await g.ND.from("playlist_favorites").select("playlist_id").eq("user_id",e.id).order("created_at",{ascending:!1});let d=[];if(c&&c.length>0)d=c.map(e=>e.playlist_id);else{const{data:t}=await g.ND.from("playlist_favorites").select("playlistId").eq("userId",e.id).order("createdAt",{ascending:!1});t&&t.length>0&&(d=t.map(e=>e.playlistId))}if(d.length>0){const{data:e}=await g.ND.from("playlists").select("\n                        id, \n                        user_id, \n                        slug, \n                        title, \n                        description, \n                        cover_url, \n                        is_public, \n                        song_ids, \n                        play_count, \n                        created_at, \n                        updated_at\n                    ").in("id",d).order("created_at",{ascending:!1});l=e||[]}else l=[];Ae({musicas:r||[],albums:o,playlists:l||[]})}catch(r){console.error("Erro ao carregar favoritos:",r),(0,S.oR)({title:"Erro",description:"Erro ao carregar favoritos",variant:"destructive"})}finally{f(!1)}},dt=async(t,r)=>{try{if("musica"===t){let t=null;const{error:n}=await g.ND.from("music_favorites").delete().eq("user_id",e.id).eq("music_id",r);if(n){const{error:n}=await g.ND.from("favorites").delete().eq("userId",e.id).eq("songId",r);t=n}if(t)throw t;Ae(e=>(0,N.A)((0,N.A)({},e),{},{musicas:e.musicas.filter(e=>(e.song_id||e.songId)!==r)})),(0,S.oR)({title:"Sucesso",description:"M\xfasica removida dos favoritos"})}else if("album"===t){let t=null;const{error:n}=await g.ND.from("album_favorites").delete().eq("user_id",e.id).eq("album_id",r);if(n){const{error:n}=await g.ND.from("album_favorites").delete().eq("userId",e.id).eq("albumId",r);t=n}if(t)throw t;Ae(e=>(0,N.A)((0,N.A)({},e),{},{albums:e.albums.filter(e=>e.id!==r)})),(0,S.oR)({title:"Sucesso",description:"\xc1lbum removido dos favoritos"})}else if("playlist"===t){const{error:t}=await g.ND.from("playlist_favorites").delete().eq("user_id",e.id).eq("playlist_id",r);if(t)throw t;Ae(e=>(0,N.A)((0,N.A)({},e),{},{playlists:e.playlists.filter(e=>e.id!==r)})),(0,S.oR)({title:"Sucesso",description:"Playlist removida dos favoritos"})}}catch(n){console.error("Error removing favorite:",n),(0,S.oR)({title:"Erro",description:n.message||"Erro ao remover dos favoritos",variant:"destructive"})}},ut=(e,t)=>e.filter(e=>{const r=be.toLowerCase();if("songs"===t){const t=e.songs;return(null===t||void 0===t?void 0:t.title.toLowerCase().includes(r))||(null===t||void 0===t?void 0:t.artist_name.toLowerCase().includes(r))}var n,a,s;return"albums"===t?(null===(n=e.title)||void 0===n?void 0:n.toLowerCase().includes(r))||(null===(a=e.artist_name)||void 0===a?void 0:a.toLowerCase().includes(r)):"playlists"!==t||(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(r))}),ht=(e,t)=>{var r;const n=[...e];return"plays"===t?null!==(r=e[0])&&void 0!==r&&r.songs?n.sort((e,t)=>{var r,n;return((null===(r=t.songs)||void 0===r?void 0:r.plays)||0)-((null===(n=e.songs)||void 0===n?void 0:n.plays)||0)}):n.sort((e,t)=>(t.play_count||0)-(e.play_count||0)):n.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))},mt=ut(ke.musicas,"songs"),ft=ut(ke.albums,"albums"),pt=ut(ke.playlists,"playlists"),gt=ht(mt,je),vt=ht(ft,_e),xt=async()=>{try{f(!0);const{data:t,error:r}=await g.ND.from("support_messages").select("*").eq("user_id",null===e||void 0===e?void 0:e.id).order("created_at",{ascending:!1});if(r)return console.error("Erro ao carregar mensagens:",r),void f(!1);Ve(t||[])}catch(XK){console.error("Erro ao carregar mensagens:",XK)}finally{f(!1)}},yt=async e=>{try{const{data:t,error:r}=await g.ND.from("support_replies").select("*").eq("support_message_id",e).order("created_at",{ascending:!0});if(r)return void console.error("Erro ao carregar respostas:",r);$e(t||[])}catch(XK){console.error("Erro ao carregar respostas:",XK)}};return(0,y.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,y.jsx)(Id,{}),(0,y.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,y.jsxs)("div",{className:"fixed lg:static inset-0 z-50 lg:z-0 transition-all ".concat(u?"block":"hidden lg:block"),children:[(0,y.jsx)("div",{onClick:()=>h(!1),className:"lg:hidden absolute inset-0 bg-black/50"}),(0,y.jsx)("div",{className:"relative w-64 bg-white h-screen border-r border-gray-200 overflow-y-auto",children:(0,y.jsxs)("div",{className:"p-6",children:[(0,y.jsx)("button",{onClick:()=>h(!1),className:"lg:hidden mb-4",children:(0,y.jsx)(St,{className:"w-6 h-6"})}),(0,y.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,y.jsx)("img",{src:p||"/images/default-avatar.png",alt:"Avatar",className:"w-12 h-12 rounded-full object-cover bg-gray-200",onError:e=>e.target.src="/images/default-avatar.png"}),(0,y.jsxs)("div",{className:"min-w-0",children:[(0,y.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:Ee||"Usu\xe1rio"}),(0,y.jsx)("p",{className:"text-xs text-gray-600 truncate",children:null===e||void 0===e?void 0:e.email})]})]}),(0,y.jsxs)("nav",{className:"space-y-2",children:[[{id:"playlists",label:"Minhas Playlists",icon:Qt},{id:"favoritos",label:"Favoritos",icon:Zt},{id:"suporte",label:"Suporte",icon:zd.A},{id:"configuracoes",label:"Configura\xe7\xf5es",icon:Kt}].map(e=>{const t=e.icon;return(0,y.jsxs)("button",{onClick:()=>{l(e.id),h(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ".concat(o===e.id?"bg-red-50 text-red-600 font-semibold":"text-gray-700 hover:bg-gray-100"),children:[(0,y.jsx)(t,{className:"w-5 h-5"}),e.label]},e.id)}),(0,y.jsxs)("button",{onClick:()=>{r(),n("/")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors mt-8",children:[(0,y.jsx)($t,{className:"w-5 h-5"}),"Sair"]})]})]})})]}),(0,y.jsx)("main",{className:"flex-1",children:(0,y.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,y.jsx)("button",{onClick:()=>h(!0),className:"lg:hidden mb-4 p-2",children:(0,y.jsx)(Wx,{className:"w-6 h-6"})}),"playlists"===o&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,y.jsxs)("h2",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,y.jsx)(Qt,{className:"w-8 h-8 text-red-600"}),"Minhas Playlists"]}),(0,y.jsxs)(nr.$,{onClick:()=>C(!0),className:"bg-red-600 hover:bg-red-700 text-white rounded-full",children:[(0,y.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Nova Playlist"]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-8 gap-4",children:[(0,y.jsxs)("div",{className:"flex-1 relative",children:[(0,y.jsx)(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,y.jsx)(rr,{type:"text",placeholder:"Buscar Playlists",value:j,onChange:e=>_(e.target.value),className:"pl-10 rounded-full border-gray-300"})]}),(0,y.jsxs)(ac,{modal:!1,children:[(0,y.jsxs)(sc,{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors whitespace-nowrap",children:[(0,y.jsx)(Th,{className:"w-4 h-4"}),"Filtros",(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),(0,y.jsx)(oc,{align:"end",className:"bg-white",children:[{value:"recent",label:"MAIS RECENTES"},{value:"played",label:"MAIS OUVIDAS"},{value:"oldest",label:"MAIS ANTIGOS"}].map(e=>(0,y.jsx)(lc,{onClick:()=>{A(e.value),at()},className:"cursor-pointer ".concat(k===e.value?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.value))})]})]}),m?(0,y.jsx)("div",{className:"flex justify-center py-12",children:(0,y.jsx)(mc,{className:"w-8 h-8 animate-spin text-gray-400"})}):0===lt.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Md,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhuma playlist criada"}),(0,y.jsx)("p",{className:"text-gray-600",children:'Clique em "Nova Playlist" para come\xe7ar'})]}):(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:lt.map(e=>(0,y.jsx)(ph,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>ot(e),children:(0,y.jsxs)("div",{className:"flex items-center gap-4",children:[(0,y.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-16 h-16 rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.title}),(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.song_ids||[]).length," m\xfasicas"]}),!e.is_public&&(0,y.jsx)("span",{className:"text-xs text-red-500",children:"Privada"})]}),(0,y.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,y.jsx)(nr.$,{variant:"outline",size:"icon",onClick:t=>ot(e,t),className:"h-8 w-8 border-gray-300 text-gray-600 hover:bg-gray-50",children:(0,y.jsx)(Qf,{className:"w-4 h-4"})}),(0,y.jsx)(nr.$,{variant:"outline",size:"icon",onClick:t=>{t.stopPropagation(),ve(e),pe(!0)},className:"h-8 w-8 border-red-300 text-red-600 hover:bg-red-50",children:(0,y.jsx)(uc.A,{className:"w-4 h-4"})})]})]})},e.id))})]}),"favoritos"===o&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[(0,y.jsx)(Zt,{className:"w-8 h-8 text-red-600 fill-red-600"}),"Favoritos"]}),(0,y.jsx)("p",{className:"text-gray-600 mb-8",children:"Suas m\xfasicas, \xe1lbuns e playlists favoritas"}),(0,y.jsxs)("div",{className:"flex gap-8 mb-8 border-b border-gray-300",children:[(0,y.jsxs)("button",{onClick:()=>ye("musicas"),className:"pb-4 font-semibold text-lg ".concat("musicas"===xe?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["M\xdaSICAS (",mt.length,")"]}),(0,y.jsxs)("button",{onClick:()=>ye("albums"),className:"pb-4 font-semibold text-lg ".concat("albums"===xe?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["\xc1LBUNS (",ft.length,")"]}),(0,y.jsxs)("button",{onClick:()=>ye("playlists"),className:"pb-4 font-semibold text-lg ".concat("playlists"===xe?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["PLAYLISTS (",pt.length,")"]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-8 gap-4",children:[(0,y.jsxs)("div",{className:"flex-1 relative",children:[(0,y.jsx)(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,y.jsx)(rr,{type:"text",placeholder:"musicas"===xe?"Buscar M\xfasicas":"albums"===xe?"Buscar \xc1lbuns":"Buscar Playlists",value:be,onChange:e=>we(e.target.value),className:"pl-10 rounded-full border-gray-300"})]}),("musicas"===xe||"albums"===xe)&&(0,y.jsxs)(ac,{modal:!1,children:[(0,y.jsxs)(sc,{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors whitespace-nowrap",children:[(0,y.jsx)(Th,{className:"w-4 h-4"}),"Filtros",(0,y.jsx)(Wt,{className:"w-4 h-4"})]}),(0,y.jsx)(oc,{align:"end",className:"bg-white",children:[{id:"recent",label:"MAIS RECENTES"},{id:"plays",label:"MAIS OUVIDAS"}].map(e=>(0,y.jsx)(lc,{onClick:()=>{"musicas"===xe?Ne(e.id):Se(e.id)},className:"cursor-pointer ".concat(("musicas"===xe?je:_e)===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),m?(0,y.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsxs)("div",{children:["musicas"===xe&&(0,y.jsx)("div",{children:0===gt.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Md,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 text-lg",children:be?"Nenhuma m\xfasica encontrada":"Nenhuma m\xfasica favorita ainda"})]}):(0,y.jsx)("div",{className:"space-y-2",children:gt.map(e=>(0,y.jsx)(Tg,{song:e,onRemove:()=>dt("musica",e.song_id),onPlay:()=>{var t,r,n,s,i,o,l,c,d;const u={id:null===(t=e.songs)||void 0===t?void 0:t.id,title:null===(r=e.songs)||void 0===r?void 0:r.title,artist_name:null===(n=e.songs)||void 0===n?void 0:n.artist_name,artistName:null===(s=e.songs)||void 0===s?void 0:s.artist_name,cover_url:null===(i=e.songs)||void 0===i?void 0:i.cover_url,coverImage:null===(o=e.songs)||void 0===o?void 0:o.cover_url,duration:null===(l=e.songs)||void 0===l?void 0:l.duration,audioUrl:null===(c=e.songs)||void 0===c?void 0:c.audio_url,albumId:null===(d=e.songs)||void 0===d?void 0:d.album_id};a(u,[u])}},e.song_id))})}),"albums"===xe&&(0,y.jsx)("div",{children:0===vt.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Sh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 text-lg",children:be?"Nenhum \xe1lbum encontrado":"Nenhum \xe1lbum favorito ainda"})]}):(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:vt.map(e=>{var t;return(0,y.jsxs)("div",{className:"group cursor-pointer",onClick:()=>{var t;const r=(null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,a=e.slug||e.id;n("/".concat(r,"/").concat(a))},children:[(0,y.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg bg-gray-200",children:[e.cover_url&&(0,y.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-full aspect-square object-cover group-hover:scale-105 transition-transform duration-300"}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,y.jsxs)("div",{className:"space-y-1",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 truncate text-xs",children:e.title}),(0,y.jsxs)("div",{className:"flex items-center gap-1",children:[(0,y.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.artist_name}),(null===(t=e.artist)||void 0===t?void 0:t.is_verified)&&(0,y.jsx)(Ah.A,{className:"w-3 h-3 text-blue-500 flex-shrink-0"})]})]}),(0,y.jsxs)("button",{onClick:t=>{t.stopPropagation(),dt("album",e.id)},className:"mt-2 w-full text-xs text-red-600 hover:bg-red-50 py-2 rounded transition-colors flex items-center justify-center gap-1 font-medium",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4"}),"Remover"]})]},e.id)})})}),"playlists"===xe&&(0,y.jsx)("div",{children:0===pt.length?(0,y.jsxs)("div",{className:"text-center py-12",children:[(0,y.jsx)(Qt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 text-lg",children:be?"Nenhuma playlist encontrada":"Nenhuma playlist favorita ainda"})]}):(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:pt.map(e=>{var t;return(0,y.jsxs)("div",{className:"group cursor-pointer",children:[(0,y.jsxs)("div",{className:"relative mb-3 rounded-lg overflow-hidden bg-gradient-to-br from-red-600 to-red-800 cursor-pointer",onClick:()=>{n("/playlist/".concat(e.slug||e.id))},children:[(0,y.jsx)("div",{className:"aspect-square flex items-center justify-center",children:(0,y.jsx)(Qt,{className:"w-16 h-16 text-white opacity-20"})}),(0,y.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,y.jsx)(Gd,{className:"w-5 h-5 text-red-600 ml-1",fill:"#dc2626"})})})]}),(0,y.jsxs)("div",{className:"space-y-1",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 truncate text-xs",children:e.title}),(0,y.jsxs)("p",{className:"text-xs text-gray-600",children:[(null===(t=e.song_ids)||void 0===t?void 0:t.length)||0," m\xfasicas"]})]}),(0,y.jsxs)("button",{onClick:t=>{t.stopPropagation(),dt("playlist",e.id)},className:"mt-2 w-full text-xs text-red-600 hover:bg-red-50 py-2 rounded transition-colors flex items-center justify-center gap-1 font-medium",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4"}),"Remover"]})]},e.id)})})})]})]}),"suporte"===o&&(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Suporte"}),(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[600px]",children:[(0,y.jsxs)("div",{className:"lg:col-span-1 bg-white rounded-lg shadow overflow-hidden flex flex-col",children:[(0,y.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,y.jsxs)(nr.$,{onClick:()=>Qe(!Ze),className:"w-full bg-red-600 hover:bg-red-700 text-white",children:[(0,y.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Nova Mensagem"]})}),(0,y.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[Ze?(0,y.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),et.subject.trim()&&et.message.trim()){nt(!0);try{const{error:t}=await g.ND.from("support_messages").insert([{user_id:e.id,subject:et.subject,message:et.message,status:"open"}]);if(t)throw t;(0,S.oR)({title:"Sucesso",description:"Mensagem enviada com sucesso"}),tt({subject:"",message:""}),Qe(!1),await xt()}catch(r){console.error("Erro ao enviar mensagem:",r),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel enviar a mensagem",variant:"destructive"})}finally{nt(!1)}}else(0,S.oR)({title:"Erro",description:"Preencha todos os campos",variant:"destructive"})},className:"space-y-4",children:[(0,y.jsx)("input",{type:"text",value:et.subject,onChange:e=>tt((0,N.A)((0,N.A)({},et),{},{subject:e.target.value})),placeholder:"Assunto",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm"}),(0,y.jsx)("textarea",{value:et.message,onChange:e=>tt((0,N.A)((0,N.A)({},et),{},{message:e.target.value})),placeholder:"Mensagem",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm resize-none",rows:"4"}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)(nr.$,{type:"submit",disabled:rt,className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-sm",children:"Enviar"}),(0,y.jsx)(nr.$,{type:"button",variant:"outline",onClick:()=>Qe(!1),className:"flex-1 text-sm",children:"Cancelar"})]})]})}):null,qe.map(e=>(0,y.jsxs)("div",{onClick:()=>{He(e),yt(e.id)},className:"p-4 border-b border-gray-200 cursor-pointer transition-colors ".concat((null===We||void 0===We?void 0:We.id)===e.id?"bg-red-50":"hover:bg-gray-50"),children:[(0,y.jsx)("p",{className:"font-semibold text-sm text-gray-900 truncate",children:e.subject}),(0,y.jsx)("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,y.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,y.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===e.status?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:"open"===e.status?"Aberto":"Resolvido"}),(0,y.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]})]},e.id))]})]}),(0,y.jsx)("div",{className:"lg:col-span-2 bg-white rounded-lg shadow overflow-hidden flex flex-col",children:We?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-semibold text-gray-900",children:We.subject}),(0,y.jsx)("p",{className:"text-sm text-gray-600",children:new Date(We.created_at).toLocaleDateString("pt-BR")})]}),(0,y.jsx)("span",{className:"text-xs px-3 py-1 rounded ".concat("open"===We.status?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:"open"===We.status?"Aberto":"Resolvido"})]}),(0,y.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,y.jsx)("div",{className:"flex justify-end gap-3",children:(0,y.jsxs)("div",{className:"bg-red-600 text-white rounded-lg rounded-tr-none px-3 py-2 max-w-xs",children:[(0,y.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:We.message}),(0,y.jsx)("p",{className:"text-xs mt-2 opacity-70",children:new Date(We.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),0===Ke.length&&"open"===We.status&&(0,y.jsx)("div",{className:"flex justify-start gap-3",children:(0,y.jsxs)("div",{className:"bg-gray-200 text-gray-900 rounded-lg rounded-tl-none px-3 py-2 max-w-xs",children:[(0,y.jsx)("p",{className:"text-sm",children:"Obrigado por entrar em contato! Um administrador responder\xe1 em breve."}),(0,y.jsx)("p",{className:"text-xs mt-2 text-gray-600",children:(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),Ke.map(e=>(0,y.jsx)("div",{className:"flex ".concat(e.is_admin_reply?"justify-start":"justify-end"," gap-3"),children:e.is_admin_reply?(0,y.jsxs)("div",{className:"bg-gray-200 text-gray-900 rounded-lg rounded-tl-none px-3 py-2 max-w-xs",children:[(0,y.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:e.reply_text}),(0,y.jsx)("p",{className:"text-xs mt-2 text-gray-600",children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}):(0,y.jsxs)("div",{className:"bg-red-600 text-white rounded-lg rounded-tr-none px-3 py-2 max-w-xs",children:[(0,y.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:e.reply_text}),(0,y.jsx)("p",{className:"text-xs mt-2 opacity-70",children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},e.id))]}),"resolved"!==We.status&&(0,y.jsx)("div",{className:"border-t border-gray-200 p-4 bg-white",children:(0,y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),Ge.trim()&&null!==We&&void 0!==We&&We.id){Xe(!0);try{const{error:t}=await g.ND.from("support_replies").insert([{support_message_id:We.id,user_id:e.id,reply_text:Ge.trim(),is_admin_reply:!1}]);if(t)throw t;Ye(""),await yt(We.id),(0,S.oR)({title:"Sucesso",description:"Mensagem enviada com sucesso"})}catch(r){console.error("Erro ao enviar resposta:",r),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel enviar a resposta",variant:"destructive"})}finally{Xe(!1)}}},className:"flex gap-3",children:[(0,y.jsx)("input",{type:"text",value:Ge,onChange:e=>Ye(e.target.value),placeholder:"Digite sua resposta...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 text-sm"}),(0,y.jsx)(nr.$,{type:"submit",disabled:Je||!Ge.trim(),className:"bg-red-600 hover:bg-red-700 text-white disabled:opacity-50",children:(0,y.jsx)(qx.A,{className:"w-4 h-4"})})]})})]}):(0,y.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(zd.A,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,y.jsx)("p",{className:"text-sm",children:"Selecione uma conversa"})]})})})]})]}),"configuracoes"===o&&(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,y.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Configura\xe7\xf5es"}),(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsx)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:(0,y.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,y.jsxs)("div",{className:"relative group",children:[(0,y.jsx)("img",{src:p||"/images/default-avatar.png",alt:"Avatar",className:"w-24 h-24 rounded-full object-cover bg-gray-200",onError:e=>e.target.src="/images/default-avatar.png"}),(0,y.jsx)("label",{htmlFor:"avatar-input",className:"absolute bottom-0 right-0 bg-red-600 p-2 rounded-full cursor-pointer hover:bg-red-700 transition-colors opacity-0 group-hover:opacity-100 transform",children:(0,y.jsx)(_f,{className:"w-4 h-4 text-white"})})]}),(0,y.jsx)("input",{id:"avatar-input",type:"file",accept:"image/*",onChange:async t=>{var r;const n=null===(r=t.target.files)||void 0===r?void 0:r[0];if(n)if(n.type.startsWith("image/"))if(n.size>5242880)(0,S.oR)({title:"Erro",description:"A imagem deve ser menor que 5MB",variant:"destructive"});else try{Ue(!0);const t=n.name.split(".").pop(),r="".concat(e.id,"-").concat(Date.now(),".").concat(t),a="avatars/".concat(r),{error:s}=await g.ND.storage.from("user-avatars").upload(a,n,{upsert:!0});if(s)throw s;const{data:i}=g.ND.storage.from("user-avatars").getPublicUrl(a),o=i.publicUrl,{error:l}=await g.ND.auth.updateUser({data:{avatar_url:o}});if(l)throw l;v(o),(0,S.oR)({title:"Sucesso",description:"Avatar atualizado com sucesso"})}catch(a){console.error("Erro ao atualizar avatar:",a),(0,S.oR)({title:"Erro",description:a.message||"N\xe3o foi poss\xedvel atualizar o avatar",variant:"destructive"})}finally{Ue(!1)}else(0,S.oR)({title:"Erro",description:"Por favor, selecione uma imagem",variant:"destructive"})},disabled:Be,className:"hidden"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Foto de Perfil"}),(0,y.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Clique no \xedcone da c\xe2mera para alterar sua foto"}),(0,y.jsx)("label",{htmlFor:"avatar-input",className:"inline-block px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Be?"Enviando...":"Selecionar Foto"})]})]})}),(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,y.jsx)(Kt,{className:"w-5 h-5 text-red-600"}),"Nome da Conta"]}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),Ee.trim())try{const{error:e}=await g.ND.auth.updateUser({data:{full_name:Ee}});if(e)throw e;(0,S.oR)({title:"Sucesso",description:"Nome da conta atualizado com sucesso"})}catch(t){console.error("Erro ao atualizar nome:",t),(0,S.oR)({title:"Erro",description:t.message,variant:"destructive"})}else(0,S.oR)({title:"Erro",description:"Nome da conta n\xe3o pode estar vazio",variant:"destructive"})},className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),(0,y.jsx)("input",{type:"text",value:Ee,onChange:e=>Ce(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600",placeholder:"Digite seu nome"})]}),(0,y.jsx)(nr.$,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white",children:"Salvar Nome"})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,y.jsx)(Fd,{className:"w-5 h-5 text-red-600"}),"Email"]}),(0,y.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{error:e}=await g.ND.auth.updateUser({email:Oe});if(e)throw e;(0,S.oR)({title:"Sucesso",description:"Email atualizado. Verifique o novo email para confirmar."})}catch(t){console.error("Erro ao atualizar email:",t),(0,S.oR)({title:"Erro",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Atual"}),(0,y.jsx)("input",{type:"email",value:Oe,onChange:e=>Pe(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"})]}),(0,y.jsx)(nr.$,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white",children:"Atualizar Email"}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Um link de confirma\xe7\xe3o ser\xe1 enviado para o novo email."})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,y.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,y.jsx)(Nh,{className:"w-5 h-5 text-red-600"}),"Alterar Senha"]}),(0,y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),De&&Re&&Me)if(Re===Me)try{const{error:t}=await g.ND.auth.signInWithPassword({email:e.email,password:De});if(t)return void(0,S.oR)({title:"Erro",description:"Senha atual incorreta",variant:"destructive"});const{error:r}=await g.ND.auth.updateUser({password:Re});if(r)throw r;(0,S.oR)({title:"Sucesso",description:"Senha atualizada com sucesso"}),Te(""),Ie(""),Le("")}catch(r){console.error("Erro ao atualizar senha:",r),(0,S.oR)({title:"Erro",description:r.message,variant:"destructive"})}else(0,S.oR)({title:"Erro",description:"As novas senhas n\xe3o conferem",variant:"destructive"});else(0,S.oR)({title:"Erro",description:"Preencha todos os campos",variant:"destructive"})},className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha Atual"}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("input",{type:ze.current?"text":"password",value:De,onChange:e=>Te(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"}),(0,y.jsx)("button",{type:"button",onClick:()=>Fe(e=>(0,N.A)((0,N.A)({},e),{},{current:!e.current})),className:"absolute right-3 top-2.5 text-gray-500",children:ze.current?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Senha"}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("input",{type:ze.new?"text":"password",value:Re,onChange:e=>Ie(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"}),(0,y.jsx)("button",{type:"button",onClick:()=>Fe(e=>(0,N.A)((0,N.A)({},e),{},{new:!e.new})),className:"absolute right-3 top-2.5 text-gray-500",children:ze.new?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nova Senha"}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("input",{type:ze.confirm?"text":"password",value:Me,onChange:e=>Le(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"}),(0,y.jsx)("button",{type:"button",onClick:()=>Fe(e=>(0,N.A)((0,N.A)({},e),{},{confirm:!e.confirm})),className:"absolute right-3 top-2.5 text-gray-500",children:ze.confirm?(0,y.jsx)(fc,{className:"w-4 h-4"}):(0,y.jsx)(pc,{className:"w-4 h-4"})})]})]}),(0,y.jsx)(nr.$,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white",children:"Atualizar Senha"})]})]})]})]})})]})})]}),(0,y.jsx)(eh,{}),(0,y.jsx)("div",{className:"h-20 md:hidden"}),(0,y.jsx)(Nd,{open:E,onOpenChange:C,children:(0,y.jsxs)(kd,{className:"max-w-lg",children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Criar Nova Playlist"})}),(0,y.jsxs)("div",{className:"py-4",children:[(0,y.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,y.jsxs)("div",{onClick:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 bg-red-500 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-red-600 transition-colors flex-shrink-0",children:[D?(0,y.jsx)("img",{src:D,alt:"Capa",className:"w-full h-full object-cover rounded-lg"}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Md,{className:"w-10 h-10 text-white mb-2"}),(0,y.jsx)("span",{className:"text-white text-xs text-center px-2",children:"Adicionar capa"})]}),(0,y.jsx)("input",{ref:M,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){P((0,N.A)((0,N.A)({},O),{},{coverImage:t}));const e=new FileReader;e.onloadend=()=>T(e.result),e.readAsDataURL(t)}},className:"hidden"})]}),(0,y.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,y.jsx)(rr,{placeholder:"T\xedtulo da playlist",value:O.title,onChange:e=>P((0,N.A)((0,N.A)({},O),{},{title:e.target.value})),maxLength:100}),(0,y.jsx)(xf,{placeholder:"Descri\xe7\xe3o",value:O.description,onChange:e=>P((0,N.A)((0,N.A)({},O),{},{description:e.target.value})),rows:3,className:"bg-gray-100 border-0"})]})]}),(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Tamanho m\xe1ximo da imagem 500x500 px."}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Carregue apenas imagens pr\xf3prias ou sobre as quais voc\xea legalmente det\xe9m os direitos."})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,y.jsx)("span",{className:"text-gray-700",children:"Tornar a playlist privada?"}),(0,y.jsx)("button",{onClick:()=>P((0,N.A)((0,N.A)({},O),{},{isPrivate:!O.isPrivate})),className:"w-12 h-6 rounded-full transition-colors ".concat(O.isPrivate?"bg-red-600":"bg-gray-300"),children:(0,y.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform ".concat(O.isPrivate?"translate-x-6":"translate-x-0.5")})})]}),(0,y.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,y.jsx)(nr.$,{variant:"outline",onClick:()=>C(!1),children:"Cancelar"}),(0,y.jsxs)(nr.$,{onClick:async()=>{if(!O.title||O.title.length<5)(0,S.oR)({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{I(!0);try{let t=null;if(O.coverImage){const r=O.coverImage.name.split(".").pop(),n="playlists/".concat(e.id,"/").concat(Date.now(),".").concat(r),{error:a}=await g.ND.storage.from("music").upload(n,O.coverImage,{upsert:!0});if(!a){const{data:{publicUrl:e}}=g.ND.storage.from("music").getPublicUrl(n);t=e}}const r=(e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())(O.title),{data:n,error:a}=await g.ND.from("playlists").insert({user_id:e.id,slug:r,title:O.title,description:O.description,cover_url:t,is_public:!O.isPrivate,song_ids:[],play_count:0}).select().single();if(a)throw a;(0,S.oR)({title:"Playlist criada!",description:'"'.concat(O.title,'" foi criada com sucesso')}),b([n,...x]),C(!1),P({title:"",description:"",isPrivate:!1,coverImage:null}),T(null),B(n),z(!0)}catch(t){console.error("Erro ao criar playlist:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel criar a playlist",variant:"destructive"})}finally{I(!1)}}},disabled:R,className:"bg-red-600 hover:bg-red-700 text-white px-8",children:[R?(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin mr-2"}):null,"CRIAR PLAYLIST"]})]})]})]})}),(0,y.jsx)(Nd,{open:L,onOpenChange:z,children:(0,y.jsxs)(kd,{className:"max-w-md bg-zinc-900 text-white border-zinc-800",children:[(0,y.jsx)(Ad,{children:(0,y.jsxs)(Cd,{className:"text-white flex items-center gap-2",children:[(0,y.jsx)("button",{onClick:()=>{X?(Z(null),J([])):z(!1)},children:"\u2190"}),X?X.title:"Adicionar a esta playlist"]})}),(0,y.jsxs)("div",{className:"relative mb-4",children:[(0,y.jsx)(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,y.jsx)(rr,{placeholder:"Buscar",value:U,onChange:e=>{q(e.target.value),(async e=>{if(!e||e.length<2)K([]);else{G(!0);try{const{data:t}=await g.ND.from("albums").select("id, title, artist_name, cover_url").ilike("title","%".concat(e,"%")).limit(10);K(t||[])}catch(t){console.error("Erro na busca:",t)}finally{G(!1)}}})(e.target.value)},className:"pl-10 bg-zinc-800 border-zinc-700 text-white placeholder-gray-400"})]}),(0,y.jsx)("div",{className:"max-h-96 overflow-y-auto",children:X?(0,y.jsx)("div",{className:"space-y-2",children:Y.map(e=>(0,y.jsxs)("div",{className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded",children:[(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,y.jsx)("button",{onClick:()=>(async e=>{if(F)try{const t=F.song_ids||[];if(t.includes(e.id))return void(0,S.oR)({title:"M\xfasica j\xe1 adicionada",description:"Esta m\xfasica j\xe1 est\xe1 na playlist"});const r=[...t,e.id],{error:n}=await g.ND.from("playlists").update({song_ids:r}).eq("id",F.id);if(n)throw n;const a=(0,N.A)((0,N.A)({},F),{},{song_ids:r});B(a),re(a),b(x.map(e=>e.id===F.id?(0,N.A)((0,N.A)({},e),{},{song_ids:r}):e)),me([...he,{id:e.id,title:e.title,artist_name:e.artist_name,cover_url:e.cover_url}]),(0,S.oR)({title:"M\xfasica adicionada!",description:'"'.concat(e.title,'" foi adicionada \xe0 playlist')})}catch(t){console.error("Erro ao adicionar m\xfasica:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel adicionar a m\xfasica",variant:"destructive"})}})(e),className:"w-8 h-8 rounded-full border border-gray-500 flex items-center justify-center hover:bg-zinc-700",children:(0,y.jsx)(Eh,{className:"w-4 h-4"})})]},e.id))}):U&&H.length>0?(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("p",{className:"text-xs text-gray-400 uppercase mb-2",children:"\xc1lbuns encontrados"}),H.map(e=>(0,y.jsxs)("div",{onClick:()=>it(e),className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded cursor-pointer",children:[(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,y.jsx)(Wt,{className:"w-4 h-4 -rotate-90"})]},e.id))]}):(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("p",{className:"text-xs text-gray-400 uppercase mb-2",children:"\xc1lbuns recentes"}),V.map(e=>(0,y.jsxs)("div",{onClick:()=>it(e),className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded cursor-pointer",children:[(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,y.jsx)(Wt,{className:"w-4 h-4 -rotate-90 text-gray-400"})]},e.id)),0===V.length&&(0,y.jsxs)("div",{className:"text-center py-8",children:[(0,y.jsx)(Md,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),(0,y.jsx)("p",{className:"text-gray-400 font-semibold mb-1",children:"Adicione m\xfasicas a esta playlist"}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Clique na op\xe7\xe3o 'Criar/Adicionar' e adicione a m\xfasica ou um CD as playlists."})]})]})})]})}),(0,y.jsx)(Nd,{open:Q,onOpenChange:ee,children:(0,y.jsxs)(kd,{className:"max-w-lg",children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Editar Playlist"})}),(0,y.jsxs)("div",{className:"py-4",children:[(0,y.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,y.jsxs)("div",{onClick:()=>{var e;return null===(e=ue.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 bg-red-500 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-red-600 transition-colors flex-shrink-0 overflow-hidden",children:[oe?(0,y.jsx)("img",{src:oe,alt:"Capa",className:"w-full h-full object-cover"}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Md,{className:"w-10 h-10 text-white mb-2"}),(0,y.jsx)("span",{className:"text-white text-xs text-center px-2",children:"Alterar capa"})]}),(0,y.jsx)("input",{ref:ue,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){ie(t);const e=new FileReader;e.onloadend=()=>le(e.result),e.readAsDataURL(t)}},className:"hidden"})]}),(0,y.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,y.jsx)(rr,{placeholder:"T\xedtulo da playlist",value:ne.title,onChange:e=>ae((0,N.A)((0,N.A)({},ne),{},{title:e.target.value})),maxLength:100}),(0,y.jsx)(xf,{placeholder:"Descri\xe7\xe3o",value:ne.description,onChange:e=>ae((0,N.A)((0,N.A)({},ne),{},{description:e.target.value})),rows:3,className:"bg-gray-100 border-0"})]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,y.jsx)("span",{className:"text-gray-700",children:"Tornar a playlist privada?"}),(0,y.jsx)("button",{onClick:()=>ae((0,N.A)((0,N.A)({},ne),{},{isPrivate:!ne.isPrivate})),className:"w-12 h-6 rounded-full transition-colors ".concat(ne.isPrivate?"bg-red-600":"bg-gray-300"),children:(0,y.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform ".concat(ne.isPrivate?"translate-x-6":"translate-x-0.5")})})]}),(0,y.jsxs)(nr.$,{onClick:()=>{B(te),z(!0)},variant:"outline",className:"w-full mb-4 border-dashed border-2",children:[(0,y.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Adicionar m\xfasicas \xe0 playlist"]}),he.length>0&&(0,y.jsx)("div",{className:"border rounded-lg max-h-48 overflow-y-auto mb-4",children:he.map((e,t)=>(0,y.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b last:border-0 hover:bg-gray-50",children:[(0,y.jsxs)("span",{className:"text-gray-500 text-sm w-6",children:[t+1,"."]}),(0,y.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"font-medium text-sm truncate",children:e.title}),(0,y.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.artist_name})]}),(0,y.jsx)(nr.$,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if(te)try{const t=(te.song_ids||[]).filter(t=>t!==e),{error:r}=await g.ND.from("playlists").update({song_ids:t}).eq("id",te.id);if(r)throw r;re((0,N.A)((0,N.A)({},te),{},{song_ids:t})),me(he.filter(t=>t.id!==e)),b(x.map(e=>e.id===te.id?(0,N.A)((0,N.A)({},e),{},{song_ids:t}):e)),(0,S.oR)({title:"M\xfasica removida",description:"A m\xfasica foi removida da playlist"})}catch(t){console.error("Erro ao remover m\xfasica:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel remover a m\xfasica",variant:"destructive"})}})(e.id),className:"h-8 w-8 text-gray-400 hover:text-red-600",children:(0,y.jsx)(St,{className:"w-4 h-4"})})]},e.id))}),(0,y.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,y.jsx)(nr.$,{variant:"outline",onClick:()=>ee(!1),children:"Cancelar"}),(0,y.jsxs)(nr.$,{onClick:async()=>{if(!ne.title||ne.title.length<5)(0,S.oR)({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{de(!0);try{let t=te.cover_url;if(se){const r=se.name.split(".").pop(),n="playlists/".concat(e.id,"/").concat(Date.now(),".").concat(r),{error:a}=await g.ND.storage.from("music").upload(n,se,{upsert:!0});if(!a){const{data:{publicUrl:e}}=g.ND.storage.from("music").getPublicUrl(n);t=e}}const{error:r}=await g.ND.from("playlists").update({title:ne.title,description:ne.description,cover_url:t,is_public:!ne.isPrivate}).eq("id",te.id);if(r)throw r;(0,S.oR)({title:"Playlist atualizada!",description:'"'.concat(ne.title,'" foi atualizada')}),b(x.map(e=>e.id===te.id?(0,N.A)((0,N.A)({},e),{},{title:ne.title,description:ne.description,cover_url:t,is_public:!ne.isPrivate}):e)),ee(!1)}catch(t){console.error("Erro ao atualizar:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar a playlist",variant:"destructive"})}finally{de(!1)}}},disabled:ce,className:"bg-red-600 hover:bg-red-700 text-white",children:[ce?(0,y.jsx)(mc,{className:"w-4 h-4 animate-spin mr-2"}):null,"Salvar"]})]})]})]})}),(0,y.jsx)(Nd,{open:fe,onOpenChange:pe,children:(0,y.jsxs)(kd,{className:"max-w-sm",children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Excluir Playlist"})}),(0,y.jsxs)("p",{className:"text-gray-600 py-4",children:['Tem certeza que deseja excluir a playlist "',(0,y.jsx)("span",{className:"font-semibold",children:null===ge||void 0===ge?void 0:ge.title}),'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.']}),(0,y.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,y.jsx)(nr.$,{variant:"outline",onClick:()=>pe(!1),children:"Cancelar"}),(0,y.jsx)(nr.$,{onClick:async()=>{if(ge)try{const{error:e}=await g.ND.from("playlists").delete().eq("id",ge.id);if(e)throw e;(0,S.oR)({title:"Playlist exclu\xedda",description:'"'.concat(ge.title,'" foi exclu\xedda')}),b(x.filter(e=>e.id!==ge.id)),pe(!1),ve(null)}catch(e){console.error("Erro ao excluir:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel excluir a playlist",variant:"destructive"})}},className:"bg-red-600 hover:bg-red-700 text-white",children:"Excluir"})]})]})})]})},Kx=()=>{var e;const{user:r}=(0,i.A)(),[n,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),[v,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)({subject:"",message:""}),[j,_]=(0,t.useState)(!1),[k,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{C(),E();const e=g.ND.channel("support_messages").on("postgres_changes",{event:"*",schema:"public",table:"support_messages"},()=>{C()}).subscribe();return()=>{g.ND.removeChannel(e)}},[null===r||void 0===r?void 0:r.id]);const E=async()=>{if(null!==r&&void 0!==r&&r.id)try{var e;null!==r&&void 0!==r&&null!==(e=r.user_metadata)&&void 0!==e&&e.avatar_url?A({avatar_url:r.user_metadata.avatar_url}):A({id:r.id})}catch(XK){console.log("Error loading user profile:",XK),A({id:r.id})}};(0,t.useEffect)(()=>{if(null!==l&&void 0!==l&&l.id){O(l.id);const e=setInterval(()=>{O(l.id)},2e3),t=g.ND.channel("support_replies_".concat(l.id)).on("postgres_changes",{event:"INSERT",schema:"public",table:"support_replies",filter:"support_message_id=eq.".concat(l.id)},e=>{console.log("Nova resposta recebida:",e),O(l.id)}).subscribe();return()=>{clearInterval(e),g.ND.removeChannel(t)}}},[null===l||void 0===l?void 0:l.id]);const C=async()=>{try{o(!0);const{data:e,error:t}=await g.ND.from("support_messages").select("*").eq("user_id",null===r||void 0===r?void 0:r.id).order("created_at",{ascending:!1});if(t)return console.error("Erro ao carregar mensagens:",t),void o(!1);a(e||[])}catch(XK){console.error("Erro ao carregar mensagens:",XK)}finally{o(!1)}},O=async e=>{try{const{data:t,error:r}=await g.ND.from("support_replies").select("*").eq("support_message_id",e).order("created_at",{ascending:!0});if(r)return void console.error("Erro ao carregar respostas:",r);u(t||[])}catch(XK){console.error("Erro ao carregar respostas:",XK)}};return s?(0,y.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,y.jsx)(Id,{}),(0,y.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(bf,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Carregando..."})]})})]}):(0,y.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,y.jsx)(Id,{}),(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Chat de Suporte"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Fale conosco sobre d\xfavidas ou problemas"})]}),v||0!==n.length?(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[600px]",children:[(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[(0,y.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"font-semibold text-gray-900",children:"Conversas"}),(0,y.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[n.length," conversa(s)"]})]}),!v&&(0,y.jsx)(nr.$,{onClick:()=>x(!0),size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:(0,y.jsx)(Eh,{className:"w-3 h-3"})})]}),0===n.length?(0,y.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500 p-4",children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(bf,{className:"w-10 h-10 mx-auto mb-2 opacity-30"}),(0,y.jsx)("p",{className:"text-sm",children:"Nenhuma conversa ainda"})]})}):(0,y.jsx)("div",{className:"overflow-y-auto flex-1",children:n.map(e=>(0,y.jsxs)("button",{onClick:()=>c(e),className:"w-full text-left p-4 border-b border-gray-100 hover:bg-gray-50 transition ".concat((null===l||void 0===l?void 0:l.id)===e.id?"bg-blue-50 border-l-4 border-l-blue-600":""),children:[(0,y.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,y.jsx)("h3",{className:"font-medium text-gray-900 text-sm truncate flex-1",children:e.subject}),"resolved"===e.status&&(0,y.jsx)(pf,{className:"w-4 h-4 text-green-600 flex-shrink-0"})]}),(0,y.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:e.message}),(0,y.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,y.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===e.status?"bg-blue-100 text-blue-700":"in_progress"===e.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===e.status&&"Aberto","in_progress"===e.status&&"Em andamento","resolved"===e.status&&"Resolvido"]}),(0,y.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]})]},e.id))})]}),(0,y.jsx)("div",{className:"lg:col-span-2 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:v?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"border-b border-gray-200 p-4 bg-gray-50 flex items-center gap-3",children:[(0,y.jsx)("button",{onClick:()=>{x(!1),w({subject:"",message:""})},className:"text-gray-600 hover:text-gray-900",children:(0,y.jsx)(bh,{className:"w-5 h-5"})}),(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Nova Conversa"})]}),(0,y.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.subject.trim()&&b.message.trim()){_(!0);try{const{error:e}=await g.ND.from("support_messages").insert([{user_id:r.id,subject:b.subject,message:b.message,status:"open"}]);if(e)throw e;w({subject:"",message:""}),x(!1),await C(),(0,S.oR)({title:"Sucesso",description:"Mensagem enviada! Um administrador responder\xe1 em breve"})}catch(t){console.error("Erro ao criar mensagem:",t),(0,S.oR)({title:"Erro",description:t.message,variant:"destructive"})}finally{_(!1)}}else(0,S.oR)({title:"Erro",description:"Preencha todos os campos",variant:"destructive"})},className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Assunto"}),(0,y.jsx)("input",{type:"text",value:b.subject,onChange:e=>w((0,N.A)((0,N.A)({},b),{},{subject:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600",placeholder:"Qual \xe9 o assunto?"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Mensagem"}),(0,y.jsx)("textarea",{value:b.message,onChange:e=>w((0,N.A)((0,N.A)({},b),{},{message:e.target.value})),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 resize-none",placeholder:"Descreva seu problema ou d\xfavida..."})]}),(0,y.jsxs)("div",{className:"flex gap-3",children:[(0,y.jsxs)(nr.$,{type:"submit",disabled:j,className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,y.jsx)(qx.A,{className:"w-4 h-4 mr-2"}),j?"Enviando...":"Enviar"]}),(0,y.jsx)(nr.$,{type:"button",onClick:()=>{x(!1),w({subject:"",message:""})},variant:"outline",children:"Cancelar"})]})]})})]}):l?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,y.jsx)("button",{onClick:()=>c(null),className:"text-gray-600 hover:text-gray-900",children:(0,y.jsx)(bh,{className:"w-5 h-5"})}),(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:l.subject})]}),(0,y.jsxs)("div",{className:"flex items-center justify-between mt-2 ml-8",children:[(0,y.jsxs)("p",{className:"text-xs text-gray-500",children:["Iniciada ",new Date(l.created_at).toLocaleDateString("pt-BR")]}),(0,y.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===l.status?"bg-blue-100 text-blue-700":"in_progress"===l.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===l.status&&"Aberto","in_progress"===l.status&&"Em andamento","resolved"===l.status&&"Resolvido"]})]})]}),(0,y.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-50",children:[(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)("div",{className:"bg-white px-4 py-2 rounded-full text-xs text-gray-500 border border-gray-200",children:"Conversa iniciada"})}),(0,y.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,y.jsxs)("div",{className:"bg-red-600 text-white rounded-lg rounded-tr-none px-4 py-2 max-w-md",children:[(0,y.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:l.message}),(0,y.jsx)("p",{className:"text-xs mt-2 opacity-70",children:new Date(l.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,y.jsx)("div",{className:"flex-shrink-0",children:null!==k&&void 0!==k&&k.avatar_url?(0,y.jsx)("img",{src:k.avatar_url,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-red-600"}):(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-sm",children:(null===r||void 0===r||null===(e=r.email)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})})]}),0===d.length&&"open"===l.status&&(0,y.jsxs)("div",{className:"flex justify-start gap-3",children:[(0,y.jsx)("div",{className:"flex-shrink-0",children:(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold text-sm",children:"A"})}),(0,y.jsxs)("div",{className:"bg-gray-200 text-gray-900 rounded-lg rounded-tl-none px-4 py-2 max-w-md",children:[(0,y.jsx)("p",{className:"text-sm",children:"Obrigado por entrar em contato! Um administrador responder\xe1 em breve."}),(0,y.jsx)("p",{className:"text-xs mt-2 text-gray-600",children:(new Date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),d.map((e,t)=>{var n;return(0,y.jsx)("div",{className:"flex ".concat(e.is_admin_reply?"justify-start":"justify-end"," gap-3"),children:e.is_admin_reply?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"flex-shrink-0",children:(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold text-sm",children:"A"})}),(0,y.jsxs)("div",{className:"bg-gray-200 text-gray-900 rounded-lg rounded-tl-none px-4 py-2 max-w-md",children:[(0,y.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:e.reply_text}),(0,y.jsx)("p",{className:"text-xs mt-2 text-gray-600",children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"bg-red-600 text-white rounded-lg rounded-tr-none px-4 py-2 max-w-md",children:[(0,y.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:e.reply_text}),(0,y.jsx)("p",{className:"text-xs mt-2 opacity-70",children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,y.jsx)("div",{className:"flex-shrink-0",children:null!==k&&void 0!==k&&k.avatar_url?(0,y.jsx)("img",{src:k.avatar_url,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-red-600"}):(0,y.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-sm",children:(null===r||void 0===r||null===(n=r.email)||void 0===n?void 0:n.charAt(0).toUpperCase())||"U"})})]})},e.id)})]}),"resolved"!==l.status&&(0,y.jsx)("div",{className:"border-t border-gray-200 p-4 bg-white",children:(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h.trim()&&null!==l&&void 0!==l&&l.id){p(!0);try{const{error:e}=await g.ND.from("support_replies").insert([{support_message_id:l.id,user_id:r.id,reply_text:h.trim(),is_admin_reply:!1}]);if(e)throw e;m(""),await O(l.id),(0,S.oR)({title:"Sucesso",description:"Mensagem enviada com sucesso"})}catch(t){console.error("Erro ao enviar resposta:",t),(0,S.oR)({title:"Erro",description:t.message,variant:"destructive"})}finally{p(!1)}}},className:"flex gap-3",children:[(0,y.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Digite sua resposta...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"}),(0,y.jsx)(nr.$,{type:"submit",disabled:f||!h.trim(),className:"bg-red-600 hover:bg-red-700 text-white disabled:opacity-50",children:(0,y.jsx)(qx.A,{className:"w-4 h-4"})})]})})]}):(0,y.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(bf,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,y.jsx)("p",{className:"text-sm",children:"Selecione uma conversa para come\xe7ar"})]})})})]}):(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,y.jsx)(bf,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),(0,y.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Nenhuma conversa ainda"}),(0,y.jsx)("p",{className:"text-gray-600 mb-6",children:"Inicie uma conversa com nosso time de suporte"}),(0,y.jsxs)(nr.$,{onClick:()=>x(!0),className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,y.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Iniciar Conversa"]})]})]})]})},$x=(0,_t.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Gx=(0,_t.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yx=(0,_t.A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Jx=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{p()},[]);const p=async()=>{const{data:e,error:t}=await g.ND.from("slides").select("*").order("order_index",{ascending:!0});e&&r(e),a(!1)},v=async(t,n,a)=>{const s=e.map(e=>e.id===t?(0,N.A)((0,N.A)({},e),{},{[n]:a}):e);r(s),f(!0)},x=()=>{d(null)};return n?(0,y.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,y.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,y.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,y.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Slides"}),(0,y.jsxs)(nr.$,{onClick:async()=>{h(!0);try{console.log("Salvando",e.length,"slides...");const t=await Promise.all(e.map(e=>(console.log("Salvando slide ".concat(e.id,":"),{title:e.title,link:e.link,order_index:e.order_index,active:e.active}),g.ND.from("slides").update({title:e.title||null,link:e.link||null,order_index:e.order_index,active:e.active}).eq("id",e.id))));console.log("Resultados:",t);if(t.some(e=>e.error)){const e=t.filter(e=>e.error).map(e=>e.error.message);console.error("Erros ao salvar:",e),(0,S.oR)({title:"Erro ao salvar",description:e[0]||"Algumas mudan\xe7as n\xe3o foram salvas",variant:"destructive"})}else(0,S.oR)({title:"Salvo!",description:"Todas as mudan\xe7as foram salvas com sucesso"}),f(!1)}catch(t){console.error("Erro ao salvar:",t),(0,S.oR)({title:"Erro",description:t.message||"Falha ao salvar mudan\xe7as",variant:"destructive"})}finally{h(!1)}},disabled:u||!m,className:"flex items-center gap-2 ".concat(m?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-300 text-gray-500"),children:[(0,y.jsx)(Mx,{className:"w-4 h-4"}),u?"Salvando...":"Salvar Mudan\xe7as"]})]}),m&&(0,y.jsx)("div",{className:"mb-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800",children:'\u26a0\ufe0f Voc\xea tem mudan\xe7as n\xe3o salvas. Clique em "Salvar Mudan\xe7as" para confirmar.'}),(0,y.jsxs)("div",{className:"mb-8 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,y.jsxs)("label",{className:"flex flex-col items-center cursor-pointer",children:[(0,y.jsx)(Yt,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,y.jsx)("span",{className:"text-gray-600 mb-2",children:"Clique para adicionar novo slide"}),(0,y.jsx)("span",{className:"text-sm text-gray-400",children:"JPG, PNG (recomendado: 1600x1000px - propor\xe7\xe3o 1.6:1)"}),(0,y.jsx)("input",{type:"file",accept:"image/*",onChange:async t=>{const n=t.target.files[0];if(!n)return;i(!0);const a="slide-".concat(Date.now(),"-").concat(n.name),{data:s,error:o}=await g.ND.storage.from("slides").upload(a,n);if(o)return(0,S.oR)({title:"Erro no upload",description:o.message,variant:"destructive"}),void i(!1);const l="".concat(g.VI,"/storage/v1/object/public/slides/").concat(a),{data:c,error:d}=await g.ND.from("slides").insert({image_url:l,order_index:e.length+1,active:!0}).select().single();d?(0,S.oR)({title:"Erro ao salvar",description:d.message,variant:"destructive"}):(r([...e,c]),(0,S.oR)({title:"Slide adicionado!",description:"Imagem enviada com sucesso"})),i(!1)},className:"hidden",disabled:s})]}),s&&(0,y.jsx)("p",{className:"text-center text-red-600 mt-2",children:"Enviando..."})]}),(0,y.jsxs)("div",{className:"space-y-4",children:[e.map((t,n)=>(0,y.jsxs)("div",{draggable:!0,onDragStart:e=>((e,t)=>{l(t),e.dataTransfer.effectAllowed="move"})(e,t.id),onDragOver:e=>((e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",d(t)})(e,t.id),onDragLeave:x,onDrop:n=>((t,n)=>{if(t.preventDefault(),o===n)return l(null),void d(null);const a=e.findIndex(e=>e.id===o),s=e.findIndex(e=>e.id===n);if(-1===a||-1===s)return;const i=[...e],[c]=i.splice(a,1);i.splice(s,0,c),i.forEach((e,t)=>{e.order_index=t+1}),r(i),f(!0),l(null),d(null)})(n,t.id),className:"flex items-center gap-4 p-4 border rounded-lg transition-all ".concat(t.active?"bg-white":"bg-gray-100 opacity-60"," ").concat(o===t.id?"opacity-50":""," ").concat(c===t.id?"border-red-500 bg-red-50":""),children:[(0,y.jsx)(Yx,{className:"w-5 h-5 cursor-grab ".concat(o===t.id?"text-red-600":"text-gray-400")}),(0,y.jsx)("span",{className:"w-8 h-8 flex items-center justify-center bg-red-600 text-white rounded font-bold",children:n+1}),(0,y.jsx)("img",{src:t.image_url,alt:t.title||"Slide ".concat(n+1),className:"w-32 h-20 object-cover rounded"}),(0,y.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{className:"text-xs text-gray-500",children:"T\xedtulo (opcional)"}),(0,y.jsx)(rr,{value:t.title||"",onChange:e=>v(t.id,"title",e.target.value),placeholder:"T\xedtulo do slide",className:"h-9"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(lh,{className:"text-xs text-gray-500",children:"Link do \xc1lbum"}),(0,y.jsx)(rr,{value:t.link||"",onChange:e=>v(t.id,"link",e.target.value),placeholder:"/album/ID-DO-ALBUM",className:"h-9"})]})]}),(0,y.jsx)(nr.$,{variant:"outline",size:"sm",onClick:()=>(async(e,t)=>{await v(e,"active",!t)})(t.id,t.active),className:t.active?"text-green-600":"text-gray-400",children:t.active?"Ativo":"Inativo"}),(0,y.jsx)(nr.$,{variant:"outline",size:"icon",onClick:()=>(async(t,n)=>{const a=n.split("/").pop();await g.ND.storage.from("slides").remove([a]);const{error:s}=await g.ND.from("slides").delete().eq("id",t);s||(r(e.filter(e=>e.id!==t)),(0,S.oR)({title:"Slide removido",description:"Slide deletado com sucesso"}))})(t.id,t.image_url),className:"text-red-600 hover:bg-red-50",children:(0,y.jsx)(uc.A,{className:"w-4 h-4"})})]},t.id)),0===e.length&&(0,y.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Nenhum slide cadastrado. Adicione o primeiro acima."})]})]})})})},Xx=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null);return(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gerenciar \xc1lbuns"}),(0,y.jsx)("p",{className:"text-gray-600 mb-6",children:"Busque um \xe1lbum para remov\xea-lo permanentemente do site"})]}),(0,y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!e.trim())return void(0,S.oR)({title:"Erro",description:"Digite o nome de um \xe1lbum para buscar",variant:"destructive"});l(!0);const{data:r,error:n}=await g.ND.from("albums").select("id, title, artist_id, created_at, description").ilike("title","%".concat(e,"%")).limit(20);n?(0,S.oR)({title:"Erro na busca",description:n.message,variant:"destructive"}):a(r||[]),l(!1)},className:"flex gap-2",children:[(0,y.jsx)(rr,{value:e,onChange:e=>r(e.target.value),placeholder:"Nome do \xe1lbum...",className:"flex-1"}),(0,y.jsxs)(nr.$,{type:"submit",disabled:o,children:[(0,y.jsx)(Ht,{className:"w-4 h-4 mr-2"}),o?"Buscando...":"Buscar"]})]}),(0,y.jsxs)("div",{className:"space-y-3",children:[0===n.length&&e&&!o&&(0,y.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg text-center text-gray-500",children:"Nenhum \xe1lbum encontrado"}),n.map(e=>(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between hover:shadow-md transition-shadow",children:[(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,y.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",e.id]}),e.description&&(0,y.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description}),(0,y.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Criado em: ",new Date(e.created_at).toLocaleDateString("pt-BR")]})]}),c===e.id?(0,y.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,y.jsx)(nr.$,{size:"sm",variant:"destructive",onClick:()=>(async e=>{i(!0);try{const{error:t}=await g.ND.from("tracks").delete().eq("album_id",e),{error:r}=await g.ND.from("comments").delete().eq("album_id",e),{error:s}=await g.ND.from("favorites").delete().eq("album_id",e),{error:i}=await g.ND.from("recommended_albums").delete().eq("album_id",e),{error:o}=await g.ND.from("albums").delete().eq("id",e);if(o||t||r||s||i)throw new Error("Erro ao deletar \xe1lbum");a(n.filter(t=>t.id!==e)),d(null),(0,S.oR)({title:"Sucesso",description:"\xc1lbum e todo seu conte\xfado foram deletados permanentemente"})}catch(t){(0,S.oR)({title:"Erro ao deletar",description:t.message,variant:"destructive"})}finally{i(!1)}})(e.id),disabled:s,className:"bg-red-600 hover:bg-red-700",children:s?"Deletando...":"Confirmar Delete"}),(0,y.jsx)(nr.$,{size:"sm",variant:"outline",onClick:()=>d(null),disabled:s,children:"Cancelar"})]}):(0,y.jsxs)(nr.$,{size:"sm",variant:"outline",onClick:()=>d(e.id),className:"text-red-600 hover:bg-red-50 ml-4",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4 mr-2"}),"Deletar"]})]},e.id))]}),n.length>0&&(0,y.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[(0,y.jsx)(Gx,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-semibold text-red-900",children:"\u26a0\ufe0f A\xe7\xe3o Irrevers\xedvel"}),(0,y.jsx)("p",{className:"text-sm text-red-800 mt-1",children:"Deletar um \xe1lbum remover\xe1 permanentemente: o \xe1lbum, todas as m\xfasicas, coment\xe1rios e favoritos associados. Esta a\xe7\xe3o n\xe3o pode ser desfeita."})]})]})]})},Zx=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{u()},[]);const u=async()=>{const{data:e,error:t}=await g.ND.from("recommended_albums").select("\n        id,\n        album_id,\n        order_index,\n        albums!inner(id, title, description)\n      ").order("order_index",{ascending:!0});e&&i(e),l(!1)};return o?(0,y.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ou\xe7a Aqui Recomenda!"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Gerencie os \xe1lbuns recomendados que aparecem na home e na p\xe1gina de \xe1lbuns"})]}),(0,y.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,y.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Adicionar \xc1lbum"}),(0,y.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!e.trim())return void a([]);d(!0);const{data:r,error:n}=await g.ND.from("albums").select("id, title, description").ilike("title","%".concat(e,"%")).limit(10);if(r){const e=s.map(e=>e.album_id);a(r.filter(t=>!e.includes(t.id)))}d(!1)},className:"flex gap-2 mb-3",children:[(0,y.jsx)(rr,{value:e,onChange:e=>r(e.target.value),placeholder:"Buscar \xe1lbum para adicionar...",className:"flex-1"}),(0,y.jsxs)(nr.$,{type:"submit",disabled:c,children:[(0,y.jsx)(Ht,{className:"w-4 h-4 mr-2"}),c?"Buscando...":"Buscar"]})]}),n.length>0&&(0,y.jsx)("div",{className:"space-y-2 mt-3",children:n.map(e=>(0,y.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-blue-100",children:[(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),e.description&&(0,y.jsx)("p",{className:"text-sm text-gray-500 line-clamp-1",children:e.description})]}),(0,y.jsxs)(nr.$,{size:"sm",onClick:()=>(async(e,t)=>{const r=s.length>0?Math.max(...s.map(e=>e.order_index)):0,{data:o,error:l}=await g.ND.from("recommended_albums").insert({album_id:e,order_index:r+1}).select("*, albums!inner(id, title, description)").single();l?(0,S.oR)({title:"Erro",description:l.message,variant:"destructive"}):(i([...s,o]),a(n.filter(t=>t.id!==e)),(0,S.oR)({title:"Sucesso",description:'"'.concat(t,'" adicionado aos recomendados')}))})(e.id,e.title),className:"bg-green-600 hover:bg-green-700 ml-2",children:[(0,y.jsx)(Eh,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]},e.id))})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3",children:["\xc1lbuns Recomendados (",s.length,")"]}),0===s.length?(0,y.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg text-center text-gray-500",children:[(0,y.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udced Nenhum \xe1lbum recomendado ainda"}),(0,y.jsx)("p",{className:"text-sm",children:"Busque e adicione \xe1lbuns acima para come\xe7ar"})]}):(0,y.jsx)("div",{className:"space-y-2",children:s.map((e,t)=>(0,y.jsxs)("div",{className:"flex items-center gap-4 bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,y.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-red-600 text-white font-bold rounded",children:t+1}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"font-semibold text-gray-900",children:e.albums.title}),e.albums.description&&(0,y.jsx)("p",{className:"text-sm text-gray-500 line-clamp-1 mt-1",children:e.albums.description})]}),(0,y.jsxs)(nr.$,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{const{error:r}=await g.ND.from("recommended_albums").delete().eq("id",e);r?(0,S.oR)({title:"Erro",description:r.message,variant:"destructive"}):(i(s.filter(t=>t.id!==e)),(0,S.oR)({title:"Removido",description:'"'.concat(t,'" removido dos recomendados')}))})(e.id,e.albums.title),className:"text-red-600 hover:bg-red-50",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4 mr-1"}),"Remover"]})]},e.id))})]}),s.length>0&&(0,y.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,y.jsx)("p",{className:"text-sm text-amber-900",children:"\ud83d\udca1 Os \xe1lbuns s\xe3o exibidos na ordem mostrada acima. Arraste para reordenar (feature em desenvolvimento)."})})]})},Qx=()=>{var e;const{user:r}=(0,i.A)(),[n,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),[v,x]=(0,t.useState)("all");(0,t.useEffect)(()=>{b();const e=g.ND.channel("support_messages").on("postgres_changes",{event:"*",schema:"public",table:"support_messages"},()=>{b()}).subscribe();return()=>{g.ND.removeChannel(e)}},[]),(0,t.useEffect)(()=>{if(null!==l&&void 0!==l&&l.id){w(l.id);const e=g.ND.channel("support_replies_admin_".concat(l.id)).on("postgres_changes",{event:"INSERT",schema:"public",table:"support_replies"},e=>{e.new.message_id===l.id&&w(l.id)}).subscribe();return()=>{g.ND.removeChannel(e)}}},[null===l||void 0===l?void 0:l.id]);const b=async()=>{let e=g.ND.from("support_messages").select("*").order("created_at",{ascending:!1});"all"!==v&&(e=e.eq("status",v));const{data:t,error:r}=await e;if(t){const e=[...new Set(t.map(e=>e.sender_id))],r={};for(const t of e)try{let{data:e,error:n}=await g.ND.from("artists").select("id, user_id, name, avatar_url").eq("user_id",t).limit(1),a=e&&e.length>0?e[0]:null;if(!a&&!n){const{data:e,error:r}=await g.ND.from("artists").select("id, user_id, name, avatar_url").eq("id",t).limit(1);e&&e.length>0&&(a=e[0]),n=r}a?(r[t]=a,console.log("\u2705 Artist loaded for ".concat(t,":"),a.name)):console.log("\u2139\ufe0f No artist found for ".concat(t)),n&&console.warn("\u26a0\ufe0f Error loading artist ".concat(t,":"),n)}catch(XK){console.warn("\u274c Exception loading artist ".concat(t,":"),XK)}console.log("Artists Map:",r);const n=t.map(e=>{const t=r[e.sender_id];let n=e.sender_name||e.sender_email;null!==t&&void 0!==t&&t.name&&(n=t.name);const a=(null===t||void 0===t?void 0:t.avatar_url)||e.sender_avatar_url;return console.log("Message from ".concat(e.sender_id,":"),{artist_name:null===t||void 0===t?void 0:t.name,sender_name:e.sender_name,email:e.sender_email,final_name:n,avatar:a}),(0,N.A)((0,N.A)({},e),{},{artistName:n,artistAvatar:a})});a(n)}else console.error("Error loading messages:",r);o(!1)},w=async e=>{const{data:t,error:r}=await g.ND.from("support_replies").select("*").eq("message_id",e).order("created_at",{ascending:!0});if(t){const e=await Promise.all(t.map(async e=>{let t=e.sender_avatar_url,r=e.sender_name;if("admin"===e.sender_type)try{const{data:n}=await g.ND.from("admin_users").select("avatar_url, email").eq("id",e.sender_id).maybeSingle();n&&(n.avatar_url&&(t=n.avatar_url),!r&&n.email&&(r=n.email.split("@")[0]))}catch(n){console.log("Erro ao buscar avatar:",n)}return(0,N.A)((0,N.A)({},e),{},{senderAvatar:t,senderName:r||"Suporte"})}));u(e)}},j=async()=>{var e;if(!h.trim())return void(0,S.oR)({title:"Erro",description:"Digite uma resposta",variant:"destructive"});if(null===l||void 0===l||!l.id)return;p(!0);const{error:t}=await g.ND.from("support_replies").insert({message_id:l.id,sender_id:r.id,sender_type:"admin",sender_name:(null===(e=r.user_metadata)||void 0===e?void 0:e.name)||"Suporte",reply_text:h}),{error:n}=await g.ND.from("support_messages").update({status:"in_progress",updated_at:new Date}).eq("id",l.id);t||n?(0,S.oR)({title:"Erro ao enviar",description:"N\xe3o foi poss\xedvel enviar a resposta",variant:"destructive"}):(m(""),await b(),await w(l.id),(0,S.oR)({title:"Resposta enviada",description:"O artista ser\xe1 notificado"})),p(!1)};if(s)return(0,y.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});const _=n,k=n.filter(e=>"open"===e.status).length;return(0,y.jsxs)("div",{className:"max-h-[80vh] flex flex-col",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Suporte de Artistas"}),(0,y.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:[k," mensagem",1!==k?"s":""," n\xe3o respondida",1!==k?"s":""]})]}),(0,y.jsx)("div",{className:"flex gap-2",children:["all","open","in_progress","resolved"].map(e=>(0,y.jsxs)(nr.$,{variant:v===e?"default":"outline",size:"sm",onClick:()=>{x(e),c(null)},className:v===e?"bg-red-600 hover:bg-red-700":"",children:["all"===e&&"Todos","open"===e&&"Abertos","in_progress"===e&&"Em Progresso","resolved"===e&&"Resolvidos"]},e))})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 flex-1 overflow-hidden",children:[(0,y.jsx)("div",{className:"md:col-span-1 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:0===_.length?(0,y.jsx)("div",{className:"p-8 text-center text-gray-500 flex-1 flex items-center justify-center",children:(0,y.jsxs)("div",{children:[(0,y.jsx)(bf,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,y.jsx)("p",{children:"Nenhuma mensagem"})]})}):(0,y.jsx)("div",{className:"flex-1 overflow-y-auto",children:_.map(e=>{var t;return(0,y.jsxs)("button",{onClick:()=>c(e),className:"w-full text-left p-4 border-b border-gray-100 hover:bg-gray-50 transition ".concat((null===l||void 0===l?void 0:l.id)===e.id?"bg-red-50 border-l-4 border-l-red-600":""),children:[(0,y.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate flex-1",children:e.subject}),(0,y.jsxs)("span",{className:"text-xs px-2 py-1 rounded whitespace-nowrap ml-2 ".concat("open"===e.status?"bg-red-100 text-red-700":"in_progress"===e.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===e.status&&"Aberto","in_progress"===e.status&&"Em andamento","resolved"===e.status&&"Resolvido"]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[e.artistAvatar?(0,y.jsx)("img",{src:e.artistAvatar,alt:e.artistName,className:"w-8 h-8 rounded-full object-cover"}):(0,y.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-sm",children:null===(t=e.artistName)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,y.jsx)("p",{className:"text-xs text-gray-600 truncate font-medium",children:e.artistName})]}),(0,y.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]},e.id)})})}),(0,y.jsx)("div",{className:"md:col-span-2 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col h-full",children:l?(0,y.jsxs)("div",{className:"flex flex-col h-full",children:[(0,y.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 p-4",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:l.subject}),(0,y.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,y.jsxs)("p",{className:"text-xs text-gray-500",children:["Iniciada ",new Date(l.created_at).toLocaleDateString("pt-BR")]}),(0,y.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===l.status?"bg-red-100 text-red-700":"in_progress"===l.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===l.status&&"Aberto","in_progress"===l.status&&"Em andamento","resolved"===l.status&&"Resolvido"]})]})]}),"resolved"!==l.status&&(0,y.jsx)(nr.$,{size:"sm",onClick:()=>(async(e,t)=>{const{error:r}=await g.ND.from("support_messages").update({status:t,updated_at:new Date}).eq("id",e);r?(0,S.oR)({title:"Erro",description:r.message,variant:"destructive"}):(await b(),(null===l||void 0===l?void 0:l.id)===e&&c(e=>(0,N.A)((0,N.A)({},e),{},{status:t})))})(l.id,"resolved"),className:"bg-green-600 hover:bg-green-700 text-xs ml-4 flex-shrink-0",children:"\u2713 Resolver"})]})}),(0,y.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)("div",{className:"bg-white px-4 py-2 rounded-full text-xs text-gray-500 border border-gray-200",children:"Conversa iniciada"})}),(0,y.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,y.jsxs)("div",{className:"bg-red-600 text-white rounded-lg rounded-tr-none px-4 py-2 max-w-md",children:[(0,y.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:l.message}),(0,y.jsx)("p",{className:"text-xs mt-2 opacity-70",children:new Date(l.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,y.jsx)("div",{className:"flex-shrink-0",children:l.artistAvatar?(0,y.jsx)("img",{src:l.artistAvatar,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-red-600"}):(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-lg",children:null===(e=l.artistName)||void 0===e?void 0:e.charAt(0).toUpperCase()})})]}),d.map(e=>{var t,r;return(0,y.jsxs)("div",{className:"flex ".concat("admin"===e.sender_type?"justify-start":"justify-end"," gap-3"),children:["admin"===e.sender_type&&(0,y.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center gap-1",children:[e.senderAvatar?(0,y.jsx)("img",{src:e.senderAvatar,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-purple-600"}):(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:(null===(t=e.sender_name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"S"}),(0,y.jsx)("p",{className:"text-xs text-gray-600 font-medium text-center",children:e.sender_name})]}),(0,y.jsxs)("div",{className:"rounded-lg px-4 py-2 max-w-md ".concat("admin"===e.sender_type?"bg-white border border-gray-200 rounded-tl-none":"bg-red-600 text-white rounded-tr-none"),children:[(0,y.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed ".concat("admin"===e.sender_type?"text-gray-700":"text-white"),children:e.reply_text}),(0,y.jsx)("p",{className:"text-xs mt-2 ".concat("admin"===e.sender_type?"text-gray-500":"opacity-70"),children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),"admin"!==e.sender_type&&(0,y.jsx)("div",{className:"flex-shrink-0",children:l.artistAvatar?(0,y.jsx)("img",{src:l.artistAvatar,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-red-600"}):(0,y.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-lg",children:null===(r=l.artistName)||void 0===r?void 0:r.charAt(0).toUpperCase()})})]},e.id)})]}),"resolved"!==l.status&&(0,y.jsx)("div",{className:"border-t border-gray-200 bg-white p-3",children:(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)("textarea",{value:h,onChange:e=>m(e.target.value),onKeyDown:async e=>{e&&e.ctrlKey&&"Enter"===e.key&&(e.preventDefault(),await j())},placeholder:"Digite sua resposta...",className:"flex-1 border border-gray-300 rounded-lg p-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent min-h-12 max-h-32"}),(0,y.jsx)(nr.$,{onClick:j,disabled:f||!h.trim(),className:"bg-red-600 hover:bg-red-700 h-12 w-12 p-0 flex items-center justify-center flex-shrink-0",title:"Enviar (Ctrl+Enter)",children:(0,y.jsx)(qx.A,{className:"w-5 h-5"})})]})})]}):(0,y.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(bf,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),(0,y.jsx)("p",{children:"Selecione uma mensagem para ler"})]})})})]})]})},ey=()=>{const[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)("");(0,t.useEffect)(()=>{u()},[]);const u=async()=>{const{data:e,error:t}=await g.ND.from("homepage_popup").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();e&&(r(e),d(e.link_url||"")),a(!1)};return n?(0,y.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pop-up da Home"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Gerenciar o pop-up que aparece ao abrir a p\xe1gina inicial"})]}),(0,y.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8",children:[(0,y.jsxs)("label",{className:"flex flex-col items-center cursor-pointer",children:[(0,y.jsx)(Yt,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,y.jsx)("span",{className:"text-gray-600 font-medium mb-1",children:"Clique para upload nova imagem"}),(0,y.jsx)("span",{className:"text-sm text-gray-400",children:"JPG, PNG ou GIF"}),(0,y.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;i(!0);const r="popup-".concat(Date.now(),"-").concat(t.name),{data:n,error:a}=await g.ND.storage.from("popups").upload(r,t);if(a)return(0,S.oR)({title:"Erro no upload",description:a.message,variant:"destructive"}),void i(!1);const s="".concat(g.VI,"/storage/v1/object/public/popups/").concat(r);l(s),i(!1)},className:"hidden",disabled:s})]}),s&&(0,y.jsx)("p",{className:"text-center text-red-600 mt-2",children:"Enviando..."})]}),(o||(null===e||void 0===e?void 0:e.image_url))&&(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,y.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Pr\xe9via:"}),(0,y.jsx)("img",{src:o||(null===e||void 0===e?void 0:e.image_url),alt:"Pop-up preview",className:"w-full max-h-96 object-cover rounded"}),o&&(0,y.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"\u2713 Nova imagem selecionada"})]}),(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,y.jsx)(lh,{className:"text-gray-700 font-medium mb-2 block",children:"Link (opcional)"}),(0,y.jsx)(rr,{value:c,onChange:e=>d(e.target.value),placeholder:"Ex: /album/123 ou https://...",className:"w-full"}),(0,y.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Deixe em branco para o pop-up n\xe3o ter link clic\xe1vel"})]}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsxs)(nr.$,{onClick:async()=>{if(o||null!==e&&void 0!==e&&e.image_url){if(a(!0),null!==e&&void 0!==e&&e.id){const{error:t}=await g.ND.from("homepage_popup").update({image_url:o||e.image_url,link_url:c||null,updated_at:new Date}).eq("id",e.id);t?(0,S.oR)({title:"Erro ao salvar",description:t.message,variant:"destructive"}):(r((0,N.A)((0,N.A)({},e),{},{image_url:o||e.image_url,link_url:c||null})),l(null),(0,S.oR)({title:"Sucesso",description:"Pop-up atualizado com sucesso"}))}else{const{data:e,error:t}=await g.ND.from("homepage_popup").insert({image_url:o,link_url:c||null,active:!0}).select().single();t?(0,S.oR)({title:"Erro ao criar",description:t.message,variant:"destructive"}):(r(e),l(null),d(""),(0,S.oR)({title:"Sucesso",description:"Pop-up criado com sucesso"}))}a(!1)}else(0,S.oR)({title:"Erro",description:"Selecione uma imagem",variant:"destructive"})},disabled:n||!o&&!(null!==e&&void 0!==e&&e.id),className:"bg-green-600 hover:bg-green-700 flex-1",children:[null!==e&&void 0!==e&&e.id?"Atualizar":"Criar"," Pop-up"]}),(null===e||void 0===e?void 0:e.id)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(nr.$,{onClick:async()=>{if(null===e||void 0===e||!e.id)return;const{error:t}=await g.ND.from("homepage_popup").update({active:!e.active,updated_at:new Date}).eq("id",e.id);t?(0,S.oR)({title:"Erro",description:t.message,variant:"destructive"}):(r((0,N.A)((0,N.A)({},e),{},{active:!e.active})),(0,S.oR)({title:e.active?"Desativado":"Ativado",description:"Pop-up foi ".concat(e.active?"desativado":"ativado")}))},disabled:n,variant:"outline",className:"flex-1",children:e.active?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(pc,{className:"w-4 h-4 mr-2"}),"Ativo"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(fc,{className:"w-4 h-4 mr-2"}),"Inativo"]})}),(0,y.jsxs)(nr.$,{onClick:async()=>{if(null===e||void 0===e||!e.id)return;if(!window.confirm("Tem certeza que quer deletar este pop-up?"))return;if(a(!0),e.image_url){const t=e.image_url.split("/").pop();await g.ND.storage.from("popups").remove([t])}const{error:t}=await g.ND.from("homepage_popup").delete().eq("id",e.id);t?(0,S.oR)({title:"Erro ao deletar",description:t.message,variant:"destructive"}):(r(null),l(null),d(""),(0,S.oR)({title:"Deletado",description:"Pop-up removido com sucesso"})),a(!1)},disabled:n,variant:"outline",className:"text-red-600 hover:bg-red-50",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4 mr-2"}),"Deletar"]})]})]}),(0,y.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-900",children:[(0,y.jsx)("p",{className:"font-medium mb-2",children:"\u2139\ufe0f Informa\xe7\xf5es:"}),(0,y.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,y.jsx)("li",{children:"O pop-up aparece apenas uma vez ao abrir a home"}),(0,y.jsx)("li",{children:"Use o link para direcionar usu\xe1rios a um \xe1lbum, artista, ou p\xe1gina externa"}),(0,y.jsx)("li",{children:"A imagem \xe9 exibida em forma de modal popup"})]})]})]})};var ty=r(8387),ry=r(7820),ny=r.n(ry),ay=r(7770),sy=r.n(ay),iy=e=>0===e?0:e>0?1:-1,oy=e=>"number"==typeof e&&e!=+e,ly=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,cy=e=>("number"===typeof e||e instanceof Number)&&!oy(e),dy=e=>cy(e)||"string"===typeof e,uy=0,hy=e=>{var t=++uy;return"".concat(e||"").concat(t)},my=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!cy(e)&&"string"!==typeof e)return n;if(ly(e)){if(null==t)return n;var s=e.indexOf("%");r=t*parseFloat(e.slice(0,s))/100}else r=+e;return oy(r)&&(r=n),a&&null!=t&&r>t&&(r=t),r},fy=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1};function py(e,t,r){return cy(e)&&cy(t)?e+r*(t-e):t}var gy=e=>null===e||"undefined"===typeof e,vy=e=>gy(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function xy(e){return null!=e}function yy(){}var by=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if("undefined"!==typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(t.replace(/%s/g,()=>n[s++]))}},wy=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,o=ly(n)?e:Number(n),l=ly(a)?t:Number(a);return s&&s>0&&(o?l=o/s:l&&(o=l*s),i&&null!=l&&l>i&&(l=i)),{calculatedWidth:o,calculatedHeight:l}},jy={width:0,height:0,overflow:"visible"},Ny={width:0,overflowX:"visible"},_y={height:0,overflowY:"visible"},Sy={},ky=e=>{var{width:t,height:r}=e,n=ly(t),a=ly(r);return n&&a?jy:n?Ny:a?_y:Sy};function Ay(e){return Number.isFinite(e)}function Ey(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function Oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Py(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oy(Object(r),!0).forEach(function(t){Dy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Dy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ty=(0,t.createContext)({width:-1,height:-1});function Ry(e){var{children:r,width:n,height:a}=e,s=(0,t.useMemo)(()=>({width:n,height:a}),[n,a]);return function(e){return Ey(e.width)&&Ey(e.height)}(s)?t.createElement(Ty.Provider,{value:s},r):null}var Iy=()=>(0,t.useContext)(Ty),My=(0,t.forwardRef)((e,r)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:h,className:m,onResize:f,style:p={}}=e,g=(0,t.useRef)(null),v=(0,t.useRef)();v.current=f,(0,t.useImperativeHandle)(r,()=>g.current);var[x,y]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),b=(0,t.useCallback)((e,t)=>{y(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,t.useEffect)(()=>{if(null==g.current||"undefined"===typeof ResizeObserver)return yy;var e=e=>{var t,{width:r,height:n}=e[0].contentRect;b(r,n),null===(t=v.current)||void 0===t||t.call(v,r,n)};u>0&&(e=ny()(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return b(r,n),t.observe(g.current),()=>{t.disconnect()}},[b,u]);var{containerWidth:w,containerHeight:j}=x;by(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:_}=wy(w,j,{width:s,height:i,aspect:n,maxHeight:c});return by(null!=N&&N>0||null!=_&&_>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",N,_,s,i,o,l,n),t.createElement("div",{id:h?"".concat(h):void 0,className:(0,ty.$)("recharts-responsive-container",m),style:Py(Py({},p),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:ky({width:s,height:i})},t.createElement(Ry,{width:N,height:_},d)))}),Ly=(0,t.forwardRef)((e,r)=>{var n=Iy();if(Ey(n.width)&&Ey(n.height))return e.children;var{width:a,height:s}=function(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return void 0===a&&void 0===s?(a="100%",s="100%"):void 0===a?a=n&&n>0?void 0:"100%":void 0===s&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=wy(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return cy(i)&&cy(o)?t.createElement(Ry,{width:i,height:o},e.children):t.createElement(My,Cy({},e,{width:a,height:s,ref:r}))}),zy=r(4705),Fy=Symbol.for("immer-nothing"),By=Symbol.for("immer-draftable"),Uy=Symbol.for("immer-state");function qy(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Vy=Object,Wy=Vy.getPrototypeOf,Hy="constructor",Ky="prototype",$y="configurable",Gy="enumerable",Yy="writable",Jy="value",Xy=e=>!!e&&!!e[Uy];function Zy(e){var t;return!!e&&(tb(e)||ob(e)||!!e[By]||!(null===(t=e[Hy])||void 0===t||!t[By])||lb(e)||cb(e))}var Qy=Vy[Ky][Hy].toString(),eb=new WeakMap;function tb(e){if(!e||!db(e))return!1;const t=Wy(e);if(null===t||t===Vy[Ky])return!0;const r=Vy.hasOwnProperty.call(t,Hy)&&t[Hy];if(r===Object)return!0;if(!ub(r))return!1;let n=eb.get(r);return void 0===n&&(n=Function.toString.call(r),eb.set(r,n)),n===Qy}function rb(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===nb(e)){(r?Reflect.ownKeys(e):Vy.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function nb(e){const t=e[Uy];return t?t.type_:ob(e)?1:lb(e)?2:cb(e)?3:0}var ab=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:nb(e))?e.has(t):Vy[Ky].hasOwnProperty.call(e,t)},sb=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:nb(e))?e.get(t):e[t]},ib=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nb(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r};var ob=Array.isArray,lb=e=>e instanceof Map,cb=e=>e instanceof Set,db=e=>"object"===typeof e,ub=e=>"function"===typeof e,hb=e=>"boolean"===typeof e,mb=e=>e.copy_||e.base_,fb=e=>e.modified_?e.copy_:e.base_;function pb(e,t){if(lb(e))return new Map(e);if(cb(e))return new Set(e);if(ob(e))return Array[Ky].slice.call(e);const r=tb(e);if(!0===t||"class_only"===t&&!r){const t=Vy.getOwnPropertyDescriptors(e);delete t[Uy];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],s=t[a];!1===s[Yy]&&(s[Yy]=!0,s[$y]=!0),(s.get||s.set)&&(t[a]={[$y]:!0,[Yy]:!0,[Gy]:s[Gy],[Jy]:e[a]})}return Vy.create(Wy(e),t)}{const t=Wy(e);if(null!==t&&r)return(0,N.A)({},e);const n=Vy.create(t);return Vy.assign(n,e)}}function gb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return xb(e)||Xy(e)||!Zy(e)||(nb(e)>1&&Vy.defineProperties(e,{set:vb,add:vb,clear:vb,delete:vb}),Vy.freeze(e),t&&rb(e,(e,t)=>{gb(t,!0)},!1)),e}var vb={[Jy]:function(){qy(2)}};function xb(e){return null===e||!db(e)||Vy.isFrozen(e)}var yb="MapSet",bb="Patches",wb={};function jb(e){const t=wb[e];return t||qy(0),t}var Nb;var _b=()=>Nb;function Sb(e,t){t&&(e.patchPlugin_=jb(bb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kb(e){Ab(e),e.drafts_.forEach(Cb),e.drafts_=null}function Ab(e){e===Nb&&(Nb=e.parent_)}var Eb=e=>Nb=((e,t)=>{return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(r=yb,wb[r]?jb(yb):void 0)};var r})(Nb,e);function Cb(e){const t=e[Uy];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ob(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(void 0!==e&&e!==r){r[Uy].modified_&&(kb(t),qy(4)),Zy(e)&&(e=Pb(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[Uy].base_,e,t)}else e=Pb(t,r);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gb(t,r)}(t,e,!0),kb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Fy?e:void 0}function Pb(e,t){if(xb(t))return t;const r=t[Uy];if(!r){return Lb(t,e.handledSet_,e)}if(!Tb(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:t}=r;if(t)for(;t.length>0;){t.pop()(e)}Mb(r,e)}return r.copy_}function Db(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Tb=(e,t)=>e.scope_===t,Rb=[];function Ib(e,t,r,n){var a;const s=mb(e),i=e.type_;if(void 0!==n){if(sb(s,n,i)===t)return void ib(s,n,r,i)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;rb(s,(e,r)=>{if(Xy(r)){const n=t.get(r)||[];n.push(e),t.set(r,n)}})}const o=null!==(a=e.draftLocations_.get(t))&&void 0!==a?a:Rb;for(const l of o)ib(s,l,r,i)}function Mb(e,t){var r,n;if(e.modified_&&!e.finalized_&&(3===e.type_||(null!==(r=null===(n=e.assigned_)||void 0===n?void 0:n.size)&&void 0!==r?r:0)>0)){const{patchPlugin_:r}=t;if(r){const n=r.getPath(e);n&&r.generatePatches_(e,n,t)}Db(e)}}function Lb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Xy(e)||t.has(e)||!Zy(e)||xb(e)||(t.add(e),rb(e,(n,a)=>{if(Xy(a)){const t=a[Uy];if(Tb(t,r)){const r=fb(t);ib(e,n,r,e.type_),Db(t)}}else Zy(a)&&Lb(a,t,r)})),e}var zb={get(e,t){if(t===Uy)return e;const r=mb(e);if(!ab(r,t,e.type_))return function(e,t,r){var n;const a=Ub(t,r);return a?Jy in a?a[Jy]:null===(n=a.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];if(e.finalized_||!Zy(n))return n;if(n===Bb(e.base_,t)){Vb(e);const r=1===e.type_?+t:t,a=Wb(e.scope_,n,e,r);return e.copy_[r]=a}return n},has:(e,t)=>t in mb(e),ownKeys:e=>Reflect.ownKeys(mb(e)),set(e,t,r){const n=Ub(mb(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Bb(mb(e),t),i=null===n||void 0===n?void 0:n[Uy];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(((a=r)===(s=n)?0!==a||1/a===1/s:a!==a&&s!==s)&&(void 0!==r||ab(e.base_,t,e.type_)))return!0;Vb(e),qb(e)}var a,s;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),function(e,t,r){const{scope_:n}=e;if(Xy(r)){const a=r[Uy];Tb(a,n)&&a.callbacks_.push(function(){Vb(e);const n=fb(a);Ib(e,r,n,t)})}else Zy(r)&&e.callbacks_.push(function(){const a=mb(e);var s;sb(a,t,e.type_)===r&&n.drafts_.length>1&&!0===(null!==(s=e.assigned_.get(t))&&void 0!==s&&s)&&e.copy_&&Lb(sb(e.copy_,t,e.type_),n.handledSet_,n)})}(e,t,r)),!0},deleteProperty:(e,t)=>(Vb(e),void 0!==Bb(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),qb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=mb(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[Yy]:!0,[$y]:1!==e.type_||"length"!==t,[Gy]:n[Gy],[Jy]:r[t]}:n},defineProperty(){qy(11)},getPrototypeOf:e=>Wy(e.base_),setPrototypeOf(){qy(12)}},Fb={};function Bb(e,t){const r=e[Uy];return(r?mb(r):e)[t]}function Ub(e,t){if(!(t in e))return;let r=Wy(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Wy(r)}}function qb(e){e.modified_||(e.modified_=!0,e.parent_&&qb(e.parent_))}function Vb(e){e.copy_||(e.assigned_=new Map,e.copy_=pb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}rb(zb,(e,t)=>{Fb[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),Fb.deleteProperty=function(e,t){return Fb.set.call(this,e,t,void 0)},Fb.set=function(e,t,r){return zb.set.call(this,e[0],t,r,e[0])};function Wb(e,t,r,n){var a,s;const[i,o]=lb(t)?jb(yb).proxyMap_(t,r):cb(t)?jb(yb).proxySet_(t,r):function(e,t){const r=ob(e),n={type_:r?1:0,scope_:t?t.scope_:_b(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=zb;r&&(a=[n],s=Fb);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,[o,n]}(t,r);return(null!==(a=null===r||void 0===r?void 0:r.scope_)&&void 0!==a?a:_b()).drafts_.push(i),o.callbacks_=null!==(s=null===r||void 0===r?void 0:r.callbacks_)&&void 0!==s?s:[],o.key_=n,r&&void 0!==n?function(e,t,r){e.callbacks_.push(function(n){var a,s;const i=t;if(!i||!Tb(i,n))return;null===(a=n.mapSetPlugin_)||void 0===a||a.fixSetContents(i);const o=fb(i);Ib(e,null!==(s=i.draft_)&&void 0!==s?s:i,o,r),Mb(i,n)})}(r,o,n):o.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(o);const{patchPlugin_:r}=e;o.modified_&&r&&r.generatePatches_(o,[],e)}),i}function Hb(e){return Xy(e)||qy(10),Kb(e)}function Kb(e){if(!Zy(e)||xb(e))return e;const t=e[Uy];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=pb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=pb(e,!0);return rb(r,(e,t)=>{ib(r,e,Kb(t))},n),t&&(t.finalized_=!1),r}var $b=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(ub(e)&&!ub(t)){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return n.produce(e,e=>t.call(this,e,...s))}}let n;if(ub(t)||qy(6),void 0===r||ub(r)||qy(7),Zy(e)){const a=Eb(this),s=Wb(a,e,void 0);let i=!0;try{n=t(s),i=!1}finally{i?kb(a):Ab(a)}return Sb(a,r),Ob(n,a)}if(!e||!db(e)){if(n=t(e),void 0===n&&(n=e),n===Fy&&(n=void 0),this.autoFreeze_&&gb(n,!0),r){const t=[],a=[];jb(bb).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:a}),r(t,a)}return n}qy(1)},this.produceWithPatches=(e,r)=>{if(ub(e))return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;return[this.produce(e,r,(e,t)=>{n=e,a=t}),n,a]},hb(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),hb(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),hb(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Zy(e)||qy(8),Xy(e)&&(e=Hb(e));const t=Eb(this),r=Wb(t,e,void 0);return r[Uy].isManual_=!0,Ab(t),r}finishDraft(e,t){const r=e&&e[Uy];r&&r.isManual_||qy(9);const{scope_:n}=r;return Sb(n,t),Ob(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=jb(bb).applyPatches_;return Xy(e)?n(e,t):this.produce(e,e=>n(e,t))}},Gb=$b.produce;function Yb(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Jb=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Xb=()=>Math.random().toString(36).substring(7).split("").join("."),Zb={INIT:"@@redux/INIT".concat(Xb()),REPLACE:"@@redux/REPLACE".concat(Xb()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Xb())};function Qb(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function ew(e,t,r){if("function"!==typeof e)throw new Error(Yb(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Yb(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Yb(1));return r(ew)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(Yb(3));return a}function u(e){if("function"!==typeof e)throw new Error(Yb(4));if(l)throw new Error(Yb(5));let t=!0;c();const r=o++;return i.set(r,e),function(){if(t){if(l)throw new Error(Yb(6));t=!1,c(),i.delete(r),s=null}}}function h(e){if(!Qb(e))throw new Error(Yb(7));if("undefined"===typeof e.type)throw new Error(Yb(8));if("string"!==typeof e.type)throw new Error(Yb(17));if(l)throw new Error(Yb(9));try{l=!0,a=n(a,e)}finally{l=!1}return(s=i).forEach(e=>{e()}),e}h({type:Zb.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Yb(10));n=e,h({type:Zb.REPLACE})},[Jb]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Yb(11));function r(){const e=t;e.next&&e.next(d())}r();return{unsubscribe:e(r)}},[Jb](){return this}}}}}function tw(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const n=t[i];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let a;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:Zb.INIT}))throw new Error(Yb(12));if("undefined"===typeof r(void 0,{type:Zb.PROBE_UNKNOWN_ACTION()}))throw new Error(Yb(13))})}(r)}catch(s){a=s}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let s=!1;const i={};for(let a=0;a<n.length;a++){const o=n[a],l=r[o],c=e[o],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Yb(14))}i[o]=d,s=s||d!==c}return s=s||n.length!==Object.keys(e).length,s?i:e}}function rw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function nw(e){return Qb(e)&&"type"in e&&"string"===typeof e.type}function aw(e){return t=>{let{dispatch:r,getState:n}=t;return t=>a=>"function"===typeof a?a(r,n,e):t(a)}}var sw=aw(),iw=aw;const ow=["reducerPath"];var lw="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?rw:rw.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function cw(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(nj(0));return(0,N.A)((0,N.A)({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>"".concat(e),r.type=e,r.match=t=>nw(t)&&t.type===e,r}var dw=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function uw(e){return Zy(e)?Gb(e,()=>{}):e}function hw(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var mw="RTK_autoBatch",fw=()=>e=>({payload:e,meta:{[mw]:!0}}),pw=e=>t=>{setTimeout(t,e)},gw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,a=!1,s=!1;const i=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:pw(10):"callback"===e.type?e.queueNotification:pw(e.timeout),l=()=>{s=!1,a&&(a=!1,i.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{var t;return n=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[mw]),a=!n,a&&(s||(s=!0,o(l))),r.dispatch(e)}finally{n=!0}}})}};function vw(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let s=new dw;return t&&("boolean"===typeof t?s.push(sw):s.push(iw(t.extraArgument))),s},{reducer:r,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:s=!0,preloadedState:i,enhancers:o}=e||{};let l,c;if("function"===typeof r)l=r;else{if(!Qb(r))throw new Error(nj(1));l=tw(r)}c="function"===typeof n?n(t):t();let d=rw;a&&(d=lw((0,N.A)({trace:!1},"object"===typeof a&&a)));const u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(Yb(15))};const i={getState:a.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s(e,...r)}},o=t.map(e=>e(i));return s=rw(...o)(a.dispatch),(0,N.A)((0,N.A)({},a),{},{dispatch:s})}}(...c),h=(e=>function(t){const{autoBatch:r=!0}=null!==t&&void 0!==t?t:{};let n=new dw(e);return r&&n.push(gw("object"===typeof r?r:void 0)),n})(u);return ew(l,i,d(..."function"===typeof o?o(h):h()))}function xw(e){const t={},r=[];let n;const a={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(nj(28));if(n in t)throw new Error(nj(29));return t[n]=r,a},addAsyncThunk:(e,n)=>(n.pending&&(t[e.pending.type]=n.pending),n.rejected&&(t[e.rejected.type]=n.rejected),n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled),n.settled&&r.push({matcher:e.settled,reducer:n.settled}),a),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(n=e,a)};return e(a),[t,r,n]}var yw=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var bw=Symbol.for("rtk-slice-createasyncthunk");function ww(e,t){return"".concat(e,"/").concat(t)}function jw(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[bw];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(nj(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return(0,N.A)({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(a),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(nj(12));if(r in i.sliceCaseReducersByType)throw new Error(nj(13));return i.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},r=[],n]="function"===typeof e.extraReducers?xw(e.extraReducers):[e.extraReducers],a=(0,N.A)((0,N.A)({},t),i.sliceCaseReducersByType);return function(e,t){let r,[n,a,s]=xw(t);if("function"===typeof e)r=()=>uw(e());else{const t=uw(e);r=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,i=[n[t.type],...a.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===i.filter(e=>!!e).length&&(i=[s]),i.reduce((e,r)=>{if(r){if(Xy(e)){const n=r(e,t);return void 0===n?e:n}if(Zy(e))return Gb(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return i.getInitialState=r,i}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}s.forEach(n=>{const s=a[n],i={reducerName:n,type:ww(t,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,r){let n,a,{type:s,reducerName:i,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(nj(17));n=t.reducer,a=t.prepare}else n=t;r.addCase(s,n).exposeCaseReducer(i,n).exposeAction(i,a?cw(s,a):cw(s))}(i,s,o):function(e,t,r,n){let{type:a,reducerName:s}=e;if(!n)throw new Error(nj(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,h=n(a,i,u);r.exposeAction(s,h),o&&r.addCase(h.fulfilled,o);l&&r.addCase(h.pending,l);c&&r.addCase(h.rejected,c);d&&r.addMatcher(h.settled,d);r.exposeCaseReducer(s,{fulfilled:o||Sw,pending:l||Sw,rejected:c||Sw,settled:d||Sw})}(i,s,o,r)});const c=e=>e,d=new Map,u=new WeakMap;let h;function m(e,t){return h||(h=l()),h(e,t)}function f(){return h||(h=l()),h.getInitialState()}function p(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let a=e[t];return"undefined"===typeof a&&r&&(a=hw(u,n,f)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=hw(d,r,()=>new WeakMap);return hw(n,t,()=>{const n={};for(const[s,i]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;n[s]=Nw(i,t,()=>hw(u,t,f),r)}return n})}return{reducerPath:t,getSelectors:a,get selectors(){return a(n)},selectSlice:n}}const g=(0,N.A)((0,N.A)({name:t,reducer:m,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:f},p(n)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:r}=t,a=(0,_.A)(t,ow);const s=null!==r&&void 0!==r?r:n;return e.inject({reducerPath:s,reducer:m},a),(0,N.A)((0,N.A)({},g),p(s,!0))}});return g}}function Nw(e,t,r,n){function a(a){let s=t(a);"undefined"===typeof s&&n&&(s=r());for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e(s,...o)}return a.unwrapped=e,a}var _w=jw();function Sw(){}var kw="listener",Aw="completed",Ew="cancelled",Cw="task-".concat(Ew),Ow="task-".concat(Aw),Pw="".concat(kw,"-").concat(Ew),Dw="".concat(kw,"-").concat(Aw),Tw=class{constructor(e){(0,zy.A)(this,"name","TaskAbortError"),(0,zy.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(Ew," (reason: ").concat(e,")")}},Rw=(e,t)=>{if("function"!==typeof e)throw new TypeError(nj(32))},Iw=()=>{},Mw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Iw;return e.catch(t),e},Lw=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zw=e=>{if(e.aborted)throw new Tw(e.reason)};function Fw(e,t){let r=Iw;return new Promise((n,a)=>{const s=()=>a(new Tw(e.reason));e.aborted?s():(r=Lw(e,s),t.finally(()=>r()).then(n,a))}).finally(()=>{r=Iw})}var Bw=e=>t=>Mw(Fw(e,t).then(t=>(zw(e),t))),Uw=e=>{const t=Bw(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:qw}=Object,Vw={},Ww="listenerMiddleware",Hw=(e,t)=>(r,n)=>{Rw(r);const a=new AbortController;var s;s=a,Lw(e,()=>s.abort(e.reason));const i=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Tw?"cancelled":"rejected",error:r}}finally{null===t||void 0===t||t()}})(async()=>{zw(e),zw(a.signal);const t=await r({pause:Bw(a.signal),delay:Uw(a.signal),signal:a.signal});return zw(a.signal),t},()=>a.abort(Ow));return null!==n&&void 0!==n&&n.autoJoin&&t.push(i.catch(Iw)),{result:Bw(e)(i),cancel(){a.abort(Cw)}}},Kw=(e,t)=>(r,n)=>Mw((async(r,n)=>{zw(t);let a=()=>{};const s=[new Promise((t,n)=>{let s=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});a=()=>{s(),n()}})];null!=n&&s.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await Fw(t,Promise.race(s));return zw(t),e}finally{a()}})(r,n)),$w=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=cw(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(nj(21));return Rw(s),{predicate:a,type:t,effect:s}},Gw=qw(e=>{const{type:t,predicate:r,effect:n}=$w(e);return{id:yw(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(nj(22))}}},{withTypes:()=>Gw}),Yw=(e,t)=>{const{type:r,effect:n,predicate:a}=$w(t);return Array.from(e.values()).find(e=>("string"===typeof r?e.type===r:e.predicate===a)&&e.effect===n)},Jw=e=>{e.pending.forEach(e=>{e.abort(Pw)})},Xw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Zw=qw(cw("".concat(Ww,"/add")),{withTypes:()=>Zw}),Qw=cw("".concat(Ww,"/removeAll")),ej=qw(cw("".concat(Ww,"/remove")),{withTypes:()=>ej}),tj=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error("".concat(Ww,"/error"),...t)},rj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,r=new Map,{extra:n,onError:a=tj}=e;Rw(a);const s=e=>{var r;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Jw(e)}))(null!==(r=Yw(t,e))&&void 0!==r?r:Gw(e))};qw(s,{withTypes:()=>s});const i=e=>{const r=Yw(t,e);return r&&(r.unsubscribe(),e.cancelActive&&Jw(r)),!!r};qw(i,{withTypes:()=>i});const o=async(e,i,o,l)=>{const c=new AbortController,d=Kw(s,c.signal),u=[];try{e.pending.add(c),(e=>{var t;const n=null!==(t=r.get(e))&&void 0!==t?t:0;r.set(e,n+1)})(e),await Promise.resolve(e.effect(i,qw({},o,{getOriginalState:l,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:Uw(c.signal),pause:Bw(c.signal),extra:n,signal:c.signal,fork:Hw(c.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==c&&(e.abort(Pw),r.delete(e))})},cancel:()=>{c.abort(Pw),e.pending.delete(c)},throwIfCancelled:()=>{zw(c.signal)}})))}catch(h){h instanceof Tw||Xw(a,h,{raisedBy:"effect"})}finally{await Promise.all(u),c.abort(Dw),(e=>{var t;const n=null!==(t=r.get(e))&&void 0!==t?t:1;1===n?r.delete(e):r.set(e,n-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())Jw(e);e.clear()})(t,r);return{middleware:e=>r=>n=>{if(!nw(n))return r(n);if(Zw.match(n))return s(n.payload);if(Qw.match(n))return void l();if(ej.match(n))return i(n.payload);let c=e.getState();const d=()=>{if(c===Vw)throw new Error(nj(23));return c};let u;try{if(u=r(n),t.size>0){const r=e.getState(),s=Array.from(t.values());for(const t of s){let s=!1;try{s=t.predicate(n,r,c)}catch(h){s=!1,Xw(a,h,{raisedBy:"predicate"})}s&&o(t,n,e,d)}}}finally{c=Vw}return u},startListening:s,stopListening:i,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function nj(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function aj(e,t){if(t){var r=Number.parseInt(t,10);if(!oy(r))return null===e||void 0===e?void 0:e[r]}}var sj=_w({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ij=sj.reducer,{createEventEmitter:oj}=sj.actions;r(7237);function lj(e){e()}var cj={notify(){},get:()=>[]};function dj(e,t){let r,n=cj,a=0,s=!1;function i(){c.onStateChange&&c.onStateChange()}function o(){a++,r||(r=t?t.addNestedSub(i):e.subscribe(i),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lj(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=cj)}const c={addNestedSub:function(e){o();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:i,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>n};return c}var uj=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),hj=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),mj=(()=>uj||hj?t.useLayoutEffect:t.useEffect)();function fj(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function pj(e,t){if(fj(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!fj(e[r[a]],t[r[a]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var gj=Symbol.for("react-redux-context"),vj="undefined"!==typeof globalThis?globalThis:{};function xj(){var e;if(!t.createContext)return{};const r=null!==(e=vj[gj])&&void 0!==e?e:vj[gj]=new Map;let n=r.get(t.createContext);return n||(n=t.createContext(null),r.set(t.createContext,n)),n}var yj=xj();var bj=function(e){const{children:r,context:n,serverState:a,store:s}=e,i=t.useMemo(()=>{const e=dj(s);return{store:s,subscription:e,getServerState:a?()=>a:void 0}},[s,a]),o=t.useMemo(()=>s.getState(),[s]);mj(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==s.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,o]);const l=n||yj;return t.createElement(l.Provider,{value:i},r)};var wj=Symbol.for("immer-nothing"),jj=Symbol.for("immer-draftable"),Nj=Symbol.for("immer-state");function _j(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Sj=Object.getPrototypeOf;function kj(e){return!!e&&!!e[Nj]}function Aj(e){var t;return!!e&&(Oj(e)||Array.isArray(e)||!!e[jj]||!(null===(t=e.constructor)||void 0===t||!t[jj])||Ij(e)||Mj(e))}var Ej=Object.prototype.constructor.toString(),Cj=new WeakMap;function Oj(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!==typeof r)return!1;let n=Cj.get(r);return void 0===n&&(n=Function.toString.call(r),Cj.set(r,n)),n===Ej}function Pj(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===Dj(e)){(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function Dj(e){const t=e[Nj];return t?t.type_:Array.isArray(e)?1:Ij(e)?2:Mj(e)?3:0}function Tj(e,t){return 2===Dj(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Rj(e,t,r){const n=Dj(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function Ij(e){return e instanceof Map}function Mj(e){return e instanceof Set}function Lj(e){return e.copy_||e.base_}function zj(e,t){if(Ij(e))return new Map(e);if(Mj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Oj(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Nj];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],s=t[a];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(Sj(e),t)}{const t=Sj(e);if(null!==t&&r)return(0,N.A)({},e);const n=Object.create(t);return Object.assign(n,e)}}function Fj(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Uj(e)||kj(e)||!Aj(e)||(Dj(e)>1&&Object.defineProperties(e,{set:Bj,add:Bj,clear:Bj,delete:Bj}),Object.freeze(e),t&&Object.values(e).forEach(e=>Fj(e,!0))),e}var Bj={value:function(){_j(2)}};function Uj(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var qj,Vj={};function Wj(e){const t=Vj[e];return t||_j(0),t}function Hj(){return qj}function Kj(e,t){t&&(Wj("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $j(e){Gj(e),e.drafts_.forEach(Jj),e.drafts_=null}function Gj(e){e===qj&&(qj=e.parent_)}function Yj(e){return qj={drafts_:[],parent_:qj,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jj(e){const t=e[Nj];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Xj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Nj].modified_&&($j(t),_j(4)),Aj(e)&&(e=Zj(t,e),t.parent_||eN(t,e)),t.patches_&&Wj("Patches").generateReplacementPatches_(r[Nj].base_,e,t.patches_,t.inversePatches_)):e=Zj(t,r,[]),$j(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wj?e:void 0}function Zj(e,t,r){if(Uj(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Nj];if(!a)return Pj(t,(n,s)=>Qj(e,a,t,n,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return eN(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let s=t,i=!1;3===a.type_&&(s=new Set(t),t.clear(),i=!0),Pj(s,(n,s)=>Qj(e,a,t,n,s,r,i),n),eN(e,t,!1),r&&e.patches_&&Wj("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Qj(e,t,r,n,a,s,i){if(null==a)return;if("object"!==typeof a&&!i)return;const o=Uj(a);if(!o||i){if(kj(a)){const i=Zj(e,a,s&&t&&3!==t.type_&&!Tj(t.assigned_,n)?s.concat(n):void 0);if(Rj(r,n,i),!kj(i))return;e.canAutoFreeze_=!1}else i&&r.add(a);if(Aj(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[n]===a&&o)return;Zj(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!(Ij(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||eN(e,a)}}}function eN(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fj(t,r)}var tN={get(e,t){if(t===Nj)return e;const r=Lj(e);if(!Tj(r,t))return function(e,t,r){var n;const a=aN(t,r);return a?"value"in a?a.value:null===(n=a.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!Aj(n)?n:n===nN(e.base_,t)?(iN(e),e.copy_[t]=oN(n,e)):n},has:(e,t)=>t in Lj(e),ownKeys:e=>Reflect.ownKeys(Lj(e)),set(e,t,r){const n=aN(Lj(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=nN(Lj(e),t),i=null===n||void 0===n?void 0:n[Nj];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((a=r)===(s=n)?0!==a||1/a===1/s:a!==a&&s!==s)&&(void 0!==r||Tj(e.base_,t)))return!0;iN(e),sN(e)}var a,s;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==nN(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,iN(e),sN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Lj(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){_j(11)},getPrototypeOf:e=>Sj(e.base_),setPrototypeOf(){_j(12)}},rN={};function nN(e,t){const r=e[Nj];return(r?Lj(r):e)[t]}function aN(e,t){if(!(t in e))return;let r=Sj(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Sj(r)}}function sN(e){e.modified_||(e.modified_=!0,e.parent_&&sN(e.parent_))}function iN(e){e.copy_||(e.copy_=zj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Pj(tN,(e,t)=>{rN[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),rN.deleteProperty=function(e,t){return rN.set.call(this,e,t,void 0)},rN.set=function(e,t,r){return tN.set.call(this,e[0],t,r,e[0])};function oN(e,t){const r=Ij(e)?Wj("MapSet").proxyMap_(e,t):Mj(e)?Wj("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Hj(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=tN;r&&(a=[n],s=rN);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}(e,t);return(t?t.scope_:Hj()).drafts_.push(r),r}function lN(e){if(!Aj(e)||Uj(e))return e;const t=e[Nj];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=zj(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=zj(e,!0);return Pj(r,(e,t)=>{Rj(r,e,lN(t))},n),t&&(t.finalized_=!1),r}var cN=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return n.produce(e,e=>t.call(this,e,...s))}}let n;if("function"!==typeof t&&_j(6),void 0!==r&&"function"!==typeof r&&_j(7),Aj(e)){const a=Yj(this),s=oN(e,void 0);let i=!0;try{n=t(s),i=!1}finally{i?$j(a):Gj(a)}return Kj(a,r),Xj(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===wj&&(n=void 0),this.autoFreeze_&&Fj(n,!0),r){const t=[],a=[];Wj("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}_j(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;return[this.produce(e,r,(e,t)=>{n=e,a=t}),n,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Aj(e)||_j(8),kj(e)&&(e=function(e){kj(e)||_j(10);return lN(e)}(e));const t=Yj(this),r=oN(e,void 0);return r[Nj].isManual_=!0,Gj(t),r}finishDraft(e,t){const r=e&&e[Nj];r&&r.isManual_||_j(9);const{scope_:n}=r;return Kj(n,t),Xj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=Wj("Patches").applyPatches_;return kj(e)?n(e,t):this.produce(e,e=>n(e,t))}};cN.produce;var dN={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},uN=_w({name:"tooltip",initialState:{itemInteraction:{click:dN,hover:dN},axisInteraction:{click:dN,hover:dN},keyboardInteraction:dN,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:fw()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Hb(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:fw()},removeTooltipEntrySettings:{reducer(e,t){var r=Hb(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:fw()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:hN,replaceTooltipEntrySettings:mN,removeTooltipEntrySettings:fN,setTooltipSettingsState:pN,setActiveMouseOverItemIndex:gN,mouseLeaveItem:vN,mouseLeaveChart:xN,setActiveClickItemIndex:yN,setMouseOverAxisIndex:bN,setMouseClickAxisIndex:wN,setSyncInteraction:jN,setKeyboardInteraction:NN}=uN.actions,_N=uN.reducer,SN=_w({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:kN,setDataStartEndIndexes:AN,setComputedData:EN}=SN.actions,CN=SN.reducer,ON=_w({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(n=t.payload.right)&&void 0!==n?n:0,e.margin.bottom=null!==(a=t.payload.bottom)&&void 0!==a?a:0,e.margin.left=null!==(s=t.payload.left)&&void 0!==s?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:PN,setLayout:DN,setChartSize:TN,setScale:RN}=ON.actions,IN=ON.reducer;function MN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var LN=e=>Array.isArray(e)?e:[e];function zN(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(r,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var FN="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function BN(){return{s:0,v:void 0,o:null,p:null}}function UN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let a,s=0;function i(){let t=r;const{length:i}=arguments;for(let e=0,r=i;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=BN(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=BN(),e.set(r,t)):t=n}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),s++,n){var c,d,u;const e=null!==(c=null===(d=a)||void 0===d||null===(u=d.deref)||void 0===u?void 0:u.call(d))&&void 0!==c?c:a;null!=e&&n(e,l)&&(l=e,0!==s&&s--);a="object"===typeof l&&null!==l||"function"===typeof l?new FN(l):l}return o.s=1,o.v=l,l}return i.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function qN(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a="function"===typeof e?{memoize:e,memoizeOptions:r}:e,s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n,s=0,i=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),MN(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=(0,N.A)((0,N.A)({},a),o),{memoize:d,memoizeOptions:u=[],argsMemoize:h=UN,argsMemoizeOptions:m=[],devModeChecks:f={}}=c,p=LN(u),g=LN(m),v=zN(t),x=d(function(){return s++,l.apply(null,arguments)},...p);const y=h(function(){i++;const e=function(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}(v,arguments);return n=x.apply(null,e),n},...g);return Object.assign(y,{resultFunc:l,memoizedResultFunc:x,dependencies:v,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>n,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:h})};return Object.assign(s,{withTypes:()=>s}),s}var VN=qN(UN),WN=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VN;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const r=Object.keys(e),n=t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})});return n},{withTypes:()=>WN}),HN=r(8443),KN=(0,t.createContext)(null),$N=e=>e,GN=()=>{var e=(0,t.useContext)(KN);return e?e.store.dispatch:$N},YN=()=>{},JN=()=>YN,XN=(e,t)=>e===t;function ZN(e){var r=(0,t.useContext)(KN);return(0,HN.useSyncExternalStoreWithSelector)(r?r.subscription.addNestedSub:JN,r?r.store.getState:YN,r?r.store.getState:YN,r?e:YN,XN)}var QN=r(3821),e_=r.n(QN),t_=e=>e.legend.settings,r_=VN([e=>e.legend.payload,t_],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?e_()(n,r):n});function n_(e,t){if((a=e.length)>1)for(var r,n,a,s=1,i=e[t[0]],o=i.length;s<a;++s)for(n=i,i=e[t[s]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}Array.prototype.slice;function a_(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function s_(e){return function(){return e}}function i_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function o_(e,t){return e[t]}function l_(e){const t=[];return t.key=e,t}function c_(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(t){h_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m_(e,t,r){return gy(e)||gy(t)?r:dy(t)?sy()(e,t,r):"function"===typeof t?t(e):r}var f_=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,p_=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var a,s,i=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===r&&(s=!0),e.coordinate));return a||i.push(t),s||i.push(r),i},g_=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:h,axisType:m}=e;if(!i)return null;var f="scaleBand"===o&&i.bandwidth?i.bandwidth()/2:2,p=(t||r)&&"category"===a&&i.bandwidth?i.bandwidth()/f:0;if(p="angleAxis"===m&&s&&s.length>=2?2*iy(s[0]-s[1])*p:p,t&&(u||h)){var g=(u||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e;return{coordinate:i(r)+p,value:e,offset:p,index:t}});return g.filter(e=>!oy(e.coordinate))}return l&&c?c.map((e,t)=>({coordinate:i(e)+p,value:e,index:t,offset:p})):i.ticks&&!r&&null!=d?i.ticks(d).map((e,t)=>({coordinate:i(e)+p,value:e,offset:p,index:t})):i.domain().map((e,t)=>({coordinate:i(e)+p,value:n?n[e]:e,index:t,offset:p}))},v_=1e-4,x_={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=oy(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,s=0,i=e[0].length;s<i;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}n_(e,t)}},none:n_,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],s=a.length;n<s;++n){for(var i=0,o=0;i<r;++i)o+=e[i][n][1]||0;a[n][1]+=a[n][0]=-o/2}n_(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,s=0,i=1;i<n;++i){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],u=d[i][1]||0,h=(u-(d[i-1][1]||0))/2,m=0;m<o;++m){var f=e[t[m]];h+=(f[i][1]||0)-(f[i-1][1]||0)}l+=u,c+=h*u}r[i-1][1]+=r[i-1][0]=s,l&&(s-=c/l)}r[i-1][1]+=r[i-1][0]=s,n_(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=oy(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}}},y_=(e,t,r)=>{var n=x_[r],a=function(){var e=s_([]),t=i_,r=n_,n=o_;function a(a){var s,i,o=Array.from(e.apply(this,arguments),l_),l=o.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(e,o[s].key,c,a)]).data=e;for(s=0,i=a_(t(o));s<l;++s)o[i[s]].index=s;return r(o,i),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:s_(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:s_(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?i_:"function"===typeof e?e:s_(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?n_:e,a):r},a}().keys(t).value((e,t)=>Number(m_(e,t,0))).order(i_).offset(n);return a(e)};var b_=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if("category"===t.type)return r[i]?r[i].coordinate+n:null;var o=m_(s,t.dataKey,t.scale.domain()[i]);return gy(o)?null:t.scale(o)-a/2+n},w_=(e,t,r)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((e,n)=>{var a=(e=>{var t=e.flat(2).filter(cy);return[Math.min(...t),Math.max(...t)]})(c_(n,t,r));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},j_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,__=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=e_()(t,e=>e.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function S_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return u_(u_({},t),{},{dataKey:r,payload:n,value:a,name:s})}function k_(e,t){return e?String(e):"string"===typeof t?t:void 0}var A_=e=>e.layout.width,E_=e=>e.layout.height,C_=e=>e.layout.scale,O_=e=>e.layout.margin,P_=VN(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),D_=VN(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),T_="data-recharts-item-index",R_="data-recharts-item-data-key";function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(t){L_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z_=VN([A_,E_,O_,e=>e.brush.height,function(e){return D_(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return D_(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return P_(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return P_(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},t_,e=>e.legend.size],(e,t,r,n,a,s,i,o,l,c)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},u=M_(M_({},{top:(r.top||0)+i,bottom:(r.bottom||0)+o}),d),h=u.bottom;u.bottom+=n,u=((e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===i)&&"center"!==s&&cy(e[s]))return u_(u_({},e),{},{[s]:e[s]+(n||0)});if(("horizontal"===o||"vertical"===o&&"center"===s)&&"middle"!==i&&cy(e[i]))return u_(u_({},e),{},{[i]:e[i]+(a||0)})}return e})(u,l,c);var m=e-u.left-u.right,f=t-u.top-u.bottom;return M_(M_({brushBottom:h},u),{},{width:Math.max(m,0),height:Math.max(f,0)})}),F_=VN(z_,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),B_=VN(A_,E_,(e,t)=>({x:0,y:0,width:e,height:t})),U_=(0,t.createContext)(null),q_=()=>null!=(0,t.useContext)(U_),V_=e=>e.brush,W_=VN([V_,z_,O_],(e,t,r)=>({height:e.height,x:cy(e.x)?e.x:t.left,y:cy(e.y)?e.y:t.top+t.height+t.brushBottom-((null===r||void 0===r?void 0:r.bottom)||0),width:cy(e.width)?e.width:t.width}));function H_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var K_=()=>{var e,t=q_(),r=ZN(F_),n=ZN(W_),a=null===(e=ZN(V_))||void 0===e?void 0:e.padding;return t&&n&&a?{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}:r},$_={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},G_=()=>{var e;return null!==(e=ZN(z_))&&void 0!==e?e:$_},Y_=()=>ZN(A_),J_=()=>ZN(E_),X_=e=>e.layout.layoutType,Z_=()=>ZN(X_),Q_=e=>{var r=GN(),n=q_(),{width:a,height:s}=e,i=Iy(),o=a,l=s;return i&&(o=i.width>0?i.width:a,l=i.height>0?i.height:s),(0,t.useEffect)(()=>{!n&&Ey(o)&&Ey(l)&&r(TN({width:o,height:l}))},[r,n,o,l]),null},eS=r(9859),tS=r.n(eS);function rS(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function nS(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class aS extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lS;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(sS(this,e))}has(e){return super.has(sS(this,e))}set(e,t){return super.set(iS(this,e),t)}delete(e){return super.delete(oS(this,e))}}Set;function sS(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function iS(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function oS(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function lS(e){return null!==e&&"object"===typeof e?e.valueOf():e}const cS=Symbol("implicit");function dS(){var e=new aS,t=[],r=[],n=cS;function a(a){let s=e.get(a);if(void 0===s){if(n!==cS)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new aS;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return dS(t,r).unknown(n)},rS.apply(a,arguments),a}function uS(){var e,t,r=dS().unknown(void 0),n=r.domain,a=r.range,s=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=i<s,h=u?i:s,m=u?s:i;e=(m-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(m-h-e*(r-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(a);++n<a;)s[n]=e+n*r;return s}(r).map(function(t){return h+e*t});return a(u?f.reverse():f)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,u()):[s,i]},r.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return uS(n(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},rS.apply(u(),arguments)}function hS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hS(t())},e}function mS(){return hS(uS.apply(null,arguments).paddingInner(1))}const fS=Math.sqrt(50),pS=Math.sqrt(10),gS=Math.sqrt(2);function vS(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=fS?10:s>=pS?5:s>=gS?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?vS(e,t,2*r):[o,l,c]}function xS(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,s,i]=n?vS(t,e,r):vS(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function yS(e,t,r){return vS(e=+e,t=+t,r=+r)[2]}function bS(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?yS(t,e,r):yS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function wS(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jS(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NS(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=wS,r=(t,r)=>wS(e(t),r),n=(t,r)=>e(t)-r):(t=e===wS||e===jS?e:_S,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>r&&n(e[s-1],t)>-n(e[s],t)?s-1:s},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<=0?a=t+1:s=t}while(a<s)}return a}}}function _S(){return 0}function SS(e){return null===e?NaN:+e}const kS=NS(wS),AS=kS.right,ES=(kS.left,NS(SS).center,AS);function CS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function OS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function PS(){}var DS=.7,TS=1/DS,RS="\\s*([+-]?\\d+)\\s*",IS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",MS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LS=/^#([0-9a-f]{3,8})$/,zS=new RegExp("^rgb\\(".concat(RS,",").concat(RS,",").concat(RS,"\\)$")),FS=new RegExp("^rgb\\(".concat(MS,",").concat(MS,",").concat(MS,"\\)$")),BS=new RegExp("^rgba\\(".concat(RS,",").concat(RS,",").concat(RS,",").concat(IS,"\\)$")),US=new RegExp("^rgba\\(".concat(MS,",").concat(MS,",").concat(MS,",").concat(IS,"\\)$")),qS=new RegExp("^hsl\\(".concat(IS,",").concat(MS,",").concat(MS,"\\)$")),VS=new RegExp("^hsla\\(".concat(IS,",").concat(MS,",").concat(MS,",").concat(IS,"\\)$")),WS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function HS(){return this.rgb().formatHex()}function KS(){return this.rgb().formatRgb()}function $S(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LS.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?GS(t):3===r?new XS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?YS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?YS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=zS.exec(e))?new XS(t[1],t[2],t[3],1):(t=FS.exec(e))?new XS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=BS.exec(e))?YS(t[1],t[2],t[3],t[4]):(t=US.exec(e))?YS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=qS.exec(e))?nk(t[1],t[2]/100,t[3]/100,1):(t=VS.exec(e))?nk(t[1],t[2]/100,t[3]/100,t[4]):WS.hasOwnProperty(e)?GS(WS[e]):"transparent"===e?new XS(NaN,NaN,NaN,0):null}function GS(e){return new XS(e>>16&255,e>>8&255,255&e,1)}function YS(e,t,r,n){return n<=0&&(e=t=r=NaN),new XS(e,t,r,n)}function JS(e,t,r,n){return 1===arguments.length?((a=e)instanceof PS||(a=$S(a)),a?new XS((a=a.rgb()).r,a.g,a.b,a.opacity):new XS):new XS(e,t,r,null==n?1:n);var a}function XS(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function ZS(){return"#".concat(rk(this.r)).concat(rk(this.g)).concat(rk(this.b))}function QS(){const e=ek(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(tk(this.r),", ").concat(tk(this.g),", ").concat(tk(this.b)).concat(1===e?")":", ".concat(e,")"))}function ek(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tk(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rk(e){return((e=tk(e))<16?"0":"")+e.toString(16)}function nk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sk(e,t,r,n)}function ak(e){if(e instanceof sk)return new sk(e.h,e.s,e.l,e.opacity);if(e instanceof PS||(e=$S(e)),!e)return new sk;if(e instanceof sk)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(i=t===s?(r-n)/o+6*(r<n):r===s?(n-t)/o+2:(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new sk(i,o,l,e.opacity)}function sk(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function ik(e){return(e=(e||0)%360)<0?e+360:e}function ok(e){return Math.max(0,Math.min(1,e||0))}function lk(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function ck(e,t,r,n,a){var s=e*e,i=s*e;return((1-3*e+3*s-i)*t+(4-6*s+3*i)*r+(1+3*e+3*s-3*i)*n+i*a)/6}CS(PS,$S,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HS,formatHex:HS,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ak(this).formatHsl()},formatRgb:KS,toString:KS}),CS(XS,JS,OS(PS,{brighter(e){return e=null==e?TS:Math.pow(TS,e),new XS(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?DS:Math.pow(DS,e),new XS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new XS(tk(this.r),tk(this.g),tk(this.b),ek(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZS,formatHex:ZS,formatHex8:function(){return"#".concat(rk(this.r)).concat(rk(this.g)).concat(rk(this.b)).concat(rk(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:QS,toString:QS})),CS(sk,function(e,t,r,n){return 1===arguments.length?ak(e):new sk(e,t,r,null==n?1:n)},OS(PS,{brighter(e){return e=null==e?TS:Math.pow(TS,e),new sk(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?DS:Math.pow(DS,e),new sk(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new XS(lk(e>=240?e-240:e+120,a,n),lk(e,a,n),lk(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new sk(ik(this.h),ok(this.s),ok(this.l),ek(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ek(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ik(this.h),", ").concat(100*ok(this.s),"%, ").concat(100*ok(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const dk=e=>()=>e;function uk(e,t){return function(r){return e+r*t}}function hk(e){return 1===(e=+e)?mk:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):dk(isNaN(t)?r:t)}}function mk(e,t){var r=t-e;return r?uk(e,r):dk(isNaN(e)?t:e)}const fk=function e(t){var r=hk(t);function n(e,t){var n=r((e=JS(e)).r,(t=JS(t)).r),a=r(e.g,t.g),s=r(e.b,t.b),i=mk(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=s(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function pk(e){return function(t){var r,n,a=t.length,s=new Array(a),i=new Array(a),o=new Array(a);for(r=0;r<a;++r)n=JS(t[r]),s[r]=n.r||0,i[r]=n.g||0,o[r]=n.b||0;return s=e(s),i=e(i),o=e(o),n.opacity=1,function(e){return n.r=s(e),n.g=i(e),n.b=o(e),n+""}}}pk(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],s=e[n+1],i=n>0?e[n-1]:2*a-s,o=n<t-1?e[n+2]:2*s-a;return ck((r-n/t)*t,i,a,s,o)}}),pk(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],s=e[n%t],i=e[(n+1)%t],o=e[(n+2)%t];return ck((r-n/t)*t,a,s,i,o)}});function gk(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n);for(r=0;r<a;++r)s[r]=_k(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<a;++r)i[r]=s[r](e);return i}}function vk(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function xk(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yk(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=_k(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var bk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wk=new RegExp(bk.source,"g");function jk(e,t){var r,n,a,s=bk.lastIndex=wk.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(r=bk.exec(e))&&(n=wk.exec(t));)(a=n.index)>s&&(a=t.slice(s,a),o[i]?o[i]+=a:o[++i]=a),(r=r[0])===(n=n[0])?o[i]?o[i]+=n:o[++i]=n:(o[++i]=null,l.push({i:i,x:xk(r,n)})),s=wk.lastIndex;return s<t.length&&(a=t.slice(s),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function Nk(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(r=0;r<n;++r)a[r]=e[r]*(1-s)+t[r]*s;return a}}function _k(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?dk(t):("number"===a?xk:"string"===a?(r=$S(t))?(t=r,fk):jk:t instanceof $S?fk:t instanceof Date?vk:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?gk:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?yk:xk:Nk))(e,t)}function Sk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function kk(e){return+e}var Ak=[0,1];function Ek(e){return e}function Ck(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Ok(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Ck(a,n),s=r(i,s)):(n=Ck(n,a),s=r(s,i)),function(e){return s(n(e))}}function Pk(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Ck(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(t){var r=ES(e,t,1,n)-1;return s[r](a[r](t))}}function Dk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tk(){var e,t,r,n,a,s,i=Ak,o=Ak,l=_k,c=Ek;function d(){var e=Math.min(i.length,o.length);return c!==Ek&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),n=e>2?Pk:Ok,a=s=null,u}function u(t){return null==t||isNaN(t=+t)?r:(a||(a=n(i.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((s||(s=n(o,i.map(e),xk)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,kk),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=Sk,d()},u.clamp=function(e){return arguments.length?(c=!!e||Ek,d()):c!==Ek},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function Rk(){return Tk()(Ek,Ek)}var Ik,Mk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lk(e){if(!(t=Mk.exec(e)))throw new Error("invalid format: "+e);var t;return new zk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function zk(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Fk(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bk(e){return(e=Fk(Math.abs(e)))?e[1]:NaN}function Uk(e,t){var r=Fk(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}Lk.prototype=zk.prototype,zk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const qk={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Uk(100*e,t),r:Uk,s:function(e,t){var r=Fk(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Ik=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Fk(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Vk(e){return e}var Wk,Hk,Kk,$k=Array.prototype.map,Gk=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Yk(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Vk:(t=$k.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,s=[],i=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[i=(i+1)%t.length];return s.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Vk:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}($k.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=Lk(e)).fill,r=e.align,u=e.sign,h=e.symbol,m=e.zero,f=e.width,p=e.comma,g=e.precision,v=e.trim,x=e.type;"n"===x?(p=!0,x="g"):qk[x]||(void 0===g&&(g=12),v=!0,x="g"),(m||"0"===t&&"="===r)&&(m=!0,t="0",r="=");var y="$"===h?a:"#"===h&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",b="$"===h?s:/[%p]/.test(x)?l:"",w=qk[x],j=/[defgprs%]/.test(x);function N(e){var a,s,l,h=y,N=b;if("c"===x)N=w(e)+N,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==u&&(_=!1),h=(_?"("===u?u:c:"-"===u||"("===u?"":u)+h,N=("s"===x?Gk[8+Ik/3]:"")+N+(_&&"("===u?")":""),j)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?i+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}p&&!m&&(e=n(e,1/0));var S=h.length+e.length+N.length,k=S<f?new Array(f-S+1).join(t):"";switch(p&&m&&(e=n(k+e,k.length?f-N.length:1/0),k=""),r){case"<":e=h+e+N+k;break;case"=":e=h+k+e+N;break;case"^":e=k.slice(0,S=k.length>>1)+h+e+N+k.slice(S);break;default:e=k+h+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=Lk(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Bk(t)/3))),a=Math.pow(10,-n),s=Gk[8+n/3];return function(e){return r(a*e)+s}}}}function Jk(e,t,r,n){var a,s=bS(e,t,r);switch((n=Lk(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bk(t)/3)))-Bk(Math.abs(e)))}(s,i))||(n.precision=a),Kk(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bk(t)-Bk(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Bk(Math.abs(e)))}(s))||(n.precision=a-2*("%"===n.type))}return Hk(n)}function Xk(e){var t=e.domain;return e.ticks=function(e){var r=t();return xS(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Jk(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],d=10;for(c<l&&(a=l,l=c,c=a,a=i,i=o,o=a);d-- >0;){if((a=yS(l,c,r))===n)return s[i]=l,s[o]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function Zk(){var e=Rk();return e.copy=function(){return Dk(e,Zk())},rS.apply(e,arguments),Xk(e)}function Qk(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,kk),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return Qk(e).unknown(t)},e=arguments.length?Array.from(e,kk):[0,1],Xk(r)}function eA(e,t){var r,n=0,a=(e=e.slice()).length-1,s=e[n],i=e[a];return i<s&&(r=n,n=a,a=r,r=s,s=i,i=r),e[n]=t.floor(s),e[a]=t.ceil(i),e}function tA(e){return Math.log(e)}function rA(e){return Math.exp(e)}function nA(e){return-Math.log(-e)}function aA(e){return-Math.exp(-e)}function sA(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iA(e){return(t,r)=>-e(-t,r)}function oA(e){const t=e(tA,rA),r=t.domain;let n,a,s=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?sA:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),r()[0]<0?(n=iA(n),a=iA(a),e(nA,aA)):e(tA,rA),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=n(i),h=n(o);const m=null==e?10:+e;let f=[];if(!(s%1)&&h-u<m){if(u=Math.floor(u),h=Math.ceil(h),i>0){for(;u<=h;++u)for(c=1;c<s;++c)if(d=u<0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;f.push(d)}}else for(;u<=h;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;f.push(d)}2*f.length<m&&(f=xS(i,o,m))}else f=xS(u,h,Math.min(h-u,m)).map(a);return l?f.reverse():f},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===s?"s":","),"function"!==typeof r&&(s%1||null!=(r=Lk(r)).precision||(r.trim=!0),r=Hk(r)),e===1/0)return r;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*s<s-.5&&(t*=s),t<=i?r(e):""}},t.nice=()=>r(eA(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function lA(){const e=oA(Tk()).domain([1,10]);return e.copy=()=>Dk(e,lA()).base(e.base()),rS.apply(e,arguments),e}function cA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uA(e){var t=1,r=e(cA(t),dA(t));return r.constant=function(r){return arguments.length?e(cA(t=+r),dA(t)):t},Xk(r)}function hA(){var e=uA(Tk());return e.copy=function(){return Dk(e,hA()).constant(e.constant())},rS.apply(e,arguments)}function mA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fA(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pA(e){return e<0?-e*e:e*e}function gA(e){var t=e(Ek,Ek),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Ek,Ek):.5===r?e(fA,pA):e(mA(r),mA(1/r)):r},Xk(t)}function vA(){var e=gA(Tk());return e.copy=function(){return Dk(e,vA()).exponent(e.exponent())},rS.apply(e,arguments),e}function xA(){return vA.apply(null,arguments).exponent(.5)}function yA(e){return Math.sign(e)*e*e}function bA(){var e,t=Rk(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(yA(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,kk)).map(yA)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return bA(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},rS.apply(a,arguments),Xk(a)}function wA(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function jA(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function NA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wS;if(e===wS)return _A;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function _A(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function SA(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?_A:NA(a);n>r;){if(n-r>600){const s=n-r+1,i=t-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);SA(e,t,Math.max(r,Math.floor(t-i*l/s+c)),Math.min(n,Math.floor(t+(s-i)*l/s+c)),a)}const s=e[t];let i=r,o=n;for(kA(e,r,t),a(e[n],s)>0&&kA(e,r,n);i<o;){for(kA(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}0===a(e[r],s)?kA(e,r,o):(++o,kA(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function kA(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function AA(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return jA(e);if(t>=1)return wA(e);var n,a=(n-1)*t,s=Math.floor(a),i=wA(SA(e,s).subarray(0,s+1));return i+(jA(e.subarray(s+1))-i)*(a-s)}}function EA(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:SS;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e);return i+(+r(e[s+1],s+1,e)-i)*(a-s)}}function CA(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=EA(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:r[ES(n,t)]}return s.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(wS),a()},s.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return n.slice()},s.copy=function(){return CA().domain(t).range(r).unknown(e)},rS.apply(s,arguments)}function OA(){var e,t=0,r=1,n=1,a=[.5],s=[0,1];function i(t){return null!=t&&t<=t?s[ES(a,t,0,n)]:e}function o(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return i}return i.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},i.range=function(e){return arguments.length?(n=(s=Array.from(e)).length-1,o()):s.slice()},i.invertExtent=function(e){var i=s.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=n?[a[n-1],r]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return OA().domain([t,r]).range(s).unknown(e)},rS.apply(Xk(i),arguments)}function PA(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[ES(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return PA().domain(t).range(r).unknown(e)},rS.apply(a,arguments)}Wk=Yk({thousands:",",grouping:[3],currency:["$",""]}),Hk=Wk.format,Kk=Wk.formatPrefix;const DA=1e3,TA=6e4,RA=36e5,IA=864e5,MA=6048e5,LA=2592e6,zA=31536e6,FA=new Date,BA=new Date;function UA(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,s)=>{const i=[];if(r=a.ceil(r),s=null==s?1:Math.floor(s),!(r<n)||!(s>0))return i;let o;do{i.push(o=new Date(+r)),t(r,s),e(r)}while(o<r&&r<n);return i},a.filter=r=>UA(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(FA.setTime(+t),BA.setTime(+n),e(FA),e(BA),Math.floor(r(FA,BA))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const qA=UA(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qA.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?UA(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qA:null);qA.range;const VA=UA(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*DA)},(e,t)=>(t-e)/DA,e=>e.getUTCSeconds()),WA=(VA.range,UA(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*DA)},(e,t)=>{e.setTime(+e+t*TA)},(e,t)=>(t-e)/TA,e=>e.getMinutes())),HA=(WA.range,UA(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*TA)},(e,t)=>(t-e)/TA,e=>e.getUTCMinutes())),KA=(HA.range,UA(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*DA-e.getMinutes()*TA)},(e,t)=>{e.setTime(+e+t*RA)},(e,t)=>(t-e)/RA,e=>e.getHours())),$A=(KA.range,UA(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*RA)},(e,t)=>(t-e)/RA,e=>e.getUTCHours())),GA=($A.range,UA(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*TA)/IA,e=>e.getDate()-1)),YA=(GA.range,UA(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/IA,e=>e.getUTCDate()-1)),JA=(YA.range,UA(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/IA,e=>Math.floor(e/IA)));JA.range;function XA(e){return UA(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*TA)/MA)}const ZA=XA(0),QA=XA(1),eE=XA(2),tE=XA(3),rE=XA(4),nE=XA(5),aE=XA(6);ZA.range,QA.range,eE.range,tE.range,rE.range,nE.range,aE.range;function sE(e){return UA(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/MA)}const iE=sE(0),oE=sE(1),lE=sE(2),cE=sE(3),dE=sE(4),uE=sE(5),hE=sE(6),mE=(iE.range,oE.range,lE.range,cE.range,dE.range,uE.range,hE.range,UA(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),fE=(mE.range,UA(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),pE=(fE.range,UA(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));pE.every=e=>isFinite(e=Math.floor(e))&&e>0?UA(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;pE.range;const gE=UA(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gE.every=e=>isFinite(e=Math.floor(e))&&e>0?UA(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;gE.range;function vE(e,t,r,n,a,s){const i=[[VA,1,DA],[VA,5,5e3],[VA,15,15e3],[VA,30,3e4],[s,1,TA],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,RA],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,IA],[n,2,1728e5],[r,1,MA],[t,1,LA],[t,3,7776e6],[e,1,zA]];function o(t,r,n){const a=Math.abs(r-t)/n,s=NS(e=>{let[,,t]=e;return t}).right(i,a);if(s===i.length)return e.every(bS(t/zA,r/zA,n));if(0===s)return qA.every(Math.max(bS(t,r,n),1));const[o,l]=i[a/i[s-1][2]<i[s][2]/a?s-1:s];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:o(e,t,r),s=a?a.range(e,+t+1):[];return n?s.reverse():s},o]}const[xE,yE]=vE(gE,fE,iE,JA,$A,HA),[bE,wE]=vE(pE,mE,ZA,GA,KA,WA);function jE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function NE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _E(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var SE,kE,AE,EE={"-":"",_:" ",0:"0"},CE=/^\s*\d+/,OE=/^%/,PE=/[\\^$*+?|[\]().{}]/g;function DE(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function TE(e){return e.replace(PE,"\\$&")}function RE(e){return new RegExp("^(?:"+e.map(TE).join("|")+")","i")}function IE(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function ME(e,t,r){var n=CE.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function LE(e,t,r){var n=CE.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function UE(e,t,r){var n=CE.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function VE(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WE(e,t,r){var n=CE.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function HE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function KE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $E(e,t,r){var n=CE.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function GE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function YE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JE(e,t,r){var n=CE.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function XE(e,t,r){var n=CE.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ZE(e,t,r){var n=CE.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function QE(e,t,r){var n=OE.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function eC(e,t,r){var n=CE.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tC(e,t,r){var n=CE.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rC(e,t){return DE(e.getDate(),t,2)}function nC(e,t){return DE(e.getHours(),t,2)}function aC(e,t){return DE(e.getHours()%12||12,t,2)}function sC(e,t){return DE(1+GA.count(pE(e),e),t,3)}function iC(e,t){return DE(e.getMilliseconds(),t,3)}function oC(e,t){return iC(e,t)+"000"}function lC(e,t){return DE(e.getMonth()+1,t,2)}function cC(e,t){return DE(e.getMinutes(),t,2)}function dC(e,t){return DE(e.getSeconds(),t,2)}function uC(e){var t=e.getDay();return 0===t?7:t}function hC(e,t){return DE(ZA.count(pE(e)-1,e),t,2)}function mC(e){var t=e.getDay();return t>=4||0===t?rE(e):rE.ceil(e)}function fC(e,t){return e=mC(e),DE(rE.count(pE(e),e)+(4===pE(e).getDay()),t,2)}function pC(e){return e.getDay()}function gC(e,t){return DE(QA.count(pE(e)-1,e),t,2)}function vC(e,t){return DE(e.getFullYear()%100,t,2)}function xC(e,t){return DE((e=mC(e)).getFullYear()%100,t,2)}function yC(e,t){return DE(e.getFullYear()%1e4,t,4)}function bC(e,t){var r=e.getDay();return DE((e=r>=4||0===r?rE(e):rE.ceil(e)).getFullYear()%1e4,t,4)}function wC(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+DE(t/60|0,"0",2)+DE(t%60,"0",2)}function jC(e,t){return DE(e.getUTCDate(),t,2)}function NC(e,t){return DE(e.getUTCHours(),t,2)}function _C(e,t){return DE(e.getUTCHours()%12||12,t,2)}function SC(e,t){return DE(1+YA.count(gE(e),e),t,3)}function kC(e,t){return DE(e.getUTCMilliseconds(),t,3)}function AC(e,t){return kC(e,t)+"000"}function EC(e,t){return DE(e.getUTCMonth()+1,t,2)}function CC(e,t){return DE(e.getUTCMinutes(),t,2)}function OC(e,t){return DE(e.getUTCSeconds(),t,2)}function PC(e){var t=e.getUTCDay();return 0===t?7:t}function DC(e,t){return DE(iE.count(gE(e)-1,e),t,2)}function TC(e){var t=e.getUTCDay();return t>=4||0===t?dE(e):dE.ceil(e)}function RC(e,t){return e=TC(e),DE(dE.count(gE(e),e)+(4===gE(e).getUTCDay()),t,2)}function IC(e){return e.getUTCDay()}function MC(e,t){return DE(oE.count(gE(e)-1,e),t,2)}function LC(e,t){return DE(e.getUTCFullYear()%100,t,2)}function zC(e,t){return DE((e=TC(e)).getUTCFullYear()%100,t,2)}function FC(e,t){return DE(e.getUTCFullYear()%1e4,t,4)}function BC(e,t){var r=e.getUTCDay();return DE((e=r>=4||0===r?dE(e):dE.ceil(e)).getUTCFullYear()%1e4,t,4)}function UC(){return"+0000"}function qC(){return"%"}function VC(e){return+e}function WC(e){return Math.floor(+e/1e3)}function HC(e){return new Date(e)}function KC(e){return e instanceof Date?+e:+new Date(+e)}function $C(e,t,r,n,a,s,i,o,l,c){var d=Rk(),u=d.invert,h=d.domain,m=c(".%L"),f=c(":%S"),p=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),x=c("%b %d"),y=c("%B"),b=c("%Y");function w(e){return(l(e)<e?m:o(e)<e?f:i(e)<e?p:s(e)<e?g:n(e)<e?a(e)<e?v:x:r(e)<e?y:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,KC)):h().map(HC)},d.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(eA(r,e)):d},d.copy=function(){return Dk(d,$C(e,t,r,n,a,s,i,o,l,c))},d}function GC(){return rS.apply($C(bE,wE,pE,mE,ZA,GA,KA,WA,VA,kE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YC(){return rS.apply($C(xE,yE,gE,fE,iE,YA,$A,HA,VA,AE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function JC(){var e,t,r,n,a,s=0,i=1,o=Ek,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([s,i]=a,e=n(s=+s),t=n(i=+i),r=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(_k),c.rangeRound=d(Sk),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(s),t=a(i),r=e===t?0:1/(t-e),c}}function XC(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZC(){var e=Xk(JC()(Ek));return e.copy=function(){return XC(e,ZC())},nS.apply(e,arguments)}function QC(){var e=oA(JC()).domain([1,10]);return e.copy=function(){return XC(e,QC()).base(e.base())},nS.apply(e,arguments)}function eO(){var e=uA(JC());return e.copy=function(){return XC(e,eO()).constant(e.constant())},nS.apply(e,arguments)}function tO(){var e=gA(JC());return e.copy=function(){return XC(e,tO()).exponent(e.exponent())},nS.apply(e,arguments)}function rO(){return tO.apply(null,arguments).exponent(.5)}function nO(){var e=[],t=Ek;function r(r){if(null!=r&&!isNaN(r=+r))return t((ES(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(wS),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>AA(e,n/t))},r.copy=function(){return nO(t).domain(e)},nS.apply(r,arguments)}function aO(){var e,t,r,n,a,s,i,o=0,l=.5,c=1,d=1,u=Ek,h=!1;function m(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(d*e<d*t?n:a),u(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,u=function(e,t){void 0===t&&(t=e,e=_k);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return s[t](e-t)}}(e,[r,n,a]),m):[u(0),u(.5),u(1)]}}return m.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),r=s(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,m):[o,l,c]},m.clamp=function(e){return arguments.length?(h=!!e,m):h},m.interpolator=function(e){return arguments.length?(u=e,m):u},m.range=f(_k),m.rangeRound=f(Sk),m.unknown=function(e){return arguments.length?(i=e,m):i},function(i){return s=i,e=i(o),t=i(l),r=i(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,m}}function sO(){var e=Xk(aO()(Ek));return e.copy=function(){return XC(e,sO())},nS.apply(e,arguments)}function iO(){var e=oA(aO()).domain([.1,1,10]);return e.copy=function(){return XC(e,iO()).base(e.base())},nS.apply(e,arguments)}function oO(){var e=uA(aO());return e.copy=function(){return XC(e,oO()).constant(e.constant())},nS.apply(e,arguments)}function lO(){var e=gA(aO());return e.copy=function(){return XC(e,lO()).exponent(e.exponent())},nS.apply(e,arguments)}function cO(){return lO.apply(null,arguments).exponent(.5)}!function(e){SE=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=RE(a),d=IE(a),u=RE(s),h=IE(s),m=RE(i),f=IE(i),p=RE(o),g=IE(o),v=RE(l),x=IE(l),y={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:rC,e:rC,f:oC,g:xC,G:bC,H:nC,I:aC,j:sC,L:iC,m:lC,M:cC,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:VC,s:WC,S:dC,u:uC,U:hC,V:fC,w:pC,W:gC,x:null,X:null,y:vC,Y:yC,Z:wC,"%":qC},b={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:jC,e:jC,f:AC,g:zC,G:BC,H:NC,I:_C,j:SC,L:kC,m:EC,M:CC,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:VC,s:WC,S:OC,u:PC,U:DC,V:RC,w:IC,W:MC,x:null,X:null,y:LC,Y:FC,Z:UC,"%":qC},w={a:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=p.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return _(e,t,r,n)},d:KE,e:KE,f:ZE,g:qE,G:UE,H:GE,I:GE,j:$E,L:XE,m:HE,M:YE,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:WE,Q:eC,s:tC,S:JE,u:LE,U:zE,V:FE,w:ME,W:BE,x:function(e,t,n){return _(e,r,t,n)},X:function(e,t,r){return _(e,n,t,r)},y:qE,Y:UE,Z:VE,"%":QE};function j(e,t){return function(r){var n,a,s,i=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(a=EE[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(s=t[n])&&(n=s(r,a)),i.push(n),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(r){var n,a,s=_E(1900,void 0,1);if(_(s,e,r+="",0)!=r.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(n=NE(_E(s.y,0,1))).getUTCDay(),n=a>4||0===a?oE.ceil(n):oE(n),n=YA.offset(n,7*(s.V-1)),s.y=n.getUTCFullYear(),s.m=n.getUTCMonth(),s.d=n.getUTCDate()+(s.w+6)%7):(a=(n=jE(_E(s.y,0,1))).getDay(),n=a>4||0===a?QA.ceil(n):QA(n),n=GA.offset(n,7*(s.V-1)),s.y=n.getFullYear(),s.m=n.getMonth(),s.d=n.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?NE(_E(s.y,0,1)).getUTCDay():jE(_E(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,NE(s)):jE(s)}}function _(e,t,r,n){for(var a,s,i=0,o=t.length,l=r.length;i<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(s=w[a in EE?t.charAt(i++):a])||(n=s(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return y.x=j(r,y),y.X=j(n,y),y.c=j(t,y),b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),{format:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),kE=SE.format,SE.parse,AE=SE.utcFormat,SE.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var dO=e=>e.chartData,uO=VN([dO],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hO=(e,t,r,n)=>n?uO(e):dO(e);function mO(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(Ay(t)&&Ay(r))return!0}return!1}function fO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function pO(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var r,n,[a,s]=e;if(Ay(a))r=a;else if("function"===typeof a)return;if(Ay(s))n=s;else if("function"===typeof s)return;var i=[r,n];if(mO(i))return i}}var gO,vO=r(8210),xO=r.n(vO),yO=e=>e,bO={"@@functional/placeholder":!0},wO=e=>e===bO,jO=e=>function t(){return 0===arguments.length||1===arguments.length&&wO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},NO=(e,t)=>1===e?t:jO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(e=>e!==bO).length;return s>=e?t(...n):NO(e-s,jO(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var s=n.map(e=>wO(e)?r.shift():e);return t(...s,...r)}))}),_O=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},SO=NO((gO=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,gO),kO=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function AO(e){return 0===e?1:Math.floor(new(xO())(e).abs().log(10).toNumber())+1}function EO(e,t,r){for(var n=new(xO())(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var CO=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},OO=(e,t,r)=>{if(e.lte(0))return new(xO())(0);var n=AO(e.toNumber()),a=new(xO())(10).pow(n),s=e.div(a),i=1!==n?.05:.1,o=new(xO())(Math.ceil(s.div(i).toNumber())).add(r).mul(i).mul(a);return t?new(xO())(o.toNumber()):new(xO())(Math.ceil(o.toNumber()))},PO=(e,t,r)=>{var n=new(xO())(1),a=new(xO())(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new(xO())(10).pow(AO(e)-1),a=new(xO())(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new(xO())(Math.floor(e)))}else 0===e?a=new(xO())(Math.floor((t-1)/2)):r||(a=new(xO())(Math.floor(e)));var i=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return yO;var n=t.reverse(),a=n[0],s=n.slice(1);return function(){return s.reduce((e,t)=>t(e),a(...arguments))}}(SO(e=>a.add(new(xO())(e-i).mul(n)).toNumber()),_O)(0,t)},DO=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(xO())(0),tickMin:new(xO())(0),tickMax:new(xO())(0)};var s,i=OO(new(xO())(t).sub(e).div(r-1),n,a);s=e<=0&&t>=0?new(xO())(0):(s=new(xO())(e).add(t).div(2)).sub(new(xO())(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new(xO())(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?DO(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new(xO())(o).mul(i)),tickMax:s.add(new(xO())(l).mul(i))})},TO=e=>e.rootProps.maxBarSize,RO=e=>e.rootProps.barCategoryGap,IO=e=>e.rootProps.stackOffset,MO=e=>e.rootProps.reverseStackOrder,LO=e=>e.options.chartName,zO=e=>e.rootProps.syncId,FO=e=>e.rootProps.syncMethod,BO=e=>e.options.eventEmitter;function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(t){VO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function VO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WO=Math.PI/180,HO=e=>180*e/Math.PI,KO=(e,t,r,n)=>({x:e+Math.cos(-WO*n)*r,y:t+Math.sin(-WO*n)*r}),$O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},GO=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=((e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)})({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:HO(l),angleInRadian:l}},YO=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360);return e+360*Math.min(a,s)},JO=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=GO({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o)return null;if(0===a)return null;var l,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-360*s,endAngle:r-360*s}})(t),u=s;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;l=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;l=u>=d&&u<=c}return l?qO(qO({},t),{},{radius:a,angle:YO(u,t)}):null},XO={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ZO=0,QO="auto",eP=!0,tP=!1,rP=!0,nP=0,aP="auto",sP=!0,iP=5,oP=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},lP={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ZO,includeHidden:!1,name:void 0,reversed:!1,scale:QO,tick:eP,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},cP={allowDataOverflow:tP,allowDecimals:!1,allowDuplicatedCategory:rP,dataKey:void 0,domain:void 0,id:nP,includeHidden:!1,name:void 0,reversed:!1,scale:aP,tick:sP,tickCount:iP,ticks:void 0,type:"number",unit:void 0},dP={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:ZO,includeHidden:!1,name:void 0,reversed:!1,scale:QO,tick:eP,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uP={allowDataOverflow:tP,allowDecimals:!1,allowDuplicatedCategory:rP,dataKey:void 0,domain:void 0,id:nP,includeHidden:!1,name:void 0,reversed:!1,scale:aP,tick:sP,tickCount:iP,ticks:void 0,type:"category",unit:void 0},hP=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?dP:lP,mP=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?uP:cP,fP=e=>e.polarOptions,pP=VN([A_,E_,z_],$O),gP=VN([fP,pP],(e,t)=>{if(null!=e)return my(e.innerRadius,t,0)}),vP=VN([fP,pP],(e,t)=>{if(null!=e)return my(e.outerRadius,t,.8*t)}),xP=VN([fP],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),yP=(VN([hP,xP],oP),VN([pP,gP,vP],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]})),bP=(VN([mP,yP],oP),VN([X_,fP,gP,vP,A_,E_],(e,t,r,n,a,s)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:my(i,a,a/2),cy:my(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}})),wP=(e,t)=>t,jP=(e,t,r)=>r;function NP(e){return null===e||void 0===e?void 0:e.id}function _P(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:n;if(null!=r&&0!==r.length){var o=NP(e);r.forEach((t,r)=>{var n,l=null==s||a?r:String(m_(t,s,null)),c=m_(t,e.dataKey,0);n=i.has(l)?i.get(l):{},Object.assign(n,{[o]:c}),i.set(l,n)})}}),Array.from(i.values())}function SP(e){return null!=e.stackId&&null!=e.dataKey}var kP=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function AP(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var EP=e=>{var t=X_(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},CP=e=>e.tooltip.settings.axisId;function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(t){DP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TP=[0,"auto"],RP={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IP=(e,t)=>e.cartesianAxis.xAxis[t],MP=(e,t)=>{var r=IP(e,t);return null==r?RP:r},LP={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:TP,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},zP=(e,t)=>e.cartesianAxis.yAxis[t],FP=(e,t)=>{var r=zP(e,t);return null==r?LP:r},BP={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},UP=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?BP:r},qP=(e,t,r)=>{switch(t){case"xAxis":return MP(e,r);case"yAxis":return FP(e,r);case"zAxis":return UP(e,r);case"angleAxis":return hP(e,r);case"radiusAxis":return mP(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VP=(e,t,r)=>{switch(t){case"xAxis":return MP(e,r);case"yAxis":return FP(e,r);case"angleAxis":return hP(e,r);case"radiusAxis":return mP(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},WP=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function HP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var KP=e=>e.graphicalItems.cartesianItems,$P=VN([wP,jP],HP),GP=(e,t,r)=>e.filter(r).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),YP=VN([KP,qP,$P],GP,{memoizeOptions:{resultEqualityCheck:AP}}),JP=VN([YP],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(SP)),XP=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),ZP=VN([YP],XP),QP=e=>e.map(e=>e.data).filter(Boolean).flat(1),eD=VN([YP],QP,{memoizeOptions:{resultEqualityCheck:AP}}),tD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},rD=VN([eD,hO],tD),nD=(e,t,r)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:m_(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:m_(e,t)}))):e.map(e=>({value:e})),aD=VN([rD,qP,YP],nD);function sD(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function iD(e){if(dy(e)||e instanceof Date){var t=Number(e);if(Ay(t))return t}}function oD(e){if(Array.isArray(e)){var t=[iD(e[0]),iD(e[1])];return mO(t)?t:void 0}var r=iD(e);if(null!=r)return[r,r]}function lD(e){return e.map(iD).filter(xy)}var cD=e=>{var t=EP(e),r=CP(e);return VP(e,t,r)},dD=VN([cD],e=>null===e||void 0===e?void 0:e.dataKey),uD=VN([JP,hO,cD],_P),hD=(e,t,r,n)=>{var a=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(a).map(t=>{var[a,s]=t,i=n?[...s].reverse():s,o=i.map(NP);return[a,{stackedData:y_(e,o,r),graphicalItems:i}]}))},mD=VN([uD,JP,IO,MO],hD),fD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(null==n&&"zAxis"!==r){var i=w_(e,a,s);if(null==i||0!==i[0]||0!==i[1])return i}},pD=VN([qP],e=>e.allowDataOverflow),gD=e=>{var t;if(null==e||!("domain"in e))return TP;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=lD(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:TP},vD=VN([qP],gD),xD=VN([vD,pD],pO),yD=VN([mD,dO,wP,xD],fD,{memoizeOptions:{resultEqualityCheck:kP}}),bD=e=>e.errorBars,wD=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var a=n.flat();return[Math.min(...a),Math.max(...a)]}},jD=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var o,l,c=null===(o=n[r.id])||void 0===o?void 0:o.filter(e=>sD(a,e)),d=m_(e,null!==(l=t.dataKey)&&void 0!==l?l:r.dataKey),u=function(e,t,r){return!r||"number"!==typeof t||oy(t)?[]:r.length?lD(r.flatMap(r=>{var n,a,s=m_(e,r.dataKey);if(Array.isArray(s)?[n,a]=s:n=a=s,Ay(n)&&Ay(a))return[t-n,t+a]})):[]}(e,d,c);if(u.length>=2){var h=Math.min(...u),m=Math.max(...u);(null==s||h<s)&&(s=h),(null==i||m>i)&&(i=m)}var f=oD(d);null!=f&&(s=null==s?f[0]:Math.min(s,f[0]),i=null==i?f[1]:Math.max(i,f[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var r=oD(m_(e,t.dataKey));null!=r&&(s=null==s?r[0]:Math.min(s,r[0]),i=null==i?r[1]:Math.max(i,r[1]))}),Ay(s)&&Ay(i))return[s,i]},ND=VN([rD,qP,ZP,bD,wP],jD,{memoizeOptions:{resultEqualityCheck:kP}});function _D(e){var{value:t}=e;if(dy(t)||t instanceof Date)return t}var SD=e=>e.referenceElements.dots,kD=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),AD=VN([SD,wP,jP],kD),ED=e=>e.referenceElements.areas,CD=VN([ED,wP,jP],kD),OD=e=>e.referenceElements.lines,PD=VN([OD,wP,jP],kD),DD=(e,t)=>{var r=lD(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},TD=VN(AD,wP,DD),RD=(e,t)=>{var r=lD(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},ID=VN([CD,wP],RD);var MD=(e,t)=>{var r=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return lD([e.x]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:lD(r)}(e):function(e){var t;if(null!=e.y)return lD([e.y]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:lD(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},LD=VN([PD,wP],MD),zD=VN(TD,LD,ID,(e,t,r)=>wD(e,r,t)),FD=(e,t,r,n,a,s,i,o)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,r);if(mO(n))return fO(n,t,r)}catch(m){}if(Array.isArray(e)&&2===e.length){var a,s,[i,o]=e;if("auto"===i)null!=t&&(a=Math.min(...t));else if(cy(i))a=i;else if("function"===typeof i)try{null!=t&&(a=i(null===t||void 0===t?void 0:t[0]))}catch(f){}else if("string"===typeof i&&j_.test(i)){var l=j_.exec(i);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(s=Math.max(...t));else if(cy(o))s=o;else if("function"===typeof o)try{null!=t&&(s=o(null===t||void 0===t?void 0:t[1]))}catch(p){}else if("string"===typeof o&&N_.test(o)){var d=N_.exec(o);if(null==d||null==t)s=void 0;else{var u=+d[1];s=t[1]+u}}else s=null===t||void 0===t?void 0:t[1];var h=[a,s];if(mO(h))return null==t?h:fO(h,t,r)}}}(t,"vertical"===i&&"xAxis"===o||"horizontal"===i&&"yAxis"===o?wD(n,s,a):wD(s,a),e.allowDataOverflow),BD=VN([qP,vD,xD,yD,ND,zD,X_,wP],FD,{memoizeOptions:{resultEqualityCheck:kP}}),UD=[0,1],qD=(e,t,r,n,a,s,i)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==i){var o,{dataKey:l,type:c}=e,d=f_(t,s);return d&&null==l?tS()(0,null!==(o=null===r||void 0===r?void 0:r.length)&&void 0!==o?o:0):"category"===c?((e,t,r)=>{var n=e.map(_D).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&fy(n))?tS()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,d):"expand"===a?UD:i}},VD=VN([qP,X_,rD,aD,IO,wP,BD],qD),WD=(t,r,n,a,s)=>{if(null!=t){var{scale:i,type:o}=t;if("auto"===i)return"radial"===r&&"radiusAxis"===s?"band":"radial"===r&&"angleAxis"===s?"linear":"category"===o&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":"category"===o?"band":"linear";if("string"===typeof i){var l="scale".concat(vy(i));return l in e?l:"point"}}},HD=VN([qP,X_,WP,LO,wP],WD);function KD(t,r,n,a){if(null!=n&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(n).range(a);var s=function(t){if(null!=t){if(t in e)return e[t]();var r="scale".concat(vy(t));return r in e?e[r]():void 0}}(r);if(null!=s){var i=s.domain(n).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-v_,s=Math.max(n[0],n[1])+v_,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}})(i),i}}}var $D=(e,t,r)=>{var n=gD(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&mO(e)?function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(n,2),[i,o]=CO([t,r]);if(i===-1/0||o===1/0){var l=o===1/0?[i,..._O(0,n-1).map(()=>1/0)]:[..._O(0,n-1).map(()=>-1/0),o];return t>r?kO(l):l}if(i===o)return PO(i,n,a);var{step:c,tickMin:d,tickMax:u}=DO(i,o,s,a,0),h=EO(d,u.add(new(xO())(.1).mul(c)),c);return t>r?kO(h):h}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&mO(e)?function(e,t){var[r,n]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[s,i]=CO([r,n]);if(s===-1/0||i===1/0)return[r,n];if(s===i)return[s];var o=Math.max(t,2),l=OO(new(xO())(i).sub(s).div(o-1),a,0),c=[...EO(new(xO())(s),new(xO())(i),l),i];return!1===a&&(c=c.map(e=>Math.round(e))),r>n?kO(c):c}(e,t.tickCount,t.allowDecimals):void 0},GD=VN([VD,VP,HD],$D),YD=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&mO(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},JD=VN([qP,VD,GD,wP],YD),XD=VN(aD,qP,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(lD(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(0===a)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),ZD=VN(XD,X_,RO,z_,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ay(e))return 0;var s="vertical"===t?n.height:n.width;if("gap"===a)return e*s/2;if("no-gap"===a){var i=my(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),QD=VN(MP,(e,t)=>{var r=MP(e,t);return null==r||"string"!==typeof r.padding?0:ZD(e,"xAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(r=a.left)&&void 0!==r?r:0)+t,right:(null!==(n=a.right)&&void 0!==n?n:0)+t}}),eT=VN(FP,(e,t)=>{var r=FP(e,t);return null==r||"string"!==typeof r.padding?0:ZD(e,"yAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(r=a.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=a.bottom)&&void 0!==n?n:0)+t}}),tT=VN([z_,QD,W_,V_,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),rT=VN([z_,X_,eT,W_,V_,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),nT=(e,t,r,n)=>{var a;switch(t){case"xAxis":return tT(e,r,n);case"yAxis":return rT(e,r,n);case"zAxis":return null===(a=UP(e,r))||void 0===a?void 0:a.range;case"angleAxis":return xP(e);case"radiusAxis":return yP(e,r);default:return}},aT=VN([qP,nT],oP),sT=VN([qP,HD,JD,aT],KD);VN([YP,bD,wP],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>sD(r,e)));function iT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var oT=(e,t)=>t,lT=(e,t,r)=>r,cT=VN(P_,oT,lT,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(iT)),dT=VN(D_,oT,lT,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(iT)),uT=(e,t)=>({width:e.width,height:t.height}),hT=VN(z_,MP,uT),mT=VN(E_,z_,cT,oT,lT,(e,t,r,n,a)=>{var s,i={};return r.forEach(r=>{var o=uT(t,r);null==s&&(s=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!a||"bottom"===n&&a;i[r.id]=s-Number(l)*o.height,s+=(l?-1:1)*o.height}),i}),fT=VN(A_,z_,dT,oT,lT,(e,t,r,n,a)=>{var s,i={};return r.forEach(r=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,r);null==s&&(s=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!a||"right"===n&&a;i[r.id]=s-Number(l)*o.width,s+=(l?-1:1)*o.width}),i}),pT=VN([z_,MP,(e,t)=>{var r=MP(e,t);if(null!=r)return mT(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var a=null===r||void 0===r?void 0:r[n];return null==a?{x:e.left,y:0}:{x:e.left,y:a}}}),gT=VN([z_,FP,(e,t)=>{var r=FP(e,t);if(null!=r)return fT(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var a=null===r||void 0===r?void 0:r[n];return null==a?{x:0,y:e.top}:{x:a,y:e.top}}}),vT=VN(z_,FP,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),xT=(e,t,r)=>{switch(t){case"xAxis":return hT(e,r).width;case"yAxis":return vT(e,r).height;default:return}},yT=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=f_(e,n),l=t.map(e=>e.value);return i&&o&&"category"===s&&a&&fy(l)?l:void 0}},bT=VN([X_,aD,qP,wP],yT),wT=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:a,scale:s}=r;return!f_(e,n)||"number"!==a&&"auto"===s?void 0:t.map(e=>e.value)}},jT=VN([X_,aD,VP,wP],wT),NT=VN([X_,(e,t,r)=>{switch(t){case"xAxis":return MP(e,r);case"yAxis":return FP(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},HD,sT,bT,jT,nT,GD,wP],(e,t,r,n,a,s,i,o,l)=>{if(null!=t){var c=f_(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:o,range:i,realScaleType:r,scale:n}}}),_T=VN([X_,VP,HD,sT,GD,nT,bT,jT,wP],(e,t,r,n,a,s,i,o,l)=>{if(null!=t&&null!=n){var c=f_(e,l),{type:d,ticks:u,tickCount:h}=t,m="scaleBand"===r&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,f="category"===d&&n.bandwidth?n.bandwidth()/m:0;f="angleAxis"===l&&null!=s&&s.length>=2?2*iy(s[0]-s[1])*f:f;var p=u||a;if(p){var g=p.map((e,t)=>{var r=i?i.indexOf(e):e;return{index:t,coordinate:n(r)+f,value:e,offset:f}});return g.filter(e=>Ay(e.coordinate))}return c&&o?o.map((e,t)=>({coordinate:n(e)+f,value:e,index:t,offset:f})).filter(e=>Ay(e.coordinate)):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+f,value:e,offset:f})):n.domain().map((e,t)=>({coordinate:n(e)+f,value:i?i[e]:e,index:t,offset:f}))}}),ST=VN([X_,VP,sT,nT,bT,jT,wP],(e,t,r,n,a,s,i)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var o=f_(e,i),{tickCount:l}=t,c=0;return c="angleAxis"===i&&(null===n||void 0===n?void 0:n.length)>=2?2*iy(n[0]-n[1])*c:c,o&&s?s.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),kT=VN(qP,sT,(e,t)=>{if(null!=e&&null!=t)return PP(PP({},e),{},{scale:t})}),AT=VN([qP,HD,VD,aT],KD),ET=(VN((e,t,r)=>UP(e,r),AT,(e,t)=>{if(null!=e&&null!=t)return PP(PP({},e),{},{scale:t})}),VN([X_,P_,D_],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),CT=e=>e.options.defaultTooltipEventType,OT=e=>e.options.validateTooltipEventTypes;function PT(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function DT(e,t){return PT(t,CT(e),OT(e))}var TT=(e,t)=>{var r,n=Number(t);if(!oy(n)&&null!=t)return n>=0?null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.value:void 0};function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(t){MT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var LT=(e,t,r,n)=>{if(null==t)return dN;var a=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==a)return dN;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var s=!0===e.settings.active;if(null!=a.index){if(s)return IT(IT({},a),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return IT(IT({},dN),{},{coordinate:a.coordinate})};function zT(e,t){var r=function(e){if("number"===typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),n=t[0],a=t[1];if(void 0===r)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}var FT=(e,t,r,n)=>{var a=null===e||void 0===e?void 0:e.index;if(null==a)return null;var s=Number(a);if(!Ay(s))return a;var i=1/0;t.length>0&&(i=t.length-1);var o=Math.max(0,Math.min(s,i)),l=t[o];return null==l||function(e,t,r){if(null==r||null==t)return!0;var n=m_(e,t);return null==n||!mO(r)||zT(n,r)}(l,r,n)?String(o):null},BT=(e,t,r,n,a,s,i,o)=>{if(null!=s&&null!=o){var l=i[0],c=null==l?void 0:o(l.positions,s);if(null!=c)return c;var d=null===a||void 0===a?void 0:a[Number(s)];if(d)return"horizontal"===r?{x:d.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:d.coordinate}}},UT=(e,t,r,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},qT=e=>e.options.tooltipPayloadSearcher,VT=e=>e.tooltip;function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(t){KT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $T=(e,t,r,n,a,s,i)=>{if(null!=t&&null!=s){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=r;return e.reduce((e,r)=>{var u,h,m,{dataDefinedOnItem:f,settings:p}=r,g=function(e,t){return null!=e?e:t}(f,o),v=Array.isArray(g)?c_(g,c,d):g,x=null!==(u=null===p||void 0===p?void 0:p.dataKey)&&void 0!==u?u:n,y=null===p||void 0===p?void 0:p.nameKey;(h=n&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===i?function(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):sy()(e,t))===r)}(v,n,a):s(v,t,l,y),Array.isArray(h))?h.forEach(t=>{var r=HT(HT({},p),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(S_({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:m_(t.payload,t.dataKey),name:t.name}))}):e.push(S_({tooltipEntrySettings:p,dataKey:x,payload:h,value:m_(h,x),name:null!==(m=m_(h,y))&&void 0!==m?m:null===p||void 0===p?void 0:p.name}));return e},[])}},GT=VN([cD,X_,WP,LO,EP],WD),YT=VN([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),JT=VN([EP,CP],HP),XT=VN([YT,cD,JT],GP,{memoizeOptions:{resultEqualityCheck:AP}}),ZT=VN([XT],e=>e.filter(SP)),QT=VN([XT],QP,{memoizeOptions:{resultEqualityCheck:AP}}),eR=VN([QT,dO],tD),tR=VN([ZT,dO,cD],_P),rR=VN([eR,cD,XT],nD),nR=VN([cD],gD),aR=VN([cD],e=>e.allowDataOverflow),sR=VN([nR,aR],pO),iR=VN([XT],e=>e.filter(SP)),oR=VN([tR,iR,IO,MO],hD),lR=VN([oR,dO,EP,sR],fD),cR=VN([XT],XP),dR=VN([eR,cD,cR,bD,EP],jD,{memoizeOptions:{resultEqualityCheck:kP}}),uR=VN([SD,EP,CP],kD),hR=VN([uR,EP],DD),mR=VN([ED,EP,CP],kD),fR=VN([mR,EP],RD),pR=VN([OD,EP,CP],kD),gR=VN([pR,EP],MD),vR=VN([hR,gR,fR],wD),xR=VN([cD,nR,sR,lR,dR,vR,X_,EP],FD),yR=VN([cD,X_,eR,rR,IO,EP,xR],qD),bR=VN([yR,cD,GT],$D),wR=VN([cD,yR,bR,EP],YD),jR=e=>{var t=EP(e),r=CP(e);return nT(e,t,r,!1)},NR=VN([cD,jR],oP),_R=VN([cD,GT,wR,NR],KD),SR=VN([X_,rR,cD,EP],yT),kR=VN([X_,rR,cD,EP],wT),AR=VN([X_,cD,GT,_R,jR,SR,kR,EP],(e,t,r,n,a,s,i,o)=>{if(t){var{type:l}=t,c=f_(e,o);if(n){var d="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,u="category"===l&&n.bandwidth?n.bandwidth()/d:0;return u="angleAxis"===o&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*iy(a[0]-a[1])*u:u,c&&i?i.map((e,t)=>({coordinate:n(e)+u,value:e,index:t,offset:u})):n.domain().map((e,t)=>({coordinate:n(e)+u,value:s?s[e]:e,index:t,offset:u}))}}}),ER=VN([CT,OT,e=>e.tooltip.settings],(e,t,r)=>PT(r.shared,e,t)),CR=e=>e.tooltip.settings.trigger,OR=e=>e.tooltip.settings.defaultIndex,PR=VN([VT,ER,CR,OR],LT),DR=VN([PR,eR,dD,yR],FT),TR=VN([AR,DR],TT),RR=VN([PR],e=>{if(e)return e.dataKey}),IR=VN([PR],e=>{if(e)return e.graphicalItemId}),MR=VN([VT,ER,CR,OR],UT),LR=VN([A_,E_,X_,z_,AR,OR,MR,qT],BT),zR=VN([PR,LR],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),FR=VN([PR],e=>e.active),BR=VN([MR,DR,dO,dD,TR,qT,ER],$T);VN([BR],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(t){VR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function VR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WR=(e,t,r,n,a)=>{var s,i=-1,o=null!==(s=null===t||void 0===t?void 0:t.length)&&void 0!==s?s:0;if(o<=1||null==e)return 0;if("angleAxis"===n&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,u=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(iy(d-c)!==iy(u-d)){var m=[];if(iy(u-d)===iy(a[1]-a[0])){h=u;var f=d+a[1]-a[0];m[0]=Math.min(f,(f+c)/2),m[1]=Math.max(f,(f+c)/2)}else{h=c;var p=u+a[1]-a[0];m[0]=Math.min(d,(p+d)/2),m[1]=Math.max(d,(p+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){({index:i}=r[l]);break}}else{var v=Math.min(c,u),x=Math.max(c,u);if(e>(v+d)/2&&e<=(x+d)/2){({index:i}=r[l]);break}}}else if(t)for(var y=0;y<o;y++)if(0===y&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:i}=t[y]);break}return i},HR=(e,t)=>t,KR=(e,t,r)=>r,$R=(e,t,r,n)=>n,GR=VN(AR,e=>e_()(e,e=>e.coordinate)),YR=VN([VT,HR,KR,$R],LT),JR=VN([YR,eR,dD,yR],FT),XR=VN([VT,HR,KR,$R],UT),ZR=VN([A_,E_,X_,z_,AR,$R,XR,qT],BT),QR=VN([YR,ZR],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),eI=VN([AR,JR],TT),tI=VN([XR,JR,dO,dD,eI,qT,HR],$T),rI=VN([YR,JR],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),nI=(e,t,r,n,a,s,i)=>{if(e&&n&&a&&s&&r){var o=JO(e,r);if(o){var l=((e,t)=>"centric"===t?e.angle:e.radius)(o,t),c=WR(l,i,s,n,a),d=((e,t,r,n)=>{var a=t.find(e=>e&&e.index===r);if(a){if("centric"===e){var s=a.coordinate,{radius:i}=n;return qR(qR(qR({},n),KO(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=n;return qR(qR(qR({},n),KO(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,s,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},aI=VN([(e,t)=>t,X_,bP,EP,NR,AR,GR,z_],(e,t,r,n,a,s,i,o)=>{if(e&&t&&n&&a&&s)return"horizontal"===t||"vertical"===t?((e,t,r,n,a,s,i)=>{if(e&&r&&n&&a&&function(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}(e,i)){var o=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=WR(o,s,a,r,n),c=((e,t,r,n)=>{var a=t.find(e=>e&&e.index===r);if(a){if("horizontal"===e)return{x:a.coordinate,y:n.chartY};if("vertical"===e)return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}})(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,n,a,s,i,o):nI(e,t,r,n,a,s,i)}),sI=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},iI=cw("mouseClick"),oI=rj();oI.startListening({actionCreator:iI,effect:(e,t)=>{var r=e.payload,n=aI(t.getState(),sI(r));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(wN({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var lI=cw("mouseMove"),cI=rj(),dI=null;function uI(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"===typeof t&&null!==t?"<<CHILDREN>>":t}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(t){fI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}cI.startListening({actionCreator:lI,effect:(e,t)=>{var r=e.payload;null!==dI&&cancelAnimationFrame(dI);var n=sI(r);dI=requestAnimationFrame(()=>{var e=t.getState();if("axis"===DT(e,e.tooltip.settings.shared)){var r=aI(e,n);null!=(null===r||void 0===r?void 0:r.activeIndex)?t.dispatch(bN({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(xN())}dI=null})}});var pI=_w({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:fw()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:fw()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:fw()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:fw()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:fw()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:fw()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:fw()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:fw()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:fw()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(3===s.length&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=mI(mI({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:gI,replaceXAxis:vI,removeXAxis:xI,addYAxis:yI,replaceYAxis:bI,removeYAxis:wI,addZAxis:jI,replaceZAxis:NI,removeZAxis:_I,updateYAxisWidth:SI}=pI.actions,kI=pI.reducer,AI=_w({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:fw()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Hb(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:fw()},removeCartesianGraphicalItem:{reducer(e,t){var r=Hb(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:fw()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:fw()},removePolarGraphicalItem:{reducer(e,t){var r=Hb(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:fw()}}}),{addCartesianGraphicalItem:EI,replaceCartesianGraphicalItem:CI,removeCartesianGraphicalItem:OI,addPolarGraphicalItem:PI,removePolarGraphicalItem:DI}=AI.actions,TI=AI.reducer,RI=_w({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Hb(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Hb(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Hb(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:II,removeDot:MI,addArea:LI,removeArea:zI,addLine:FI,removeLine:BI}=RI.actions,UI=RI.reducer,qI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VI=_w({name:"brush",initialState:qI,reducers:{setBrushSettings:(e,t)=>null==t.payload?qI:t.payload}}),{setBrushSettings:WI}=VI.actions,HI=VI.reducer,KI=_w({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:fw()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Hb(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:fw()},removeLegendPayload:{reducer(e,t){var r=Hb(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:fw()}}}),{setLegendSize:$I,setLegendSettings:GI,addLegendPayload:YI,replaceLegendPayload:JI,removeLegendPayload:XI}=KI.actions,ZI=KI.reducer,QI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},eM=_w({name:"rootProps",initialState:QI,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:QI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),tM=eM.reducer,{updateOptions:rM}=eM.actions,nM=_w({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aM,removeRadiusAxis:sM,addAngleAxis:iM,removeAngleAxis:oM}=nM.actions,lM=nM.reducer,cM=_w({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:dM}=cM.actions,uM=cM.reducer,hM=cw("keyDown"),mM=cw("focus"),fM=rj();fM.startListening({actionCreator:hM,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var s=FT(n,eR(r),dD(r),yR(r)),i=null==s?-1:Number(s);if(Number.isFinite(i)&&!(i<0)){var o=AR(r);if("Enter"!==a){var l=i+("ArrowRight"===a?1:-1)*("left-to-right"===ET(r)?1:-1);if(!(null==o||l>=o.length||l<0)){var c=ZR(r,"axis","hover",String(l));t.dispatch(NN({active:!0,activeIndex:l.toString(),activeDataKey:void 0,activeCoordinate:c}))}}else{var d=ZR(r,"axis","hover",String(n.index));t.dispatch(NN({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}))}}}}}}),fM.startListening({actionCreator:mM,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var a=ZR(r,"axis","hover",String("0"));t.dispatch(NN({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var pM=cw("externalEvent"),gM=rj(),vM=new Map;gM.startListening({actionCreator:pM,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(null!=r){n.persist();var a=n.type,s=vM.get(a);void 0!==s&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var e=t.getState(),s={activeCoordinate:zR(e),activeDataKey:RR(e),activeIndex:DR(e),activeLabel:TR(e),activeTooltipIndex:DR(e),isTooltipActive:FR(e)};r(s,n)}finally{vM.delete(a)}});vM.set(a,i)}}});var xM=VN([VT],e=>e.tooltipItemPayloads),yM=VN([xM,qT,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(e=>e.settings.dataKey===n);if(null!=a){var{positions:s}=a;if(null!=s)return t(s,r)}}),bM=cw("touchMove"),wM=rj();wM.startListening({actionCreator:bM,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var n=t.getState(),a=DT(n,n.tooltip.settings.shared);if("axis"===a){var s=aI(n,sI({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null===s||void 0===s?void 0:s.activeIndex)&&t.dispatch(bN({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if("item"===a){var i,o=r.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(T_),d=null!==(i=l.getAttribute(R_))&&void 0!==i?i:void 0,u=yM(t.getState(),c,d);t.dispatch(gN({activeDataKey:d,activeIndex:c,activeCoordinate:u}))}}}});var jM=_w({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?a:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:NM,replaceErrorBar:_M,removeErrorBar:SM}=jM.actions,kM=jM.reducer,AM=!1,EM=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(t){PM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DM={zIndexMap:Object.values(XO).reduce((e,t)=>OM(OM({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},TM=new Set(Object.values(XO));var RM=_w({name:"zIndex",initialState:DM,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:fw()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!function(e){return TM.has(e)}(r)&&delete e.zIndexMap[r])},prepare:fw()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:fw()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:fw()}}}),{registerZIndexPortal:IM,unregisterZIndexPortal:MM,registerZIndexPortalId:LM,unregisterZIndexPortalId:zM}=RM.actions,FM=tw({brush:HI,cartesianAxis:kI,chartData:CN,errorBars:kM,graphicalItems:TI,layout:IN,legend:ZI,options:ij,polarAxis:lM,polarOptions:uM,referenceElements:UI,rootProps:tM,tooltip:_N,zIndex:RM.reducer});function BM(e){var{preloadedState:r,children:n,reduxStoreName:a}=e,s=q_(),i=(0,t.useRef)(null);if(s)return n;null==i.current&&(i.current=function(e){return vw({reducer:FM,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([oI.middleware,cI.middleware,fM.middleware,gM.middleware,wM.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(gw({type:"raf"}))},devTools:AM&&{serialize:{replacer:uI},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(r,a));var o=KN;return t.createElement(bj,{context:o,store:i.current},n)}var UM=e=>{var{chartData:r}=e,n=GN(),a=q_();return(0,t.useEffect)(()=>a?()=>{}:(n(kN(r)),()=>{n(kN(void 0))}),[r,n,a]),null},qM=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function VM(e,t){return null==e&&null==t||("number"===typeof e&&"number"===typeof t?e===t||e!==e&&t!==t:e===t)}function WM(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(qM.has(n)){if(null==e[n]&&null==t[n])continue;if(!pj(e[n],t[n]))return!1}else if(!VM(e[n],t[n]))return!1;return!0}function HM(e){var{layout:r,margin:n}=e,a=GN(),s=q_();return(0,t.useEffect)(()=>{s||(a(DN(r)),a(PN(n)))},[a,s,r,n]),null}var KM=(0,t.memo)(HM,WM);function $M(e){var r=GN();return(0,t.useEffect)(()=>{r(rM(e))},[r,e]),null}var GM=()=>{var e;return null===(e=ZN(e=>e.rootProps.accessibilityLayer))||void 0===e||e},YM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JM(e){return"string"===typeof e&&YM.includes(e)}var XM=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function ZM(e){return"string"===typeof e&&XM.has(e)}function QM(e){return"string"===typeof e&&e.startsWith("data-")}function eL(e){if("object"!==typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(ZM(r)||QM(r))&&(t[r]=e[r]);return t}function tL(e){return null==e?null:(0,t.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?eL(e.props):"object"!==typeof e||Array.isArray(e)?null:eL(e)}function rL(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(ZM(r)||QM(r)||JM(r))&&(t[r]=e[r]);return t}var nL=["children","width","height","viewBox","className","style","title","desc"];function aL(){return aL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aL.apply(null,arguments)}var sL,iL=(0,t.forwardRef)((e,r)=>{var{children:n,width:a,height:s,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,nL),h=i||{width:a,height:s,x:0,y:0},m=(0,ty.$)("recharts-surface",o);return t.createElement("svg",aL({},rL(u),{className:m,width:a,height:s,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:r}),t.createElement("title",null,c),t.createElement("desc",null,d),n)}),oL=null!==(sL=n["useId".toString()])&&void 0!==sL?sL:()=>{var[e]=t.useState(()=>hy("uid-"));return e};function lL(e,t){var r=oL();return t||(e?"".concat(e,"-").concat(r):r)}var cL=VN(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var n=e[t];if(null!=n)return r?n.panoramaElementId:n.elementId}}),dL=VN(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(XO));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function uL(e){var{zIndex:r,isPanorama:n}=e,a=lL("".concat(n?"recharts-zindex-panorama-":"recharts-zindex-").concat(r)),s=GN();return(0,t.useLayoutEffect)(()=>(s(LM({zIndex:r,elementId:a,isPanorama:n})),()=>{s(zM({zIndex:r,isPanorama:n}))}),[s,r,a,n]),t.createElement("g",{tabIndex:-1,id:a})}function hL(e){var{children:r,isPanorama:n}=e,a=ZN(dL);if(!a||0===a.length)return r;var s=a.filter(e=>e<0),i=a.filter(e=>e>0);return t.createElement(t.Fragment,null,s.map(e=>t.createElement(uL,{key:e,zIndex:e,isPanorama:n})),r,i.map(e=>t.createElement(uL,{key:e,zIndex:e,isPanorama:n})))}var mL=["children"];function fL(){return fL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fL.apply(null,arguments)}var pL={width:"100%",height:"100%",display:"block"},gL=(0,t.forwardRef)((e,r)=>{var n=Y_(),a=J_(),s=GM();if(!Ey(n)||!Ey(a))return null;var i,o,{children:l,otherAttributes:c,title:d,desc:u}=e;return null!=c&&(i="number"===typeof c.tabIndex?c.tabIndex:s?0:void 0,o="string"===typeof c.role?c.role:s?"application":void 0),t.createElement(iL,fL({},c,{title:d,desc:u,role:o,tabIndex:i,width:n,height:a,style:pL,ref:r}),l)}),vL=e=>{var{children:r}=e,n=ZN(W_);if(!n)return null;var{width:a,height:s,y:i,x:o}=n;return t.createElement(iL,{width:a,height:s,x:o,y:i},r)},xL=(0,t.forwardRef)((e,r)=>{var{children:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,mL);return q_()?t.createElement(vL,null,t.createElement(hL,{isPanorama:!0},n)):t.createElement(gL,fL({ref:r},a),t.createElement(hL,{isPanorama:!1},n))});var yL=new(r(8499)),bL="recharts.syncEvent.tooltip",wL="recharts.syncEvent.brush";function jL(e){return e.tooltip.syncInteraction}var NL=["x","y"];function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function SL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_L(Object(r),!0).forEach(function(t){kL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AL(){var e=ZN(zO),r=ZN(BO),n=GN(),a=ZN(FO),s=ZN(AR),i=Z_(),o=K_(),l=ZN(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return yy;var t=(t,l,c)=>{var d;if(r!==c&&e===t)if("index"!==a){if(null!=s){var u;if("function"===typeof a){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},m=a(s,h);u=s[m]}else"value"===a&&(u=s.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=o){var{x:p,y:g}=f,v=Math.min(p,o.x+o.width),x=Math.min(g,o.y+o.height),y={x:"horizontal"===i?u.coordinate:v,y:"horizontal"===i?x:u.coordinate},b=jN({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});n(b)}else n(jN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(o&&null!==l&&void 0!==l&&null!==(d=l.payload)&&void 0!==d&&d.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:j,y:N}=w,_=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(w,NL),{x:S,y:k,width:A,height:E}=l.payload.sourceViewBox,C=SL(SL({},_),{},{x:o.x+(A?(j-S)/A:0)*o.width,y:o.y+(E?(N-k)/E:0)*o.height});n(SL(SL({},l),{},{payload:SL(SL({},l.payload),{},{coordinate:C})}))}else n(l)};return yL.on(bL,t),()=>{yL.off(bL,t)}},[l,n,r,e,a,s,i,o])}function EL(){var e=GN();(0,t.useEffect)(()=>{e(oj())},[e]),AL(),function(){var e=ZN(zO),r=ZN(BO),n=GN();(0,t.useEffect)(()=>{if(null==e)return yy;var t=(t,a,s)=>{r!==s&&e===t&&n(AN(a))};return yL.on(wL,t),()=>{yL.off(wL,t)}},[n,r,e])}()}function CL(e,r,n,a,s,i){var o=ZN(t=>((e,t,r)=>{if(null!=t){var n=VT(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(t,e,r)),l=ZN(BO),c=ZN(zO),d=ZN(FO),u=ZN(jL),h=null===u||void 0===u?void 0:u.active,m=K_();(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=jN({active:i,coordinate:n,dataKey:o,index:s,label:"number"===typeof a?String(a):a,sourceViewBox:m,graphicalItemId:void 0});yL.emit(bL,c,e,l)}},[h,n,o,s,a,l,c,d,i,m])}var OL=(0,t.createContext)(null),PL=(0,t.createContext)(null);function DL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function TL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DL(Object(r),!0).forEach(function(t){RL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(){return IL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IL.apply(null,arguments)}var ML=()=>(EL(),null);function LL(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var zL=(0,t.forwardRef)((e,r)=>{var n,a,s=(0,t.useRef)(null),[i,o]=(0,t.useState)({containerWidth:LL(null===(n=e.style)||void 0===n?void 0:n.width),containerHeight:LL(null===(a=e.style)||void 0===a?void 0:a.height)}),l=(0,t.useCallback)((e,t)=>{o(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]),c=(0,t.useCallback)(e=>{if("function"===typeof r&&r(e),null!=e&&"undefined"!==typeof ResizeObserver){var{width:t,height:n}=e.getBoundingClientRect();l(t,n);var a=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;l(t,r)});a.observe(e),s.current=a}},[r,l]);return(0,t.useEffect)(()=>()=>{var e=s.current;null!=e&&e.disconnect()},[l]),t.createElement(t.Fragment,null,t.createElement(Q_,{width:i.containerWidth,height:i.containerHeight}),t.createElement("div",IL({ref:c},e)))}),FL=(0,t.forwardRef)((e,r)=>{var{width:n,height:a}=e,[s,i]=(0,t.useState)({containerWidth:LL(n),containerHeight:LL(a)}),o=(0,t.useCallback)((e,t)=>{i(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]),l=(0,t.useCallback)(e=>{if("function"===typeof r&&r(e),null!=e){var{width:t,height:n}=e.getBoundingClientRect();o(t,n)}},[r,o]);return t.createElement(t.Fragment,null,t.createElement(Q_,{width:s.containerWidth,height:s.containerHeight}),t.createElement("div",IL({ref:l},e)))}),BL=(0,t.forwardRef)((e,r)=>{var{width:n,height:a}=e;return t.createElement(t.Fragment,null,t.createElement(Q_,{width:n,height:a}),t.createElement("div",IL({ref:r},e)))}),UL=(0,t.forwardRef)((e,r)=>{var{width:n,height:a}=e;return ly(n)||ly(a)?t.createElement(FL,IL({},e,{ref:r})):t.createElement(BL,IL({},e,{ref:r}))});var qL=(0,t.forwardRef)((e,r)=>{var{children:n,className:a,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:h,onMouseUp:m,onTouchEnd:f,onTouchMove:p,onTouchStart:g,style:v,width:x,responsive:y,dispatchTouchEvents:b=!0}=e,w=(0,t.useRef)(null),j=GN(),[N,_]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),A=function(){var e=GN(),[r,n]=(0,t.useState)(null),a=ZN(C_);return(0,t.useEffect)(()=>{if(null!=r){var t=r.getBoundingClientRect().width/r.offsetWidth;Ay(t)&&t!==a&&e(RN(t))}},[r,e,a]),n}(),E=Iy(),C=(null===E||void 0===E?void 0:E.width)>0?E.width:x,O=(null===E||void 0===E?void 0:E.height)>0?E.height:s,P=(0,t.useCallback)(e=>{A(e),"function"===typeof r&&r(e),_(e),k(e),null!=e&&(w.current=e)},[A,r,_,k]),D=(0,t.useCallback)(e=>{j(iI(e)),j(pM({handler:i,reactEvent:e}))},[j,i]),T=(0,t.useCallback)(e=>{j(lI(e)),j(pM({handler:d,reactEvent:e}))},[j,d]),R=(0,t.useCallback)(e=>{j(xN()),j(pM({handler:u,reactEvent:e}))},[j,u]),I=(0,t.useCallback)(e=>{j(lI(e)),j(pM({handler:h,reactEvent:e}))},[j,h]),M=(0,t.useCallback)(()=>{j(mM())},[j]),L=(0,t.useCallback)(e=>{j(hM(e.key))},[j]),z=(0,t.useCallback)(e=>{j(pM({handler:o,reactEvent:e}))},[j,o]),F=(0,t.useCallback)(e=>{j(pM({handler:l,reactEvent:e}))},[j,l]),B=(0,t.useCallback)(e=>{j(pM({handler:c,reactEvent:e}))},[j,c]),U=(0,t.useCallback)(e=>{j(pM({handler:m,reactEvent:e}))},[j,m]),q=(0,t.useCallback)(e=>{j(pM({handler:g,reactEvent:e}))},[j,g]),V=(0,t.useCallback)(e=>{b&&j(bM(e)),j(pM({handler:p,reactEvent:e}))},[j,b,p]),W=(0,t.useCallback)(e=>{j(pM({handler:f,reactEvent:e}))},[j,f]),H=function(e){return!0===e?zL:UL}(y);return t.createElement(OL.Provider,{value:N},t.createElement(PL.Provider,{value:S},t.createElement(H,{width:null!==C&&void 0!==C?C:null===v||void 0===v?void 0:v.width,height:null!==O&&void 0!==O?O:null===v||void 0===v?void 0:v.height,className:(0,ty.$)("recharts-wrapper",a),style:TL({position:"relative",cursor:"default",width:C,height:O},v),onClick:D,onContextMenu:z,onDoubleClick:F,onFocus:M,onKeyDown:L,onMouseDown:B,onMouseEnter:T,onMouseLeave:R,onMouseMove:I,onMouseUp:U,onTouchEnd:W,onTouchMove:V,onTouchStart:q,ref:P},t.createElement(ML,null),n)))}),VL=VN([z_],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),WL=VN([VL,A_,E_],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),HL=()=>ZN(WL),KL=(0,t.createContext)(void 0),$L=e=>{var{children:r}=e,[n]=(0,t.useState)("".concat(hy("recharts"),"-clip")),a=HL();if(null==a)return null;var{x:s,y:i,width:o,height:l}=a;return t.createElement(KL.Provider,{value:n},t.createElement("defs",null,t.createElement("clipPath",{id:n},t.createElement("rect",{x:s,y:i,height:l,width:o}))),r)},GL=["width","height","responsive","children","className","style","compact","title","desc"];var YL=(0,t.forwardRef)((e,r)=>{var{width:n,height:a,responsive:s,children:i,className:o,style:l,compact:c,title:d,desc:u}=e,h=eL(function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,GL));return c?t.createElement(t.Fragment,null,t.createElement(Q_,{width:n,height:a}),t.createElement(xL,{otherAttributes:h,title:d,desc:u},i)):t.createElement(qL,{className:o,style:l,width:n,height:a,responsive:null!==s&&void 0!==s&&s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(xL,{otherAttributes:h,title:d,desc:u,ref:r},t.createElement($L,null,i)))});function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZL(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(t){XL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}function QL(){return QL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QL.apply(null,arguments)}var ez={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tz=(0,t.forwardRef)(function(e,r){var n,a=ZL(e.categoricalChartProps,ez),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return t.createElement(BM,{preloadedState:{options:d},reduxStoreName:null!==(n=c.id)&&void 0!==n?n:s},t.createElement(UM,{chartData:c.data}),t.createElement(KM,{layout:a.layout,margin:a.margin}),t.createElement($M,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),t.createElement(YL,QL({},a,{ref:r})))}),rz=["axis","item"],nz=(0,t.forwardRef)((e,r)=>t.createElement(tz,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rz,tooltipPayloadSearcher:aj,categoricalChartProps:e,ref:r}));function az(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sz(Object(r),!0).forEach(function(t){oz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lz=iz({},{cacheSize:2e3,enableCache:!0}),cz=new class{constructor(e){az(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(lz.cacheSize),dz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uz="recharts_measurement_span";var hz=(e,t)=>{try{var r=document.getElementById(uz);r||((r=document.createElement("span")).setAttribute("id",uz),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,dz,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(a){return{width:0,height:0}}},mz=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||EM)return{width:0,height:0};if(!lz.enableCache)return hz(e,t);var r=function(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}(e,t),n=cz.get(r);if(n)return n;var a=hz(e,t);return cz.set(r,a),a};function fz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class pz{static create(e){return new pz(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}fz(pz,"EPS",1e-4);function gz(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function vz(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,s=Math.atan(r/t),i=a>s&&a<Math.PI-s?r/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function xz(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function yz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yz(Object(r),!0).forEach(function(t){wz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e,t,r){var n,{tick:a,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:h}=e;if(!s||!s.length||!a)return[];if(cy(c)||EM)return null!==(n=function(e,t){return gz(e,t+1)}(s,cy(c)?c:0))&&void 0!==n?n:[];var m=[],f="top"===l||"bottom"===l?"width":"height",p=u&&"width"===f?mz(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,n)=>{var a="function"===typeof d?d(e.value,n):e.value;return"width"===f?vz(mz(a,{fontSize:t,letterSpacing:r}),p,h):mz(a,{fontSize:t,letterSpacing:r})[f]},v=s.length>=2?iy(s[1].coordinate-s[0].coordinate):1,x=function(e,t,r){var n="width"===r,{x:a,y:s,width:i,height:o}=e;return 1===t?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}(i,v,f);return"equidistantPreserveStart"===c?function(e,t,r,n,a){for(var s,i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:gz(n,d)};var s,i=c,h=()=>(void 0===s&&(s=r(t,i)),s),m=t.coordinate,f=0===c||xz(e,m,h,u,l);f||(c=0,u=o,d+=1),f&&(u=m+e*(h()/2+a),c+=d)};d<=i.length;)if(s=h())return s.v;return[]}(v,x,g,s,o):(m="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:l,end:c}=t;if(s){var d=n[o-1],u=r(d,o-1),h=e*(d.coordinate+e*u/2-c);i[o-1]=d=bz(bz({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),null!=d.tickCoord&&xz(e,d.tickCoord,()=>u,l,c)&&(c=d.tickCoord-e*(u/2+a),i[o-1]=bz(bz({},d),{},{isShow:!0}))}for(var m=s?o-1:o,f=function(t){var n,s=i[t],o=()=>(void 0===n&&(n=r(s,t)),n);if(0===t){var d=e*(s.coordinate-e*o()/2-l);i[t]=s=bz(bz({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else i[t]=s=bz(bz({},s),{},{tickCoord:s.coordinate});null!=s.tickCoord&&xz(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+a),i[t]=bz(bz({},s),{},{isShow:!0}))},p=0;p<m;p++)f(p);return i}(v,x,g,s,o,"preserveStartEnd"===c):function(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,c=function(t){var n,c=s[t],d=()=>(void 0===n&&(n=r(c,t)),n);if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);s[t]=c=bz(bz({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=bz(bz({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&xz(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+a),s[t]=bz(bz({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return s}(v,x,g,s,o),m.filter(e=>e.isShow))}var Nz=["children","className"];function _z(){return _z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_z.apply(null,arguments)}var Sz=t.forwardRef((e,r)=>{var{children:n,className:a}=e,s=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Nz),i=(0,ty.$)("recharts-layer",a);return t.createElement("g",_z({className:i},rL(s),{ref:r}),n)}),kz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Az=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ez=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Oz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Pz=Object.keys(Oz),Dz="NaN";class Tz{static parse(e){var t,[,r,n]=null!==(t=Cz.exec(e))&&void 0!==t?t:[];return new Tz(parseFloat(r),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,oy(e)&&(this.unit=""),""===t||Ez.test(t)||(this.num=NaN,this.unit=""),Pz.includes(t)&&(this.num=function(e,t){return e*Oz[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Tz(NaN,""):new Tz(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Tz(NaN,""):new Tz(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Tz(NaN,""):new Tz(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Tz(NaN,""):new Tz(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oy(this.num)}}function Rz(e){if(e.includes(Dz))return Dz;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=null!==(r=kz.exec(t))&&void 0!==r?r:[],i=Tz.parse(null!==n&&void 0!==n?n:""),o=Tz.parse(null!==s&&void 0!==s?s:""),l="*"===a?i.multiply(o):i.divide(o);if(l.isNaN())return Dz;t=t.replace(kz,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,h]=null!==(c=Az.exec(t))&&void 0!==c?c:[],m=Tz.parse(null!==d&&void 0!==d?d:""),f=Tz.parse(null!==h&&void 0!==h?h:""),p="+"===u?m.add(f):m.subtract(f);if(p.isNaN())return Dz;t=t.replace(Az,p.toString())}return t}var Iz=/\(([^()]*)\)/;function Mz(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=Iz.exec(r));){var[,n]=t;r=r.replace(Iz,Rz(n))}return r}(t),t=Rz(t)}function Lz(e){var t=function(e){try{return Mz(e)}catch(t){return Dz}}(e.slice(5,-1));return t===Dz?"":t}var zz=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Fz=["dx","dy","angle","className","breakAll"];function Bz(){return Bz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bz.apply(null,arguments)}function Uz(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var qz=/[ \f\n\r\t\v\u2028\u2029]+/,Vz=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];return gy(t)||(a=r?t.toString().split(""):t.toString().split(qz)),{wordsWithComputedWidth:a.map(e=>({word:e,width:mz(e,n).width})),spaceWidth:r?0:mz("\xa0",n).width}}catch(s){return null}};function Wz(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var Hz=(e,t,r,n)=>e.reduce((e,a)=>{var{word:s,width:i}=a,o=e[e.length-1];if(o&&null!=i&&(null==t||n||o.width+i+r<Number(t)))o.words.push(s),o.width+=i+r;else{var l={words:[s],width:i};e.push(l)}return e},[]),Kz=e=>e.reduce((e,t)=>e.width>t.width?e:t),$z=(e,t,r,n,a,s,i,o)=>{var l=e.slice(0,t),c=Vz({breakAll:r,style:n,children:l+"\u2026"});if(!c)return[!1,[]];var d=Hz(c.wordsWithComputedWidth,s,i,o);return[d.length>a||Kz(d).width>Number(s),d]},Gz=e=>[{words:gy(e)?[]:e.toString().split(qz),width:void 0}],Yz=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!EM){var o=Vz({breakAll:s,children:n,style:a});if(!o)return Gz(n);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=cy(s),d=String(i),u=Hz(t,n,r,a);if(!c||a)return u;if(!(u.length>s||Kz(u).width>Number(n)))return u;for(var h,m=0,f=d.length-1,p=0;m<=f&&p<=d.length-1;){var g=Math.floor((m+f)/2),v=g-1,[x,y]=$z(d,v,l,o,s,n,r,a),[b]=$z(d,g,l,o,s,n,r,a);if(x||b||(m=g+1),x&&b&&(f=g-1),!x&&b){h=y;break}p++}return h||u})({breakAll:s,children:n,maxLines:i,style:a},l,c,t,Boolean(r))}return Gz(n)},Jz="#808080",Xz={angle:0,breakAll:!1,capHeight:"0.71em",fill:Jz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Zz=(0,t.forwardRef)((e,r)=>{var n=ZL(e,Xz),{x:a,y:s,lineHeight:i,capHeight:o,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:u}=n,h=Uz(n,zz),m=(0,t.useMemo)(()=>Yz({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:f,dy:p,angle:g,className:v,breakAll:x}=h,y=Uz(h,Fz);if(!dy(a)||!dy(s)||0===m.length)return null;var b,w=Number(a)+(cy(f)?f:0),j=Number(s)+(cy(p)?p:0);if(!Ay(w)||!Ay(j))return null;switch(u){case"start":b=Lz("calc(".concat(o,")"));break;case"middle":b=Lz("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:b=Lz("calc(".concat(m.length-1," * -").concat(i,")"))}var N=[];if(c){var _=m[0].width,{width:S}=h;N.push("scale(".concat(cy(S)&&cy(_)?S/_:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(j,")")),N.length&&(y.transform=N.join(" ")),t.createElement("text",Bz({},rL(y),{ref:r,x:w,y:j,className:(0,ty.$)("recharts-text",v),textAnchor:d,fill:l.includes("url")?Jz:l}),m.map((e,r)=>{var n=e.words.join(x?"":" ");return t.createElement("tspan",{x:w,dy:0===r?b:i,key:"".concat(n,"-").concat(r)},n)}))});function Qz(e){var{zIndex:r,children:n}=e,a=void 0!==Z_()&&void 0!==r&&0!==r,s=q_(),i=GN();(0,t.useLayoutEffect)(()=>a?(i(IM({zIndex:r})),()=>{i(MM({zIndex:r}))}):yy,[i,r,a]);var o=ZN(e=>cL(e,r,s));if(!a)return n;if(!o)return null;var l=document.getElementById(o);return l?(0,k.createPortal)(n,l):null}Zz.displayName="Text";var eF=["labelRef"];function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(t){nF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aF(){return aF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aF.apply(null,arguments)}var sF=(0,t.createContext)(null),iF=e=>{var{x:r,y:n,upperWidth:a,lowerWidth:s,width:i,height:o,children:l}=e,c=(0,t.useMemo)(()=>({x:r,y:n,upperWidth:a,lowerWidth:s,width:i,height:o}),[r,n,a,s,i,o]);return t.createElement(sF.Provider,{value:c},l)},oF=()=>{var e=(0,t.useContext)(sF),r=K_();return e||H_(r)},lF=(0,t.createContext)(null),cF=()=>{var e=(0,t.useContext)(lF),r=ZN(bP);return e||r},dF=e=>null!=e&&"function"===typeof e,uF=(e,r,n,a,s)=>{var i,o,{offset:l,className:c}=e,{cx:d,cy:u,innerRadius:h,outerRadius:m,startAngle:f,endAngle:p,clockWise:g}=s,v=(h+m)/2,x=((e,t)=>iy(t-e)*Math.min(Math.abs(t-e),360))(f,p),y=x>=0?1:-1;switch(r){case"insideStart":i=f+y*l,o=g;break;case"insideEnd":i=p-y*l,o=!g;break;case"end":i=p+y*l,o=g;break;default:throw new Error("Unsupported position ".concat(r))}o=x<=0?o:!o;var b=KO(d,u,v,i),w=KO(d,u,v,i+359*(o?1:-1)),j="M".concat(b.x,",").concat(b.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),N=gy(e.id)?hy("recharts-radial-line-"):e.id;return t.createElement("text",aF({},a,{dominantBaseline:"central",className:(0,ty.$)("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:N,d:j})),t.createElement("textPath",{xlinkHref:"#".concat(N)},n))},hF=e=>"cx"in e&&cy(e.cx),mF={angle:0,offset:5,zIndex:XO.label,position:"middle",textBreakAll:!1};function fF(e){var r,n,a,s=ZL(e,mF),{viewBox:i,position:o,value:l,children:c,content:d,className:u="",textBreakAll:h,labelRef:m}=s,f=cF(),p=oF();if(!(r=null==i?"center"===o?p:null!==f&&void 0!==f?f:p:hF(i)?i:H_(i))||gy(l)&&gy(c)&&!(0,t.isValidElement)(d)&&"function"!==typeof d)return null;var g=rF(rF({},s),{},{viewBox:r});if((0,t.isValidElement)(d)){var{labelRef:v}=g,x=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(g,eF);return(0,t.cloneElement)(d,x)}if("function"===typeof d){if(n=(0,t.createElement)(d,g),(0,t.isValidElement)(n))return n}else n=(e=>{var{value:t,formatter:r}=e,n=gy(e.children)?t:e.children;return"function"===typeof r?r(n):n})(s);var y=rL(s);if(hF(r)){if("insideStart"===o||"insideEnd"===o||"end"===o)return uF(s,o,n,y,r);a=((e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===r){var{x:d,y:u}=KO(n,a,i+t,c);return{x:d,y:u,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:m,y:f}=KO(n,a,h,c);return{x:m,y:f,textAnchor:"middle",verticalAnchor:"middle"}})(r,s.offset,s.position)}else a=((e,t)=>{var r,{parentViewBox:n,offset:a,position:s}=e;null==n||hF(n)||(r=n);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:d}=t,u=i,h=i+(l-c)/2,m=(u+h)/2,f=(l+c)/2,p=u+l/2,g=d>=0?1:-1,v=g*a,x=g>0?"end":"start",y=g>0?"start":"end",b=l>=0?1:-1,w=b*a,j=b>0?"end":"start",N=b>0?"start":"end";if("top"===s)return rF(rF({},{x:u+l/2,y:o-v,textAnchor:"middle",verticalAnchor:x}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===s)return rF(rF({},{x:h+c/2,y:o+d+v,textAnchor:"middle",verticalAnchor:y}),r?{height:Math.max(r.y+r.height-(o+d),0),width:c}:{});if("left"===s){var _={x:m-w,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return rF(rF({},_),r?{width:Math.max(_.x-r.x,0),height:d}:{})}if("right"===s){var S={x:m+f+w,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return rF(rF({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var k=r?{width:f,height:d}:{};return"insideLeft"===s?rF({x:m+w,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},k):"insideRight"===s?rF({x:m+f-w,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},k):"insideTop"===s?rF({x:u+l/2,y:o+v,textAnchor:"middle",verticalAnchor:y},k):"insideBottom"===s?rF({x:h+c/2,y:o+d-v,textAnchor:"middle",verticalAnchor:x},k):"insideTopLeft"===s?rF({x:u+w,y:o+v,textAnchor:N,verticalAnchor:y},k):"insideTopRight"===s?rF({x:u+l-w,y:o+v,textAnchor:j,verticalAnchor:y},k):"insideBottomLeft"===s?rF({x:h+w,y:o+d-v,textAnchor:N,verticalAnchor:x},k):"insideBottomRight"===s?rF({x:h+c-w,y:o+d-v,textAnchor:j,verticalAnchor:x},k):s&&"object"===typeof s&&(cy(s.x)||ly(s.x))&&(cy(s.y)||ly(s.y))?rF({x:i+my(s.x,f),y:o+my(s.y,d),textAnchor:"end",verticalAnchor:"end"},k):rF({x:p,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)})(s,r);return t.createElement(Qz,{zIndex:s.zIndex},t.createElement(Zz,aF({ref:m,className:(0,ty.$)("recharts-label",u)},y,a,{textAnchor:Wz(y.textAnchor)?y.textAnchor:a.textAnchor,breakAll:h}),n))}fF.displayName="Label";var pF=(e,r,n)=>{if(!e)return null;var a={viewBox:r,labelRef:n};return!0===e?t.createElement(fF,aF({key:"label-implicit"},a)):dy(e)?t.createElement(fF,aF({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===fF?(0,t.cloneElement)(e,rF({key:"label-implicit"},a)):t.createElement(fF,aF({key:"label-implicit",content:e},a)):dF(e)?t.createElement(fF,aF({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(fF,aF({},e,{key:"label-implicit"},a)):null};function gF(e){var{label:t,labelRef:r}=e,n=oF();return pF(t,n,r)||null}var vF=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,xF=(e,t,r)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];JM(a)&&"function"===typeof s&&(n||(n={}),n[a]=((e,t,r)=>n=>(e(t,r,n),null))(s,t,r))}),n},yF=["axisLine","width","height","className","hide","ticks","axisType"];function bF(){return bF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bF.apply(null,arguments)}function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(t){NF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function NF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _F={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:XO.axis};function SF(e){var{x:r,y:n,width:a,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=jF(jF(jF({},c),eL(l)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!o||"bottom"===i&&o);d=jF(jF({},d),{},{x1:r,y1:n+u*s,x2:r+a,y2:n+u*s})}else{var h=+("left"===i&&!o||"right"===i&&o);d=jF(jF({},d),{},{x1:r+h*a,y1:n,x2:r+h*a,y2:n+s})}return t.createElement("line",bF({},d,{className:(0,ty.$)("recharts-cartesian-axis-line",sy()(l,"className"))}))}function kF(e){var r,{option:n,tickProps:a,value:s}=e,i=(0,ty.$)(a.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(n))r=t.cloneElement(n,jF(jF({},a),{},{className:i}));else if("function"===typeof n)r=n(jF(jF({},a),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof n&&(o=(0,ty.$)(o,null===n||void 0===n?void 0:n.className)),r=t.createElement(Zz,bF({},a,{className:o}),s)}return r}var AF=(0,t.forwardRef)((e,r)=>{var{ticks:n=[],tick:a,tickLine:s,stroke:i,tickFormatter:o,unit:l,padding:c,tickTextProps:d,orientation:u,mirror:h,x:m,y:f,width:p,height:g,tickSize:v,tickMargin:x,fontSize:y,letterSpacing:b,getTicksConfig:w,events:j,axisType:N}=e,_=jz(jF(jF({},w),{},{ticks:n}),y,b),S=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,h),k=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,h),A=eL(w),E=tL(a),C={};"object"===typeof s&&(C=s);var O=jF(jF({},A),{},{fill:"none"},C),P=_.map(e=>jF({entry:e},function(e,t,r,n,a,s,i,o,l){var c,d,u,h,m,f,p=o?-1:1,g=e.tickSize||i,v=cy(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=d=e.coordinate,f=(u=(h=r+ +!o*a)-p*g)-p*l,m=v;break;case"left":u=h=e.coordinate,m=(c=(d=t+ +!o*n)-p*g)-p*l,f=v;break;case"right":u=h=e.coordinate,m=(c=(d=t+ +o*n)+p*g)+p*l,f=v;break;default:c=d=e.coordinate,f=(u=(h=r+ +o*a)+p*g)+p*l,m=v}return{line:{x1:c,y1:u,x2:d,y2:h},tick:{x:m,y:f}}}(e,m,f,p,g,u,v,h,x))),D=P.map(e=>{var{entry:r,line:n}=e;return t.createElement(Sz,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},s&&t.createElement("line",bF({},O,n,{className:(0,ty.$)("recharts-cartesian-axis-tick-line",sy()(s,"className"))})))}),T=P.map((e,r)=>{var{entry:n,tick:s}=e,u=jF(jF(jF(jF({textAnchor:S,verticalAnchor:k},A),{},{stroke:"none",fill:i},E),s),{},{index:r,payload:n,visibleTicksCount:_.length,tickFormatter:o,padding:c},d);return t.createElement(Sz,bF({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(n.value,"-").concat(n.coordinate,"-").concat(n.tickCoord)},xF(j,n,r)),a&&t.createElement(kF,{option:a,tickProps:u,value:"".concat("function"===typeof o?o(n.value,r):n.value).concat(l||"")}))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},T.length>0&&t.createElement(Qz,{zIndex:XO.label},t.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:r},T)),D.length>0&&t.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},D))}),EF=(0,t.forwardRef)((e,r)=>{var{axisLine:n,width:a,height:s,className:i,hide:o,ticks:l,axisType:c}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,yF),[u,h]=(0,t.useState)(""),[m,f]=(0,t.useState)(""),p=(0,t.useRef)(null);(0,t.useImperativeHandle)(r,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>i&&(i=t.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+(a+s)+o+(r?n:0);return Math.round(l)}return 0})({ticks:p.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=(0,t.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=t;var r=t[0];if(r){var n=window.getComputedStyle(r),a=n.fontSize,s=n.letterSpacing;a===u&&s===m||(h(a),f(s))}}},[u,m]);return o||null!=a&&a<=0||null!=s&&s<=0?null:t.createElement(Qz,{zIndex:e.zIndex},t.createElement(Sz,{className:(0,ty.$)("recharts-cartesian-axis",i)},t.createElement(SF,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:eL(e)}),t.createElement(AF,{ref:g,axisType:c,events:d,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),t.createElement(iF,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},t.createElement(gF,{label:e.label,labelRef:e.labelRef}),e.children)))}),CF=t.forwardRef((e,r)=>{var n=ZL(e,_F);return t.createElement(EF,bF({},n,{ref:r}))});CF.displayName="CartesianAxis";var OF=["x1","y1","x2","y2","key"],PF=["offset"],DF=["xAxisId","yAxisId"],TF=["xAxisId","yAxisId"];function RF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RF(Object(r),!0).forEach(function(t){MF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(){return LF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LF.apply(null,arguments)}function zF(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var FF=e=>{var{fill:r}=e;if(!r||"none"===r)return null;var{fillOpacity:n,x:a,y:s,width:i,height:o,ry:l}=e;return t.createElement("rect",{x:a,y:s,ry:l,width:i,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BF(e){var r,{option:n,lineItemProps:a}=e;if(t.isValidElement(n))r=t.cloneElement(n,a);else if("function"===typeof n)r=n(a);else{var s,{x1:i,y1:o,x2:l,y2:c,key:d}=a,u=null!==(s=eL(zF(a,OF)))&&void 0!==s?s:{},{offset:h}=u,m=zF(u,PF);r=t.createElement("line",LF({},m,{x1:i,y1:o,x2:l,y2:c,fill:"none",key:d}))}return r}function UF(e){var{x:r,width:n,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=zF(e,DF),c=s.map((e,s)=>{var i=IF(IF({},l),{},{x1:r,y1:e,x2:r+n,y2:e,key:"line-".concat(s),index:s});return t.createElement(BF,{key:"line-".concat(s),option:a,lineItemProps:i})});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function qF(e){var{y:r,height:n,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=zF(e,TF),c=s.map((e,s)=>{var i=IF(IF({},l),{},{x1:e,y1:r,x2:e,y2:r+n,key:"line-".concat(s),index:s});return t.createElement(BF,{option:a,lineItemProps:i,key:"line-".concat(s)})});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function VF(e){var{horizontalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!r||!r.length||null==l)return null;var d=l.map(e=>Math.round(e+s-s)).sort((e,t)=>e-t);s!==d[0]&&d.unshift(0);var u=d.map((e,l)=>{var c=!d[l+1]?s+o-e:d[l+1]-e;if(c<=0)return null;var u=l%r.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:i,stroke:"none",fill:r[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function WF(e){var{vertical:r=!0,verticalFill:n,fillOpacity:a,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!r||!n||!n.length)return null;var d=c.map(e=>Math.round(e+s-s)).sort((e,t)=>e-t);s!==d[0]&&d.unshift(0);var u=d.map((e,r)=>{var c=!d[r+1]?s+o-e:d[r+1]-e;if(c<=0)return null;var u=r%n.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:i,width:c,height:l,stroke:"none",fill:n[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var HF=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return p_(jz(IF(IF(IF({},_F),r),{},{ticks:g_(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},KF=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return p_(jz(IF(IF(IF({},_F),r),{},{ticks:g_(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},$F={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:XO.grid};function GF(e){var r=Y_(),n=J_(),a=G_(),s=IF(IF({},ZL(e,$F)),{},{x:cy(e.x)?e.x:a.left,y:cy(e.y)?e.y:a.top,width:cy(e.width)?e.width:a.width,height:cy(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:h,horizontalValues:m,verticalValues:f}=s,p=q_(),g=ZN(e=>NT(e,"xAxis",i,p)),v=ZN(e=>NT(e,"yAxis",o,p));if(!Ey(d)||!Ey(u)||!cy(l)||!cy(c))return null;var x=s.verticalCoordinatesGenerator||HF,y=s.horizontalCoordinatesGenerator||KF,{horizontalPoints:b,verticalPoints:w}=s;if((!b||!b.length)&&"function"===typeof y){var j=m&&m.length,N=y({yAxis:v?IF(IF({},v),{},{ticks:j?m:v.ticks}):void 0,width:null!==r&&void 0!==r?r:d,height:null!==n&&void 0!==n?n:u,offset:a},!!j||h);by(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!w||!w.length)&&"function"===typeof x){var _=f&&f.length,S=x({xAxis:g?IF(IF({},g),{},{ticks:_?f:g.ticks}):void 0,width:null!==r&&void 0!==r?r:d,height:null!==n&&void 0!==n?n:u,offset:a},!!_||h);by(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}return t.createElement(Qz,{zIndex:s.zIndex},t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(FF,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),t.createElement(VF,LF({},s,{horizontalPoints:b})),t.createElement(WF,LF({},s,{verticalPoints:w})),t.createElement(UF,LF({},s,{offset:a,horizontalPoints:b,xAxis:g,yAxis:v})),t.createElement(qF,LF({},s,{offset:a,verticalPoints:w,xAxis:g,yAxis:v}))))}GF.displayName="CartesianGrid";var YF=["domain","range"],JF=["domain","range"];function XF(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZF(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function QF(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=XF(e,YF),{domain:s,range:i}=t,o=XF(t,JF);return!!ZF(r,s)&&(!!ZF(n,i)&&WM(a,o))}var eB=["dangerouslySetInnerHTML","ticks"],tB=["id"];function rB(){return rB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rB.apply(null,arguments)}function nB(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aB(e){var r=GN(),n=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===n.current?r(gI(e)):n.current!==e&&r(vI({prev:n.current,next:e})),n.current=e},[e,r]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r(xI(n.current)),n.current=null)},[r]),null}var sB=e=>{var{xAxisId:r,className:n}=e,a=ZN(B_),s=q_(),i="xAxis",o=ZN(e=>sT(e,i,r,s)),l=ZN(e=>_T(e,i,r,s)),c=ZN(e=>hT(e,r)),d=ZN(e=>pT(e,r)),u=ZN(e=>IP(e,r));if(null==c||null==d||null==u)return null;var{dangerouslySetInnerHTML:h,ticks:m}=e,f=nB(e,eB),{id:p}=u,g=nB(u,tB);return t.createElement(CF,rB({},f,g,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:(0,ty.$)("recharts-".concat(i," ").concat(i),n),viewBox:a,ticks:l,axisType:i}))},iB={allowDataOverflow:RP.allowDataOverflow,allowDecimals:RP.allowDecimals,allowDuplicatedCategory:RP.allowDuplicatedCategory,angle:RP.angle,axisLine:_F.axisLine,height:RP.height,hide:!1,includeHidden:RP.includeHidden,interval:RP.interval,minTickGap:RP.minTickGap,mirror:RP.mirror,orientation:RP.orientation,padding:RP.padding,reversed:RP.reversed,scale:RP.scale,tick:RP.tick,tickCount:RP.tickCount,tickLine:_F.tickLine,tickSize:_F.tickSize,type:RP.type,xAxisId:0},oB=e=>{var r=ZL(e,iB);return t.createElement(t.Fragment,null,t.createElement(aB,{allowDataOverflow:r.allowDataOverflow,allowDecimals:r.allowDecimals,allowDuplicatedCategory:r.allowDuplicatedCategory,angle:r.angle,dataKey:r.dataKey,domain:r.domain,height:r.height,hide:r.hide,id:r.xAxisId,includeHidden:r.includeHidden,interval:r.interval,minTickGap:r.minTickGap,mirror:r.mirror,name:r.name,orientation:r.orientation,padding:r.padding,reversed:r.reversed,scale:r.scale,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit}),t.createElement(sB,r))},lB=t.memo(oB,QF);lB.displayName="XAxis";var cB=["dangerouslySetInnerHTML","ticks"],dB=["id"];function uB(){return uB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uB.apply(null,arguments)}function hB(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mB(e){var r=GN(),n=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===n.current?r(yI(e)):n.current!==e&&r(bI({prev:n.current,next:e})),n.current=e},[e,r]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r(wI(n.current)),n.current=null)},[r]),null}var fB=e=>{var{yAxisId:r,className:n,width:a,label:s}=e,i=(0,t.useRef)(null),o=(0,t.useRef)(null),l=ZN(B_),c=q_(),d=GN(),u="yAxis",h=ZN(e=>sT(e,u,r,c)),m=ZN(e=>vT(e,r)),f=ZN(e=>gT(e,r)),p=ZN(e=>_T(e,u,r,c)),g=ZN(e=>zP(e,r));if((0,t.useLayoutEffect)(()=>{if("auto"===a&&m&&!dF(s)&&!(0,t.isValidElement)(s)&&null!=g){var e=i.current;if(e){var n=e.getCalculatedWidth();Math.round(m.width)!==Math.round(n)&&d(SI({id:r,width:n}))}}},[p,m,d,s,r,a,g]),null==m||null==f||null==g)return null;var{dangerouslySetInnerHTML:v,ticks:x}=e,y=hB(e,cB),{id:b}=g,w=hB(g,dB);return t.createElement(CF,uB({},y,w,{ref:i,labelRef:o,scale:h,x:f.x,y:f.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:m.width,height:m.height,className:(0,ty.$)("recharts-".concat(u," ").concat(u),n),viewBox:l,ticks:p,axisType:u}))},pB={allowDataOverflow:LP.allowDataOverflow,allowDecimals:LP.allowDecimals,allowDuplicatedCategory:LP.allowDuplicatedCategory,angle:LP.angle,axisLine:_F.axisLine,hide:!1,includeHidden:LP.includeHidden,interval:LP.interval,minTickGap:LP.minTickGap,mirror:LP.mirror,orientation:LP.orientation,padding:LP.padding,reversed:LP.reversed,scale:LP.scale,tick:LP.tick,tickCount:LP.tickCount,tickLine:_F.tickLine,tickSize:_F.tickSize,type:LP.type,width:LP.width,yAxisId:0},gB=e=>{var r=ZL(e,pB);return t.createElement(t.Fragment,null,t.createElement(mB,{interval:r.interval,id:r.yAxisId,scale:r.scale,type:r.type,domain:r.domain,allowDataOverflow:r.allowDataOverflow,dataKey:r.dataKey,allowDuplicatedCategory:r.allowDuplicatedCategory,allowDecimals:r.allowDecimals,tickCount:r.tickCount,padding:r.padding,includeHidden:r.includeHidden,reversed:r.reversed,ticks:r.ticks,width:r.width,orientation:r.orientation,mirror:r.mirror,hide:r.hide,unit:r.unit,name:r.name,angle:r.angle,minTickGap:r.minTickGap,tick:r.tick,tickFormatter:r.tickFormatter}),t.createElement(fB,r))},vB=t.memo(gB,QF);function xB(){return xB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xB.apply(null,arguments)}function yB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yB(Object(r),!0).forEach(function(t){wB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){return Array.isArray(e)&&dy(e[0])&&dy(e[1])?e.join(" ~ "):e}vB.displayName="YAxis";var NB=e=>{var{separator:r=" : ",contentStyle:n={},itemStyle:a={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:h,accessibilityLayer:m=!1}=e,f=bB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),p=bB({margin:0},s),g=!gy(u),v=g?u:"",x=(0,ty.$)("recharts-default-tooltip",c),y=(0,ty.$)("recharts-tooltip-label",d);g&&h&&void 0!==i&&null!==i&&(v=h(u,i));var b=m?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",xB({className:x,style:f},b),t.createElement("p",{className:y,style:p},t.isValidElement(v)?v:"".concat(v)),(()=>{if(i&&i.length){var e=(l?e_()(i,l):i).map((e,n)=>{if("none"===e.type)return null;var s=e.formatter||o||jB,{value:l,name:c}=e,d=l,u=c;if(s){var h=s(l,c,e,n,i);if(Array.isArray(h))[d,u]=h;else{if(null==h)return null;d=h}}var m=bB({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:m},dy(u)?t.createElement("span",{className:"recharts-tooltip-item-name"},u):null,dy(u)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},d),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},_B="recharts-tooltip-wrapper",SB={visibility:"hidden"};function kB(e){var{coordinate:t,translateX:r,translateY:n}=e;return(0,ty.$)(_B,{["".concat(_B,"-right")]:cy(r)&&t&&cy(t.x)&&r>=t.x,["".concat(_B,"-left")]:cy(r)&&t&&cy(t.x)&&r<t.x,["".concat(_B,"-bottom")]:cy(n)&&t&&cy(t.y)&&n>=t.y,["".concat(_B,"-top")]:cy(n)&&t&&cy(t.y)&&n<t.y})}function AB(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&cy(s[n]))return s[n];var d=r[n]-o-(a>0?a:0),u=r[n]+a;if(t[n])return i[n]?d:u;var h=l[n];return null==h?0:i[n]?d<h?Math.max(u,h):Math.max(d,h):null==c?0:u+o>h+c?Math.max(d,h):Math.max(u,h)}function EB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function CB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EB(Object(r),!0).forEach(function(t){OB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class PB extends t.PureComponent{constructor(){super(...arguments),OB(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),OB(this,"handleKeyDown",e=>{var t,r,n,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:u,useTranslate3d:h,viewBox:m,wrapperStyle:f,lastBoundingBox:p,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:x,cssProperties:y}=function(e){var t,r,n,{allowEscapeViewBox:a,coordinate:s,offsetTopLeft:i,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return t=c.height>0&&c.width>0&&s?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=AB({allowEscapeViewBox:a,coordinate:s,key:"x",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=AB({allowEscapeViewBox:a,coordinate:s,key:"y",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):SB,{cssProperties:t,cssClasses:kB({translateX:r,translateY:n,coordinate:s})}}({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:c,position:d,reverseDirection:u,tooltipBox:{height:p.height,width:p.width},useTranslate3d:h,viewBox:m}),b=v?{}:CB(CB({transition:l&&e?"transform ".concat(n,"ms ").concat(a):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=CB(CB({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},f);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:w,ref:g},s)}}var DB=r(4332),TB=r.n(DB);function RB(e,t,r){return!0===t?TB()(e,r):"function"===typeof t?TB()(e,t):e}var IB,MB,LB,zB,FB,BB,UB,qB,VB,WB,HB,KB,$B,GB;function YB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[r,n]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-r.height)>1||Math.abs(a.left-r.left)>1||Math.abs(a.top-r.top)>1||Math.abs(a.width-r.width)>1)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function JB(){}function XB(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ZB(e){this._context=e}function QB(e){this._context=e}function eU(e){this._context=e}ZB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:XB(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:XB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},QB.prototype={areaStart:JB,areaEnd:JB,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:XB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},eU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:XB(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class tU{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function rU(e){this._context=e}function nU(e){this._context=e}function aU(e){return new nU(e)}function sU(e){return e<0?-1:1}function iU(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(sU(s)+sU(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function oU(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function lU(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function cU(e){this._context=e}function dU(e){this._context=new uU(e)}function uU(e){this._context=e}function hU(e){this._context=e}function mU(e){var t,r,n=e.length-1,a=new Array(n),s=new Array(n),i=new Array(n);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,i[t]-=r*i[t-1];for(a[n-1]=i[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function fU(e,t){this._context=e,this._t=t}rU.prototype={areaStart:JB,areaEnd:JB,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},nU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},cU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lU(this,this._t0,oU(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lU(this,oU(this,r=iU(this,e,t)),r);break;default:lU(this,this._t0,r=iU(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(dU.prototype=Object.create(cU.prototype)).point=function(e,t){cU.prototype.point.call(this,t,e)},uU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}},hU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=mU(e),a=mU(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},fU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const pU=Math.PI,gU=2*pU,vU=1e-6,xU=gU-vU;function yU(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class bU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?yU:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return yU;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(IB||(IB=v(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(MB||(MB=v(["Z"]))))}lineTo(e,t){this._append(LB||(LB=v(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(zB||(zB=v(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,a,s){this._append(FB||(FB=v(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+a,this._y1=+s)}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,i=this._y1,o=r-e,l=n-t,c=s-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append(BB||(BB=v(["M",",",""])),this._x1=e,this._y1=t);else if(u>vU)if(Math.abs(d*o-l*c)>vU&&a){let h=r-s,m=n-i,f=o*o+l*l,p=h*h+m*m,g=Math.sqrt(f),x=Math.sqrt(u),y=a*Math.tan((pU-Math.acos((f+u-p)/(2*g*x)))/2),b=y/x,w=y/g;Math.abs(b-1)>vU&&this._append(qB||(qB=v(["L",",",""])),e+b*c,t+b*d),this._append(VB||(VB=v(["A",",",",0,0,",",",",",""])),a,a,+(d*h>c*m),this._x1=e+w*o,this._y1=t+w*l)}else this._append(UB||(UB=v(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,a,s){if(e=+e,t=+t,s=!!s,(r=+r)<0)throw new Error("negative radius: ".concat(r));let i=r*Math.cos(n),o=r*Math.sin(n),l=e+i,c=t+o,d=1^s,u=s?n-a:a-n;null===this._x1?this._append(WB||(WB=v(["M",",",""])),l,c):(Math.abs(this._x1-l)>vU||Math.abs(this._y1-c)>vU)&&this._append(HB||(HB=v(["L",",",""])),l,c),r&&(u<0&&(u=u%gU+gU),u>xU?this._append(KB||(KB=v(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,d,e-i,t-o,r,r,d,this._x1=l,this._y1=c):u>vU&&this._append($B||($B=v(["A",",",",0,",",",",",",",""])),r,r,+(u>=pU),d,this._x1=e+r*Math.cos(a),this._y1=t+r*Math.sin(a)))}rect(e,t,r,n){this._append(GB||(GB=v(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function wU(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new bU(t)}function jU(e){return e[0]}function NU(e){return e[1]}function _U(e,t){var r=s_(!0),n=null,a=aU,s=null,i=wU(o);function o(o){var l,c,d,u=(o=a_(o)).length,h=!1;for(null==n&&(s=a(d=i())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(d)return s=null,d+""||null}return e="function"===typeof e?e:void 0===e?jU:s_(e),t="function"===typeof t?t:void 0===t?NU:s_(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:s_(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:s_(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:s_(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(s=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=s=null:s=a(n=e),o):n},o}function SU(e,t,r){var n=null,a=s_(!0),s=null,i=aU,o=null,l=wU(c);function c(c){var d,u,h,m,f,p=(c=a_(c)).length,g=!1,v=new Array(p),x=new Array(p);for(null==s&&(o=i(f=l())),d=0;d<=p;++d){if(!(d<p&&a(m=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(v[h],x[h]);o.lineEnd(),o.areaEnd()}g&&(v[d]=+e(m,d,c),x[d]=+t(m,d,c),o.point(n?+n(m,d,c):v[d],r?+r(m,d,c):x[d]))}if(f)return o=null,f+""||null}function d(){return _U().defined(a).curve(i).context(s)}return e="function"===typeof e?e:void 0===e?jU:s_(+e),t="function"===typeof t?t:s_(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?NU:s_(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:s_(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:s_(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:s_(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:s_(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:s_(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:s_(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:s_(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}function kU(){return kU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kU.apply(null,arguments)}function AU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AU(Object(r),!0).forEach(function(t){CU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var OU={curveBasisClosed:function(e){return new QB(e)},curveBasisOpen:function(e){return new eU(e)},curveBasis:function(e){return new ZB(e)},curveBumpX:function(e){return new tU(e,!0)},curveBumpY:function(e){return new tU(e,!1)},curveLinearClosed:function(e){return new rU(e)},curveLinear:aU,curveMonotoneX:function(e){return new cU(e)},curveMonotoneY:function(e){return new dU(e)},curveNatural:function(e){return new hU(e)},curveStep:function(e){return new fU(e,.5)},curveStepAfter:function(e){return new fU(e,1)},curveStepBefore:function(e){return new fU(e,0)}},PU=e=>Ay(e.x)&&Ay(e.y),DU=e=>null!=e.base&&PU(e.base)&&PU(e),TU=e=>e.x,RU=e=>e.y,IU=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=((e,t)=>{if("function"===typeof e)return e;var r="curve".concat(vy(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?OU[r]||aU:OU["".concat(r).concat("vertical"===t?"Y":"X")]})(t,a),o=s?r.filter(PU):r;if(Array.isArray(n)){var l=r.map((e,t)=>EU(EU({},e),{},{base:n[t]}));return("vertical"===a?SU().y(RU).x1(TU).x0(e=>e.base.x):SU().x(TU).y1(RU).y0(e=>e.base.y)).defined(DU).curve(i)(s?l.filter(DU):l)}return("vertical"===a&&cy(n)?SU().y(RU).x1(TU).x0(n):cy(n)?SU().x(TU).y1(RU).y0(n):_U().x(TU).y(RU)).defined(PU).curve(i)(o)},MU=e=>{var{className:r,points:n,path:a,pathRef:s}=e;if((!n||!n.length)&&!a)return null;var i=n&&n.length?IU(e):a;return t.createElement("path",kU({},eL(e),((e,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,t.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var a={};return Object.keys(n).forEach(e=>{JM(e)&&(a[e]=r||(t=>n[e](n,t)))}),a})(e),{className:(0,ty.$)("recharts-curve",r),d:null===i?void 0:i,ref:s}))},LU=["x","y","top","left","width","height","className"];function zU(){return zU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zU.apply(null,arguments)}function FU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UU=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),qU=e=>{var{x:r=0,y:n=0,top:a=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FU(Object(r),!0).forEach(function(t){BU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:n,top:a,left:s,width:i,height:o},function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,LU));return cy(r)&&cy(n)&&cy(i)&&cy(o)&&cy(a)&&cy(s)?t.createElement("path",zU({},rL(c),{className:(0,ty.$)("recharts-cross",l),d:UU(r,n,i,o,a,s)})):null};function VU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VU(Object(r),!0).forEach(function(t){HU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KU=(e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","),$U=(e,t)=>Object.keys(t).reduce((r,n)=>WU(WU({},r),{},{[n]:e(n,t[n])}),{});function GU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function YU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GU(Object(r),!0).forEach(function(t){JU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XU=(e,t,r)=>e+(t-e)*r,ZU=e=>{var{from:t,to:r}=e;return t!==r},QU=(e,t,r)=>{var n=$U((t,r)=>{if(ZU(r)){var[n,a]=e(r.from,r.to,r.velocity);return YU(YU({},r),{},{from:n,velocity:a})}return r},t);return r<1?$U((e,t)=>ZU(t)?YU(YU({},t),{},{velocity:XU(t.velocity,n[e].velocity,r),from:XU(t.from,n[e].from,r)}):t,t):QU(e,n,r-1)};function eq(e,t,r,n,a,s){var i,o=n.reduce((r,n)=>YU(YU({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{i||(i=n);var d=(n-i)/r.dt;o=QU(r,o,d),a(YU(YU(YU({},e),t),$U((e,t)=>t.from,o))),i=n,Object.values(o).filter(ZU).length&&(l=s.setTimeout(c))};return()=>(l=s.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const tq=(e,t,r,n,a,s)=>{var i,o,l=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==r?()=>(a(YU(YU({},e),t)),()=>{}):!0===r.isStepper?eq(e,t,r,l,a,s):function(e,t,r,n,a,s,i){var o,l=null,c=a.reduce((r,n)=>YU(YU({},r),{},{[n]:[e[n],t[n]]}),{}),d=a=>{o||(o=a);var u=(a-o)/n,h=$U((e,t)=>XU(...t,r(u)),c);if(s(YU(YU(YU({},e),t),h)),u<1)l=i.setTimeout(d);else{var m=$U((e,t)=>XU(...t,r(1)),c);s(YU(YU(YU({},e),t),m))}};return()=>(l=i.setTimeout(d),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,r,n,l,a,s)};var rq=1e-4,nq=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],aq=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),sq=(e,t)=>r=>{var n=nq(e,t);return aq(n,r)},iq=(e,t,r,n)=>{var a,s,i=sq(e,r),o=sq(t,n),l=(a=e,s=r,e=>{var t=[...nq(a,s).map((e,t)=>e*t).slice(1),0];return aq(t,e)}),c=e=>e>1?1:e<0?0:e,d=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=i(r)-t,s=l(r);if(Math.abs(a-t)<rq||s<rq)return o(r);r=c(r-a/s)}return o(r)};return d.isStepper=!1,d},oq=function(){return iq(...function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var n,a=t[0].split("(");if("cubic-bezier"===a[0]&&4===(null===(n=a[1])||void 0===n?void 0:n.split(")")[0].split(",").length)){var s=a[1].split(")")[0].split(",").map(e=>parseFloat(e));return[s[0],s[1],s[2],s[3]]}}return 4===t.length?t:[0,0,1,1]}(...arguments))},lq=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oq(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,a=(e,a,s)=>{var i=s+(-(e-a)*t-s*r)*n/1e3,o=s*n/1e3+e;return Math.abs(o-a)<rq&&Math.abs(i)<rq?[a,0]:[o,i]};return a.isStepper=!0,a.dt=n,a}();default:if("cubic-bezier"===e.split("(")[0])return oq(e)}return"function"===typeof e?e:null};class cq{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,a=s=>{s-r>=t?e(s):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(a))};return n=requestAnimationFrame(a),()=>{null!=n&&cancelAnimationFrame(n)}}}function dq(){return function(e){var t=()=>null,r=!1,n=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,[o,...l]=i;return"number"===typeof o?void(n=e.setTimeout(a.bind(null,l),o)):(a(o),void(n=e.setTimeout(a.bind(null,l))))}"string"===typeof s&&t(s),"object"===typeof s&&t(s),"function"===typeof s&&s()}};return{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new cq)}var uq=(0,t.createContext)(dq);var hq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mq={t:0},fq={t:1};function pq(e){var r=ZL(e,hq),{isActive:n,canBegin:a,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=r,u="auto"===n?!EM:n,h=function(e,r){var n=(0,t.useContext)(uq);return(0,t.useMemo)(()=>null!==r&&void 0!==r?r:n(e),[e,r,n])}(r.animationId,r.animationManager),[m,f]=(0,t.useState)(u?mq:fq),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{u||f(fq)},[u]),(0,t.useEffect)(()=>{if(!u||!a)return yy;var e=tq(mq,fq,lq(i),s,f,h.getTimeoutController());return h.start([c,o,()=>{p.current=e()},s,l]),()=>{h.stop(),p.current&&p.current(),l()}},[u,a,s,i,o,c,l,h]),d(m.t)}function gq(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,t.useRef)(hy(r)),a=(0,t.useRef)(e);return a.current!==e&&(n.current=hy(r),a.current=e),n.current}var vq=["radius"],xq=["radius"];function yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yq(Object(r),!0).forEach(function(t){wq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(){return jq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jq.apply(null,arguments)}function Nq(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var _q=(e,t,r,n,a)=>{var s,i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>i?i:a[u];s="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(s+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),s+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(s+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),s+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(s+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),s+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(s+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*d[3])),s+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);s="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return s},Sq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kq=e=>{var r=ZL(e,Sq),n=(0,t.useRef)(null),[a,s]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&s(e)}catch(t){}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=r,{animationEasing:h,animationDuration:m,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:g}=r,v=(0,t.useRef)(l),x=(0,t.useRef)(c),y=(0,t.useRef)(i),b=(0,t.useRef)(o),w=gq((0,t.useMemo)(()=>({x:i,y:o,width:l,height:c,radius:d}),[i,o,l,c,d]),"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var j=(0,ty.$)("recharts-rectangle",u);if(!g){var N=rL(r),{radius:_}=N,S=Nq(N,vq);return t.createElement("path",jq({},S,{radius:"number"===typeof d?d:void 0,className:j,d:_q(i,o,l,c,d)}))}var k=v.current,A=x.current,E=y.current,C=b.current,O="0px ".concat(-1===a?1:a,"px"),P="".concat(a,"px 0px"),D=KU(["strokeDasharray"],m,"string"===typeof h?h:Sq.animationEasing);return t.createElement(pq,{animationId:w,key:w,canBegin:a>0,duration:m,easing:h,isActive:g,begin:f},e=>{var a,s=py(k,l,e),u=py(A,c,e),h=py(E,i,e),m=py(C,o,e);n.current&&(v.current=s,x.current=u,y.current=h,b.current=m),a=p?e>0?{transition:D,strokeDasharray:P}:{strokeDasharray:O}:{strokeDasharray:P};var f=rL(r),{radius:g}=f,w=Nq(f,xq);return t.createElement("path",jq({},w,{radius:"number"===typeof d?d:void 0,className:j,d:_q(h,m,s,u,d),ref:n,style:bq(bq({},a),r.style)}))})};function Aq(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e;return{points:[KO(t,r,n,a),KO(t,r,n,s)],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Eq(){return Eq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eq.apply(null,arguments)}var Cq=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+n,d=Math.asin(o/c)/WO,u=l?a:a+s*d,h=l?a-s*d:a;return{center:KO(t,r,c,u),circleTangency:KO(t,r,n,u),lineTangency:KO(t,r,c*Math.cos(d*WO),h),theta:d}},Oq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=((e,t)=>iy(t-e)*Math.min(Math.abs(t-e),359.999))(s,i),l=s+o,c=KO(t,r,a,s),d=KO(t,r,a,l),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>l),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(n>0){var h=KO(t,r,n,s),m=KO(t,r,n,l);u+="L ".concat(m.x,",").concat(m.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},Pq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Dq=e=>{var r=ZL(e,Pq),{cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:h}=r;if(i<s||d===u)return null;var m,f=(0,ty.$)("recharts-sector",h),p=i-s,g=my(o,p,0,!0);return m=g>0&&Math.abs(d-u)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=iy(c-l),{circleTangency:u,lineTangency:h,theta:m}=Cq({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:f,lineTangency:p,theta:g}=Cq({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-m-g;if(v<0)return i?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):Oq({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var x="M ".concat(h.x,",").concat(h.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(u.x,",").concat(u.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n  ");if(n>0){var{circleTangency:y,lineTangency:b,theta:w}=Cq({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:j,lineTangency:N,theta:_}=Cq({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(l-c):Math.abs(l-c)-w-_;if(S<0&&0===s)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(N.x,",").concat(N.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(y.x,",").concat(y.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x})({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):Oq({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),t.createElement("path",Eq({},rL(r),{className:f,d:m}))};function Tq(e,t,r){if("horizontal"===e)return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if("vertical"===e)return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(vF(t)){if("centric"===e){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:o}=t,l=KO(n,a,s,o),c=KO(n,a,i,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return Aq(t)}}function Rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Iq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(r),!0).forEach(function(t){Mq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lq=()=>{var e=ZN(cD),t=ZN(AR),r=ZN(_R);return __(e&&r?Iq(Iq({},e),{},{scale:r}):void 0,t)};function zq(){return zq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zq.apply(null,arguments)}function Fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fq(Object(r),!0).forEach(function(t){Uq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Uq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var{cursor:r,cursorComp:n,cursorProps:a}=e;return(0,t.isValidElement)(r)?(0,t.cloneElement)(r,a):(0,t.createElement)(n,a)}function Vq(e){var r,n,a,s,{coordinate:i,payload:o,index:l,offset:c,tooltipAxisBandSize:d,layout:u,cursor:h,tooltipEventType:m,chartName:f}=e,p=i,g=o,v=l;if(!h||!p||"ScatterChart"!==f&&"axis"!==m)return null;if("ScatterChart"===f)n=p,a=qU,s=XO.cursorLine;else if("BarChart"===f)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(u,p,c,d),a=kq,s=XO.cursorRectangle;else if("radial"===u&&vF(p)){var{cx:x,cy:y,radius:b,startAngle:w,endAngle:j}=Aq(p);n={cx:x,cy:y,startAngle:w,endAngle:j,innerRadius:b,outerRadius:b},a=Dq,s=XO.cursorLine}else n={points:Tq(u,p,c)},a=MU,s=XO.cursorLine;var N="object"===typeof h&&"className"in h?h.className:void 0,_=Bq(Bq(Bq(Bq({stroke:"#ccc",pointerEvents:"none"},c),n),tL(h)),{},{payload:g,payloadIndex:v,className:(0,ty.$)("recharts-tooltip-cursor",N)});return t.createElement(Qz,{zIndex:null!==(r=e.zIndex)&&void 0!==r?r:s},t.createElement(qq,{cursor:h,cursorComp:a,cursorProps:_}))}function Wq(e){var r=Lq(),n=G_(),a=Z_(),s=ZN(LO);return null==r||null==n||null==a||null==s?null:t.createElement(Vq,zq({},e,{offset:n,layout:a,tooltipAxisBandSize:r,chartName:s}))}function Hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Kq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hq(Object(r),!0).forEach(function(t){$q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){return e.dataKey}var Yq=[],Jq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xq(e){var r,n,a=ZL(e,Jq),{active:s,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:c,filterNull:d,isAnimationActive:u,offset:h,payloadUniqBy:m,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:v,cursor:x,shared:y,trigger:b,defaultIndex:w,portal:j,axisId:N}=a,_=GN(),S="number"===typeof w?String(w):w;(0,t.useEffect)(()=>{_(pN({shared:y,trigger:b,axisId:N,active:s,defaultIndex:S}))},[_,y,b,N,s,S]);var A=K_(),E=GM(),C=function(e){return ZN(t=>DT(t,e))}(y),{activeIndex:O,isActive:P}=null!==(r=ZN(e=>rI(e,C,b,S)))&&void 0!==r?r:{},D=ZN(e=>tI(e,C,b,S)),T=ZN(e=>eI(e,C,b,S)),R=ZN(e=>QR(e,C,b,S)),I=D,M=(0,t.useContext)(OL),L=null!==(n=null!==s&&void 0!==s?s:P)&&void 0!==n&&n,[z,F]=YB([I,L]),B="axis"===C?T:void 0;CL(C,b,R,B,O,L);var U=null!==j&&void 0!==j?j:M;if(null==U||null==A||null==C)return null;var q=null!==I&&void 0!==I?I:Yq;L||(q=Yq),d&&q.length&&(q=RB(q.filter(e=>null!=e.value&&(!0!==e.hide||a.includeHidden)),m,Gq));var V=q.length>0,W=t.createElement(PB,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:u,active:L,coordinate:R,hasPayload:V,offset:h,position:f,reverseDirection:p,useTranslate3d:g,viewBox:A,wrapperStyle:v,lastBoundingBox:z,innerRef:F,hasPortalFromProps:Boolean(j)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"===typeof e?t.createElement(e,r):t.createElement(NB,r)}(c,Kq(Kq({},a),{},{payload:q,label:B,active:L,activeIndex:O,coordinate:R,accessibilityLayer:E})));return t.createElement(t.Fragment,null,(0,k.createPortal)(W,U),L&&t.createElement(Wq,{cursor:x,tooltipEventType:C,coordinate:R,payload:q,index:O}))}var Zq=e=>null;Zq.displayName="Cell";var Qq=r(356),eV=r.n(Qq),tV=["valueAccessor"],rV=["dataKey","clockWise","id","textBreakAll","zIndex"];function nV(){return nV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nV.apply(null,arguments)}function aV(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var sV=e=>Array.isArray(e.value)?eV()(e.value):e.value,iV=(0,t.createContext)(void 0),oV=iV.Provider,lV=(0,t.createContext)(void 0),cV=lV.Provider;function dV(e){var{valueAccessor:r=sV}=e,n=aV(e,tV),{dataKey:a,clockWise:s,id:i,textBreakAll:o,zIndex:l}=n,c=aV(n,rV),d=(0,t.useContext)(iV),u=(0,t.useContext)(lV),h=d||u;return h&&h.length?t.createElement(Qz,{zIndex:null!==l&&void 0!==l?l:XO.label},t.createElement(Sz,{className:"recharts-label-list"},h.map((e,s)=>{var l,d=gy(a)?r(e,s):m_(e&&e.payload,a),u=gy(i)?{}:{id:"".concat(i,"-").concat(s)};return t.createElement(fF,nV({key:"label-".concat(s)},rL(e),c,u,{fill:null!==(l=n.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:d,textBreakAll:o,viewBox:e.viewBox,index:s,zIndex:0}))}))):null}function uV(e){var{label:r}=e;return r?!0===r?t.createElement(dV,{key:"labelList-implicit"}):t.isValidElement(r)||dF(r)?t.createElement(dV,{key:"labelList-implicit",content:r}):"object"===typeof r?t.createElement(dV,nV({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}dV.displayName="LabelList";var hV=r(2086),mV=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",fV=null,pV=null,gV=e=>{if(e===fV&&Array.isArray(pV))return pV;var r=[];return t.Children.forEach(e,e=>{gy(e)||((0,hV.isFragment)(e)?r=r.concat(gV(e.props.children)):r.push(e))}),pV=r,fV=e,r};function vV(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>mV(e)):[mV(t)],gV(e).forEach(e=>{var t=sy()(e,"type.displayName")||sy()(e,"type.name");t&&-1!==n.indexOf(t)&&r.push(e)}),r}var xV="Invariant failed";var yV=r(9397),bV=r.n(yV);function wV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wV(Object(r),!0).forEach(function(t){NV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function NV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _V(){return _V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_V.apply(null,arguments)}var SV=(e,t,r,n,a)=>{var s,i=r-n;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},kV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AV=e=>{var r=ZL(e,kV),{x:n,y:a,upperWidth:s,lowerWidth:i,height:o,className:l}=r,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:h}=r,m=(0,t.useRef)(null),[f,p]=(0,t.useState)(-1),g=(0,t.useRef)(s),v=(0,t.useRef)(i),x=(0,t.useRef)(o),y=(0,t.useRef)(n),b=(0,t.useRef)(a),w=gq(e,"trapezoid-");if((0,t.useEffect)(()=>{if(m.current&&m.current.getTotalLength)try{var e=m.current.getTotalLength();e&&p(e)}catch(t){}},[]),n!==+n||a!==+a||s!==+s||i!==+i||o!==+o||0===s&&0===i||0===o)return null;var j=(0,ty.$)("recharts-trapezoid",l);if(!h)return t.createElement("g",null,t.createElement("path",_V({},rL(r),{className:j,d:SV(n,a,s,i,o)})));var N=g.current,_=v.current,S=x.current,k=y.current,A=b.current,E="0px ".concat(-1===f?1:f,"px"),C="".concat(f,"px 0px"),O=KU(["strokeDasharray"],d,c);return t.createElement(pq,{animationId:w,key:w,canBegin:f>0,duration:d,easing:c,isActive:h,begin:u},e=>{var l=py(N,s,e),c=py(_,i,e),d=py(S,o,e),u=py(k,n,e),h=py(A,a,e);m.current&&(g.current=l,v.current=c,x.current=d,y.current=u,b.current=h);var f=e>0?{transition:O,strokeDasharray:C}:{strokeDasharray:E};return t.createElement("path",_V({},rL(r),{className:j,d:SV(u,h,l,c,d),ref:m,style:jV(jV({},f),r.style)}))})};Math.abs,Math.atan2;const EV=Math.cos,CV=(Math.max,Math.min,Math.sin),OV=Math.sqrt,PV=Math.PI,DV=2*PV;const TV={draw(e,t){const r=OV(t/PV);e.moveTo(r,0),e.arc(0,0,r,0,DV)}},RV={draw(e,t){const r=OV(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},IV=OV(1/3),MV=2*IV,LV={draw(e,t){const r=OV(t/MV),n=r*IV;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},zV={draw(e,t){const r=OV(t),n=-r/2;e.rect(n,n,r,r)}},FV=CV(PV/10)/CV(7*PV/10),BV=CV(DV/10)*FV,UV=-EV(DV/10)*FV,qV={draw(e,t){const r=OV(.8908130915292852*t),n=BV*r,a=UV*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const t=DV*s/5,i=EV(t),o=CV(t);e.lineTo(o*r,-i*r),e.lineTo(i*n-o*a,o*n+i*a)}e.closePath()}},VV=OV(3),WV={draw(e,t){const r=-OV(t/(3*VV));e.moveTo(0,2*r),e.lineTo(-VV*r,-r),e.lineTo(VV*r,-r),e.closePath()}},HV=-.5,KV=OV(3)/2,$V=1/OV(12),GV=3*($V/2+1),YV={draw(e,t){const r=OV(t/GV),n=r/2,a=r*$V,s=n,i=r*$V+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(HV*n-KV*a,KV*n+HV*a),e.lineTo(HV*s-KV*i,KV*s+HV*i),e.lineTo(HV*o-KV*l,KV*o+HV*l),e.lineTo(HV*n+KV*a,HV*a-KV*n),e.lineTo(HV*s+KV*i,HV*i-KV*s),e.lineTo(HV*o+KV*l,HV*l-KV*o),e.closePath()}};OV(3),OV(3);var JV=["type","size","sizeType"];function XV(){return XV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XV.apply(null,arguments)}function ZV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function QV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZV(Object(r),!0).forEach(function(t){eW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tW={symbolCircle:TV,symbolCross:RV,symbolDiamond:LV,symbolSquare:zV,symbolStar:qV,symbolTriangle:WV,symbolWye:YV},rW=Math.PI/180,nW=e=>{var{type:r="circle",size:n=64,sizeType:a="area"}=e,s=QV(QV({},function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,JV)),{},{type:r,size:n,sizeType:a}),i="circle";"string"===typeof r&&(i=r);var{className:o,cx:l,cy:c}=s,d=rL(s);return cy(l)&&cy(c)&&cy(n)?t.createElement("path",XV({},d,{className:(0,ty.$)("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(vy(e));return tW[t]||TV})(i),t=function(e,t){let r=null,n=wU(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:s_(e||TV),t="function"===typeof t?t:s_(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:s_(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:s_(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*rW;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,a,i)),r=t();if(null!==r)return r})()})):null};nW.registerSymbol=(e,t)=>{tW["symbol".concat(vy(e))]=t};var aW=["option","shapeType","propTransformer","activeClassName"];function sW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sW(Object(r),!0).forEach(function(t){oW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e,t){return iW(iW({},t),e)}function cW(e){var{shapeType:r,elementProps:n}=e;switch(r){case"rectangle":return t.createElement(kq,n);case"trapezoid":return t.createElement(AV,n);case"sector":return t.createElement(Dq,n);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(nW,n);break;case"curve":return t.createElement(MU,n);default:return null}}function dW(e){var r,{option:n,shapeType:a,propTransformer:s=lW,activeClassName:i="recharts-active-shape"}=e,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,aW);if((0,t.isValidElement)(n))r=(0,t.cloneElement)(n,iW(iW({},o),function(e){return(0,t.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)r=n(o,o.index);else if(bV()(n)&&"boolean"!==typeof n){var l=s(n,o);r=t.createElement(cW,{shapeType:a,elementProps:l})}else{var c=o;r=t.createElement(cW,{shapeType:a,elementProps:c})}return o.isActive?t.createElement(Sz,{className:i},r):r}var uW=["x","y"];function hW(){return hW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hW.apply(null,arguments)}function mW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mW(Object(r),!0).forEach(function(t){pW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e,t){var{x:r,y:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,uW),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),h=parseInt(u,10);return fW(fW(fW(fW(fW({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function vW(e){return t.createElement(dW,hW({shapeType:"rectangle",propTransformer:gW,activeClassName:"recharts-active-bar"},e))}var xW=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(cy(e))return e;var a=cy(r)||gy(r);return a?e(r,n):(a||function(e){if(!e)throw new Error(xV)}(!1,"minPointSize callback function received a value with type of ".concat(typeof r,". Currently only numbers or null/undefined are supported.")),t)}},yW=(e,t,r)=>{var n=GN();return(a,s)=>i=>{null===e||void 0===e||e(a,s,i),n(gN({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},bW=e=>{var t=GN();return(r,n)=>a=>{null===e||void 0===e||e(r,n,a),t(vN())}},wW=(e,t,r)=>{var n=GN();return(a,s)=>i=>{null===e||void 0===e||e(a,s,i),n(yN({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function jW(e){var{tooltipEntrySettings:r}=e,n=GN(),a=q_(),s=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{a||(null===s.current?n(hN(r)):s.current!==r&&n(mN({prev:s.current,next:r})),s.current=r)},[r,n,a]),(0,t.useLayoutEffect)(()=>()=>{s.current&&(n(fN(s.current)),s.current=null)},[n]),null}var NW=["children"];var _W={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},SW=(0,t.createContext)(_W);function kW(e){var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,NW);return t.createElement(SW.Provider,{value:n},r)}function AW(e,t){var r,n,a=ZN(t=>MP(t,e)),s=ZN(e=>FP(e,t)),i=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:RP.allowDataOverflow,o=null!==(n=null===s||void 0===s?void 0:s.allowDataOverflow)&&void 0!==n?n:LP.allowDataOverflow;return{needClip:i||o,needClipX:i,needClipY:o}}function EW(e){var{xAxisId:r,yAxisId:n,clipPathId:a}=e,s=HL(),{needClipX:i,needClipY:o,needClip:l}=AW(r,n);if(!l||!s)return null;var{x:c,y:d,width:u,height:h}=s;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:i?c:c-u/2,y:o?d:d-h/2,width:i?u:2*u,height:o?h:2*h}))}function CW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CW(Object(r),!0).forEach(function(t){PW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DW=VN([KP,(e,t,r,n,a)=>a],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),TW=VN([DW],e=>null===e||void 0===e?void 0:e.maxBarSize),RW=(e,t,r)=>{var n=null!==r&&void 0!==r?r:e;if(!gy(n))return my(n,t,0)},IW=VN([X_,KP,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),MW=VN([IW,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===X_(e)?xT(e,"xAxis",t):xT(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(SP),a=e.filter(e=>null==e.stackId),s=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),i=Object.entries(s).map(e=>{var[n,a]=e;return{stackId:n,dataKeys:a.map(e=>e.dataKey),barSize:RW(t,r,a[0].barSize)}});return[...i,...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:RW(t,r,e.barSize)}))]}),LW=(e,t,r,n)=>{var a,s;return"horizontal"===X_(e)?(a=kT(e,"xAxis",t,n),s=ST(e,"xAxis",t,n)):(a=kT(e,"yAxis",r,n),s=ST(e,"yAxis",r,n)),__(a,s)};var zW=VN([MW,TO,e=>e.rootProps.barGap,RO,(e,t,r,n,a)=>{var s,i,o=DW(e,t,r,n,a);if(null!=o){var l,c,d=X_(e),u=TO(e),{maxBarSize:h}=o,m=gy(h)?u:h;return"horizontal"===d?(l=kT(e,"xAxis",t,n),c=ST(e,"xAxis",t,n)):(l=kT(e,"yAxis",r,n),c=ST(e,"yAxis",r,n)),null!==(s=null!==(i=__(l,c,!0))&&void 0!==i?i:m)&&void 0!==s?s:0}},LW,TW],(e,t,r,n,a,s,i)=>{var o=gy(i)?t:i,l=function(e,t,r,n,a){var s=n.length;if(!(s<1)){var i,o=my(e,r,0,!0),l=[];if(Ay(n[0].barSize)){var c=!1,d=r/s,u=n.reduce((e,t)=>e+(t.barSize||0),0);(u+=(s-1)*o)>=r&&(u-=(s-1)*o,o=0),u>=r&&d>0&&(c=!0,u=s*(d*=.9));var h={offset:((r-u)/2|0)-o,size:0};i=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?d:null!==(r=t.barSize)&&void 0!==r?r:0}}];return h=n[n.length-1].position,n},l)}else{var m=my(t,r,0,!0);r-2*m-(s-1)*o<=0&&(o=0);var f=(r-2*m-(s-1)*o)/s;f>1&&(f>>=0);var p=Ay(a)?Math.min(f,a):f;i=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:m+(f+o)*r+(f-p)/2,size:p}}],l)}return i}}(r,n,a!==s?a:s,e,o);return a!==s&&null!=l&&(l=l.map(e=>OW(OW({},e),{},{position:OW(OW({},e.position),{},{offset:e.position.offset-a/2})}))),l}),FW=VN([zW,DW],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),BW=VN([(e,t,r,n)=>"horizontal"===X_(e)?mD(e,"yAxis",r,n):mD(e,"xAxis",t,n),DW],(e,t)=>{var r=NP(t);if(e&&null!=r&&null!=t){var{stackId:n}=t;if(null!=n){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(e=>e.key===r)}}}}),UW=VN([z_,B_,(e,t,r,n)=>kT(e,"xAxis",t,n),(e,t,r,n)=>kT(e,"yAxis",r,n),(e,t,r,n)=>ST(e,"xAxis",t,n),(e,t,r,n)=>ST(e,"yAxis",r,n),FW,X_,hO,LW,BW,DW,(e,t,r,n,a,s)=>s],(e,t,r,n,a,s,i,o,l,c,d,u,h)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:p}=l;if(null!=u&&null!=i&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=r&&null!=n&&null!=a&&null!=s&&null!=c){var g,{data:v}=u;if(null!=(g=null!=v&&v.length>0?v:null===m||void 0===m?void 0:m.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:u,offset:h,cells:m,parentViewBox:f,dataStartIndex:p}=e,g="horizontal"===t?o:i,v=d?g.scale.domain():null,x=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]})({numericAxis:g}),y=g.scale(x);return u.map((e,u)=>{var g,b,w,j,N,_;d?g=((e,t)=>{if(!t||2!==t.length||!cy(t[0])||!cy(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!cy(e[0])||e[0]<r)&&(a[0]=r),(!cy(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a})(d[u+p],v):(g=m_(e,r),Array.isArray(g)||(g=[x,g]));var S=xW(n,mH)(g[1],u);if("horizontal"===t){var k,[A,E]=[o.scale(g[0]),o.scale(g[1])];b=b_({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:e,index:u}),w=null!==(k=null!==E&&void 0!==E?E:A)&&void 0!==k?k:void 0,j=a.size;var C=A-E;if(N=oy(C)?0:C,_={x:b,y:h.top,width:j,height:h.height},Math.abs(S)>0&&Math.abs(N)<Math.abs(S)){var O=iy(N||S)*(Math.abs(S)-Math.abs(N));w-=O,N+=O}}else{var[P,D]=[i.scale(g[0]),i.scale(g[1])];if(b=P,w=b_({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:e,index:u}),j=D-P,N=a.size,_={x:h.left,y:w,width:h.width,height:N},Math.abs(S)>0&&Math.abs(j)<Math.abs(S))j+=iy(j||S)*(Math.abs(S)-Math.abs(j))}return null==b||null==w||null==j||null==N?null:tH(tH({},e),{},{stackedBarStart:y,x:b,y:w,width:j,height:N,value:d?g:g[1],payload:e,background:_,tooltipPosition:{x:b+j/2,y:w+N/2},parentViewBox:f},m&&m[u]&&m[u].props)}).filter(Boolean)}({layout:o,barSettings:u,pos:i,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:f})}});function qW(e){var{legendPayload:r}=e,n=GN(),a=q_(),s=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{a||(null===s.current?n(YI(r)):s.current!==r&&n(JI({prev:s.current,next:r})),s.current=r)},[n,a,r]),(0,t.useLayoutEffect)(()=>()=>{s.current&&(n(XI(s.current)),s.current=null)},[n]),null}function VW(e){var{legendPayload:r}=e,n=GN(),a=ZN(X_),s=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{"centric"!==a&&"radial"!==a||(null===s.current?n(YI(r)):s.current!==r&&n(JI({prev:s.current,next:r})),s.current=r)},[n,a,r]),(0,t.useLayoutEffect)(()=>()=>{s.current&&(n(XI(s.current)),s.current=null)},[n]),null}var WW=(0,t.createContext)(void 0),HW=e=>{var{id:r,type:n,children:a}=e,s=lL("recharts-".concat(n),r);return t.createElement(WW.Provider,{value:s},a(s))};var KW=e=>{var r=GN(),n=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===n.current?r(EI(e)):n.current!==e&&r(CI({prev:n.current,next:e})),n.current=e},[r,e]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r(OI(n.current)),n.current=null)},[r]),null},$W=(0,t.memo)(KW);function GW(e){var r=GN();return(0,t.useLayoutEffect)(()=>(r(PI(e)),()=>{r(DI(e))}),[r,e]),null}var YW=["onMouseEnter","onMouseLeave","onClick"],JW=["value","background","tooltipPosition"],XW=["id"],ZW=["onMouseEnter","onClick","onMouseLeave"];function QW(){return QW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QW.apply(null,arguments)}function eH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(r),!0).forEach(function(t){rH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var aH=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:k_(r,t),payload:e}]},sH=t.memo(e=>{var{dataKey:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:r,nameKey:void 0,name:k_(i,r),hide:o,type:c,color:s,unit:l}};return t.createElement(jW,{tooltipEntrySettings:d})});function iH(e){var r=ZN(DR),{data:n,dataKey:a,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=nH(i,YW),u=yW(o,a),h=bW(l),m=wW(c,a);if(!s||null==n)return null;var f,p,g=tL(s);return t.createElement(Qz,{zIndex:(f=s,p=XO.barBackground,f&&"object"===typeof f&&"zIndex"in f&&"number"===typeof f.zIndex&&Ay(f.zIndex)?f.zIndex:p)},n.map((e,n)=>{var{value:i,background:o,tooltipPosition:l}=e,c=nH(e,JW);if(!o)return null;var f=u(e,n),p=h(e,n),v=m(e,n),x=tH(tH(tH(tH(tH({option:s,isActive:String(n)===r},c),{},{fill:"#eee"},o),g),xF(d,e,n)),{},{onMouseEnter:f,onMouseLeave:p,onClick:v,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return t.createElement(vW,QW({key:"background-bar-".concat(n)},x))}))}function oH(e){var{showLabels:r,children:n,rects:a}=e,s=null===a||void 0===a?void 0:a.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return tH(tH({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return t.createElement(oV,{value:r?s:void 0},n)}function lH(e){var{shape:r,activeBar:n,baseProps:a,entry:s,index:i,dataKey:o}=e,l=ZN(DR),c=ZN(RR),d=n&&String(i)===l&&(null==c||o===c),u=d?n:r;return d?t.createElement(Qz,{zIndex:XO.activeBar},t.createElement(vW,QW({},a,{name:String(a.name)},s,{isActive:d,option:u,index:i,dataKey:o}))):t.createElement(vW,QW({},a,{name:String(a.name)},s,{isActive:d,option:u,index:i,dataKey:o}))}function cH(e){var{shape:r,baseProps:n,entry:a,index:s,dataKey:i}=e;return t.createElement(vW,QW({},n,{name:String(n.name)},a,{isActive:!1,option:r,index:s,dataKey:i}))}function dH(e){var r,{data:n,props:a}=e,s=null!==(r=eL(a))&&void 0!==r?r:{},{id:i}=s,o=nH(s,XW),{shape:l,dataKey:c,activeBar:d}=a,{onMouseEnter:u,onClick:h,onMouseLeave:m}=a,f=nH(a,ZW),p=yW(u,c),g=bW(m),v=wW(h,c);return n?t.createElement(t.Fragment,null,n.map((e,r)=>t.createElement(Sz,QW({key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r),className:"recharts-bar-rectangle"},xF(f,e,r),{onMouseEnter:p(e,r),onMouseLeave:g(e,r),onClick:v(e,r)}),d?t.createElement(lH,{shape:l,activeBar:d,baseProps:o,entry:e,index:r,dataKey:c}):t.createElement(cH,{shape:l,baseProps:o,entry:e,index:r,dataKey:c})))):null}function uH(e){var{props:r,previousRectanglesRef:n}=e,{data:a,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=r,h=n.current,m=gq(r,"recharts-bar-"),[f,p]=(0,t.useState)(!1),g=!f,v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),p(!1)},[d]),x=(0,t.useCallback)(()=>{"function"===typeof u&&u(),p(!0)},[u]);return t.createElement(oH,{showLabels:g,rects:a},t.createElement(pq,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:x,key:m},e=>{var i=1===e?a:null===a||void 0===a?void 0:a.map((t,r)=>{var n=h&&h[r];if(n)return tH(tH({},t),{},{x:py(n.x,t.x,e),y:py(n.y,t.y,e),width:py(n.width,t.width,e),height:py(n.height,t.height,e)});if("horizontal"===s){var a=py(0,t.height,e),i=py(t.stackedBarStart,t.y,e);return tH(tH({},t),{},{y:i,height:a})}var o=py(0,t.width,e),l=py(t.stackedBarStart,t.x,e);return tH(tH({},t),{},{width:o,x:l})});return e>0&&(n.current=null!==i&&void 0!==i?i:null),null==i?null:t.createElement(Sz,null,t.createElement(dH,{props:r,data:i}))}),t.createElement(uV,{label:r.label}),r.children)}function hH(e){var r=(0,t.useRef)(null);return t.createElement(uH,{previousRectanglesRef:r,props:e})}var mH=0,fH=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:m_(e,t)}};class pH extends t.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:l,id:c}=this.props;if(e||null==r)return null;var d=(0,ty.$)("recharts-bar",a),u=c;return t.createElement(Sz,{className:d,id:c},o&&t.createElement("defs",null,t.createElement(EW,{clipPathId:u,xAxisId:s,yAxisId:i})),t.createElement(Sz,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(u,")"):void 0},t.createElement(iH,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),t.createElement(hH,this.props)))}}var gH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:mH,xAxisId:0,yAxisId:0,zIndex:XO.bar};function vH(e){var r,{xAxisId:n,yAxisId:a,hide:s,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:h}=e,{needClip:m}=AW(n,a),f=Z_(),p=q_(),g=vV(e.children,Zq),v=ZN(t=>UW(t,n,a,p,e.id,g));if("vertical"!==f&&"horizontal"!==f)return null;var x=null===v||void 0===v?void 0:v[0];return r=null==x||null==x.height||null==x.width?0:"vertical"===f?x.height/2:x.width/2,t.createElement(kW,{xAxisId:n,yAxisId:a,data:v,dataPointFormatter:fH,errorBarOffset:r},t.createElement(pH,QW({},e,{layout:f,needClip:m,data:v,xAxisId:n,yAxisId:a,hide:s,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:h})))}function xH(e){var r=ZL(e,gH),n=q_();return t.createElement(HW,{id:r.id,type:"bar"},e=>{return t.createElement(t.Fragment,null,t.createElement(qW,{legendPayload:aH(r)}),t.createElement(sH,{dataKey:r.dataKey,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType}),t.createElement($W,{type:"bar",id:e,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:(a=r.stackId,null==a?void 0:String(a)),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:n}),t.createElement(Qz,{zIndex:r.zIndex},t.createElement(vH,QW({},r,{id:e}))));var a})}var yH=t.memo(xH,WM);function bH(){return bH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bH.apply(null,arguments)}function wH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}yH.displayName="Bar";var NH=32,_H={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function SH(e){var r,{data:n,iconType:a,inactiveColor:s}=e,i=16,o=NH/6,l=NH/3,c=n.inactive?s:n.color,d=null!==a&&void 0!==a?a:n.type;if("none"===d)return null;if("plainline"===d)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(r=n.payload)||void 0===r?void 0:r.strokeDasharray,x1:0,y1:i,x2:NH,y2:i,className:"recharts-legend-icon"});if("line"===d)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,"\n            H").concat(NH,"M").concat(2*l,",").concat(i,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if("rect"===d)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(NH,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(n.legendIcon)){var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wH(Object(r),!0).forEach(function(t){jH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n);return delete u.legendIcon,t.cloneElement(n.legendIcon,u)}return t.createElement(nW,{fill:c,cx:i,cy:i,size:NH,sizeType:"diameter",type:d})}function kH(e){var{payload:r,iconSize:n,layout:a,formatter:s,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:NH,height:NH},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((r,a)=>{var u=r.formatter||s,h=(0,ty.$)({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:r.inactive});if("none"===r.type)return null;var m=r.inactive?i:r.color,f=u?u(r.value,r,a):r.value;return t.createElement("li",bH({className:h,style:c,key:"legend-item-".concat(a)},xF(e,r,a)),t.createElement(iL,{width:n,height:n,viewBox:l,style:d,"aria-label":"".concat(f," legend icon")},t.createElement(SH,{data:r,iconType:o,inactiveColor:i})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},f))})}var AH=e=>{var r=ZL(e,_H),{payload:n,layout:a,align:s}=r;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===a?s:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:i},t.createElement(kH,bH({},r,{payload:n})))};var EH=["contextPayload"];function CH(){return CH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CH.apply(null,arguments)}function OH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OH(Object(r),!0).forEach(function(t){DH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){return e.value}function RH(e){var{contextPayload:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,EH),a=RB(r,e.payloadUniqBy,TH),s=PH(PH({},n),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,s):"function"===typeof e.content?t.createElement(e.content,s):t.createElement(AH,s)}function IH(e){var r=GN();return(0,t.useEffect)(()=>{r(GI(e))},[r,e]),null}function MH(e){var r=GN();return(0,t.useEffect)(()=>(r($I(e)),()=>{r($I({width:0,height:0}))}),[r,e]),null}var LH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function zH(e){var r=ZL(e,LH),n=ZN(r_),a=(0,t.useContext)(PL),s=ZN(e=>e.layout.margin),{width:i,height:o,wrapperStyle:l,portal:c}=r,[d,u]=YB([n]),h=Y_(),m=J_();if(null==h||null==m)return null;var f=h-((null===s||void 0===s?void 0:s.left)||0)-((null===s||void 0===s?void 0:s.right)||0),p=function(e,t,r,n){return"vertical"===e&&cy(t)?{height:t}:"horizontal"===e?{width:r||n}:null}(r.layout,o,i,f),g=c?l:PH(PH({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||i||"auto",height:(null===p||void 0===p?void 0:p.height)||o||"auto"},function(e,t,r,n,a,s){var i,o,{layout:l,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(i="center"===c&&"vertical"===l?{left:((n||0)-s.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((a||0)-s.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),PH(PH({},i),o)}(l,r,s,h,m,d)),l),v=null!==c&&void 0!==c?c:a;if(null==v||null==n)return null;var x=t.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},t.createElement(IH,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),!c&&t.createElement(MH,{width:d.width,height:d.height}),t.createElement(RH,CH({},r,p,{margin:s,chartWidth:h,chartHeight:m,contextPayload:n})));return(0,k.createPortal)(x,v)}function FH(e){var r=GN();return(0,t.useEffect)(()=>{r(dM(e))},[r,e]),null}zH.displayName="Legend";var BH=["layout"];function UH(){return UH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UH.apply(null,arguments)}var qH={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},VH=(0,t.forwardRef)(function(e,r){var n,a=ZL(e.categoricalChartProps,qH),{layout:s}=a,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,BH),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=e,u={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(BM,{preloadedState:{options:u},reduxStoreName:null!==(n=a.id)&&void 0!==n?n:o},t.createElement(UM,{chartData:a.data}),t.createElement(KM,{layout:s,margin:a.margin}),t.createElement($M,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),t.createElement(FH,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(YL,UH({},i,{ref:r})))});function WH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WH(Object(r),!0).forEach(function(t){KH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $H=["item"],GH=HH(HH({},qH),{},{layout:"centric",startAngle:0,endAngle:360}),YH=(0,t.forwardRef)((e,r)=>{var n=ZL(e,GH);return t.createElement(VH,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:$H,tooltipPayloadSearcher:aj,categoricalChartProps:n,ref:r})}),JH=e=>e.graphicalItems.polarItems,XH=VN([wP,jP],HP),ZH=VN([JH,qP,XH],GP),QH=VN([ZH],QP),eK=VN([QH,uO],tD),tK=VN([eK,qP,ZH],nD),rK=(VN([eK,qP,ZH],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:m_(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:m_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),()=>{}),nK=VN([eK,qP,ZH,bD,wP],jD),aK=VN([qP,vD,xD,rK,nK,rK,X_,wP],FD),sK=VN([qP,X_,eK,tK,IO,wP,aK],qD),iK=VN([sK,qP,HD],$D);VN([qP,sK,iK,wP],YD);function oK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oK(Object(r),!0).forEach(function(t){cK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dK=VN([JH,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),uK=[],hK=(e,t,r)=>0===(null===r||void 0===r?void 0:r.length)?uK:r,mK=VN([uO,dK,hK],(e,t,r)=>{var n,{chartData:a}=e;if(null!=t&&((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&n.length||null==r||(n=r.map(e=>lK(lK({},t.presentationProps),e.props))),null!=n))return n}),fK=VN([mK,dK,hK],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,n)=>{var a,s,i=m_(e,t.nameKey,t.name);return s=null!==r&&void 0!==r&&null!==(a=r[n])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?r[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:k_(i,t.dataKey),color:s,payload:e,type:t.legendType}})}),pK=VN([mK,dK,hK,z_],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:a,displayedData:s,cells:i,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:h,tooltipType:m}=a,f=Math.abs(a.minAngle),p=EK(c,d),g=Math.abs(p),v=s.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,x=s.filter(e=>0!==m_(e,u,0)).length,y=g-x*f-(g>=360?x:x-1)*v,b=s.reduce((e,t)=>{var r=m_(t,u,0);return e+(cy(r)?r:0)},0);b>0&&(r=s.map((e,t)=>{var r,s=m_(e,u,0),d=m_(e,h,t),g=AK(a,o,e),x=(cy(s)?s:0)/b,w=wK(wK({},e),i&&i[t]&&i[t].props),j=(r=t?n.endAngle+iy(p)*v*(0!==s?1:0):c)+iy(p)*((0!==s?f:0)+x*y),N=(r+j)/2,_=(g.innerRadius+g.outerRadius)/2,S=[{name:d,value:s,payload:w,dataKey:u,type:m}],k=KO(g.cx,g.cy,_,N);return n=wK(wK(wK(wK({},a.presentationProps),{},{percent:x,cornerRadius:"string"===typeof l?parseFloat(l):l,name:d,tooltipPayload:S,midAngle:N,middleRadius:_,tooltipPosition:k},w),g),{},{value:s,dataKey:u,startAngle:r,endAngle:j,payload:w,paddingAngle:iy(p)*v})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),gK=["key"],vK=["onMouseEnter","onClick","onMouseLeave"],xK=["id"],yK=["id"];function bK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bK(Object(r),!0).forEach(function(t){jK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(){return NK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NK.apply(null,arguments)}function _K(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SK(e){var r=(0,t.useMemo)(()=>vV(e.children,Zq),[e.children]),n=ZN(t=>fK(t,e.id,r));return null==n?null:t.createElement(VW,{legendPayload:n})}var kK=t.memo(e=>{var{dataKey:r,nameKey:n,sectors:a,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e,u={dataDefinedOnItem:a.map(e=>e.tooltipPayload),positions:a.map(e=>e.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:r,nameKey:n,name:k_(l,r),hide:c,type:d,color:o,unit:""}};return t.createElement(jW,{tooltipEntrySettings:u})}),AK=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=$O(s,i),l=a+my(e.cx,s,s/2),c=n+my(e.cy,i,i/2),d=my(e.innerRadius,o,0),u=((e,t,r)=>my("function"===typeof t?t(e):t,r,.8*r))(r,e.outerRadius,o);return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:e.maxRadius||Math.sqrt(s*s+i*i)/2}},EK=(e,t)=>iy(t-e)*Math.min(Math.abs(t-e),360);function CK(e){var{sectors:r,props:n,showLabels:a}=e,{label:s,labelLine:i,dataKey:o}=n;if(!a||!s||!r)return null;var l=eL(n),c=tL(s),d=tL(i),u="object"===typeof s&&"offsetRadius"in s&&"number"===typeof s.offsetRadius&&s.offsetRadius||20,h=r.map((e,r)=>{var n,a,h=(e.startAngle+e.endAngle)/2,m=KO(e.cx,e.cy,e.outerRadius+u,h),f=wK(wK(wK(wK({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:(n=m.x,a=e.cx,n>a?"start":n<a?"end":"middle")},m),p=wK(wK(wK(wK({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[KO(e.cx,e.cy,e.outerRadius,h),m],key:"line"});return t.createElement(Qz,{zIndex:XO.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},t.createElement(Sz,null,i&&((e,r)=>{if(t.isValidElement(e))return t.cloneElement(e,r);if("function"===typeof e)return e(r);var n=(0,ty.$)("recharts-pie-label-line","boolean"!==typeof e?e.className:""),{key:a}=r,s=_K(r,gK);return t.createElement(MU,NK({},s,{type:"linear",className:n}))})(i,p),((e,r,n)=>{if(t.isValidElement(e))return t.cloneElement(e,r);var a=n;if("function"===typeof e&&(a=e(r),t.isValidElement(a)))return a;var s,i=(0,ty.$)("recharts-pie-label-text",(s=e)&&"object"===typeof s&&"className"in s&&"string"===typeof s.className?s.className:"");return t.createElement(Zz,NK({},r,{alignmentBaseline:"middle",className:i}),a)})(s,f,m_(e,o))))});return t.createElement(Sz,{className:"recharts-pie-labels"},h)}function OK(e){var{sectors:r,props:n,showLabels:a}=e,{label:s}=n;return"object"===typeof s&&null!=s&&"position"in s?t.createElement(uV,{label:s}):t.createElement(CK,{sectors:r,props:n,showLabels:a})}function PK(e){var{sectors:r,activeShape:n,inactiveShape:a,allOtherPieProps:s,shape:i,id:o}=e,l=ZN(DR),c=ZN(RR),d=ZN(IR),{onMouseEnter:u,onClick:h,onMouseLeave:m}=s,f=_K(s,vK),p=yW(u,s.dataKey,o),g=bW(m),v=wW(h,s.dataKey,o);return null==r||0===r.length?null:t.createElement(t.Fragment,null,r.map((e,u)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==r.length)return null;var h=null==d||d===o,m=String(u)===l&&(null==c||s.dataKey===c)&&h,x=n&&m?n:l?a:null,y=wK(wK({},e),{},{stroke:e.stroke,tabIndex:-1,[T_]:u,[R_]:s.dataKey});return t.createElement(Sz,NK({key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(u),tabIndex:-1,className:"recharts-pie-sector"},xF(f,e,u),{onMouseEnter:p(e,u),onMouseLeave:g(e,u),onClick:v(e,u)}),t.createElement(dW,NK({option:null!==i&&void 0!==i?i:x,index:u,shapeType:"sector",isActive:m},y)))}))}function DK(e){var{showLabels:r,sectors:n,children:a}=e,s=(0,t.useMemo)(()=>r&&n?n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[n,r]);return t.createElement(cV,{value:r?s:void 0},a)}function TK(e){var{props:r,previousSectorsRef:n,id:a}=e,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:h,onAnimationEnd:m}=r,f=gq(r,"recharts-pie-"),p=n.current,[g,v]=(0,t.useState)(!1),x=(0,t.useCallback)(()=>{"function"===typeof m&&m(),v(!1)},[m]),y=(0,t.useCallback)(()=>{"function"===typeof h&&h(),v(!0)},[h]);return t.createElement(DK,{showLabels:!g,sectors:s},t.createElement(pq,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationStart:y,onAnimationEnd:x,key:f},e=>{var i=[],o=s&&s[0],l=null===o||void 0===o?void 0:o.startAngle;return null===s||void 0===s||s.forEach((t,r)=>{var n=p&&p[r],a=r>0?sy()(t,"paddingAngle",0):0;if(n){var s=py(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),o=wK(wK({},t),{},{startAngle:l+a,endAngle:l+s+a});i.push(o),l=o.endAngle}else{var{endAngle:c,startAngle:d}=t,u=py(0,c-d,e),h=wK(wK({},t),{},{startAngle:l+a,endAngle:l+u+a});i.push(h),l=h.endAngle}}),n.current=i,t.createElement(Sz,null,t.createElement(PK,{sectors:i,activeShape:d,inactiveShape:u,allOtherPieProps:r,shape:r.shape,id:a}))}),t.createElement(OK,{showLabels:!g,sectors:s,props:r}),r.children)}var RK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:XO.area};function IK(e){var{id:r}=e,n=_K(e,xK),{hide:a,className:s,rootTabIndex:i}=e,o=(0,t.useMemo)(()=>vV(e.children,Zq),[e.children]),l=ZN(e=>pK(e,r,o)),c=(0,t.useRef)(null),d=(0,ty.$)("recharts-pie",s);return a||null==l?(c.current=null,t.createElement(Sz,{tabIndex:i,className:d})):t.createElement(Qz,{zIndex:e.zIndex},t.createElement(kK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),t.createElement(Sz,{tabIndex:i,className:d},t.createElement(TK,{props:wK(wK({},n),{},{sectors:l}),previousSectorsRef:c,id:r})))}function MK(e){var r=ZL(e,RK),{id:n}=r,a=_K(r,yK),s=eL(a);return t.createElement(HW,{id:n,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(GW,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:r.maxRadius}),t.createElement(SK,NK({},a,{id:e})),t.createElement(IK,NK({},a,{id:e}))))}MK.displayName="Pie";const LK=()=>{var e,r;const[n,a]=(0,t.useState)({totalUsers:0,totalArtists:0,totalAlbums:0,totalTracks:0,totalPlays:0,totalDownloads:0,albums:[],regions:{}}),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("7"),[c,d]=(0,t.useState)("general"),[u,h]=(0,t.useState)(null),[m,f]=(0,t.useState)("plays");(0,t.useEffect)(()=>{p()},[o,c,u]);const p=async()=>{try{const{count:e}=await g.ND.from("auth.users").select("*",{count:"exact",head:!0}),{data:t}=await g.ND.from("artists").select("id"),{data:r}=await g.ND.from("albums").select("id"),{data:n}=await g.ND.from("tracks").select("id"),s=new Date;s.setDate(s.getDate()-parseInt(o));const{data:i}=await g.ND.from("plays").select("album_id, created_at").gte("created_at",s.toISOString()),{data:l}=await g.ND.from("downloads").select("album_id, created_at").gte("created_at",s.toISOString()),c={};null===i||void 0===i||i.forEach(e=>{c[e.album_id]||(c[e.album_id]={plays:0,downloads:0}),c[e.album_id].plays++}),null===l||void 0===l||l.forEach(e=>{c[e.album_id]||(c[e.album_id]={plays:0,downloads:0}),c[e.album_id].downloads++});const{data:d}=await g.ND.from("albums").select("id, title, slug, artist_id, play_count, download_count").in("id",Object.keys(c)),u=[...new Set((null===d||void 0===d?void 0:d.map(e=>e.artist_id))||[])],{data:h}=await g.ND.from("artists").select("id, name, slug").in("id",u),m={};null===h||void 0===h||h.forEach(e=>{m[e.id]=e});const f=(null===d||void 0===d?void 0:d.map(e=>{var t,r;return(0,N.A)((0,N.A)({},e),{},{artist:m[e.artist_id],plays:(null===(t=c[e.id])||void 0===t?void 0:t.plays)||0,downloads:(null===(r=c[e.id])||void 0===r?void 0:r.downloads)||0})}).sort((e,t)=>t.plays+t.downloads-(e.plays+e.downloads)))||[],p=Object.values(c).reduce((e,t)=>e+t.plays,0),v=Object.values(c).reduce((e,t)=>e+t.downloads,0);a({totalUsers:e||0,totalArtists:(null===t||void 0===t?void 0:t.length)||0,totalAlbums:(null===r||void 0===r?void 0:r.length)||0,totalTracks:(null===n||void 0===n?void 0:n.length)||0,totalPlays:p,totalDownloads:v,albums:f,regions:{}})}catch(e){console.error("Error loading statistics:",e)}i(!1)},v=["#dc2626","#ea580c","#f59e0b","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6"],x=e=>{let{icon:t,label:r,value:n,color:a}=e;return(0,y.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:r}),(0,y.jsx)("p",{className:"text-3xl font-bold mt-2 ".concat(a),children:n.toLocaleString("pt-BR")})]}),(0,y.jsx)(t,{className:"w-12 h-12 ".concat(a," opacity-20")})]})})};return s?(0,y.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Estat\xedsticas do Site"}),(0,y.jsx)("p",{className:"text-gray-600 mt-1",children:"An\xe1lise de uso e dados gerais"})]}),(0,y.jsx)("div",{className:"flex gap-2",children:["7","30","90"].map(e=>(0,y.jsxs)("button",{onClick:()=>l(e),className:"px-4 py-2 rounded-lg font-medium transition ".concat(o===e?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["\xdaltimos ",e," dias"]},e))})]}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)("button",{onClick:()=>{d("general"),h(null)},className:"px-4 py-2 rounded-lg font-medium transition ".concat("general"===c?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Vis\xe3o Geral"}),(0,y.jsx)("button",{onClick:()=>d("album"),className:"px-4 py-2 rounded-lg font-medium transition ".concat("album"===c?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Por \xc1lbum"})]}),"album"===c&&(0,y.jsxs)("select",{value:(null===u||void 0===u?void 0:u.id)||"",onChange:e=>{const t=n.albums.find(t=>t.id===e.target.value);h(t||null)},className:"px-4 py-2 border border-gray-300 rounded-lg",children:[(0,y.jsx)("option",{value:"",children:"Selecione um \xe1lbum..."}),n.albums.map(e=>{var t;return(0,y.jsxs)("option",{value:e.id,children:[e.title," - ",(null===(t=e.artist)||void 0===t?void 0:t.name)||"Artista desconhecido"]},e.id)})]}),(0,y.jsx)("div",{className:"border-t-2 border-gray-200"}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,y.jsx)(x,{icon:cc,label:"Usu\xe1rios Registrados",value:n.totalUsers,color:"text-blue-600"}),(0,y.jsx)(x,{icon:cc,label:"Artistas",value:n.totalArtists,color:"text-purple-600"}),(0,y.jsx)(x,{icon:pc,label:"general"===c?"Total de Plays":u?"Plays":"Total de Plays",value:"general"===c?n.totalPlays:(null===u||void 0===u?void 0:u.plays)||0,color:"text-green-600"}),(0,y.jsx)(x,{icon:Qd,label:"general"===c?"Total de Downloads":u?"Downloads":"Total de Downloads",value:"general"===c?n.totalDownloads:(null===u||void 0===u?void 0:u.downloads)||0,color:"text-red-600"})]}),"general"===c&&(0,y.jsxs)("div",{className:"space-y-8",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"An\xe1lise de Performance"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Visualiza\xe7\xe3o dos principais indicadores de uso"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Top 10 \xc1lbuns - Plays"}),n.albums.length>0?(0,y.jsx)(Ly,{width:"100%",height:300,children:(0,y.jsxs)(nz,{data:n.albums.slice(0,10),children:[(0,y.jsx)(GF,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,y.jsx)(lB,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:10}}),(0,y.jsx)(vB,{}),(0,y.jsx)(Xq,{}),(0,y.jsx)(yH,{dataKey:"plays",fill:"#22c55e",radius:[8,8,0,0]})]})}):(0,y.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Sem dados"})]}),(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compara\xe7\xe3o: Plays vs Downloads"}),n.albums.length>0?(0,y.jsx)(Ly,{width:"100%",height:300,children:(0,y.jsxs)(nz,{data:n.albums.slice(0,10),children:[(0,y.jsx)(GF,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,y.jsx)(lB,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:10}}),(0,y.jsx)(vB,{}),(0,y.jsx)(Xq,{}),(0,y.jsx)(zH,{}),(0,y.jsx)(yH,{dataKey:"plays",fill:"#22c55e",radius:[8,8,0,0],name:"Plays"}),(0,y.jsx)(yH,{dataKey:"downloads",fill:"#0ea5e9",radius:[8,8,0,0],name:"Downloads"})]})}):(0,y.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Sem dados"})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Top 10 \xc1lbuns - Downloads"}),n.albums.length>0?(0,y.jsx)(Ly,{width:"100%",height:300,children:(0,y.jsxs)(nz,{data:n.albums.slice(0,10),children:[(0,y.jsx)(GF,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,y.jsx)(lB,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:10}}),(0,y.jsx)(vB,{}),(0,y.jsx)(Xq,{}),(0,y.jsx)(yH,{dataKey:"downloads",fill:"#0ea5e9",radius:[8,8,0,0]})]})}):(0,y.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Sem dados"})]}),(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Distribui\xe7\xe3o de Acessos (Top 5)"}),n.albums.length>0?(0,y.jsx)(Ly,{width:"100%",height:300,children:(0,y.jsxs)(YH,{children:[(0,y.jsx)(MK,{data:n.albums.slice(0,5).map(e=>({name:e.title,value:e.plays+e.downloads})),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,value:r}=e;return"".concat(t,": ").concat(r)},outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.albums.slice(0,5).map((e,t)=>(0,y.jsx)(Zq,{fill:v[t%v.length]},"cell-".concat(t)))}),(0,y.jsx)(Xq,{})]})}):(0,y.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Sem dados"})]})]})]}),"general"===c&&(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,y.jsx)(mf,{className:"w-5 h-5 text-red-600"}),"P\xfablico por Regi\xe3o"]}),(0,y.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"Distribui\xe7\xe3o global de acessos (simula\xe7\xe3o - mapa interativo em desenvolvimento)"}),n.albums.length>0?(0,y.jsx)("div",{className:"w-full h-96 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg p-4 flex items-center justify-center border-2 border-dashed border-blue-200",children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)(mf,{className:"w-16 h-16 text-blue-300 mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600 font-medium",children:"Mapa Interativo em Desenvolvimento"}),(0,y.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Ser\xe1 exibido aqui quando dados de geolocaliza\xe7\xe3o forem coletados"})]})}):(0,y.jsx)("div",{className:"h-96 flex items-center justify-center text-gray-500",children:"Sem dados de geolocaliza\xe7\xe3o"})]}),(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Acessos por Pa\xeds"}),(0,y.jsx)("div",{className:"overflow-x-auto",children:(0,y.jsxs)("table",{className:"w-full",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,y.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Pa\xeds"}),(0,y.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Acessos"}),(0,y.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Plays"}),(0,y.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Downloads"}),(0,y.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"% do Total"})]})}),(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,y.jsx)("td",{className:"py-3 px-4 text-gray-900 font-medium",children:"\ud83c\udde7\ud83c\uddf7 Brasil"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-bold",children:n.totalPlays+n.totalDownloads}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900",children:n.totalPlays}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900",children:n.totalDownloads}),(0,y.jsx)("td",{className:"text-right py-3 px-4",children:(0,y.jsx)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded",children:"100%"})})]}),(0,y.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,y.jsx)("td",{className:"py-3 px-4 text-gray-600",children:"\ud83c\uddfa\ud83c\uddf8 Estados Unidos"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4",children:(0,y.jsx)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"0%"})})]}),(0,y.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,y.jsx)("td",{className:"py-3 px-4 text-gray-600",children:"\ud83c\uddf5\ud83c\uddf9 Portugal"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4",children:(0,y.jsx)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"0%"})})]}),(0,y.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,y.jsx)("td",{className:"py-3 px-4 text-gray-600",children:"\ud83c\udde6\ud83c\uddf7 Argentina"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4",children:(0,y.jsx)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"0%"})})]}),(0,y.jsxs)("tr",{className:"bg-gray-50",children:[(0,y.jsx)("td",{className:"py-3 px-4 text-gray-900 font-semibold",children:"Outros"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-semibold",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-semibold",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-semibold",children:"0"}),(0,y.jsx)("td",{className:"text-right py-3 px-4",children:(0,y.jsx)("span",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded font-semibold",children:"0%"})})]})]})]})}),(0,y.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-900",children:[(0,y.jsx)("p",{className:"font-medium mb-2",children:"\u2139\ufe0f Dados de Geolocaliza\xe7\xe3o"}),(0,y.jsx)("p",{children:"Para rastrear de onde vem o p\xfablico, \xe9 necess\xe1rio implementar geolocaliza\xe7\xe3o por IP. Isso ser\xe1 implementado na pr\xf3xima vers\xe3o."})]})]})]}),"general"===c&&(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Detalhes de Acessos por \xc1lbum"}),(0,y.jsx)("div",{className:"overflow-x-auto",children:(0,y.jsxs)("table",{className:"w-full",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,y.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"\xc1lbum"}),(0,y.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Artista"}),(0,y.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Plays"}),(0,y.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Downloads"}),(0,y.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total"})]})}),(0,y.jsx)("tbody",{children:n.albums.slice(0,20).map((e,t)=>{var r,n;const a=e.plays+e.downloads;return(0,y.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,y.jsx)("td",{className:"py-3 px-4 text-gray-900",children:(0,y.jsx)("a",{href:"http://localhost:3000/".concat(null===(r=e.artist)||void 0===r?void 0:r.slug,"/").concat(e.slug),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.title})}),(0,y.jsx)("td",{className:"py-3 px-4 text-gray-900",children:(null===(n=e.artist)||void 0===n?void 0:n.name)||"Desconhecido"}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-medium",children:e.plays.toLocaleString("pt-BR")}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-medium",children:e.downloads.toLocaleString("pt-BR")}),(0,y.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-bold text-red-600",children:a.toLocaleString("pt-BR")})]},t)})})]})})]}),"album"===c&&u&&(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["An\xe1lise do \xc1lbum - ",u.title]}),(0,y.jsx)(Ly,{width:"100%",height:300,children:(0,y.jsxs)(nz,{data:[{name:"Plays",value:u.plays},{name:"Downloads",value:u.downloads}],children:[(0,y.jsx)(GF,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,y.jsx)(lB,{dataKey:"name"}),(0,y.jsx)(vB,{}),(0,y.jsx)(Xq,{}),(0,y.jsx)(yH,{dataKey:"value",fill:"#dc2626",radius:[8,8,0,0]})]})})]}),"album"===c&&u&&(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:u.title}),(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 text-sm",children:"Artista"}),(0,y.jsx)("p",{className:"text-gray-900 font-medium",children:null===(e=u.artist)||void 0===e?void 0:e.name})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 text-sm",children:"Total de Plays"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-green-600",children:u.plays.toLocaleString("pt-BR")})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 text-sm",children:"Total de Downloads"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:u.downloads.toLocaleString("pt-BR")})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 text-sm",children:"Total de Intera\xe7\xf5es"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-red-600",children:(u.plays+u.downloads).toLocaleString("pt-BR")})]})]})]}),(0,y.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,y.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Link do \xc1lbum"}),(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsx)("input",{type:"text",value:"http://localhost:3000/".concat(null===(r=u.artist)||void 0===r?void 0:r.slug,"/").concat(u.slug),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,y.jsx)("button",{onClick:()=>{var e;navigator.clipboard.writeText("http://localhost:3000/".concat(null===(e=u.artist)||void 0===e?void 0:e.slug,"/").concat(u.slug)),alert("Link copiado!")},className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Copiar Link"})]})]})]}),(0,y.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-900",children:[(0,y.jsx)("p",{className:"font-medium mb-2",children:"\u2139\ufe0f Informa\xe7\xf5es sobre as estat\xedsticas:"}),(0,y.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,y.jsx)("li",{children:"Os dados s\xe3o coletados automaticamente quando usu\xe1rios fazem plays ou downloads"}),(0,y.jsx)("li",{children:"Voc\xea pode filtrar por per\xedodo de tempo (7, 30 ou 90 dias)"}),(0,y.jsx)("li",{children:'Clique em "Por \xc1lbum" para ver estat\xedsticas detalhadas de cada \xe1lbum'}),(0,y.jsx)("li",{children:"Geolocaliza\xe7\xe3o de regi\xf5es em desenvolvimento"})]})]})]})},zK=()=>{const{user:e}=(0,i.A)(),[r,n]=(0,t.useState)({email:(null===e||void 0===e?void 0:e.email)||"",avatar_url:null}),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[m,f]=(0,t.useState)({current:"",new:"",confirm:""});(0,t.useEffect)(()=>{p()},[null===e||void 0===e?void 0:e.id]);const p=async()=>{if(null===e||void 0===e||!e.id)return;const{data:t,error:r}=await g.ND.from("admin_users").select("*").eq("id",e.id).maybeSingle();t&&(n({email:t.email||e.email,avatar_url:t.avatar_url}),t.avatar_url&&s(t.avatar_url))};return(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,y.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Avatar do Administrador"}),(0,y.jsxs)("div",{className:"flex items-center gap-6",children:[(0,y.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:a?(0,y.jsx)("img",{src:a,alt:"Admin avatar",className:"w-full h-full object-cover"}):(0,y.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-2xl font-bold",children:"A"})}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsxs)("label",{className:"block",children:[(0,y.jsx)("input",{type:"file",accept:"image/*",onChange:async t=>{var r;const a=null===(r=t.target.files)||void 0===r?void 0:r[0];if(a){d(!0);try{const t="admin-".concat(e.id,"-").concat(Date.now(),".").concat(a.name.split(".").pop()),{error:r}=await g.ND.storage.from("avatars").upload("admin/".concat(t),a,{upsert:!0});if(r)throw r;const{data:i}=g.ND.storage.from("avatars").getPublicUrl("admin/".concat(t)),o=null===i||void 0===i?void 0:i.publicUrl;n(e=>(0,N.A)((0,N.A)({},e),{},{avatar_url:o})),s(o),(0,S.oR)({title:"Sucesso",description:"Avatar atualizado com sucesso!"})}catch(i){console.error("Upload error:",i),(0,S.oR)({title:"Erro",description:"Erro ao fazer upload da imagem",variant:"destructive"})}finally{d(!1)}}},disabled:c,className:"hidden"}),(0,y.jsxs)(nr.$,{type:"button",onClick:e=>e.target.closest("label").querySelector("input").click(),disabled:c,className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",children:[(0,y.jsx)(Yt,{className:"w-4 h-4"}),c?"Enviando...":"Alterar Avatar"]})]}),(0,y.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"M\xe1ximo 5MB. Formatos: JPG, PNG"})]})]})]}),(0,y.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,y.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email"}),(0,y.jsx)("div",{className:"space-y-4",children:(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,y.jsx)(rr,{type:"email",value:r.email,onChange:e=>n(t=>(0,N.A)((0,N.A)({},t),{},{email:e.target.value})),className:"w-full"})]})})]}),(0,y.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,y.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Seguran\xe7a"}),u?(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha Atual"}),(0,y.jsx)(rr,{type:"password",value:m.current,onChange:e=>f(t=>(0,N.A)((0,N.A)({},t),{},{current:e.target.value})),placeholder:"Digite sua senha atual",className:"w-full"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),(0,y.jsx)(rr,{type:"password",value:m.new,onChange:e=>f(t=>(0,N.A)((0,N.A)({},t),{},{new:e.target.value})),placeholder:"Digite a nova senha",className:"w-full"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha"}),(0,y.jsx)(rr,{type:"password",value:m.confirm,onChange:e=>f(t=>(0,N.A)((0,N.A)({},t),{},{confirm:e.target.value})),placeholder:"Confirme a nova senha",className:"w-full"})]}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)(nr.$,{onClick:async()=>{if(m.new&&m.confirm)if(m.new===m.confirm)if(m.new.length<6)(0,S.oR)({title:"Erro",description:"A senha deve ter no m\xednimo 6 caracteres",variant:"destructive"});else{l(!0);try{const{error:e}=await g.ND.auth.updateUser({password:m.new});if(e)throw e;f({current:"",new:"",confirm:""}),h(!1),(0,S.oR)({title:"Sucesso",description:"Senha alterada com sucesso!"})}catch(e){console.error("Password change error:",e),(0,S.oR)({title:"Erro",description:e.message||"Erro ao alterar senha",variant:"destructive"})}finally{l(!1)}}else(0,S.oR)({title:"Erro",description:"As senhas n\xe3o coincidem",variant:"destructive"});else(0,S.oR)({title:"Erro",description:"Preencha todos os campos de senha",variant:"destructive"})},disabled:o,className:"bg-red-600 hover:bg-red-700 text-white",children:o?"Alterando...":"Alterar Senha"}),(0,y.jsx)(nr.$,{onClick:()=>{h(!1),f({current:"",new:"",confirm:""})},variant:"outline",children:"Cancelar"})]})]}):(0,y.jsxs)(nr.$,{onClick:()=>h(!0),className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",children:[(0,y.jsx)(Nh,{className:"w-4 h-4"}),"Alterar Senha"]})]}),(0,y.jsx)("div",{className:"bg-white rounded-lg p-6",children:(0,y.jsxs)(nr.$,{onClick:async()=>{l(!0);try{const{error:t}=await g.ND.from("admin_users").update({email:r.email,avatar_url:r.avatar_url}).eq("id",e.id);if(t)throw t;(0,S.oR)({title:"Sucesso",description:"Configura\xe7\xf5es atualizadas com sucesso!"})}catch(t){console.error("Save error:",t),(0,S.oR)({title:"Erro",description:"Erro ao salvar configura\xe7\xf5es",variant:"destructive"})}finally{l(!1)}},disabled:o,className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2 w-full justify-center",children:[(0,y.jsx)(Mx,{className:"w-4 h-4"}),o?"Salvando...":"Salvar Configura\xe7\xf5es"]})})]})},FK=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)("all"),[u,h]=(0,t.useState)(""),[m,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{p()},[c]);const p=async()=>{try{a(!0);let e=g.ND.from("copyright_reports").select("*").order("created_at",{ascending:!1});"all"!==c&&(e=e.eq("status",c));const{data:t,error:n}=await e;if(n)throw n;r(t||[])}catch(e){console.error("Erro ao carregar den\xfancias:",e),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel carregar as den\xfancias",variant:"destructive"})}finally{a(!1)}},v=async t=>{if(window.confirm("Tem certeza que deseja deletar esta den\xfancia?"))try{const{error:n}=await g.ND.from("copyright_reports").delete().eq("id",t);if(n)throw n;r(e.filter(e=>e.id!==t)),l(!1),(0,S.oR)({title:"Den\xfancia removida",description:"A den\xfancia foi deletada com sucesso"})}catch(n){console.error("Erro ao deletar den\xfancia:",n),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel deletar a den\xfancia",variant:"destructive"})}},x=e=>{switch(e){case"pending":return(0,y.jsx)(Jf,{className:"w-4 h-4 text-yellow-500"});case"reviewed":return(0,y.jsx)(pc,{className:"w-4 h-4 text-blue-500"});case"resolved":return(0,y.jsx)(pf,{className:"w-4 h-4 text-green-500"});default:return(0,y.jsx)(Gx,{className:"w-4 h-4 text-gray-500"})}},b=e=>{switch(e){case"pending":return"Pendente";case"reviewed":return"Revisado";case"resolved":return"Resolvido";default:return e}},w=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"reviewed":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return n?(0,y.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Den\xfancias de Conte\xfado"}),(0,y.jsx)("div",{className:"flex gap-2",children:["all","pending","reviewed","resolved"].map(e=>(0,y.jsx)("button",{onClick:()=>d(e),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(c===e?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"all"===e?"Todas":b(e)},e))})]}),0===e.length?(0,y.jsx)("div",{className:"bg-white rounded-lg p-12 text-center",children:(0,y.jsx)("p",{className:"text-gray-500",children:"Nenhuma den\xfancia encontrada"})}):(0,y.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,y.jsx)("div",{className:"overflow-x-auto",children:(0,y.jsxs)("table",{className:"w-full",children:[(0,y.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Solicitante"}),(0,y.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Email"}),(0,y.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Propriet\xe1rio"}),(0,y.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Data"}),(0,y.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,y.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"A\xe7\xf5es"})]})}),(0,y.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,y.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,y.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:e.name}),(0,y.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.email}),(0,y.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.copyright_holder}),(0,y.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString("pt-BR")}),(0,y.jsx)("td",{className:"px-6 py-4",children:(0,y.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ".concat(w(e.status)),children:[x(e.status),b(e.status)]})}),(0,y.jsxs)("td",{className:"px-6 py-4 text-sm space-x-2",children:[(0,y.jsxs)("button",{onClick:()=>(e=>{i(e),h(e.admin_notes||""),l(!0)})(e),className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center gap-1",children:[(0,y.jsx)(pc,{className:"w-4 h-4"}),"Ver"]}),(0,y.jsxs)("button",{onClick:()=>v(e.id),className:"text-red-600 hover:text-red-800 font-medium inline-flex items-center gap-1",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4"}),"Deletar"]})]})]},e.id))})]})})}),(0,y.jsx)(Nd,{open:o,onOpenChange:l,children:(0,y.jsxs)(kd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,y.jsx)(Ad,{children:(0,y.jsx)(Cd,{children:"Detalhes da Den\xfancia"})}),s&&(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Informa\xe7\xf5es do Solicitante"}),(0,y.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600",children:"Nome"}),(0,y.jsx)("p",{className:"font-medium text-gray-900",children:s.name})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600",children:"Email"}),(0,y.jsx)("p",{className:"font-medium text-gray-900",children:s.email})]}),s.phone&&(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600",children:"Telefone"}),(0,y.jsx)("p",{className:"font-medium text-gray-900",children:s.phone})]}),s.mobile&&(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600",children:"Celular"}),(0,y.jsx)("p",{className:"font-medium text-gray-900",children:s.mobile})]}),s.address&&(0,y.jsxs)("div",{className:"col-span-2",children:[(0,y.jsx)("p",{className:"text-gray-600",children:"Endere\xe7o"}),(0,y.jsx)("p",{className:"font-medium text-gray-900",children:s.address})]}),s.is_representative&&(0,y.jsxs)("div",{className:"col-span-2",children:[(0,y.jsx)("p",{className:"text-blue-600 font-medium",children:"\u2696\ufe0f Este \xe9 um representante legal"}),s.cnpj&&(0,y.jsxs)("p",{className:"text-gray-600",children:["CNPJ: ",s.cnpj]})]})]})]}),(0,y.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Conte\xfado Protegido"}),(0,y.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 font-medium",children:"Descri\xe7\xe3o"}),(0,y.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap mt-1",children:s.protected_content})]}),s.content_url&&(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 font-medium",children:"URL do Conte\xfado"}),(0,y.jsx)("a",{href:s.content_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all mt-1",children:s.content_url})]})]})]}),(0,y.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Direitos Autorais"}),(0,y.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 font-medium",children:"Propriet\xe1rio"}),(0,y.jsx)("p",{className:"text-gray-900 mt-1",children:s.copyright_holder})]}),s.proof_of_ownership&&(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 font-medium",children:"Prova de Propriedade"}),(0,y.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap mt-1",children:s.proof_of_ownership})]}),s.additional_info&&(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-gray-600 font-medium",children:"Informa\xe7\xf5es Adicionais"}),(0,y.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap mt-1",children:s.additional_info})]})]})]}),(0,y.jsxs)("div",{className:"space-y-3",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Anota\xe7\xf5es Administrativas"}),(0,y.jsx)(xf,{value:u,onChange:e=>h(e.target.value),placeholder:"Adicione notas sobre esta den\xfancia...",rows:4,className:"w-full"}),(0,y.jsx)(nr.$,{onClick:async()=>{if(s)try{f(!0);const{error:t}=await g.ND.from("copyright_reports").update({admin_notes:u}).eq("id",s.id);if(t)throw t;i((0,N.A)((0,N.A)({},s),{},{admin_notes:u})),r(e.map(e=>e.id===s.id?(0,N.A)((0,N.A)({},e),{},{admin_notes:u}):e)),(0,S.oR)({title:"Anota\xe7\xf5es salvas",description:"As notas foram atualizadas com sucesso"})}catch(t){console.error("Erro ao salvar notas:",t),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as notas",variant:"destructive"})}finally{f(!1)}},disabled:m,className:"bg-blue-600 hover:bg-blue-700 text-white",children:m?"Salvando...":"Salvar Anota\xe7\xf5es"})]}),(0,y.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900",children:"Status"}),(0,y.jsx)("div",{className:"flex gap-2",children:["pending","reviewed","resolved"].map(t=>(0,y.jsx)(nr.$,{onClick:()=>(async(t,n)=>{try{const{error:a}=await g.ND.from("copyright_reports").update({status:n}).eq("id",t);if(a)throw a;r(e.map(e=>e.id===t?(0,N.A)((0,N.A)({},e),{},{status:n}):e)),(null===s||void 0===s?void 0:s.id)===t&&i((0,N.A)((0,N.A)({},s),{},{status:n})),(0,S.oR)({title:"Status atualizado",description:"Den\xfancia marcada como ".concat(n)})}catch(a){console.error("Erro ao atualizar status:",a),(0,S.oR)({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar o status",variant:"destructive"})}})(s.id,t),variant:s.status===t?"default":"outline",className:s.status===t?"bg-red-600":"",children:b(t)},t))})]}),(0,y.jsx)("div",{className:"border-t pt-4",children:(0,y.jsxs)(nr.$,{onClick:()=>v(s.id),className:"bg-red-600 hover:bg-red-700 text-white w-full",children:[(0,y.jsx)(uc.A,{className:"w-4 h-4 mr-2"}),"Deletar Den\xfancia"]})})]})]})})]})},BK=()=>{var e,r;const{user:n}=(0,i.A)(),a=(0,s.Zp)(),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)("slides"),[m,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{p()},[n]);const p=async()=>{if(null===n||void 0===n||!n.id)return void a("/login");const{data:e,error:t}=await g.ND.from("admin_users").select("*").eq("id",n.id).maybeSingle();e?(l(!0),f(e)):((0,S.oR)({title:"Acesso Negado",description:"Voc\xea n\xe3o tem permiss\xe3o de administrador",variant:"destructive"}),a("/")),d(!1)};if(c)return(0,y.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,y.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(!o)return null;const v=[{id:"slides",label:"Hero Slider",icon:Nf},{id:"albums",label:"Gerenciar \xc1lbuns",icon:Md},{id:"recommended",label:"Recomendados",icon:$x},{id:"popup",label:"Pop-up Home",icon:dc},{id:"support",label:"Suporte",icon:bf},{id:"reports",label:"Den\xfancias de Conte\xfado",icon:Gx},{id:"statistics",label:"Estat\xedsticas",icon:Xt},{id:"settings",label:"Configura\xe7\xf5es",icon:Kt}];return(0,y.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:(0,y.jsxs)("div",{className:"flex flex-1",children:[(0,y.jsxs)("div",{className:"w-64 bg-white shadow-lg border-r border-gray-200 flex flex-col",children:[(0,y.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsx)("img",{src:(null===n||void 0===n||null===(e=n.user_metadata)||void 0===e?void 0:e.avatar_url)||(null===m||void 0===m?void 0:m.avatar_url)||(null===m||void 0===m?void 0:m.photo)||"https://via.placeholder.com/48",alt:"Admin",className:"w-12 h-12 rounded-full object-cover bg-gray-200",onError:e=>e.target.src="https://via.placeholder.com/48"}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:(null===n||void 0===n||null===(r=n.user_metadata)||void 0===r?void 0:r.name)||(null===m||void 0===m?void 0:m.name)||"Admin"}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Ou\xe7a Aqui"})]})]})}),(0,y.jsx)("div",{className:"p-6 space-y-1 flex-1",children:v.map(e=>{const t=e.icon;return(0,y.jsxs)("button",{onClick:()=>h(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-left ".concat(u===e.id?"bg-red-50 text-red-600 font-medium":"text-gray-700 hover:bg-gray-100"),children:[(0,y.jsx)(t,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:e.label})]},e.id)})}),(0,y.jsx)("div",{className:"absolute bottom-6 left-6 w-52",children:(0,y.jsxs)("button",{onClick:async()=>{await g.ND.auth.signOut(),a("/login")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors text-left font-medium",children:[(0,y.jsx)($t,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"Sair"})]})})]}),(0,y.jsx)("div",{className:"flex-1 overflow-auto",children:(0,y.jsx)("div",{className:"p-8",children:(()=>{switch(u){case"slides":return(0,y.jsx)(Jx,{});case"albums":return(0,y.jsx)(Xx,{});case"recommended":return(0,y.jsx)(Zx,{});case"popup":return(0,y.jsx)(ey,{});case"support":return(0,y.jsx)(Qx,{});case"reports":return(0,y.jsx)(FK,{});case"statistics":return(0,y.jsx)(LK,{});case"settings":return(0,y.jsx)(zK,{});default:return null}})()})})]})})},UK=()=>((()=>{const{currentSong:e,isCompactMode:r}=w();(0,t.useEffect)(()=>(e&&!r?document.body.classList.add("player-active"):document.body.classList.remove("player-active"),()=>{document.body.classList.remove("player-active")}),[e,r])})(),null),qK=()=>{const{pathname:e}=(0,s.zy)();return(0,t.useEffect)(()=>{window.scrollTo(0,0)},[e]),null},VK=()=>((0,t.useEffect)(()=>{const e=window.location.hash,t=window.location.pathname;console.log("Hash detectado:",e),console.log("Pathname:",t),e.includes("type=recovery")&&e.includes("access_token")&&(console.log("Recovery token detectado"),"/reset-password"!==t&&(console.log("Redirecionando para /reset-password"),window.location.pathname="/reset-password"))},[]),null),WK=()=>{const e=(0,s.zy)();return(0,t.useEffect)(()=>{const t=e.pathname;"/login"!==t&&"/cadastrar"!==t&&"/reset-password"!==t&&localStorage.setItem("previousPath",t)},[e]),null},HK=e=>{let{children:t}=e;const{user:r,loading:n}=(0,i.A)(),a=(0,s.zy)();return n?(0,y.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,y.jsx)(Vt,{size:"large",text:"Carregando..."})}):r?t:(0,y.jsx)(s.C5,{to:"/login",state:{from:a.pathname},replace:!0})},KK=e=>{let{children:t,showFooter:r=!0}=e;return(0,y.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,y.jsx)(Bd,{}),(0,y.jsx)(Id,{}),(0,y.jsx)("main",{className:"flex-1 pb-20 md:pb-0",children:t}),r&&(0,y.jsx)(Hd,{}),(0,y.jsx)(eh,{}),(0,y.jsx)(Xu,{})]})},$K=e=>{let{children:t}=e;return(0,y.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[(0,y.jsx)(Id,{}),(0,y.jsx)(Bd,{}),(0,y.jsx)("main",{className:"flex-1 pb-20 md:pb-0",children:t}),(0,y.jsx)(eh,{}),(0,y.jsx)(Xu,{})]})},GK=e=>{let{children:t}=e;return(0,y.jsx)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:t})};function YK(){const{user:e}=(0,i.A)();return(0,y.jsxs)(s.BV,{children:[(0,y.jsx)(s.qh,{path:"/login",element:(0,y.jsx)(wh,{})}),(0,y.jsx)(s.qh,{path:"/cadastrar",element:(0,y.jsx)(jh,{})}),(0,y.jsx)(s.qh,{path:"/reset-password",element:(0,y.jsx)(_h,{})}),(0,y.jsx)(s.qh,{path:"/",element:(0,y.jsx)(KK,{children:(0,y.jsx)(Dh,{})})}),(0,y.jsx)(s.qh,{path:"/:artistSlug/:albumSlug",element:(0,y.jsx)(KK,{showFooter:!1,children:(0,y.jsx)(Gm,{})})}),(0,y.jsx)(s.qh,{path:"/playlist/:playlistSlug",element:(0,y.jsx)(KK,{showFooter:!1,children:(0,y.jsx)(rf,{})})}),(0,y.jsx)(s.qh,{path:"/search",element:(0,y.jsx)(KK,{children:(0,y.jsx)(Mh,{})})}),(0,y.jsx)(s.qh,{path:"/playlists",element:(0,y.jsx)(HK,{children:(0,y.jsx)(KK,{children:(0,y.jsx)(Fh,{})})})}),(0,y.jsx)(s.qh,{path:"/clips",element:(0,y.jsx)(KK,{children:(0,y.jsx)(Bh,{})})}),(0,y.jsx)(s.qh,{path:"/top-cds",element:(0,y.jsx)(KK,{children:(0,y.jsx)(sf,{})})}),(0,y.jsx)(s.qh,{path:"/lancamentos",element:(0,y.jsx)(KK,{children:(0,y.jsx)(of,{})})}),(0,y.jsx)(s.qh,{path:"/genero/:genre",element:(0,y.jsx)(KK,{children:(0,y.jsx)(lf,{})})}),(0,y.jsx)(s.qh,{path:"/sobre",element:(0,y.jsx)(KK,{children:(0,y.jsx)(gf,{})})}),(0,y.jsx)(s.qh,{path:"/politicas",element:(0,y.jsx)(KK,{children:(0,y.jsx)(yf,{})})}),(0,y.jsx)(s.qh,{path:"/library",element:(0,y.jsx)(HK,{children:(0,y.jsx)(KK,{children:(0,y.jsx)(zh,{})})})}),(0,y.jsx)(s.qh,{path:"/favorites",element:(0,y.jsx)(HK,{children:(0,y.jsx)(KK,{children:(0,y.jsx)(zh,{})})})}),(0,y.jsx)(s.qh,{path:"/user/panel",element:(0,y.jsx)(HK,{children:(0,y.jsx)(Hx,{})})}),(0,y.jsx)(s.qh,{path:"/artist/dashboard",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(jf,{})})})}),(0,y.jsx)(s.qh,{path:"/artist/upload",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(Xf,{})})})}),(0,y.jsx)(s.qh,{path:"/artist/albums",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(Pg,{})})})}),(0,y.jsx)(s.qh,{path:"/artist/playlists",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(Dg,{})})})}),(0,y.jsx)(s.qh,{path:"/artist/favoritos",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(Rg,{})})})}),(0,y.jsx)(s.qh,{path:"/artist/meus-videos",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(Ig,{})})})}),(0,y.jsx)(s.qh,{path:"/artist/support",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(Vx,{})})})}),(0,y.jsx)(s.qh,{path:"/artist/settings",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(Fx,{})})})}),(0,y.jsx)(s.qh,{path:"/artist/email-senha",element:(0,y.jsx)(HK,{children:(0,y.jsx)($K,{children:(0,y.jsx)(Ux,{})})})}),(0,y.jsx)(s.qh,{path:"/admin",element:(0,y.jsx)(HK,{children:(0,y.jsx)(GK,{children:(0,y.jsx)(BK,{})})})}),(0,y.jsx)(s.qh,{path:"/admin/slides",element:(0,y.jsx)(HK,{children:(0,y.jsx)(GK,{children:(0,y.jsx)(Jx,{})})})}),(0,y.jsx)(s.qh,{path:"/support",element:(0,y.jsx)(HK,{children:(0,y.jsx)(Kx,{})})}),(0,y.jsx)(s.qh,{path:"/:slug",element:(0,y.jsx)(KK,{showFooter:!1,children:(0,y.jsx)(df,{})})}),(0,y.jsx)(s.qh,{path:"*",element:(0,y.jsx)(s.C5,{to:"/",replace:!0})})]})}const JK=function(){return(0,y.jsx)(s.Kd,{children:(0,y.jsx)(i.O,{children:(0,y.jsxs)(j,{children:[(0,y.jsx)(UK,{}),(0,y.jsx)(qK,{}),(0,y.jsx)(WK,{}),(0,y.jsx)(VK,{}),(0,y.jsx)(YK,{}),(0,y.jsx)(Ut,{})]})})})};a.createRoot(document.getElementById("root")).render((0,y.jsx)(t.StrictMode,{children:(0,y.jsx)(JK,{})}))})()})();
//# sourceMappingURL=main.4c77a680.js.map
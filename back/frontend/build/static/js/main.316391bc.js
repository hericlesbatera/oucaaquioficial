/*! For license information please see main.316391bc.js.LICENSE.txt */
(()=>{var e={100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;t.resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)};t.resolveHeadersConstructor=()=>Headers;t.fetchWithAuth=(e,r,n)=>{const a=(0,t.resolveFetch)(n),i=(0,t.resolveHeadersConstructor)();return async(t,n)=>{var o;const s=null!==(o=await r())&&void 0!==o?o:e;let l=new i(null===n||void 0===n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),a(t,Object.assign(Object.assign({},n),{headers:l}))}}},219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthAdminApi:()=>We,AuthApiError:()=>f,AuthClient:()=>Ve,AuthError:()=>d,AuthImplicitGrantRedirectError:()=>w,AuthInvalidCredentialsError:()=>b,AuthInvalidJwtError:()=>A,AuthInvalidTokenResponseError:()=>x,AuthPKCEGrantCodeExchangeError:()=>N,AuthRetryableFetchError:()=>_,AuthSessionMissingError:()=>v,AuthUnknownError:()=>m,AuthWeakPasswordError:()=>k,CustomAuthError:()=>g,GoTrueAdminApi:()=>fe,GoTrueClient:()=>He,NavigatorLockAcquireTimeoutError:()=>ve,SIGN_OUT_SCOPES:()=>he,isAuthApiError:()=>p,isAuthError:()=>h,isAuthImplicitGrantRedirectError:()=>j,isAuthRetryableFetchError:()=>S,isAuthSessionMissingError:()=>y,isAuthWeakPasswordError:()=>E,lockInternals:()=>me,navigatorLock:()=>xe,processLock:()=>we});var n=r(6326);const a="2.86.2",i=3e4,o=9e4,s={"X-Client-Info":"gotrue-js/".concat(a)},l="X-Supabase-Api-Version",c={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},u=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class d extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function h(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class f extends d{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function p(e){return h(e)&&"AuthApiError"===e.name}class m extends d{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class g extends d{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class v extends g{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function y(e){return h(e)&&"AuthSessionMissingError"===e.name}class x extends g{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class b extends g{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class w extends g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j(e){return h(e)&&"AuthImplicitGrantRedirectError"===e.name}class N extends g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _ extends g{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function S(e){return h(e)&&"AuthRetryableFetchError"===e.name}class k extends g{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}function E(e){return h(e)&&"AuthWeakPasswordError"===e.name}class A extends g{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C=" \t\n\r=".split(""),P=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<C.length;t+=1)e[C[t].charCodeAt(0)]=-2;for(let t=0;t<O.length;t+=1)e[O[t].charCodeAt(0)]=t;return e})();function T(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(O[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(O[e]),t.queuedBits-=6}}function D(e,t,r){const n=P[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function R(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let o=0;o<e.length;o+=1)D(e.charCodeAt(o),a,i);return t.join("")}function I(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function M(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}I(n,t)}}function L(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)D(e.charCodeAt(a),r,n);return new Uint8Array(t)}function z(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>T(e,r,n)),T(null,r,n),t.join("")}const F=()=>"undefined"!==typeof window&&"undefined"!==typeof document,U={tested:!1,writable:!1},B=()=>{if(!F())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(U.tested)return U.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),U.tested=!0,U.writable=!0}catch(t){U.tested=!0,U.writable=!1}return U.writable};const q=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},H=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},W=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},V=async(e,t)=>{await e.removeItem(t)};class K{constructor(){this.promise=new K.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function G(e){const t=e.split(".");if(3!==t.length)throw new A("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!u.test(t[r]))throw new A("JWT not in base64url format");return{header:JSON.parse(R(t[0])),payload:JSON.parse(R(t[1])),signature:L(t[2]),raw:{header:t[0],payload:t[1]}}}function Y(e){return("0"+e.toString(16)).substr(-2)}async function $(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function J(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Y).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await H(e,"".concat(t,"-code-verifier"),a);const i=await $(n);return[i,n===i?"plain":"s256"]}K.promiseConstructor=Promise;const X=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Z=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Q(e){if(!Z.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ee(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function te(e){return JSON.parse(JSON.stringify(e))}const re=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ne=[502,503,504];async function ae(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new _(re(e),0);if(ne.includes(e.status))throw new _(re(e),e.status);let n,a;try{n=await e.json()}catch(o){throw new m(re(o),o)}const i=function(e){const t=e.headers.get(l);if(!t)return null;if(!t.match(X))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(o){return null}}(e);if(i&&i.getTime()>=c.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new k(re(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new v}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new k(re(n),e.status,n.weak_password.reasons);throw new f(re(n),e.status||500,a)}async function ie(e,t,r,n){var a;const i=Object.assign({},null===n||void 0===n?void 0:n.headers);i[l]||(i[l]=c.name),(null===n||void 0===n?void 0:n.jwt)&&(i.Authorization="Bearer ".concat(n.jwt));const o=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await async function(e,t,r,n,a,i){const o=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new _(re(l),0)}s.ok||await ae(s);if(null===n||void 0===n?void 0:n.noResolveJson)return s;try{return await s.json()}catch(l){await ae(l)}}(e,t,r+s,{headers:i,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(u):{data:Object.assign({},u),error:null}}function oe(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function se(e){const t=oe(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function le(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ce(e){return{data:e,error:null}}function ue(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:i,verification_type:o}=e,s=(0,n.__rest)(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:a,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function de(e){return e}const he=["global","local","others"];class fe{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=q(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he[0];if(he.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(he.join(", ")));try{return await ie(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(h(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await ie(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=(0,n.__rest)(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=null===r||void 0===r?void 0:r.newEmail,delete a.newEmail),await ie(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:ue,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(h(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ie(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:le})}catch(t){if(h(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await ie(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:de});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(h(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Q(e);try{return await ie(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:le})}catch(t){if(h(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Q(e);try{return await ie(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Q(e);try{return await ie(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:le})}catch(r){if(h(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Q(e.userId);try{const{data:t,error:r}=await ie(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Q(e.userId),Q(e.id);try{return{data:await ie(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,n,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await ie(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:de});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(h(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await ie(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ie(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await ie(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(h(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ie(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(h(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ie(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(h(t))return{data:null,error:t};throw t}}}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const me={debug:!!(globalThis&&B()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class ge extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ve extends ge{}class ye extends ge{}async function xe(e,t,r){me.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),me.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw me.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ve('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(me.debug)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}me.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{me.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}const be={};async function we(e,t,r){var n;const a=null!==(n=be[e])&&void 0!==n?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((r,n)=>{setTimeout(()=>{n(new ye('Acquring process lock with name "'.concat(e,'" timed out')))},t)}):null].filter(e=>e)).catch(e=>{if(e&&e.isAcquireTimeout)throw e;return null}).then(async()=>await r());return be[e]=i.catch(async e=>{if(e&&e.isAcquireTimeout)return await a,null;throw e}),await i}function je(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Ne(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class _e extends Error{constructor(e){let{message:t,code:r,cause:n,name:a}=e;var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=null!==(i=null!==a&&void 0!==a?a:n instanceof Error?n.name:void 0)&&void 0!==i?i:"Unknown Error",this.code=r}}class Se extends _e{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function ke(e){let{error:t,options:r}=e;var n,a,i;const{publicKey:o}=r;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new _e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(n=o.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new _e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===r.mediation&&"required"===(null===(a=o.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new _e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(i=o.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new _e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new _e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===o.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new _e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!De(e))return new _e({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(o.rp.id!==e)return new _e({message:'The RP ID "'.concat(o.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new _e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new _e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ee(e){let{error:t,options:r}=e;const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new _e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!De(e))return new _e({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(n.rpId!==e)return new _e({message:'The RP ID "'.concat(n.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new _e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ae=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Oe(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,i=(0,n.__rest)(e,["challenge","user","excludeCredentials"]),o=L(t).buffer,s=Object.assign(Object.assign({},r),{id:L(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:o,user:s});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];l.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:L(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return l}function Ce(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=(0,n.__rest)(e,["challenge","allowCredentials"]),i=L(t).buffer,o=Object.assign(Object.assign({},a),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.allowCredentials[e]=Object.assign(Object.assign({},t),{id:L(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function Pe(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:z(new Uint8Array(e.response.attestationObject)),clientDataJSON:z(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function Te(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:z(new Uint8Array(a.authenticatorData)),clientDataJSON:z(new Uint8Array(a.clientDataJSON)),signature:z(new Uint8Array(a.signature)),userHandle:a.userHandle?z(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function De(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Re(){var e,t;return!!(F()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const Ie={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Me={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Le(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];for(const o of a)if(o)for(const n in o){const a=o[n];if(void 0!==a)if(Array.isArray(a))r[n]=a;else if(t(a))r[n]=a;else if(e(a)){const t=r[n];e(t)?r[n]=Le(t,a):r[n]=Le(a)}else r[n]=a}return r}class ze{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:r,webauthn:n,friendlyName:a,signal:i}=e;try{const{data:e,error:o}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!e)return{data:null,error:o};const s=null!==i&&void 0!==i?i:Ae.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(a)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const n=function(e,t){return Le(Ie,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:i}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Se("Browser returned unexpected credential type",t)}:{data:null,error:new Se("Empty credential response",t)}}catch(t){return{data:null,error:ke({error:t,options:e})}}}({publicKey:n,signal:s});return a?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:i}}case"request":{const n=function(e,t){return Le(Me,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:i}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Se("Browser returned unexpected credential type",t)}:{data:null,error:new Se("Empty credential response",t)}}catch(t){return{data:null,error:Ee({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:n,signal:s}));return a?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:i}}}}catch(o){return h(o)?{data:null,error:o}:{data:null,error:new m("Unexpected error in challenge",o)}}}async _verify(e){let{challengeId:t,factorId:r,webauthn:n}=e;return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate(e,t){let{factorId:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:i}={}}=e;if(!n)return{data:null,error:new d("rpId is required for WebAuthn authentication")};try{if(!Re())return{data:null,error:new m("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:t});if(!e)return{data:null,error:o};const{webauthn:s}=e;return this._verify({factorId:r,challengeId:e.challengeId,webauthn:{type:s.type,rpId:n,rpOrigins:a,credential_response:s.credential_response}})}catch(o){return h(o)?{data:null,error:o}:{data:null,error:new m("Unexpected error in authenticate",o)}}}async _register(e,t){let{friendlyName:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:i}={}}=e;if(!n)return{data:null,error:new d("rpId is required for WebAuthn registration")};try{if(!Re())return{data:null,error:new m("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this._enroll({friendlyName:r});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===r&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:o};const{data:s,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:t});return s?this._verify({factorId:e.id,challengeId:s.challengeId,webauthn:{rpId:n,rpOrigins:a,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:l}}catch(o){return h(o)?{data:null,error:o}:{data:null,error:new m("Unexpected error in register",o)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Fe={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ue(e,t,r){return await r()}const Be={};class qe{get jwks(){var e,t;return null!==(t=null===(e=Be[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Be[this.storageKey]=Object.assign(Object.assign({},Be[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Be[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Be[this.storageKey]=Object.assign(Object.assign({},Be[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Fe),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=qe.nextInstanceID[this.storageKey])&&void 0!==t?t:0,qe.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&F()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new fe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=q(a.fetch),this.lock=a.lock||Ue,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:F()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=xe:this.lock=Ue,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ze(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:B()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pe(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=pe(this.memoryStorage)),F()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(a,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(F()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(n){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),F()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),j(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return h(t)?this._returnResult({error:t}):this._returnResult({error:new m("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await ie(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:oe}),{data:i,error:o}=a;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(a){if(h(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await J(this.storage,this.storageKey)),a=await ie(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},xform:oe})}else{if(!("phone"in e))throw new b("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;a=await ie(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null===o||void 0===o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(n=null===o||void 0===o?void 0:o.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:oe})}}const{data:i,error:o}=a;if(o||!i)return await V(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:o});const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(a){if(await V(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await ie(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:se})}else{if(!("phone"in e))throw new b("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await ie(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:se})}}const{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const e=new x;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,r,n,a,i,o,s,l,c,u,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:u,wallet:d,statement:h,options:m}=e;let g;if(F())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const v=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),y=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=je(y[0]);let b=null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!b){const e=await g.request({method:"eth_chainId"});b=parseInt(e,16)}f=function(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(r))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(r));if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(o));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=je(e.address),p=u?"".concat(u,"://").concat(n):n,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let v="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(r).concat(o?"\nNonce: ".concat(o):"","\nIssued At: ").concat(i.toISOString());if(a&&(v+="\nExpiration Time: ".concat(a.toISOString())),s&&(v+="\nNot Before: ".concat(s.toISOString())),l&&(v+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}v+=e}return"".concat(g,"\n").concat(v)}({domain:v.host,address:x,statement:h,uri:v.href,version:"1",chainId:b,nonce:null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.nonce,issuedAt:null!==(i=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==i?i:new Date,expirationTime:null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.expirationTime,notBefore:null===(s=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===s?void 0:s.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await g.request({method:"personal_sign",params:[Ne(f),x]})}try{const{data:t,error:r}=await ie(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:oe});if(r)throw r;if(!t||!t.session||!t.user){const e=new x;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(m){if(h(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var t,r,n,a,i,o,s,l,c,u,d,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:d,wallet:h,statement:f,options:g}=e;let v;if(F())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:r}=await ie(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:z(m)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(f=e.options)||void 0===f?void 0:f.captchaToken}}:null),xform:oe});if(r)throw r;if(!t||!t.session||!t.user){const e=new x;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(g){if(h(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await W(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await ie(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:oe});if(await V(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new x;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a})}catch(a){if(await V(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:i}=e,o=await ie(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:oe}),{data:s,error:l}=o;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const e=new x;return this._returnResult({data:{user:null,session:null},error:e})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:s,error:l})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,n,a,i;try{if("email"in e){const{email:n,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await J(this.storage,this.storageKey));const{error:s}=await ie(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:s}=await ie(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(i=null===r||void 0===r?void 0:r.channel)&&void 0!==i?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s})}throw new b("You must provide either an email or phone number.")}catch(o){if(await V(this.storage,"".concat(this.storageKey,"-code-verifier")),h(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:o}=await ie(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:oe});if(o)throw o;if(!i){throw new Error("An error occurred on token verification.")}const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(n){if(h(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var t,r,n,a,i;try{let o=null,s=null;"pkce"===this.flowType&&([o,s]=await J(this.storage,this.storageKey));const l=await ie(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:ce});return(null===(a=l.data)||void 0===a?void 0:a.url)&&F()&&!(null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(o){if(await V(this.storage,"".concat(this.storageKey,"-code-verifier")),h(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new v;const{error:n}=await ie(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(h(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:i}=await ie(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:i,error:o}=await ie(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o})}throw new b("You must provide either an email or phone number and a type")}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await W(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<o;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.userStorage){const t=await W(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=ee()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,n)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"===typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,n)}return t.value||"string"!==typeof r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,n)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await ie(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:le}):await this._useSession(async e=>{var t,r,n;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ie(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:le}):{data:{user:null},error:new v}})}catch(t){if(h(t))return y(t)&&(await this._removeSession(),await V(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new v;const i=n.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await J(this.storage,this.storageKey));const{data:l,error:c}=await ie(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:i.access_token,xform:le});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(await V(this.storage,"".concat(this.storageKey,"-code-verifier")),h(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new v;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:i}=G(e.access_token);if(i.exp&&(r=i.exp,n=r<=t),n){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(h(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new v;const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(h(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!F())throw new w("No browser detected.");if(e.error||e.error_description||e.error_code)throw new w(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new N("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new w("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new N("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=e;if(!a||!s||!o||!c)throw new w("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let h=u+d;l&&(h=parseInt(l));const f=h-u;1e3*f<=i&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(f,"s, should have been closer to ").concat(d,"s"));const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(h(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await W(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({error:a});const i=null===(r=n.session)||void 0===r?void 0:r.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!p(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await V(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await J(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await V(this.storage,"".concat(this.storageKey,"-code-verifier")),h(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,i,o;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})});if(n)throw n;return F()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null})}catch(r){if(h(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:n,data:{session:a}}=t;if(n)throw n;const{options:i,provider:o,token:s,access_token:l,nonce:c}=e,u=await ie(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(r=null===a||void 0===a?void 0:a.access_token)&&void 0!==r?r:void 0,body:{provider:o,id_token:s,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:oe}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new x})}catch(n){if(await V(this.storage,"".concat(this.storageKey,"-code-verifier")),h(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:i}=t;if(i)throw i;return await ie(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ie(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:oe})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&S(t)&&Date.now()+r-a<i},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await r(i);if(!n(i,null,t))return void e(t)}catch(a){if(!n(i,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),h(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),F()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await W(this.storage,this.storageKey);if(a&&this.userStorage){let t=await W(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await H(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:ee()}else if(a&&!a.user&&!a.user){const e=await W(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await V(this.storage,this.storageKey+"-user"),await H(this.storage,this.storageKey,a)):a.user=ee()}if(this._debug(r,"session from storage",a),!this._isValidSession(a))return this._debug(r,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<o;if(this._debug(r,"session has".concat(i?"":" not"," expired with margin of ").concat(o,"s")),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),S(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(r,"error",a),void console.error(a)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new v;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new K;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new v;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),h(a)){const e={data:null,error:a};return S(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(a){n.push(a)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await V(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await H(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=te(e);await H(this.storage,this.storageKey,n)}else{const e=te(t);await H(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await V(this.storage,this.storageKey),await V(this.storage,this.storageKey+"-code-verifier"),await V(this.storage,this.storageKey+"-user"),this.userStorage&&await V(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&F()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),i);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/i);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(i,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof ge))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!F()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await J(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?this._returnResult({data:null,error:a}):await ie(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:i}=t;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:s,error:l}=await ie(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===s.type&&(null===(n=null===s||void 0===s?void 0:s.totp)||void 0===n?void 0:n.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),this._returnResult({data:s,error:null}))})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Pe(e.webauthn.credential_response):Te(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:s}=await ie(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:i,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return s?this._returnResult({data:null,error:s}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:s}))})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const i=await ie(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});if(i.error)return i;const{data:o}=i;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Oe(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ce(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])n.all.push(a),"verified"===a.status&&n[a.factor_type].push(a);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=G(r.access_token);let i=null;a.aal&&(i=a.aal);let o=i;(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ie(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new v})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new v});const i=await ie(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return i.data&&i.data.redirect_url&&F()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new v});const i=await ie(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return i.data&&i.data.redirect_url&&F()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await ie(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new v})})}catch(e){if(h(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?(await ie(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new v})})}catch(t){if(h(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:a}=await ie(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:n,payload:a,signature:i,raw:{header:o,payload:s}}=G(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return M(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(s))))throw new A("Invalid JWT signature");return{data:{claims:a,header:n,signature:i},error:null}}catch(r){if(h(r))return this._returnResult({data:null,error:r});throw r}}}qe.nextInstanceID={};const He=qe,We=fe,Ve=qe},356:(e,t,r)=>{e.exports=r(9645).last},418:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},448:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const o=i(r(4087));a(r(219),t);var s=r(7980);Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var l=r(9642);Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),a(r(2292),t);var c=r(4087);Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return i(c).default}});t.createClient=(e,t,r)=>new o.default(e,t,r),function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18}()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},579:(e,t,r)=>{"use strict";e.exports=r(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},1210:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326),a=n.__importDefault(r(8829)),i=n.__importDefault(r(5736));class o{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:n=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let s;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;r||n?(s=r?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;l.searchParams.append(t,r)})):(s="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer","count=".concat(a)),new i.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}}t.default=o},1293:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof r&&(r={});const{leading:a=!1,trailing:i=!0,maxWait:o}=r,s=Array(2);let l;a&&(s[0]="leading"),i&&(s[1]="trailing");let c=null;const u=n.debounce(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l=e.apply(this,r),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,r),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,r),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(418),a=r(3272);t.toPath=function(e){if(Array.isArray(e))return e.map(a.toKey);if("symbol"===typeof e)return[e];const t=[],r=(e=n.toString(e)).length;if(0===r)return t;let i=0,o="",s="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),i++);i<r;){const n=e[i];s?"\\"===n&&i+1<r?(i++,o+=e[i]):n===s?s="":o+=n:l?'"'===n||"'"===n?s=n:"]"===n?(l=!1,t.push(o),o=""):o+=n:"["===n?(l=!0,o&&(t.push(o),o="")):"."===n?o&&(t.push(o),o=""):o+=n,i++}return o&&t.push(o),t}},2086:(e,t,r)=>{"use strict";e.exports=r(5082)},2104:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1203),a=r(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&n.isArrayLike(e)}},2132:(e,t,r)=>{"use strict";var n=r(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=r(870),i=r(4803),o=r(9972);function s(e,t,r,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===r(e.get(a),i,a,e,t,n))return!1}return!0}(e,t,r,n);if(t instanceof Set)return c(e,t,r,n);const a=Object.keys(t);if(null==e||i.isPrimitive(e))return 0===a.length;if(0===a.length)return!0;if(null!==n&&void 0!==n&&n.has(t))return n.get(t)===e;null===n||void 0===n||n.set(t,e);try{for(let o=0;o<a.length;o++){const s=a[o];if(!i.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!r(e[s],t[s],s,e,t,n))return!1}return!0}finally{null===n||void 0===n||n.delete(t)}}(e,t,r,u);case"function":return Object.keys(t).length>0?s(e,n({},t),r,u):o.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:o.eq(e,t)}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const o=t[i];let s=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(r(e[l],o,i,e,t,n)&&(c=!0),c){a.add(l),s=!0;break}}if(!s)return!1}return!0}function c(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}t.isMatchWith=function e(t,r,n){return"function"!==typeof n?e(t,r,()=>{}):s(t,r,function e(t,r,a,i,o,l){const c=n(t,r,a,i,o,l);return void 0!==c?Boolean(c):s(t,r,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5316),a=r(7312),i=r(3799);t.sortBy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];const s=r.length;return s>1&&i.isIterateeCall(e,r[0],r[1])?r=[]:s>2&&i.isIterateeCall(r[0],r[1],r[2])&&(r=[r[0]]),n.orderBy(e,a.flatten(r),["asc"])}},2292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{REALTIME_CHANNEL_STATES:()=>T,REALTIME_LISTEN_TYPES:()=>O,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>A,REALTIME_PRESENCE_LISTEN_EVENTS:()=>E,REALTIME_SUBSCRIBE_STATES:()=>C,RealtimeChannel:()=>D,RealtimeClient:()=>F,RealtimePresence:()=>P,WebSocketFactory:()=>n});const n=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(r," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(r," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},a="realtime-js/".concat("2.86.2"),i="1.0.0",o=i,s=1e4;var l,c,u,d,h,f;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(l||(l={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(c||(c={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(u||(u={})),function(e){e.websocket="websocket"}(d||(d={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(h||(h={}));class p{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},a=(new TextEncoder).encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,r){var n,a;const i=e.topic,o=null!==(n=e.ref)&&void 0!==n?n:"",s=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(s.length>255)throw new Error("joinRef length ".concat(s.length," exceeds maximum of 255"));if(o.length>255)throw new Error("ref length ".concat(o.length," exceeds maximum of 255"));if(i.length>255)throw new Error("topic length ".concat(i.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+i.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,i.length),f.setUint8(p++,l.length),f.setUint8(p++,u.length),f.setUint8(p++,t),Array.from(s,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(i,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(u,e=>f.setUint8(p++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+r.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(r),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const r=JSON.parse(e),[n,a,i,o,s]=r;return t({join_ref:n,ref:a,topic:i,event:o,payload:s})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,n)}_decodeUserBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2),i=t.getUint8(3),o=t.getUint8(4);let s=this.HEADER_LENGTH+4;const l=r.decode(e.slice(s,s+n));s+=n;const c=r.decode(e.slice(s,s+a));s+=a;const u=r.decode(e.slice(s,s+i));s+=i;const d=e.slice(s,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,f={type:this.BROADCAST_EVENT,event:c,payload:h};return i>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[r]=e;return t.includes(r)})):{}}}class m{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(f||(f={}));const g=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((r,a)=>(r[a]=v(a,e,t,n),r),{}):{}},v=(e,t,r,n)=>{const a=t.find(t=>t.name===e),i=null===a||void 0===a?void 0:a.type,o=r[e];return i&&!n.includes(i)?y(i,o):x(o)},y=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return N(t,r)}switch(e){case f.bool:return b(t);case f.float4:case f.float8:case f.int2:case f.int4:case f.int8:case f.numeric:case f.oid:return w(t);case f.json:case f.jsonb:return j(t);case f.timestamp:return _(t);case f.abstime:case f.date:case f.daterange:case f.int4range:case f.int8range:case f.money:case f.reltime:case f.text:case f.time:case f.timestamptz:case f.timetz:case f.tsrange:case f.tstzrange:default:return x(t)}},x=e=>e,b=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},w=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},j=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},N=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const i=e.slice(1,r);try{n=JSON.parse("["+i+"]")}catch(a){n=i?i.split(","):[]}return n.map(e=>y(t,e))}return e},_=e=>"string"===typeof e?e.replace(" ","T"):e,S=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class k{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var E,A,O,C;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(E||(E={}));class P{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=P.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=P.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=P.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,(e,t)=>{i[e]||(s[e]=t)}),this.map(i,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);i.length>0&&(o[e]=i),l.length>0&&(s[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:s},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),i.length>0){const r=e[t].map(e=>e.presence_ref),n=i.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,i,n)}),this.map(i,(t,r)=>{let a=e[t];if(!a)return;const i=r.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(A||(A={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(O||(O={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(C||(C={}));const T=c;class D{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;var n,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=c.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new k(this,u.join,this.params,this.timeout),this.rejoinTimer=new m(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=c.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=c.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=c.errored,this.rejoinTimer.scheduleTimeout())}),this._on(u.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new P(this),this.broadcastEndpointURL=S(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(n=this.params.config)||void 0===n?void 0:n.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==c.closed){const{config:{broadcast:i,presence:o,private:s}}=this.params,l=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],u=!!this.bindings[O.PRESENCE]&&this.bindings[O.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:s};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(C.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(C.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,i=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:o,schema:s,table:l,filter:u}}=a,d=r&&r[n];if(!d||d.event!==o||d.schema!==s||d.table!==l||d.filter!==u)return this.unsubscribe(),this.state=c.errored,void(null===e||void 0===e||e(C.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=i,void(e&&e(C.SUBSCRIBED))}null===e||void 0===e||e(C.SUBSCRIBED)}).receive("error",t=>{this.state=c.errored,null===e||void 0===e||e(C.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(C.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===c.joined&&e===O.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;const a=this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"";if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(n=r.timeout)&&void 0!==n?n:this.timeout);if(202===o.status)return{success:!0};let s=o.statusText;try{const e=await o.json();s=e.error||e.message||s}catch(l){}return Promise.reject(new Error(s))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=c.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(u.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new k(this,u.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=c.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),i}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new k(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const i=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=u;if(r&&[o,s,l,c].indexOf(i)>=0&&r!==this._joinRef())return;let d=this._onMessage(i,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===i}).map(e=>e.callback(d,r)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var r,n,a,o,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return i&&(null===(n=t.ids)||void 0===n?void 0:n.includes(i))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(s=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:i}=e,o={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:i};d=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===c.closed}_isJoined(){return this.state===c.joined}_isJoining(){return this.state===c.joining}_isLeaving(){return this.state===c.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&D.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(u.close,{},e)}_onError(e){this._on(u.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=c.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=g(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=g(e.columns,e.old_record)),t}}const R=()=>{},I=25e3,M=10,L=100,z=[1e3,2e3,5e3,1e4];class F{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=s,this.transport=null,this.heartbeatIntervalMs=I,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=R,this.ref=0,this.reconnectTimer=null,this.vsn=o,this.logger=R,this.conn=null,this.sendBuffer=[],this.serializer=new p,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(d.websocket),this.httpEndpoint=S(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case l.connecting:return h.Connecting;case l.open:return h.Open;case l.closing:return h.Closing;default:return h.Closed}}isConnected(){return this.connectionState()===h.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new D("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},L)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(s){this.log("error","error in heartbeat callback",s)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:a}=e,i=a?"(".concat(a,")"):"",o=n.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(r," ").concat(i).trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===l.open||this.conn.readyState===l.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(u.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:a};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(u.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(n){this.log("error","error in ".concat(e," callback"),n)}})}catch(r){this.log("error","error triggering ".concat(e," callbacks"),r)}}_setupReconnectionTimer(){this.reconnectTimer=new m(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},M)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,a,l,c,u,d,h,f,p,m;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:s,this.heartbeatIntervalMs=null!==(n=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:I,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(l=null===e||void 0===e?void 0:e.accessToken)&&void 0!==l?l:null,this.heartbeatCallback=null!==(c=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==c?c:R,this.vsn=null!==(u=null===e||void 0===e?void 0:e.vsn)&&void 0!==u?u:o,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(d=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==d?d:e=>z[e-1]||1e4,this.vsn){case i:this.encode=null!==(h=null===e||void 0===e?void 0:e.encode)&&void 0!==h?h:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(f=null===e||void 0===e?void 0:e.decode)&&void 0!==f?f:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(p=null===e||void 0===e?void 0:e.encode)&&void 0!==p?p:this.serializer.encode.bind(this.serializer),this.decode=null!==(m=null===e||void 0===e?void 0:e.decode)&&void 0!==m?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}},2330:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useState,o=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(n){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return s(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),o(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},2681:(e,t)=>{"use strict";function r(e){return e.endsWith("/")?e:e+"/"}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=void 0,t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},t.ensureTrailingSlash=r,t.applySettingDefaults=function(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===s||void 0===s?void 0:s.headers)&&void 0!==n?n:{})}),accessToken:async()=>""};e.accessToken?h.accessToken=e.accessToken:delete h.accessToken;return h},t.validateSupabaseUrl=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(t))}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}};t.isBrowser=()=>"undefined"!==typeof window},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const r=e[Symbol.toStringTag];if(null==r)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(r,"]")}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}},2715:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9599),a=r(7330),i=r(3808),o=r(8845);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},2897:(e,t,r)=>{var n=r(3693);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const n=r(9488);let a="";a="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node",t.DEFAULT_HEADERS={"X-Client-Info":"supabase-js-".concat(a,"/").concat(n.version)},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}},3693:(e,t,r)=>{var n=r(7736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4704),a=r(1203),i=r(870),o=r(9972);t.isIterateeCall=function(e,t,r){return!!i.isObject(r)&&(!!("number"===typeof t&&a.isArrayLike(r)&&n.isIndex(t)&&t<r.length||"string"===typeof t&&t in r)&&o.eq(r[t],e))}},3808:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>n.isMatch(t,e)}},3821:(e,t,r)=>{e.exports=r(2204).sortBy},4087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9642),a=r(7980),i=r(2292),o=r(5887),s=r(3425),l=r(100),c=r(2681),u=r(7337);t.default=class{constructor(e,t,r){var n,i,u;this.supabaseUrl=e,this.supabaseKey=t;const d=(0,c.validateSupabaseUrl)(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h="sb-".concat(d.hostname.split(".")[0],"-auth-token"),f={db:s.DEFAULT_DB_OPTIONS,realtime:s.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},s.DEFAULT_AUTH_OPTIONS),{storageKey:h}),global:s.DEFAULT_GLOBAL_OPTIONS},p=(0,c.applySettingDefaults)(null!==r&&void 0!==r?r:{},f);this.storageKey=null!==(n=p.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(i=p.global.headers)&&void 0!==i?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(u=p.auth)&&void 0!==u?u:{},this.headers,p.global.fetch),this.fetch=(0,l.fetchWithAuth)(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new a.PostgrestClient(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:o,userStorage:s,storageKey:l,flowType:c,lock:d,debug:h,throwOnError:f}=e;const p={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),t),storageKey:l,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:o,userStorage:s,flowType:c,lock:d,debug:h,throwOnError:f,fetch:r,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new i.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const a=e[n],i=t(a);r.has(i)||r.set(i,a)}return Array.from(r.values())}},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||m}function x(){}function b(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var w=b.prototype=new x;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var j=Array.isArray;function N(){}var _={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function k(e,t,n){var a=n.ref;return{$$typeof:r,type:e,key:t,ref:void 0!==a?a:null,props:n}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return C((u=e._init)(e._payload),t,a,i,o)}}if(u)return o=o(e),u=""===i?"."+O(e,0):i,j(o)?(a="",null!=u&&(a=u.replace(A,"$&/")+"/"),C(o,t,a,"",function(e){return e})):null!=o&&(E(o)&&(l=o,c=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+u,o=k(l.type,c,l.props)),t.push(o)),1;u=0;var d,f=""===i?".":i+":";if(j(e))for(var m=0;m<e.length;m++)u+=C(i=e[m],t,a,s=f+O(i,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=C(i=i.value,t,a,s=f+O(i,m++),o);else if("object"===s){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,r){if(null==e)return e;var n=[],a=0;return C(e,n,"","",function(e){return t.call(r,e,a++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=R,t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=g({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(n[i]=t[i]);var i=arguments.length-2;if(1===i)n.children=r;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];n.children=o}return k(e.type,a,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,r){var n,a={},i=null;if(null!=t)for(n in void 0!==t.key&&(i=""+t.key),t)S.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return k(e,i,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,r={};_.T=r;try{var n=e(),a=_.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(N,D)}catch(i){D(i)}finally{null!==t&&null!==r.types&&(t.types=r.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,r){return _.H.useActionState(e,t,r)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,r){return _.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return _.H.useReducer(e,t,r)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return _.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.1"},4332:(e,t,r)=>{e.exports=r(5053).uniqBy},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return r.test(e)}}},4705:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function i(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>i})},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let r,{signal:n,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;const o=null!=a&&a.includes("leading"),s=null==a||a.includes("trailing"),l=()=>{null!==i&&(e.apply(r,i),r=void 0,i=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),r=void 0,i=null},h=function(){if(null!==n&&void 0!==n&&n.aborted)return;r=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=t;const s=null==c;u(),o&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===n||void 0===n||n.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5053:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4208),a=r(9599),i=r(2104),o=r(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?n.uniqBy(Array.from(e),o.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,x=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case i:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===d}t.isFragment=function(e){return w(e)===i}},5261:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2489),a=r(4704),i=r(6321),o=r(1444);t.has=function(e,t){let r;if(r=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===r.length)return!1;let s=e;for(let n=0;n<r.length;n++){const e=r[n];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||i.isArguments(s))&&a.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9709),a=r(7043),i=r(1444);t.orderBy=function(e,t,r,o){if(null==e)return[];r=o?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));const s=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=n.compareValues(e.criteria[a],t.criteria[a],r[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},5414:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=r;return n.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},5508:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433),a=r(7599);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,i,o,s)=>{const l=null===t||void 0===t?void 0:t(r,i,o,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return n.copyProperties(t,e),t}case a.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326).__importDefault(r(7374)),a=new RegExp("[,()]");class i extends n.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&a.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const i=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=i},5887:(e,t,r)=>{"use strict";r.r(t),r.d(t,{StorageAnalyticsClient:()=>I,StorageApiError:()=>o,StorageClient:()=>re,StorageError:()=>a,StorageUnknownError:()=>s,StorageVectorsApiError:()=>F,StorageVectorsClient:()=>Q,StorageVectorsError:()=>L,StorageVectorsErrorCode:()=>B,StorageVectorsUnknownError:()=>U,VectorBucketApi:()=>Z,VectorBucketScope:()=>ee,VectorDataApi:()=>X,VectorIndexApi:()=>J,VectorIndexScope:()=>te,isPlainObject:()=>W,isStorageError:()=>i,isStorageVectorsError:()=>z,normalizeToFloat32:()=>V,resolveFetch:()=>q,resolveResponse:()=>H,validateVectorDimension:()=>K});var n=r(6326);class a extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function i(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class o extends a{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class s extends a{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const l=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},c=e=>{if(Array.isArray(e))return e.map(e=>c(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=c(n)}),t},u=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},d=(e,t,r)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){const n=yield Response;e instanceof n&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(r=>{const n=e.status||500,a=(null===r||void 0===r?void 0:r.statusCode)||n+"";t(new o(u(r),n,a))}).catch(e=>{t(new s(u(e),e))}):t(new s(u(e),e))}),h=(e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r)):a};function f(e,t,r,a,i,o){return(0,n.__awaiter)(this,void 0,void 0,function*(){return new Promise((n,s)=>{e(r,h(t,a,i,o)).then(e=>{if(!e.ok)throw e;return(null===a||void 0===a?void 0:a.noResolveJson)?e:e.json()}).then(e=>n(e)).catch(e=>d(e,s,a))})})}function p(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"GET",t,r,a)})}function m(e,t,r,a,i){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"POST",t,a,i,r)})}function g(e,t,r,a,i){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"PUT",t,a,i,r)})}function v(e,t,r,a,i){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"DELETE",t,a,i,r)})}class y{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(i(e))return{data:null,error:e};throw e}})}}var x;x=Symbol.toStringTag;const b=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[x]="BlobDownloadBuilder",this.promise=null}asStream(){return new y(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(i(e))return{data:null,error:e};throw e}})}},w={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=l(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let n;const i=Object.assign(Object.assign({},j),a);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;if("undefined"!==typeof Blob&&r instanceof Blob)n=new FormData,n.append("cacheControl",i.cacheControl),s&&n.append("metadata",this.encodeMetadata(s)),n.append("",r);else if("undefined"!==typeof FormData&&r instanceof FormData)n=r,n.has("cacheControl")||n.append("cacheControl",i.cacheControl),s&&!n.has("metadata")&&n.append("metadata",this.encodeMetadata(s));else{n=r,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,s&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(s)));("undefined"!==typeof ReadableStream&&n instanceof ReadableStream||n&&"object"===typeof n&&"pipe"in n&&"function"===typeof n.pipe)&&!i.duplex&&(i.duplex="half")}(null===a||void 0===a?void 0:a.headers)&&(o=Object.assign(Object.assign({},o),a.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?g:m)(this.fetch,"".concat(this.url,"/object/").concat(c),n,Object.assign({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(i(n))return{data:null,error:n};throw n}})}upload(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),s=new URL(this.url+"/object/upload/sign/".concat(o));s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:j.upsert},a),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType);return{data:{path:n,fullPath:(yield g(this.fetch,s.toString(),e,{headers:i})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(i(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const i=yield m(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:n}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new a("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(i(r))return{data:null,error:r};throw r}})}update(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield m(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(i(n))return{data:null,error:n};throw n}})}copy(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield m(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(i(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield m(this.fetch,"".concat(this.url,"/object/sign/").concat(n),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(i))},{data:a,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(i(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const n=yield m(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(i(n))return{data:null,error:n};throw n}})}download(e,t){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"",i=this._getFinalPath(e);return new b(()=>p(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(i).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield p(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:c(e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(i(r))return{data:null,error:r};throw r}})}exists(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){return f(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(i(r)&&r instanceof s){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&n.push(o);let s=n.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(r).concat(s))}}}remove(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(i(t))return{data:null,error:t};throw t}})}list(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},w),t),{prefix:e||""});return{data:yield m(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(i(n))return{data:null,error:n};throw n}})}listV2(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield m(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(i(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const _="2.86.2",S={"X-Client-Info":"storage-js/".concat(_)};class k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const a=new URL(e);if(null===n||void 0===n?void 0:n.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S),t),this.fetch=l(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield p(this.fetch,"".concat(this.url,"/bucket").concat(t),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(i(t))return{data:null,error:t};throw t}})}getBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield p(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(i(t))return{data:null,error:t};throw t}})}createBucket(e){return(0,n.__awaiter)(this,arguments,void 0,function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return function*(){try{return{data:yield m(t.fetch,"".concat(t.url,"/bucket"),{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(i(n))return{data:null,error:n};throw n}}()})}updateBucket(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield g(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(i(r))return{data:null,error:r};throw r}})}emptyBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield m(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(i(t))return{data:null,error:t};throw t}})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(i(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var E=r(9379),A=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(r=t.icebergType)||void 0===r?void 0:r.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function O(e){var t;const r=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:n,path:a,query:i,body:o,headers:s}=t;const l=function(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))void 0!==i&&n.searchParams.set(a,i);return n.toString()}(e.baseUrl,a,i),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),u=await r(l,{method:n,headers:(0,E.A)((0,E.A)((0,E.A)({},o?{"Content-Type":"application/json"}:{}),c),s),body:o?JSON.stringify(o):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){var p;const e=h?f:void 0,t=null===e||void 0===e?void 0:e.error;throw new A(null!==(p=null===t||void 0===t?void 0:t.message)&&void 0!==p?p:"Request failed with status ".concat(u.status),{status:u.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:u.status,headers:u.headers,data:f}}}}function C(e){return e.join("\x1f")}var P=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:C(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(C(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(C(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(C(e.namespace))}),!0}catch(t){if(t instanceof A&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof A&&409===r.status)return;throw r}}};function T(e){return e.join("\x1f")}var D=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace),"/tables"),body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){var r;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(r=null===t||void 0===t?void 0:t.purge)&&void 0!==r&&r)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(T(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(r){if(r instanceof A&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof A&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},R=class{constructor(e){var t;let r="v1";e.catalogName&&(r+="/".concat(e.catalogName));const n=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=O({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new P(this.client,r),this.tableOps=new D(this.client,r,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class I{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S),t),this.fetch=l(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield m(this.fetch,"".concat(this.url,"/bucket"),{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(i(t))return{data:null,error:t};throw t}})}listBuckets(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&t.set("search",e.search);const r=t.toString(),n=r?"".concat(this.url,"/bucket?").concat(r):"".concat(this.url,"/bucket");return{data:yield p(this.fetch,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(i(t))return{data:null,error:t};throw t}})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield v(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(i(t))return{data:null,error:t};throw t}})}from(e){if(!(e=>!(!e||"string"!==typeof e)&&(!(0===e.length||e.length>100)&&(e.trim()===e&&(!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)))))(e))throw new a("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new R({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>(0,n.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const M={"X-Client-Info":"storage-js/".concat(_),"Content-Type":"application/json"};class L extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function z(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}class F extends L{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class U extends L{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var B;!function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"}(B||(B={}));const q=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},H=()=>Response,W=e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},V=e=>Array.from(new Float32Array(e)),K=(e,t)=>{if(void 0!==t&&e.float32.length!==t)throw new Error("Vector dimension mismatch: expected ".concat(t,", got ").concat(e.float32.length))},G=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function Y(e,t,r,a,i,o){return(0,n.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?(W(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a})(t,a,i,o)).then(e=>{if(!e.ok)throw e;if(null===a||void 0===a?void 0:a.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>s(e)).catch(e=>((e,t,r)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===r||void 0===r?void 0:r.noResolveJson)){const r=e.status||500,n=e;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||r+"";t(new F(G(e),r,n))}).catch(()=>{const e=r+"",a=n.statusText||"HTTP ".concat(r," error");t(new F(a,r,e))});else{const e=r+"",a=n.statusText||"HTTP ".concat(r," error");t(new F(a,r,e))}}else t(new U(G(e),e))}))(e,l,a))})})}function $(e,t,r,a,i){return(0,n.__awaiter)(this,void 0,void 0,function*(){return Y(e,"POST",t,a,i,r)})}class J{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},M),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield $(this.fetch,"".concat(this.url,"/CreateIndex"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}getIndex(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield $(this.fetch,"".concat(this.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(z(r))return{data:null,error:r};throw r}})}listIndexes(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield $(this.fetch,"".concat(this.url,"/ListIndexes"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield $(this.fetch,"".concat(this.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(z(r))return{data:null,error:r};throw r}})}}class X{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},M),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $(this.fetch,"".concat(this.url,"/PutVectors"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}getVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield $(this.fetch,"".concat(this.url,"/GetVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}listVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:yield $(this.fetch,"".concat(this.url,"/ListVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}queryVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield $(this.fetch,"".concat(this.url,"/QueryVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}deleteVectors(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $(this.fetch,"".concat(this.url,"/DeleteVectors"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}}class Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},M),t),this.fetch=q(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield $(this.fetch,"".concat(this.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}getBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield $(this.fetch,"".concat(this.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}listBuckets(){return(0,n.__awaiter)(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){try{return{data:yield $(e.fetch,"".concat(e.url,"/ListVectorBuckets"),t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(z(r))return{data:null,error:r};throw r}}()})}deleteBucket(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield $(this.fetch,"".concat(this.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(z(t))return{data:null,error:t};throw t}})}}class Q extends Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new ee(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listBuckets.call(t,r)}()})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class ee extends J{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listIndexes.call(t,Object.assign(Object.assign({},r),{vectorBucketName:t.vectorBucketName}))}()})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new te(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class te extends X{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,n.__awaiter)(this,arguments,void 0,function(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listVectors.call(t,Object.assign(Object.assign({},r),{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}()})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,n.__awaiter)(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class re extends k{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new N(this.url,this.headers,e,this.fetch)}get vectors(){return new Q(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new I(this.url+"/iceberg",this.headers,this.fetch)}}},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function j(e){if(g=!1,w(e),!m)if(null!==n(c))m=!0,_||(_=!0,N());else{var t=n(u);null!==t&&T(j,t.startTime-e)}}var N,_=!1,S=-1,k=5,E=-1;function A(){return!!v||!(t.unstable_now()-E<k)}function O(){if(v=!1,_){var e=t.unstable_now();E=e;var r=!0;try{e:{m=!1,g&&(g=!1,x(S),S=-1),p=!0;var i=f;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&A());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),r=!0;break t}h===n(c)&&a(c),w(e)}else a(c);h=n(c)}if(null!==h)r=!0;else{var l=n(u);null!==l&&T(j,l.startTime-e),r=!1}}break e}finally{h=null,f=i,p=!1}r=void 0}}finally{r?N():_=!1}}}if("function"===typeof b)N=function(){b(O)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,P=C.port2;C.port1.onmessage=O,N=function(){P.postMessage(null)}}else N=function(){y(O,0)};function T(e,r){S=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(g?(x(S),S=-1):g=!0,T(j,i-o))):(e.sortIndex=s,r(c,e),m||p||(m=!0,_||(_=!0,N()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},6326:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>I,__assign:()=>i,__asyncDelegator:()=>S,__asyncGenerator:()=>_,__asyncValues:()=>k,__await:()=>N,__awaiter:()=>p,__classPrivateFieldGet:()=>T,__classPrivateFieldIn:()=>R,__classPrivateFieldSet:()=>D,__createBinding:()=>g,__decorate:()=>s,__disposeResources:()=>L,__esDecorate:()=>c,__exportStar:()=>v,__extends:()=>a,__generator:()=>m,__importDefault:()=>P,__importStar:()=>C,__makeTemplateObject:()=>E,__metadata:()=>f,__param:()=>l,__propKey:()=>d,__read:()=>x,__rest:()=>o,__rewriteRelativeImportExtension:()=>z,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>b,__spreadArray:()=>j,__spreadArrays:()=>w,__values:()=>y,default:()=>F});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function s(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t,r,n,a,i){function o(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,f=r.length-1;f>=0;f--){var p={};for(var m in n)p[m]="access"===m?{}:n[m];for(var m in n.access)p.access[m]=n.access[m];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(e||null))};var g=(0,r[f])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!==typeof g)throw new TypeError("Object expected");(s=o(g.get))&&(d.get=s),(s=o(g.set))&&(d.set=s),(s=o(g.init))&&a.unshift(s)}else(s=o(g))&&("field"===l?a.unshift(s):d[c]=s)}u&&Object.defineProperty(u,n.name,d),h=!0}function u(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function d(e){return"symbol"===typeof e?e:"".concat(e)}function h(e,t,r){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function f(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,r,n){return new(r||(r=Promise))(function(a,i){function o(e){try{l(n.next(e))}catch(t){i(t)}}function s(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})}function m(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(l){s=[6,l],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var g=Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function v(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function y(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e}function w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function j(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function N(e){return this instanceof N?(this.v=e,this):new N(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),i=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){a[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})},t&&(n[e]=t(n[e])))}function s(e,t){try{(r=a[e](t)).value instanceof N?Promise.resolve(r.value.v).then(l,c):u(i[0][2],r)}catch(n){u(i[0][3],n)}var r}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function S(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:N(e[n](t)),done:!1}:a?a(t):t}:a}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},O=function(e){return O=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},O(e)};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=O(e),n=0;n<r.length;n++)"default"!==r[n]&&g(t,e,r[n]);return A(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function T(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function D(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}function R(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function I(e,t,r){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if("function"!==typeof n)throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var M="function"===typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function L(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function a(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(e){return t(e),a()})}else n|=1}catch(o){t(o)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function z(e,t){return"string"===typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,a,i){return r?t?".jsx":".js":!n||a&&i?n+a+"."+i.toLowerCase()+"js":e}):e}const F={__extends:a,__assign:i,__rest:o,__decorate:s,__param:l,__esDecorate:c,__runInitializers:u,__propKey:d,__setFunctionName:h,__metadata:f,__awaiter:p,__generator:m,__createBinding:g,__exportStar:v,__values:y,__read:x,__spread:b,__spreadArrays:w,__spreadArray:j,__await:N,__asyncGenerator:_,__asyncDelegator:S,__asyncValues:k,__makeTemplateObject:E,__importStar:C,__importDefault:P,__classPrivateFieldGet:T,__classPrivateFieldSet:D,__classPrivateFieldIn:R,__addDisposableResource:I,__disposeResources:L,__rewriteRelativeImportExtension:z}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6443),a=r(5990),i=r(7599),o=r(4803),s=r(3757);function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,r,n);if(void 0!==d)return d;if(o.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,r,n,u));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const a of e)t.add(l(a,void 0,r,n,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,r,n,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,r,n,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,n,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof String){const t=new String(e.valueOf());return n.set(e,t),c(t,e,r,n,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,r,n,u),t}return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<o.length;n++){const s=o[n],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,r,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,r)=>{"use strict";var n=r(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=r,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):"script"===r&&o.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);o.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.1"},6770:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},7004:(e,t,r)=>{"use strict";var n=r(8853),a=r(5043),i=r(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var O=Symbol.iterator;function C(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case N:return"Suspense";case _:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return T(e(t))}catch(r){}}return null}var D=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=L[z],L[z]=null,z--)}function B(e,t){z++,L[z]=e.current,e.current=t}var q,H,W=F(null),V=F(null),K=F(null),G=F(null);function Y(e,t){switch(B(K,t),B(V,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),B(W,e)}function $(){U(W),U(V),U(K)}function J(e){null!==e.memoizedState&&B(G,e);var t=W.current,r=yd(t,e.type);t!==r&&(B(V,e),B(W,r))}function X(e){V.current===e&&(U(W),U(V)),G.current===e&&(U(G),uh._currentValue=M)}function Z(e){if(void 0===q)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",H=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+H}var Q=!1;function ee(e,t){if(!e||Q)return"";Q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(i){n=i}e.call(r.prototype)}}else{try{throw Error()}catch(o){n=o}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(s){if(s&&n&&"string"===typeof s.stack)return[s.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=a);break}}}finally{Q=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Z(r):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function re(e){try{var t="",r=null;do{t+=te(e,r),r=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ne=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,ie=n.unstable_cancelCallback,oe=n.unstable_shouldYield,se=n.unstable_requestPaint,le=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,ue=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,he=n.unstable_NormalPriority,fe=n.unstable_LowPriority,pe=n.unstable_IdlePriority,me=n.log,ge=n.unstable_setDisableYieldValue,ve=null,ye=null;function xe(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/je|0)|0},we=Math.log,je=Math.LN2;var Ne=256,_e=262144,Se=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&n;return 0!==s?0!==(n=s&~i)?a=ke(n):0!==(o&=s)?a=ke(o):r||0!==(r=s&~e)&&(a=ke(r)):0!==(s=n&~i)?a=ke(s):0!==o?a=ke(o):r||0!==(r=n&~e)&&(a=ke(r)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(r=t&-t)||32===i&&0!==(4194048&r))?t:a}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Oe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Pe(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-be(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&r}function Re(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-be(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Ie(e,t){var r=t&-t;return 0!==((r=0!==(42&r)?1:Me(r))&(e.suspendedLanes|t))?0:r}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:kh(e.type)}function Fe(e,t){var r=I.p;try{return I.p=e,t()}finally{I.p=r}}var Ue=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ue,qe="__reactProps$"+Ue,He="__reactContainer$"+Ue,We="__reactEvents$"+Ue,Ve="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,Ye="__reactMarker$"+Ue;function $e(e){delete e[Be],delete e[qe],delete e[We],delete e[Ve],delete e[Ke]}function Je(e){var t=e[Be];if(t)return t;for(var r=e.parentNode;r;){if(t=r[He]||r[Be]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Md(e);null!==e;){if(r=e[Be])return r;e=Md(e)}return t}r=(e=r).parentNode}return null}function Xe(e){if(e=e[Be]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Qe(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,rt={};function nt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(rt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},st={};function lt(e,t,r){if(a=t,ne.call(st,a)||!ne.call(ot,a)&&(it.test(a)?st[a]=!0:(ot[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function ct(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function ut(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ht(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,r,n,a,i,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,dt(t)):null!=r?bt(e,o,dt(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function xt(e,t,r,n,a,i,o,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=r){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return void ft(e);r=null!=r?""+dt(r):"",t=null!=t?""+dt(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function bt(e,t,r){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function wt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+dt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function jt(e,t,r){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+dt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(o(92));if(D(n)){if(1<n.length)throw Error(o(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=dt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n),ft(e)}function _t(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||St.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Et(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&kt(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ot=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tt(){}var Dt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Mt=null;function Lt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var r=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[qe]||null;if(!a)throw Error(o(90));yt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&pt(n)}break e;case"textarea":jt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&wt(e,!!r.multiple,t,!1)}}}var zt=!1;function Ft(e,t,r){if(zt)return e(t,r);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==It||null!==Mt)&&(Qc(),It&&(t=It,e=Mt,Mt=It=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ut(e,t){var r=e.stateNode;if(null===r)return null;var n=r[qe]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Bt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Xh){qt=!1}var Wt=null,Vt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,r=Vt,n=r.length,a="value"in Wt?Wt.value:Wt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Jt(){return!1}function Xt(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?$t:Jt,this.isPropagationStopped=Jt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Zt,Qt,er,tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Xt(tr),nr=f({},tr,{view:0,detail:0}),ar=Xt(nr),ir=f({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&"mousemove"===e.type?(Zt=e.screenX-er.screenX,Qt=e.screenY-er.screenY):Qt=Zt=0,er=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),or=Xt(ir),sr=Xt(f({},ir,{dataTransfer:0})),lr=Xt(f({},nr,{relatedTarget:0})),cr=Xt(f({},tr,{animationName:0,elapsedTime:0,pseudoElement:0})),ur=Xt(f({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dr=Xt(f({},tr,{data:0})),hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pr[e])&&!!t[e]}function gr(){return mr}var vr=Xt(f({},nr,{key:function(e){if(e.key){var t=hr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yr=Xt(f({},ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xr=Xt(f({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr})),br=Xt(f({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0})),wr=Xt(f({},ir,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jr=Xt(f({},tr,{newState:0,oldState:0})),Nr=[9,13,27,32],_r=Bt&&"CompositionEvent"in window,Sr=null;Bt&&"documentMode"in document&&(Sr=document.documentMode);var kr=Bt&&"TextEvent"in window&&!Sr,Er=Bt&&(!_r||Sr&&8<Sr&&11>=Sr),Ar=String.fromCharCode(32),Or=!1;function Cr(e,t){switch(e){case"keyup":return-1!==Nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tr=!1;var Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dr[e.type]:"textarea"===t}function Ir(e,t,r,n){It?Mt?Mt.push(n):Mt=[n]:It=n,0<(t=nd(t,"onChange")).length&&(r=new rr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mr=null,Lr=null;function zr(e){$u(e,0)}function Fr(e){if(pt(Ze(e)))return e}function Ur(e,t){if("change"===e)return t}var Br=!1;if(Bt){var qr;if(Bt){var Hr="oninput"in document;if(!Hr){var Wr=document.createElement("div");Wr.setAttribute("oninput","return;"),Hr="function"===typeof Wr.oninput}qr=Hr}else qr=!1;Br=qr&&(!document.documentMode||9<document.documentMode)}function Vr(){Mr&&(Mr.detachEvent("onpropertychange",Kr),Lr=Mr=null)}function Kr(e){if("value"===e.propertyName&&Fr(Lr)){var t=[];Ir(t,Lr,e,Rt(e)),Ft(zr,t)}}function Gr(e,t,r){"focusin"===e?(Vr(),Lr=r,(Mr=t).attachEvent("onpropertychange",Kr)):"focusout"===e&&Vr()}function Yr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fr(Lr)}function $r(e,t){if("click"===e)return Fr(t)}function Jr(e,t){if("input"===e||"change"===e)return Fr(t)}var Xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zr(e,t){if(Xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ne.call(t,a)||!Xr(e[a],t[a]))return!1}return!0}function Qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var r,n=Qr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qr(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rn(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=mt((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var an=Bt&&"documentMode"in document&&11>=document.documentMode,on=null,sn=null,ln=null,cn=!1;function un(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;cn||null==on||on!==mt(n)||("selectionStart"in(n=on)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ln&&Zr(ln,n)||(ln=n,0<(n=nd(sn,"onSelect")).length&&(t=new rr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=on)))}function dn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},fn={},pn={};function mn(e){if(fn[e])return fn[e];if(!hn[e])return e;var t,r=hn[e];for(t in r)if(r.hasOwnProperty(t)&&t in pn)return fn[e]=r[t];return e}Bt&&(pn=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);var gn=mn("animationend"),vn=mn("animationiteration"),yn=mn("animationstart"),xn=mn("transitionrun"),bn=mn("transitionstart"),wn=mn("transitioncancel"),jn=mn("transitionend"),Nn=new Map,_n="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Nn.set(e,t),nt(t,[e])}_n.push("scrollEnd");var kn="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},En=[],An=0,On=0;function Cn(){for(var e=An,t=On=An=0;t<e;){var r=En[t];En[t++]=null;var n=En[t];En[t++]=null;var a=En[t];En[t++]=null;var i=En[t];if(En[t++]=null,null!==n&&null!==a){var o=n.pending;null===o?a.next=a:(a.next=o.next,o.next=a),n.pending=a}0!==i&&Rn(r,a,i)}}function Pn(e,t,r,n){En[An++]=e,En[An++]=t,En[An++]=r,En[An++]=n,On|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Tn(e,t,r,n){return Pn(e,t,r,n),In(e)}function Dn(e,t){return Pn(e,null,null,t),In(e)}function Rn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,i=e.return;null!==i;)i.childLanes|=r,null!==(n=i.alternate)&&(n.childLanes|=r),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-be(r),null===(n=(e=i.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),i):null}function In(e){if(50<Wc)throw Wc=0,Vc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function Ln(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,r,n){return new Ln(e,t,r,n)}function Fn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Un(e,t){var r=e.alternate;return null===r?((r=zn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qn(e,t,r,n,a,i){var s=0;if(n=e,"function"===typeof e)Fn(e)&&(s=1);else if("string"===typeof e)s=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=zn(31,r,t,a)).elementType=E,e.lanes=i,e;case v:return Hn(r.children,a,i,t);case y:s=8,a|=24;break;case x:return(e=zn(12,r,t,2|a)).elementType=x,e.lanes=i,e;case N:return(e=zn(13,r,t,a)).elementType=N,e.lanes=i,e;case _:return(e=zn(19,r,t,a)).elementType=_,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:s=10;break e;case b:s=9;break e;case j:s=11;break e;case S:s=14;break e;case k:s=16,n=null;break e}s=29,r=Error(o(130,null===e?"null":typeof e,"")),n=null}return(t=zn(s,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Hn(e,t,r,n){return(e=zn(7,e,n,t)).lanes=r,e}function Wn(e,t,r){return(e=zn(6,e,null,t)).lanes=r,e}function Vn(e){var t=zn(18,null,null,0);return t.stateNode=e,t}function Kn(e,t,r){return(t=zn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gn=new WeakMap;function Yn(e,t){if("object"===typeof e&&null!==e){var r=Gn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:re(t)},Gn.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var $n=[],Jn=0,Xn=null,Zn=0,Qn=[],ea=0,ta=null,ra=1,na="";function aa(e,t){$n[Jn++]=Zn,$n[Jn++]=Xn,Xn=e,Zn=t}function ia(e,t,r){Qn[ea++]=ra,Qn[ea++]=na,Qn[ea++]=ta,ta=e;var n=ra;e=na;var a=32-be(n)-1;n&=~(1<<a),r+=1;var i=32-be(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,ra=1<<32-be(t)+a|r<<a|n,na=i+e}else ra=1<<i|r<<a|n,na=e}function oa(e){null!==e.return&&(aa(e,1),ia(e,1,0))}function sa(e){for(;e===Xn;)Xn=$n[--Jn],$n[Jn]=null,Zn=$n[--Jn],$n[Jn]=null;for(;e===ta;)ta=Qn[--ea],Qn[ea]=null,na=Qn[--ea],Qn[ea]=null,ra=Qn[--ea],Qn[ea]=null}function la(e,t){Qn[ea++]=ra,Qn[ea++]=na,Qn[ea++]=ta,ra=t.id,na=t.overflow,ta=e}var ca=null,ua=null,da=!1,ha=null,fa=!1,pa=Error(o(519));function ma(e){throw wa(Yn(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pa}function ga(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Be]=e,t[qe]=n,r){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(r=0;r<Gu.length;r++)Ju(Gu[r],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),xt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),Nt(t,n.value,n.defaultValue,n.children)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||cd(t.textContent,r)?(null!=n.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=n.onScroll&&Ju("scroll",t),null!=n.onScrollEnd&&Ju("scrollend",t),null!=n.onClick&&(t.onclick=Tt),t=!0):t=!1,t||ma(e,!0)}function va(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ca=ca.return}}function ya(e){if(e!==ca)return!1;if(!da)return va(e),da=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xd(e.type,e.memoizedProps)),t=!t),t&&ua&&ma(e),va(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ua=Id(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ua=Id(e)}else 27===r?(r=ua,kd(e.type)?(e=Rd,Rd=null,ua=e):ua=r):ua=ca?Dd(e.stateNode.nextSibling):null;return!0}function xa(){ua=ca=null,da=!1}function ba(){var e=ha;return null!==e&&(null===Cc?Cc=e:Cc.push.apply(Cc,e),ha=null),e}function wa(e){null===ha?ha=[e]:ha.push(e)}var ja=F(null),Na=null,_a=null;function Sa(e,t,r){B(ja,t._currentValue),t._currentValue=r}function ka(e){e._currentValue=ja.current,U(ja)}function Ea(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Aa(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var s=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),Ea(i.return,r,e),n||(s=null);break e}i=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=r,null!==(i=s.alternate)&&(i.lanes|=r),Ea(s,r,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Oa(e,t,r,n){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=a.type;Xr(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===G.current){if(null===(s=a.alternate))throw Error(o(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}a=a.return}null!==e&&Aa(t,e,r,n),t.flags|=262144}function Ca(e){for(e=e.firstContext;null!==e;){if(!Xr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Na=e,_a=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ta(e){return Ra(Na,e)}function Da(e,t){return null===Na&&Pa(e),Ra(e,t)}function Ra(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===_a){if(null===e)throw Error(o(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return r}var Ia="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ma=n.unstable_scheduleCallback,La=n.unstable_NormalPriority,za={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Ia,data:new Map,refCount:0}}function Ua(e){e.refCount--,0===e.refCount&&Ma(La,function(){e.controller.abort()})}var Ba=null,qa=0,Ha=0,Wa=null;function Va(){if(0===--qa&&null!==Ba){null!==Wa&&(Wa.status="fulfilled");var e=Ba;Ba=null,Ha=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ka=R.S;R.S=function(e,t){Dc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ba){var r=Ba=[];qa=0,Ha=qu(),Wa={status:"pending",value:void 0,then:function(e){r.push(e)}}}qa++,t.then(Va,Va)}(0,t),null!==Ka&&Ka(e,t)};var Ga=F(null);function Ya(){var e=Ga.current;return null!==e?e:pc.pooledCache}function $a(e,t){B(Ga,null===t?Ga.current:t.pool)}function Ja(){var e=Ya();return null===e?null:{parent:za._currentValue,pool:e}}var Xa=Error(o(460)),Za=Error(o(474)),Qa=Error(o(542)),ei={then:function(){}};function ti(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ri(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Tt,Tt),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw oi(e=t.reason),e;default:if("string"===typeof t.status)t.then(Tt,Tt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oi(e=t.reason),e}throw ai=t,Xa}}function ni(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ai=t,Xa;throw t}}var ai=null;function ii(){if(null===ai)throw Error(o(459));var e=ai;return ai=null,e}function oi(e){if(e===Xa||e===Qa)throw Error(o(483))}var si=null,li=0;function ci(e){var t=li;return li+=1,null===si&&(si=[]),ri(si,e,t)}function ui(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function di(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Un(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Wn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===v?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===k&&ni(i)===t.type)?(ui(t=a(t,r.props),r),t.return=e,t):(ui(t=qn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Kn(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Hn(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ui(r=qn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case g:return(t=Kn(t,e.mode,r)).return=e,t;case k:return h(e,t=ni(t),r)}if(D(t)||C(t))return(t=Hn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,ci(t),r);if(t.$$typeof===w)return h(e,Da(e,t),r);di(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return r.key===a?c(e,t,r,n):null;case g:return r.key===a?u(e,t,r,n):null;case k:return f(e,t,r=ni(r),n)}if(D(r)||C(r))return null!==a?null:d(e,t,r,n,null);if("function"===typeof r.then)return f(e,t,ci(r),n);if(r.$$typeof===w)return f(e,t,Da(e,r),n);di(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case g:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case k:return p(e,t,r,n=ni(n),a)}if(D(n)||C(n))return d(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return p(e,t,r,ci(n),a);if(n.$$typeof===w)return p(e,t,r,Da(t,n),a);di(t,n)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===v){if(7===c.tag){r(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===k&&ni(x)===c.type){r(l,c.sibling),ui(d=a(c,u.props),u),d.return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Hn(u.props.children,l.mode,d,u.key)).return=l,l=d):(ui(d=qn(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}(d=Kn(u,l.mode,d)).return=l,l=d}return s(l);case k:return y(l,c,u=ni(u),d)}if(D(u))return function(a,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return r(a,d),da&&aa(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(o=i(d,o,m),null===u?c=d:u.sibling=d,u=d);return da&&aa(a,m),c}for(d=n(d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),da&&aa(a,m),c}(l,c,u,d);if(C(u)){if("function"!==typeof(x=C(u)))throw Error(o(150));return function(a,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=f(a,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(a,m),s=i(x,s,g),null===d?u=x:d.sibling=x,d=x,m=v}if(y.done)return r(a,m),da&&aa(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return da&&aa(a,g),u}for(m=n(m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),da&&aa(a,g),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return y(l,c,ci(u),d);if(u.$$typeof===w)return y(l,c,Da(l,u),d);di(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(d=a(c,u)).return=l,l=d):(r(l,c),(d=Wn(u,l.mode,d)).return=l,l=d),s(l)):r(l,c)}return function(e,t,r,n){try{li=0;var a=y(e,t,r,n);return si=null,a}catch(o){if(o===Xa||o===Qa)throw o;var i=zn(29,o,null,e.mode);return i.lanes=n,i.return=e,i}}}var fi=hi(!0),pi=hi(!1),mi=!1;function gi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&fc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=In(e),Rn(e,null,r),t}return Pn(e,n,t,r),In(e)}function bi(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Re(e,r)}}function wi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var ji=!1;function Ni(){if(ji){if(null!==Wa)throw Wa}}function _i(e,t,r,n){ji=!1;var a=e.updateQueue;mi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(gc&h)===h:(n&h)===h){0!==h&&h===Ha&&(ji=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var v=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:mi=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),_c|=o,e.lanes=o,e.memoizedState=d}}function Si(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ki(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)Si(r[e],t)}var Ei=F(null),Ai=F(0);function Oi(e,t){B(Ai,e=jc),B(Ei,t),jc=e|t.baseLanes}function Ci(){B(Ai,jc),B(Ei,Ei.current)}function Pi(){jc=Ai.current,U(Ei),U(Ai)}var Ti=F(null),Di=null;function Ri(e){var t=e.alternate;B(Fi,1&Fi.current),B(Ti,e),null===Di&&(null===t||null!==Ei.current||null!==t.memoizedState)&&(Di=e)}function Ii(e){B(Fi,Fi.current),B(Ti,e),null===Di&&(Di=e)}function Mi(e){22===e.tag?(B(Fi,Fi.current),B(Ti,e),null===Di&&(Di=e)):Li()}function Li(){B(Fi,Fi.current),B(Ti,Ti.current)}function zi(e){U(Ti),Di===e&&(Di=null),U(Fi)}var Fi=F(0);function Ui(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Pd(r)||Td(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=0,qi=null,Hi=null,Wi=null,Vi=!1,Ki=!1,Gi=!1,Yi=0,$i=0,Ji=null,Xi=0;function Zi(){throw Error(o(321))}function Qi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function eo(e,t,r,n,a,i){return Bi=i,qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?gs:vs,Gi=!1,i=r(n,a),Gi=!1,Ki&&(i=ro(t,r,n,a)),to(e),i}function to(e){R.H=ms;var t=null!==Hi&&null!==Hi.next;if(Bi=0,Wi=Hi=qi=null,Vi=!1,$i=0,Ji=null,t)throw Error(o(300));null===e||Ds||null!==(e=e.dependencies)&&Ca(e)&&(Ds=!0)}function ro(e,t,r,n){qi=e;var a=0;do{if(Ki&&(Ji=null),$i=0,Ki=!1,25<=a)throw Error(o(301));if(a+=1,Wi=Hi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}R.H=ys,i=t(r,n)}while(Ki);return i}function no(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==Hi?Hi.memoizedState:null)!==e&&(qi.flags|=1024),t}function ao(){var e=0!==Yi;return Yi=0,e}function io(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function oo(e){if(Vi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vi=!1}Bi=0,Wi=Hi=qi=null,Ki=!1,$i=Yi=0,Ji=null}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wi?qi.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function lo(){if(null===Hi){var e=qi.alternate;e=null!==e?e.memoizedState:null}else e=Hi.next;var t=null===Wi?qi.memoizedState:Wi.next;if(null!==t)Wi=t,Hi=e;else{if(null===e){if(null===qi.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Hi=e).memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},null===Wi?qi.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function co(e){var t=$i;return $i+=1,null===Ji&&(Ji=[]),e=ri(Ji,e,t),t=qi,null===(null===Wi?t.memoizedState:Wi.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?gs:vs),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===w)return Ta(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,r=qi.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=qi.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},qi.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=A;return t.index++,r}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return mo(lo(),Hi,e)}function mo(e,t,r){var n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(Bi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ha&&(d=!0);else{if((Bi&f)===f){u=u.next,f===Ha&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,qi.lanes|=f,_c|=f}h=u.action,Gi&&r(i,h),i=u.hasEagerState?u.eagerState:r(i,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,qi.lanes|=h,_c|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Xr(i,e.memoizedState)&&(Ds=!0,d&&null!==(r=Wa)))throw r;e.memoizedState=i,e.baseState=s,e.baseQueue=c,n.lastRenderedState=i}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function go(e){var t=lo(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);Xr(i,t.memoizedState)||(Ds=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function vo(e,t,r){var n=qi,a=lo(),i=da;if(i){if(void 0===r)throw Error(o(407));r=r()}else r=t();var s=!Xr((Hi||a).memoizedState,r);if(s&&(a.memoizedState=r,Ds=!0),a=a.queue,qo(bo.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==Wi&&1&Wi.memoizedState.tag){if(n.flags|=2048,Lo(9,{destroy:void 0},xo.bind(null,n,a,r,t),null),null===pc)throw Error(o(349));i||0!==(127&Bi)||yo(n,t,r)}return r}function yo(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=qi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function xo(e,t,r,n){t.value=r,t.getSnapshot=n,wo(t)&&jo(e)}function bo(e,t,r){return r(function(){wo(t)&&jo(e)})}function wo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch(n){return!0}}function jo(e){var t=Dn(e,2);null!==t&&Yc(t,e,2)}function No(e){var t=so();if("function"===typeof e){var r=e;if(e=r(),Gi){xe(!0);try{r()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function _o(e,t,r,n){return e.baseState=r,mo(e,Hi,"function"===typeof n?n:fo)}function So(e,t,r,n,a){if(hs(e))throw Error(o(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==R.T?r(!0):i.isTransition=!1,n(i),null===(r=t.pending)?(i.next=t.pending=i,ko(t,i)):(i.next=r.next,t.pending=r.next=i)}}function ko(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=R.T,o={};R.T=o;try{var s=r(a,n),l=R.S;null!==l&&l(o,s),Eo(e,t,s)}catch(c){Oo(e,t,c)}finally{null!==i&&null!==o.types&&(i.types=o.types),R.T=i}}else try{Eo(e,t,i=r(a,n))}catch(u){Oo(e,t,u)}}function Eo(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){Ao(e,t,r)},function(r){return Oo(e,t,r)}):Ao(e,t,r)}function Ao(e,t,r){t.status="fulfilled",t.value=r,Co(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ko(e,r)))}function Oo(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,Co(t),t=t.next}while(t!==n)}e.action=null}function Co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function To(e,t){if(da){var r=pc.formState;if(null!==r){e:{var n=qi;if(da){if(ua){t:{for(var a=ua,i=fa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=Dd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){ua=Dd(a.nextSibling),n="F!"===a.data;break e}}ma(n)}n=!1}n&&(t=r[0])}}return(r=so()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},r.queue=n,r=cs.bind(null,qi,n),n.dispatch=r,n=No(!1),i=ds.bind(null,qi,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=so()).queue=a,r=So.bind(null,qi,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function Do(e){return Ro(lo(),Hi,e)}function Ro(e,t,r){if(t=mo(e,t,Po)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=co(t)}catch(o){if(o===Xa)throw Qa;throw o}else n=t;var a=(t=lo()).queue,i=a.dispatch;return r!==t.memoizedState&&(qi.flags|=2048,Lo(9,{destroy:void 0},Io.bind(null,a,r),null)),[n,i,e]}function Io(e,t){e.action=t}function Mo(e){var t=lo(),r=Hi;if(null!==r)return Ro(t,r,e);lo(),t=t.memoizedState;var n=(r=lo()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Lo(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=qi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qi.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function zo(){return lo().memoizedState}function Fo(e,t,r,n){var a=so();qi.flags|=e,a.memoizedState=Lo(1|t,{destroy:void 0},r,void 0===n?null:n)}function Uo(e,t,r,n){var a=lo();n=void 0===n?null:n;var i=a.memoizedState.inst;null!==Hi&&null!==n&&Qi(n,Hi.memoizedState.deps)?a.memoizedState=Lo(t,i,r,n):(qi.flags|=e,a.memoizedState=Lo(1|t,i,r,n))}function Bo(e,t){Fo(8390656,8,e,t)}function qo(e,t){Uo(2048,8,e,t)}function Ho(e){var t=lo().memoizedState;return function(e){qi.flags|=4;var t=qi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qi.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Wo(e,t){return Uo(4,2,e,t)}function Vo(e,t){return Uo(4,4,e,t)}function Ko(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Uo(4,4,Ko.bind(null,t,e),r)}function Yo(){}function $o(e,t){var r=lo();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Qi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Jo(e,t){var r=lo();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Qi(t,n[1]))return n[0];if(n=e(),Gi){xe(!0);try{e()}finally{xe(!1)}}return r.memoizedState=[n,t],n}function Xo(e,t,r){return void 0===r||0!==(1073741824&Bi)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=r,e=Gc(),qi.lanes|=e,_c|=e,r)}function Zo(e,t,r,n){return Xr(r,t)?r:null!==Ei.current?(e=Xo(e,r,n),Xr(e,t)||(Ds=!0),e):0===(42&Bi)||0!==(1073741824&Bi)&&0===(261930&gc)?(Ds=!0,e.memoizedState=r):(e=Gc(),qi.lanes|=e,_c|=e,t)}function Qo(e,t,r,n,a){var i=I.p;I.p=0!==i&&8>i?i:8;var o=R.T,s={};R.T=s,ds(e,!1,t,r);try{var l=a(),c=R.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n),Kc());else us(e,t,n,Kc())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{I.p=i,null!==o&&null!==s.types&&(o.types=s.types),R.T=o}}function es(){}function ts(e,t,r,n){if(5!==e.tag)throw Error(o(476));var a=rs(e).queue;Qo(e,a,t,M,null===r?es:function(){return ns(e),r(n)})}function rs(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:M},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ns(e){var t=rs(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Kc())}function as(){return Ta(uh)}function is(){return lo().memoizedState}function os(){return lo().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Kc(),n=xi(t,e=yi(r),r);return null!==n&&(Yc(n,t,r),bi(n,t,r)),t={cache:Fa()},void(e.payload=t)}t=t.return}}function ls(e,t,r){var n=Kc();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)?fs(t,r):null!==(r=Tn(e,t,r,n))&&(Yc(r,e,n),ps(r,t,n))}function cs(e,t,r){us(e,t,r,Kc())}function us(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(hs(e))fs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Xr(s,o))return Pn(e,t,a,0),null===pc&&Cn(),!1}catch(l){}if(null!==(r=Tn(e,t,a,n)))return Yc(r,e,n),ps(r,t,n),!0}return!1}function ds(e,t,r,n){if(n={lane:2,revertLane:qu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(o(479))}else null!==(t=Tn(e,r,n,2))&&Yc(t,e,2)}function hs(e){var t=e.alternate;return e===qi||null!==t&&t===qi}function fs(e,t){Ki=Vi=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ps(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Re(e,r)}}var ms={readContext:Ta,use:uo,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useLayoutEffect:Zi,useInsertionEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useSyncExternalStore:Zi,useId:Zi,useHostTransitionStatus:Zi,useFormState:Zi,useActionState:Zi,useOptimistic:Zi,useMemoCache:Zi,useCacheRefresh:Zi};ms.useEffectEvent=Zi;var gs={readContext:Ta,use:uo,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Bo,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Fo(4194308,4,Ko.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){Fo(4,2,e,t)},useMemo:function(e,t){var r=so();t=void 0===t?null:t;var n=e();if(Gi){xe(!0);try{e()}finally{xe(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=so();if(void 0!==r){var a=r(t);if(Gi){xe(!0);try{r(t)}finally{xe(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=ls.bind(null,qi,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},so().memoizedState=e},useState:function(e){var t=(e=No(e)).queue,r=cs.bind(null,qi,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Yo,useDeferredValue:function(e,t){return Xo(so(),e,t)},useTransition:function(){var e=No(!1);return e=Qo.bind(null,qi,e.queue,!0,!1),so().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=qi,a=so();if(da){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===pc)throw Error(o(349));0!==(127&gc)||yo(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Bo(bo.bind(null,n,i,e),[e]),n.flags|=2048,Lo(9,{destroy:void 0},xo.bind(null,n,i,r,t),null),r},useId:function(){var e=so(),t=pc.identifierPrefix;if(da){var r=na;t="_"+t+"R_"+(r=(ra&~(1<<32-be(ra)-1)).toString(32)+r),0<(r=Yi++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Xi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:as,useFormState:To,useActionState:To,useOptimistic:function(e){var t=so();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=ds.bind(null,qi,!0,r),r.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return so().memoizedState=ss.bind(null,qi)},useEffectEvent:function(e){var t=so(),r={impl:e};return t.memoizedState=r,function(){if(0!==(2&fc))throw Error(o(440));return r.impl.apply(void 0,arguments)}}},vs={readContext:Ta,use:uo,useCallback:$o,useContext:Ta,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Wo,useLayoutEffect:Vo,useMemo:Jo,useReducer:po,useRef:zo,useState:function(){return po(fo)},useDebugValue:Yo,useDeferredValue:function(e,t){return Zo(lo(),Hi.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:is,useHostTransitionStatus:as,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){return _o(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:os};vs.useEffectEvent=Ho;var ys={readContext:Ta,use:uo,useCallback:$o,useContext:Ta,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Wo,useLayoutEffect:Vo,useMemo:Jo,useReducer:go,useRef:zo,useState:function(){return go(fo)},useDebugValue:Yo,useDeferredValue:function(e,t){var r=lo();return null===Hi?Xo(r,e,t):Zo(r,Hi.memoizedState,e,t)},useTransition:function(){var e=go(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:is,useHostTransitionStatus:as,useFormState:Mo,useActionState:Mo,useOptimistic:function(e,t){var r=lo();return null!==Hi?_o(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ho,useCacheRefresh:os};function xs(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:f({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}ys.useEffectEvent=Ho;var bs={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kc(),a=yi(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=xi(e,a,n))&&(Yc(t,e,n),bi(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kc(),a=yi(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=xi(e,a,n))&&(Yc(t,e,n),bi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kc(),n=yi(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=xi(e,n,r))&&(Yc(t,e,r),bi(t,e,r))}};function ws(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zr(r,n)||!Zr(a,i))}function js(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function Ns(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=f({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}function _s(e){kn(e)}function Ss(e){console.error(e)}function ks(e){kn(e)}function Es(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function As(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Os(e,t,r){return(r=yi(r)).tag=3,r.payload={element:null},r.callback=function(){Es(e,t)},r}function Cs(e){return(e=yi(e)).tag=3,e}function Ps(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){As(t,r,n)}}var o=r.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){As(t,r,n),"function"!==typeof a&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Ts=Error(o(461)),Ds=!1;function Rs(e,t,r,n){t.child=null===e?pi(t,null,r,n):fi(t,e.child,r,n)}function Is(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var s in n)"ref"!==s&&(o[s]=n[s])}else o=n;return Pa(t),n=eo(e,t,r,o,i,a),s=ao(),null===e||Ds?(da&&s&&oa(t),t.flags|=1,Rs(e,t,n,a),t.child):(io(e,t,a),al(e,t,a))}function Ms(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Fn(i)||void 0!==i.defaultProps||null!==r.compare?((e=qn(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ls(e,t,i,n,a))}if(i=e.child,!il(e,a)){var o=i.memoizedProps;if((r=null!==(r=r.compare)?r:Zr)(o,n)&&e.ref===t.ref)return al(e,t,a)}return t.flags|=1,(e=Un(i,n)).ref=t.ref,e.return=t,t.child=e}function Ls(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(Zr(i,n)&&e.ref===t.ref){if(Ds=!1,t.pendingProps=n=i,!il(e,a))return t.lanes=e.lanes,al(e,t,a);0!==(131072&e.flags)&&(Ds=!0)}}return Ws(e,t,r,n,a)}function zs(e,t,r,n){var a=n.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(i=null!==i?i.baseLanes|r:r,null!==e){for(n=t.child=e.child,a=0;null!==n;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return Us(e,t,i,r,n)}if(0===(536870912&r))return n=t.lanes=536870912,Us(e,t,null!==i?i.baseLanes|r:r,r,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$a(0,null!==i?i.cachePool:null),null!==i?Oi(t,i):Ci(),Mi(t)}else null!==i?($a(0,i.cachePool),Oi(t,i),Li(),t.memoizedState=null):(null!==e&&$a(0,null),Ci(),Li());return Rs(e,t,a,r),t.child}function Fs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Us(e,t,r,n,a){var i=Ya();return i=null===i?null:{parent:za._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},null!==e&&$a(0,null),Ci(),Mi(t),null!==e&&Oa(e,t,n,!0),t.childLanes=a,null}function Bs(e,t){return(t=Qs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qs(e,t,r){return fi(t,e.child,null,r),(e=Bs(t,t.pendingProps)).flags|=2,zi(t),t.memoizedState=null,e}function Hs(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(o(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Ws(e,t,r,n,a){return Pa(t),r=eo(e,t,r,n,void 0,a),n=ao(),null===e||Ds?(da&&n&&oa(t),t.flags|=1,Rs(e,t,r,a),t.child):(io(e,t,a),al(e,t,a))}function Vs(e,t,r,n,a,i){return Pa(t),t.updateQueue=null,r=ro(t,n,r,a),to(e),n=ao(),null===e||Ds?(da&&n&&oa(t),t.flags|=1,Rs(e,t,r,i),t.child):(io(e,t,i),al(e,t,i))}function Ks(e,t,r,n,a){if(Pa(t),null===t.stateNode){var i=Mn,o=r.contextType;"object"===typeof o&&null!==o&&(i=Ta(o)),i=new r(n,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=bs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=n,i.state=t.memoizedState,i.refs={},gi(t),o=r.contextType,i.context="object"===typeof o&&null!==o?Ta(o):Mn,i.state=t.memoizedState,"function"===typeof(o=r.getDerivedStateFromProps)&&(xs(t,r,o,n),i.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(o=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),o!==i.state&&bs.enqueueReplaceState(i,i.state,null),_i(t,n,i,a),Ni(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=Ns(r,s);i.props=l;var c=i.context,u=r.contextType;o=Mn,"object"===typeof u&&null!==u&&(o=Ta(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==o)&&js(t,i,n,o),mi=!1;var h=t.memoizedState;i.state=h,_i(t,n,i,a),Ni(),c=t.memoizedState,s||h!==c||mi?("function"===typeof d&&(xs(t,r,d,n),c=t.memoizedState),(l=mi||ws(t,r,l,n,h,c,o))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=o,n=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,vi(e,t),u=Ns(r,o=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=r.contextType,l=Mn,"object"===typeof c&&null!==c&&(l=Ta(c)),(c="function"===typeof(s=r.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&js(t,i,n,l),mi=!1,h=t.memoizedState,i.state=h,_i(t,n,i,a),Ni();var f=t.memoizedState;o!==d||h!==f||mi||null!==e&&null!==e.dependencies&&Ca(e.dependencies)?("function"===typeof s&&(xs(t,r,s,n),f=t.memoizedState),(u=mi||ws(t,r,u,n,h,f,l)||null!==e&&null!==e.dependencies&&Ca(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=l,n=u):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Hs(e,t),n=0!==(128&t.flags),i||n?(i=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&n?(t.child=fi(t,e.child,null,a),t.child=fi(t,null,r,a)):Rs(e,t,r,a),t.memoizedState=i.state,e=t.child):e=al(e,t,a),e}function Gs(e,t,r,n){return xa(),t.flags|=256,Rs(e,t,r,n),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(e){return{baseLanes:e,cachePool:Ja()}}function Js(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Ec),e}function Xs(e,t,r){var n,a=t.pendingProps,i=!1,s=0!==(128&t.flags);if((n=s)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Fi.current)),n&&(i=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(da){if(i?Ri(t):Li(),(e=ua)?null!==(e=null!==(e=Cd(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},(r=Vn(e)).return=t,t.child=r,ca=t,ua=null):e=null,null===e)throw ma(t);return Td(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Li(),l=Qs({mode:"hidden",children:l},i=t.mode),a=Hn(a,i,r,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=$s(r),a.childLanes=Js(e,n,r),t.memoizedState=Ys,Fs(null,a)):(Ri(t),Zs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Ri(t),t.flags&=-257,t=el(e,t,r)):null!==t.memoizedState?(Li(),t.child=e.child,t.flags|=128,t=null):(Li(),l=a.fallback,i=t.mode,a=Qs({mode:"visible",children:a.children},i),(l=Hn(l,i,r,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,fi(t,e.child,null,r),(a=t.child).memoizedState=$s(r),a.childLanes=Js(e,n,r),t.memoizedState=Ys,t=Fs(null,a));else if(Ri(t),Td(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var u=n.dgst;n=u,(a=Error(o(419))).stack="",a.digest=n,wa({value:a,source:null,stack:null}),t=el(e,t,r)}else if(Ds||Oa(e,t,r,!1),n=0!==(r&e.childLanes),Ds||n){if(null!==(n=pc)&&(0!==(a=Ie(n,r))&&a!==c.retryLane))throw c.retryLane=a,Dn(e,a),Yc(n,e,a),Ts;Pd(l)||ou(),t=el(e,t,r)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ua=Dd(l.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Zs(t,a.children)).flags|=4096);return t}return i?(Li(),l=a.fallback,i=t.mode,u=(c=e.child).sibling,(a=Un(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Un(u,l):(l=Hn(l,i,r,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Fs(null,a),a=t.child,null===(l=e.child.memoizedState)?l=$s(r):(null!==(i=l.cachePool)?(c=za._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Ja(),l={baseLanes:l.baseLanes|r,cachePool:i}),a.memoizedState=l,a.childLanes=Js(e,n,r),t.memoizedState=Ys,Fs(e.child,a)):(Ri(t),e=(r=e.child).sibling,(r=Un(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Zs(e,t){return(t=Qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Qs(e,t){return(e=zn(22,e,null,t)).lanes=0,e}function el(e,t,r){return fi(t,e.child,null,r),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ea(e.return,t,r)}function rl(e,t,r,n,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function nl(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Fi.current,s=0!==(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,B(Fi,o),Rs(e,t,n,r),n=da?Zn:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,r,t);else if(19===e.tag)tl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Ui(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rl(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ui(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rl(t,!0,r,null,i,n);break;case"together":rl(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function al(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Oa(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Un(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Un(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function il(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ca(e))}function ol(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ds=!0;else{if(!il(e,r)&&0===(128&t.flags))return Ds=!1,function(e,t,r){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Sa(0,za,e.memoizedState.cache),xa();break;case 27:case 5:J(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Sa(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ii(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Ri(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Xs(e,t,r):(Ri(t),null!==(e=al(e,t,r))?e.sibling:null);Ri(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Oa(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return nl(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(Fi,Fi.current),n)break;return null;case 22:return t.lanes=0,zs(e,t,r,t.pendingProps);case 24:Sa(0,za,e.memoizedState.cache)}return al(e,t,r)}(e,t,r);Ds=0!==(131072&e.flags)}else Ds=!1,da&&0!==(1048576&t.flags)&&ia(t,Zn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ni(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===j){t.tag=11,t=Is(null,t,e,n,r);break e}if(a===S){t.tag=14,t=Ms(null,t,e,n,r);break e}}throw t=T(e)||e,Error(o(306,t,""))}Fn(e)?(n=Ns(e,n),t.tag=1,t=Ks(null,t,e,n,r)):(t.tag=0,t=Ws(null,t,e,n,r))}return t;case 0:return Ws(e,t,t.type,t.pendingProps,r);case 1:return Ks(e,t,n=t.type,a=Ns(n,t.pendingProps),r);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(o(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,vi(e,t),_i(t,n,null,r);var s=t.memoizedState;if(n=s.cache,Sa(0,za,n),n!==i.cache&&Aa(t,[za],r,!0),Ni(),n=s.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Gs(e,t,n,r);break e}if(n!==a){wa(a=Yn(Error(o(424)),t)),t=Gs(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ua=Dd(e.firstChild),ca=t,da=!0,ha=null,fa=!0,r=pi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(xa(),n===a){t=al(e,t,r);break e}Rs(e,t,n,r)}t=t.child}return t;case 26:return Hs(e,t),null===e?(r=Vd(t.type,null,t.pendingProps,null))?t.memoizedState=r:da||(r=t.type,e=t.pendingProps,(n=gd(K.current).createElement(r))[Be]=t,n[qe]=e,hd(n,r,e),et(n),t.stateNode=n):t.memoizedState=Vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&da&&(n=t.stateNode=Ld(t.type,t.pendingProps,K.current),ca=t,fa=!0,a=ua,kd(t.type)?(Rd=a,ua=Dd(n.firstChild)):ua=a),Rs(e,t,t.pendingProps.children,r),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&da&&((a=n=ua)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,fa))?(t.stateNode=n,ca=t,ua=Dd(n.firstChild),fa=!1,a=!0):a=!1),a||ma(t)),J(t),a=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,n=i.children,xd(a,i)?n=null:null!==s&&xd(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=eo(e,t,no,null,null,r),uh._currentValue=a),Hs(e,t),Rs(e,t,n,r),t.child;case 6:return null===e&&da&&((e=r=ua)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(r,t.pendingProps,fa))?(t.stateNode=r,ca=t,ua=null,e=!0):e=!1),e||ma(t)),null;case 13:return Xs(e,t,r);case 4:return Y(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=fi(t,null,n,r):Rs(e,t,n,r),t.child;case 11:return Is(e,t,t.type,t.pendingProps,r);case 7:return Rs(e,t,t.pendingProps,r),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Sa(0,t.type,n.value),Rs(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Pa(t),n=n(a=Ta(a)),t.flags|=1,Rs(e,t,n,r),t.child;case 14:return Ms(e,t,t.type,t.pendingProps,r);case 15:return Ls(e,t,t.type,t.pendingProps,r);case 19:return nl(e,t,r);case 31:return function(e,t,r){var n=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(da){if("hidden"===n.mode)return e=Bs(t,n),t.lanes=536870912,Fs(null,e);if(Ii(t),(e=ua)?null!==(e=null!==(e=Cd(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},(r=Vn(e)).return=t,t.child=r,ca=t,ua=null):e=null,null===e)throw ma(t);return t.lanes=536870912,null}return Bs(t,n)}var i=e.memoizedState;if(null!==i){var s=i.dehydrated;if(Ii(t),a)if(256&t.flags)t.flags&=-257,t=qs(e,t,r);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ds||Oa(e,t,r,!1),a=0!==(r&e.childLanes),Ds||a){if(null!==(n=pc)&&0!==(s=Ie(n,r))&&s!==i.retryLane)throw i.retryLane=s,Dn(e,s),Yc(n,e,s),Ts;ou(),t=qs(e,t,r)}else e=i.treeContext,ua=Dd(s.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Bs(t,n)).flags|=4096;return t}return(e=Un(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return zs(e,t,r,t.pendingProps);case 24:return Pa(t),n=Ta(za),null===e?(null===(a=Ya())&&(a=pc,i=Fa(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},gi(t),Sa(0,za,a)):(0!==(e.lanes&r)&&(vi(e,t),_i(t,null,null,r),Ni()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Sa(0,za,n)):(n=i.cache,Sa(0,za,n),n!==a.cache&&Aa(t,[za],r,!0))),Rs(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,r,n,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!nu())throw ai=ei,Za;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!nu())throw ai=ei,Za;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,Ac|=t)}function dl(e,t){if(!da)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fl(e,t,r){var n=t.pendingProps;switch(sa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ka(za),$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ya(t)?sl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ba())),hl(t),null;case 26:var a=t.type,i=t.memoizedState;return null===e?(sl(t),null!==i?(hl(t),cl(t,i)):(hl(t),ll(t,a,0,0,r))):i?i!==e.memoizedState?(sl(t),hl(t),cl(t,i)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&sl(t),hl(t),ll(t,a,0,0,r)),null;case 27:if(X(t),r=K.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&sl(t);else{if(!n){if(null===t.stateNode)throw Error(o(166));return hl(t),null}e=W.current,ya(t)?ga(t):(e=Ld(a,n,r),t.stateNode=e,sl(t))}return hl(t),null;case 5:if(X(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&sl(t);else{if(!n){if(null===t.stateNode)throw Error(o(166));return hl(t),null}if(i=W.current,ya(t))ga(t);else{var s=gd(K.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(i=s.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"===typeof n.is?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i="string"===typeof n.is?s.createElement(a,{is:n.is}):s.createElement(a)}}i[Be]=t,i[qe]=n;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)i.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=i;e:switch(hd(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&sl(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&sl(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(e=K.current,ya(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=ca))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||cd(e.nodeValue,r)))||ma(t,!0)}else(e=gd(e).createTextNode(n))[Be]=t,t.stateNode=e}return hl(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(n=ya(t),null!==r){if(null===e){if(!n)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Be]=t}else xa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else r=ba(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(zi(t),t):(zi(t),null);if(0!==(128&t.flags))throw Error(o(558))}return hl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ya(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[Be]=t}else xa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),a=!1}else a=ba(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(zi(t),t):(zi(t),null)}return zi(t),0!==(128&t.flags)?(t.lanes=r,t):(r=null!==n,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool),i=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return $(),null===e&&Qu(t.stateNode.containerInfo),hl(t),null;case 10:return ka(t.type),hl(t),null;case 19:if(U(Fi),null===(n=t.memoizedState))return hl(t),null;if(a=0!==(128&t.flags),null===(i=n.rendering))if(a)dl(n,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Ui(e))){for(t.flags|=128,dl(n,!1),e=i.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Bn(r,e),r=r.sibling;return B(Fi,1&Fi.current|2),da&&aa(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&le()>Rc&&(t.flags|=128,a=!0,dl(n,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Ui(i))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(n,!0),null===n.tail&&"hidden"===n.tailMode&&!i.alternate&&!da)return hl(t),null}else 2*le()-n.renderingStartTime>Rc&&536870912!==r&&(t.flags|=128,a=!0,dl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=n.last)?e.sibling=i:t.child=i,n.last=i)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=le(),e.sibling=null,r=Fi.current,B(Fi,a?1&r|2:1&r),da&&aa(t,n.treeForkCount),e):(hl(t),null);case 22:case 23:return zi(t),Pi(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(r=t.updateQueue)&&ul(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&U(Ga),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ka(za),hl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pl(e,t){switch(sa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ka(za),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(zi(t),null===t.alternate)throw Error(o(340));xa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));xa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Fi),null;case 4:return $(),null;case 10:return ka(t.type),null;case 22:case 23:return zi(t),Pi(),null!==e&&U(Ga),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ka(za),null;default:return null}}function ml(e,t){switch(sa(t),t.tag){case 3:ka(za),$();break;case 26:case 27:case 5:X(t);break;case 4:$();break;case 31:null!==t.memoizedState&&zi(t);break;case 13:zi(t);break;case 19:U(Fi);break;case 10:ka(t.type);break;case 22:case 23:zi(t),Pi(),null!==e&&U(Ga);break;case 24:ka(za)}}function gl(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(s){Nu(t,t.return,s)}}function vl(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,a=t;var l=r,c=s;try{c()}catch(u){Nu(a,l,u)}}}n=n.next}while(n!==i)}}catch(u){Nu(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{ki(t,r)}catch(n){Nu(e,e.return,n)}}}function xl(e,t,r){r.props=Ns(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Nu(e,t,n)}}function bl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){Nu(e,t,a)}}function wl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){Nu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(i){Nu(e,t,i)}else r.current=null}function jl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){Nu(e,e.return,a)}}function Nl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in r){var h=r[p];if(r.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(p)||ud(e,t,p,null,n,h)}}for(var f in n){var p=n[f];if(h=r[f],n.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&ud(e,t,f,p,n,h)}}return void yt(e,s,l,c,u,d,i,a);case"select":for(i in p=s=l=f=null,r)if(c=r[i],r.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(i)||ud(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&ud(e,t,a,i,n,c)}return t=l,r=s,n=p,void(null!=f?wt(e,!!r,f,!1):!!n!==!!r&&(null!=t?wt(e,!!r,t,!0):wt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=f=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,n,a)}for(s in n)if(a=n[s],i=r[s],n.hasOwnProperty(s)&&(null!=a||null!=i))switch(s){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:a!==i&&ud(e,t,s,a,n,i)}return void jt(e,f,p);case"option":for(var m in r)if(f=r[m],r.hasOwnProperty(m)&&null!=f&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,n,f);for(c in n)if(f=n[c],p=r[c],n.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&null!=f&&!n.hasOwnProperty(g)&&ud(e,t,g,null,n,f);for(u in n)if(f=n[u],p=r[u],n.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ud(e,t,u,f,n,p)}return;default:if(At(t)){for(var v in r)f=r[v],r.hasOwnProperty(v)&&void 0!==f&&!n.hasOwnProperty(v)&&dd(e,t,v,void 0,n,f);for(d in n)f=n[d],p=r[d],!n.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,n,p);return}}for(var y in r)f=r[y],r.hasOwnProperty(y)&&null!=f&&!n.hasOwnProperty(y)&&ud(e,t,y,null,n,f);for(h in n)f=n[h],p=r[h],!n.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,n,p)}(n,e.type,r,t),n[qe]=t}catch(a){Nu(e,e.return,a)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&kd(e.type)||4===e.tag}function Sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&kd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function kl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Tt));else if(4!==n&&(27===n&&kd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(kl(e,t,r),e=e.sibling;null!==e;)kl(e,t,r),e=e.sibling}function El(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&kd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(El(e,t,r),e=e.sibling;null!==e;)El(e,t,r),e=e.sibling}function Al(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);hd(t,n,r),t[Be]=e,t[qe]=r}catch(i){Nu(e,e.return,i)}}var Ol=!1,Cl=!1,Pl=!1,Tl="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Rl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Yl(e,r),4&n&&gl(5,r);break;case 1:if(Yl(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(o){Nu(r,r.return,o)}else{var a=Ns(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Nu(r,r.return,s)}}64&n&&yl(r),512&n&&bl(r,r.return);break;case 3:if(Yl(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{ki(e,t)}catch(o){Nu(r,r.return,o)}}break;case 27:null===t&&4&n&&Al(r);case 26:case 5:Yl(e,r),null===t&&4&n&&jl(r),512&n&&bl(r,r.return);break;case 12:Yl(e,r);break;case 31:Yl(e,r),4&n&&Ul(e,r);break;case 13:Yl(e,r),4&n&&Bl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=Eu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||Ol)){t=null!==t&&null!==t.memoizedState||Cl,a=Ol;var i=Cl;Ol=n,(Cl=t)&&!i?Jl(e,r,0!==(8772&r.subtreeFlags)):Yl(e,r),Ol=a,Cl=i}break;case 30:break;default:Yl(e,r)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Ll=!1;function zl(e,t,r){for(r=r.child;null!==r;)Fl(e,t,r),r=r.sibling}function Fl(e,t,r){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,r)}catch(i){}switch(r.tag){case 26:Cl||wl(r,t),zl(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Cl||wl(r,t);var n=Ml,a=Ll;kd(r.type)&&(Ml=r.stateNode,Ll=!1),zl(e,t,r),zd(r.stateNode),Ml=n,Ll=a;break;case 5:Cl||wl(r,t);case 6:if(n=Ml,a=Ll,Ml=null,zl(e,t,r),Ll=a,null!==(Ml=n))if(Ll)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(r.stateNode)}catch(o){Nu(r,t,o)}else try{Ml.removeChild(r.stateNode)}catch(o){Nu(r,t,o)}break;case 18:null!==Ml&&(Ll?(Ed(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Wh(e)):Ed(Ml,r.stateNode));break;case 4:n=Ml,a=Ll,Ml=r.stateNode.containerInfo,Ll=!0,zl(e,t,r),Ml=n,Ll=a;break;case 0:case 11:case 14:case 15:vl(2,r,t),Cl||vl(4,r,t),zl(e,t,r);break;case 1:Cl||(wl(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&xl(r,t,n)),zl(e,t,r);break;case 21:zl(e,t,r);break;case 22:Cl=(n=Cl)||null!==r.memoizedState,zl(e,t,r),Cl=n;break;default:zl(e,t,r)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(r){Nu(t,t.return,r)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(r){Nu(t,t.return,r)}}function ql(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Tl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var n=Au.bind(null,e,t);t.then(n,n)}})}function Hl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(kd(l.type)){Ml=l.stateNode,Ll=!1;break e}break;case 5:Ml=l.stateNode,Ll=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Ml)throw Error(o(160));Fl(i,s,a),Ml=null,Ll=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vl(t,e),t=t.sibling}var Wl=null;function Vl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&n&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&n&&(Cl||null===r||wl(r,r.return)),64&n&&Ol&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Wl;if(Hl(t,e),Kl(e),512&n&&(Cl||null===r||wl(r,r.return)),4&n){var i=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Ye]||i[Be]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),hd(i,n,r),i[Be]=e,et(i),n=i;break e;case"link":var s=rh("link","href",a).get(n+(r.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&i.getAttribute("rel")===(null==r.rel?null:r.rel)&&i.getAttribute("title")===(null==r.title?null:r.title)&&i.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){s.splice(l,1);break t}hd(i=a.createElement(n),n,r),a.head.appendChild(i);break;case"meta":if(s=rh("meta","content",a).get(n+(r.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&i.getAttribute("name")===(null==r.name?null:r.name)&&i.getAttribute("property")===(null==r.property?null:r.property)&&i.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&i.getAttribute("charset")===(null==r.charSet?null:r.charSet)){s.splice(l,1);break t}hd(i=a.createElement(n),n,r),a.head.appendChild(i);break;default:throw Error(o(468,n))}i[Be]=e,et(i),n=i}e.stateNode=n}else nh(a,e.type,e.stateNode);else e.stateNode=Xd(a,n,e.memoizedProps);else i!==n?(null===i?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):i.count--,null===n?nh(a,e.type,e.stateNode):Xd(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&Nl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&n&&(Cl||null===r||wl(r,r.return)),null!==r&&4&n&&Nl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&n&&(Cl||null===r||wl(r,r.return)),32&e.flags){a=e.stateNode;try{_t(a,"")}catch(m){Nu(e,e.return,m)}}4&n&&null!=e.stateNode&&Nl(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(Pl=!0);break;case 6:if(Hl(t,e),Kl(e),4&n){if(null===e.stateNode)throw Error(o(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(m){Nu(e,e.return,m)}}break;case 3:if(th=null,a=Wl,Wl=Bd(t.containerInfo),Hl(t,e),Wl=a,Kl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(m){Nu(e,e.return,m)}Pl&&(Pl=!1,Gl(e));break;case 4:n=Wl,Wl=Bd(e.stateNode.containerInfo),Hl(t,e),Kl(e),Wl=n;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,ql(e,n)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(Tc=le()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,ql(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=Ol,d=Cl;if(Ol=u||a,Cl=d||c,Hl(t,e),Cl=d,Ol=u,Kl(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||Ol||Cl||$l(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(i=c.stateNode,a)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Nu(c,c.return,m)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){Nu(c,c.return,m)}}}else if(18===t.tag){if(null===r){c=t;try{var p=c.stateNode;a?Ad(p,!0):Ad(c.stateNode,!1)}catch(m){Nu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,ql(e,r))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(_l(n)){r=n;break}n=n.return}if(null==r)throw Error(o(160));switch(r.tag){case 27:var a=r.stateNode;El(e,Sl(e),a);break;case 5:var i=r.stateNode;32&r.flags&&(_t(i,""),r.flags&=-33),El(e,Sl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;kl(e,Sl(e),s);break;default:throw Error(o(161))}}catch(l){Nu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),$l(t);break;case 1:wl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&xl(t,t.return,r),$l(t);break;case 27:zd(t.stateNode);case 26:case 5:wl(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Jl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Jl(a,i,r),gl(4,i);break;case 1:if(Jl(a,i,r),"function"===typeof(a=(n=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Nu(n,n.return,c)}if(null!==(a=(n=i).updateQueue)){var s=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Si(l[a],s)}catch(c){Nu(n,n.return,c)}}r&&64&o&&yl(i),bl(i,i.return);break;case 27:Al(i);case 26:case 5:Jl(a,i,r),r&&null===n&&4&o&&jl(i),bl(i,i.return);break;case 12:Jl(a,i,r);break;case 31:Jl(a,i,r),r&&4&o&&Ul(a,i);break;case 13:Jl(a,i,r),r&&4&o&&Bl(a,i);break;case 22:null===i.memoizedState&&Jl(a,i,r),bl(i,i.return);break;case 30:break;default:Jl(a,i,r)}t=t.sibling}}function Xl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Ua(r))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ua(e))}function Ql(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,r,n),t=t.sibling}function ec(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ql(e,t,r,n),2048&a&&gl(9,t);break;case 1:case 31:case 13:default:Ql(e,t,r,n);break;case 3:Ql(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ua(e)));break;case 12:if(2048&a){Ql(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Nu(t,t.return,l)}}else Ql(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,null!==t.memoizedState?2&i._visibility?Ql(e,t,r,n):rc(e,t):2&i._visibility?Ql(e,t,r,n):(i._visibility|=2,tc(e,t,r,n,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Xl(o,t);break;case 24:Ql(e,t,r,n),2048&a&&Zl(t.alternate,t)}}function tc(e,t,r,n,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,o=t,s=r,l=n,c=o.flags;switch(o.tag){case 0:case 11:case 15:tc(i,o,s,l,a),gl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tc(i,o,s,l,a):rc(i,o):(u._visibility|=2,tc(i,o,s,l,a)),a&&2048&c&&Xl(o.alternate,o);break;case 24:tc(i,o,s,l,a),a&&2048&c&&Zl(o.alternate,o);break;default:tc(i,o,s,l,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:rc(r,n),2048&a&&Xl(n.alternate,n);break;case 24:rc(r,n),2048&a&&Zl(n.alternate,n);break;default:rc(r,n)}t=t.sibling}}var nc=8192;function ac(e,t,r){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)ic(e,t,r),e=e.sibling}function ic(e,t,r){switch(e.tag){case 26:ac(e,t,r),e.flags&nc&&null!==e.memoizedState&&function(e,t,r,n){if("stylesheet"===r.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&r.state.loading)){if(null===r.instance){var a=Kd(n.href),i=t.querySelector(Gd(a));if(i)return null!==(t=i._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,void et(i);i=t.ownerDocument||t,n=Yd(n),(a=Fd.get(a))&&Qd(n,a),et(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(i,"link",n),r.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&0===(3&r.state.loading)&&(e.count++,r=oh.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,r);break;case 3:case 4:var n=Wl;Wl=Bd(e.stateNode.containerInfo),ac(e,t,r),Wl=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=nc,nc=16777216,ac(e,t,r),nc=n):ac(e,t,r))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Dl=n,uc(n,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Dl=n,uc(n,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Dl;){var r=Dl;switch(r.tag){case 0:case 11:case 15:vl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ua(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Dl=n;else e:for(r=e;null!==Dl;){var a=(n=Dl).sibling,i=n.return;if(Il(n),n===r){Dl=null;break e}if(null!==a){a.return=i,Dl=a;break e}Dl=i}}}var dc={getCacheForType:function(e){var t=Ta(za),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Ta(za).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,vc=0,yc=null,xc=!1,bc=!1,wc=!1,jc=0,Nc=0,_c=0,Sc=0,kc=0,Ec=0,Ac=0,Oc=null,Cc=null,Pc=!1,Tc=0,Dc=0,Rc=1/0,Ic=null,Mc=null,Lc=0,zc=null,Fc=null,Uc=0,Bc=0,qc=null,Hc=null,Wc=0,Vc=null;function Kc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==R.T?qu():ze()}function Gc(){if(0===Ec)if(0===(536870912&gc)||da){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Ec=e}else Ec=536870912;return null!==(e=Ti.current)&&(e.flags|=32),Ec}function Yc(e,t,r){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Zc(e,gc,Ec,!1)),Te(e,r),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(Sc|=r),4===Nc&&Zc(e,gc,Ec,!1)),Iu(e))}function $c(e,t,r){if(0!==(6&fc))throw Error(o(327));for(var n=!r&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),a=n?function(e,t){var r=fc;fc|=2;var n=au(),a=iu();pc!==e||gc!==t?(Ic=null,Rc=le()+500,tu(e,t)):bc=Ae(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var i=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,i,1);break;case 2:case 9:if(ti(i)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Iu(e)},i.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ti(i)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,i,7));break;case 5:var s=null;switch(mc.tag){case 26:s=mc.memoizedState;case 5:case 27:var l=mc;if(s?ah(s):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,i,5);break;case 6:vc=0,yc=null,hu(e,t,i,6);break;case 8:eu(),Nc=6;break e;default:throw Error(o(462))}}cu();break}catch(d){ru(e,d)}return _a=Na=null,R.H=n,R.A=a,fc=r,null!==mc?0:(pc=null,gc=0,Cn(),Nc)}(e,t):su(e,t,!0),i=n;;){if(0===a){bc&&!n&&Zc(e,t,0,!1);break}if(r=e.current.alternate,!i||Xc(r)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=Oc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,s).flags|=256),2!==(s=su(l,s,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=i,Sc|=i,a=4;break e}i=Cc,Cc=a,null!==i&&(null===Cc?Cc=i:Cc.push.apply(Cc,i))}a=s}if(i=!1,2!==a)continue}}if(1===a){tu(e,0),Zc(e,t,0,!0);break}e:{switch(n=e,i=a){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Zc(n,t,Ec,!xc);break e;case 2:Cc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(a=Tc+300-le())){if(Zc(n,t,Ec,!xc),0!==Ee(n,0,!0))break e;Uc=t,n.timeoutHandle=wd(Jc.bind(null,n,r,Cc,Ic,Pc,t,Ec,Sc,Ac,xc,i,"Throttled",-0,0),a)}else Jc(n,r,Cc,Ic,Pc,t,Ec,Sc,Ac,xc,i,null,-0,0)}break}a=su(e,t,!1),i=!1}Iu(e)}function Jc(e,t,r,n,a,i,o,s,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ic(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tt});var p=(62914560&i)===i?Tc-le():(4194048&i)===i?Dc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ih&&(ih=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,s=a.duration;if(i&&s&&fd(o)){for(o=0,s=a.responseEnd,n+=1;n<r.length;n++){var l=r[n],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--n,t+=8*(i+o)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}(d,p)))return Uc=i,e.cancelPendingCommit=p(mu.bind(null,e,t,i,r,n,a,o,s,l,u,d,null,h,f)),void Zc(e,i,o,!c)}mu(e,t,i,r,n,a,o,s,l)}function Xc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Xr(i(),a))return!1}catch(o){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,r,n){t&=~kc,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-be(a),o=1<<i;n[i]=-1,a&=~o}0!==r&&De(e,r,t)}function Qc(){return 0!==(6&fc)||(Mu(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else _a=Na=null,oo(e=mc),si=null,li=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,jd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Uc=0,eu(),pc=e,mc=r=Un(e.current,null),gc=t,vc=0,yc=null,xc=!1,bc=Ae(e,t),wc=!1,Ac=Ec=kc=Sc=_c=Nc=0,Cc=Oc=null,Pc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-be(n),i=1<<a;t|=e[a],n&=~i}return jc=t,Cn(),r}function ru(e,t){qi=null,R.H=ms,t===Xa||t===Qa?(t=ii(),vc=3):t===Za?(t=ii(),vc=4):vc=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===mc&&(Nc=1,Es(e,Yn(t,e.current)))}function nu(){var e=Ti.current;return null===e||((4194048&gc)===gc?null===Di:((62914560&gc)===gc||0!==(536870912&gc))&&e===Di)}function au(){var e=R.H;return R.H=ms,null===e?ms:e}function iu(){var e=R.A;return R.A=dc,e}function ou(){Nc=4,xc||(4194048&gc)!==gc&&null!==Ti.current||(bc=!0),0===(134217727&_c)&&0===(134217727&Sc)||null===pc||Zc(pc,gc,Ec,!1)}function su(e,t,r){var n=fc;fc|=2;var a=au(),i=iu();pc===e&&gc===t||(Ic=null,tu(e,t)),t=!1;var o=Nc;e:for(;;)try{if(0!==vc&&null!==mc){var s=mc,l=yc;switch(vc){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Ti.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,s,l,c),r&&bc){o=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,s,l,c)}}lu(),o=Nc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,_a=Na=null,fc=n,R.H=a,R.A=i,null===mc&&(pc=null,gc=0,Cn()),o}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!oe();)uu(mc)}function uu(e){var t=ol(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Vs(r,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Vs(r,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:oo(t);default:ml(r,t),t=ol(r,t=mc=Bn(t,jc),jc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e,t,r,n){_a=Na=null,oo(t),si=null,li=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Oa(t,r,a,!0),null!==(r=Ti.current)){switch(r.tag){case 31:case 13:return null===Di?ou():null===r.alternate&&0===Nc&&(Nc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===ei?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),_u(e,n,a)),!1;case 22:return r.flags|=65536,n===ei?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),_u(e,n,a)),!1}throw Error(o(435,r.tag))}return _u(e,n,a),ou(),!1}if(da)return null!==(t=Ti.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==pa&&wa(Yn(e=Error(o(422),{cause:n}),r))):(n!==pa&&wa(Yn(t=Error(o(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=Yn(n,r),wi(e,a=Os(e.stateNode,n,a)),4!==Nc&&(Nc=2)),!1;var i=Error(o(520),{cause:n});if(i=Yn(i,r),null===Oc?Oc=[i]:Oc.push(i),4!==Nc&&(Nc=2),null===t)return!0;n=Yn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,wi(r,e=Os(r.stateNode,n,e)),!1;case 1:if(t=r.type,i=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Mc||!Mc.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,Ps(a=Cs(a),e,r,n),wi(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,gc))return Nc=1,Es(e,Yn(r,e.current)),void(mc=null)}catch(i){if(null!==a)throw mc=a,i;return Nc=1,Es(e,Yn(r,e.current)),void(mc=null)}32768&t.flags?(da||1===n?e=!0:bc||0!==(536870912&gc)?e=!1:(xc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=Ti.current)&&13===n.tag&&(n.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,xc);e=t.return;var r=fl(t.alternate,t,jc);if(null!==r)return void(mc=r);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===Nc&&(Nc=5)}function pu(e,t){do{var r=pl(e.alternate,e);if(null!==r)return r.flags&=32767,void(mc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=r}while(null!==e);Nc=6,mc=null}function mu(e,t,r,n,a,i,s,l,c){e.cancelPendingCommit=null;do{bu()}while(0!==Lc);if(0!==(6&fc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,function(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=o&~r;0<r;){var u=31-be(r),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}r&=~d}0!==n&&De(e,n,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(o&~t))}(e,r,i|=On,s,l,c),e===pc&&(mc=pc=null,gc=0),Fc=t,zc=e,Uc=r,Bc=i,qc=a,Hc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null,a=I.p,I.p=2,s=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,pd=xh,nn(e=rn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(g){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=s+a),h!==i||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=s),f===i&&++d===n&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},xh=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(i=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(a=e[r]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var m=Ns(r.type,a);e=n.getSnapshotBeforeUpdate(m,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){Nu(r,r.return,v)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))Od(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Od(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{fc=s,I.p=a,R.T=n}}Lc=1,gu(),vu(),yu()}}function gu(){if(1===Lc){Lc=0;var e=zc,t=Fc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null;var n=I.p;I.p=2;var a=fc;fc|=4;try{Vl(t,e);var i=md,o=rn(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&tn(s.ownerDocument.documentElement,s)){if(null!==l&&nn(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var v=en(s,m),y=en(s,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var x=d.createRange();x.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(x),f.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),f.addRange(x))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}xh=!!pd,md=pd=null}finally{fc=a,I.p=n,R.T=r}}e.current=t,Lc=2}}function vu(){if(2===Lc){Lc=0;var e=zc,t=Fc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=R.T,R.T=null;var n=I.p;I.p=2;var a=fc;fc|=4;try{Rl(e,t.alternate,t)}finally{fc=a,I.p=n,R.T=r}}Lc=3}}function yu(){if(4===Lc||3===Lc){Lc=0,se();var e=zc,t=Fc,r=Uc,n=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lc=5:(Lc=0,Fc=zc=null,xu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Mc=null),Le(r),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=R.T,a=I.p,I.p=2,R.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];i(s.value,{componentStack:s.stack})}}finally{R.T=t,I.p=a}}0!==(3&Uc)&&bu(),Iu(e),a=e.pendingLanes,0!==(261930&r)&&0!==(42&a)?e===Vc?Wc++:(Wc=0,Vc=e):Wc=0,Mu(0,!1)}}function xu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ua(t)))}function bu(){return gu(),vu(),yu(),wu()}function wu(){if(5!==Lc)return!1;var e=zc,t=Bc;Bc=0;var r=Le(Uc),n=R.T,a=I.p;try{I.p=32>r?32:r,R.T=null,r=qc,qc=null;var i=zc,s=Uc;if(Lc=0,Fc=zc=null,Uc=0,0!==(6&fc))throw Error(o(331));var l=fc;if(fc|=4,lc(i.current),ec(i,i.current,s,r),fc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,i)}catch(c){}return!0}finally{I.p=a,R.T=n,xu(e,t)}}function ju(e,t,r){t=Yn(r,t),null!==(e=xi(e,t=Os(e.stateNode,t,2),2))&&(Te(e,2),Iu(e))}function Nu(e,t,r){if(3===e.tag)ju(e,e,r);else for(;null!==t;){if(3===t.tag){ju(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Mc||!Mc.has(n))){e=Yn(r,e),null!==(n=xi(t,r=Cs(2),2))&&(Ps(r,n,t,e),Te(n,2),Iu(n));break}}t=t.return}}function _u(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(wc=!0,a.add(r),e=Su.bind(null,e,t,r),t.then(e,e))}function Su(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,pc===e&&(gc&r)===r&&(4===Nc||3===Nc&&(62914560&gc)===gc&&300>le()-Tc?0===(2&fc)&&tu(e,0):kc|=r,Ac===gc&&(Ac=0)),Iu(e)}function ku(e,t){0===t&&(t=Ce()),null!==(e=Dn(e,t))&&(Te(e,t),Iu(e))}function Eu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),ku(e,r)}function Au(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==n&&n.delete(t),ku(e,r)}var Ou=null,Cu=null,Pu=!1,Tu=!1,Du=!1,Ru=0;function Iu(e){e!==Cu&&null===e.next&&(null===Cu?Ou=Cu=e:Cu=Cu.next=e),Tu=!0,Pu||(Pu=!0,_d(function(){0!==(6&fc)?ae(ue,Lu):zu()}))}function Mu(e,t){if(!Du&&Tu){Du=!0;do{for(var r=!1,n=Ou;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var i=0;else{var o=n.suspendedLanes,s=n.pingedLanes;i=(1<<31-be(42|e)+1)-1,i=201326741&(i&=a&~(o&~s))?201326741&i|1:i?2|i:0}0!==i&&(r=!0,Bu(n,i))}else i=gc,0===(3&(i=Ee(n,n===pc?i:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Ae(n,i)||(r=!0,Bu(n,i));n=n.next}}while(r);Du=!1}}function Lu(){zu()}function zu(){Tu=Pu=!1;var e=0;0!==Ru&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bd&&(bd=e,!0);return bd=null,!1}()&&(e=Ru);for(var t=le(),r=null,n=Ou;null!==n;){var a=n.next,i=Fu(n,t);0===i?(n.next=null,null===r?Ou=a:r.next=a,null===a&&(Cu=r)):(r=n,(0!==e||0!==(3&i))&&(Tu=!0)),n=a}0!==Lc&&5!==Lc||Mu(e,!1),0!==Ru&&(Ru=0)}function Fu(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var o=31-be(i),s=1<<o,l=a[o];-1===l?0!==(s&r)&&0===(s&n)||(a[o]=Oe(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(r=gc,r=Ee(e,e===(t=pc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&ie(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||Ae(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&ie(n),Le(r)){case 2:case 8:r=de;break;case 32:default:r=he;break;case 268435456:r=pe}return n=Uu.bind(null,e),r=ae(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&ie(n),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(bu()&&e.callbackNode!==r)return null;var n=gc;return 0===(n=Ee(e,e===pc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,n,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===r?Uu.bind(null,e):null)}function Bu(e,t){if(bu())return null;$c(e,t,!0)}function qu(){if(0===Ru){var e=Ha;0===e&&(e=Ne,0===(261888&(Ne<<=1))&&(Ne=256)),Ru=e}return Ru}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Wu(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Vu=0;Vu<_n.length;Vu++){var Ku=_n[Vu];Sn(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Sn(gn,"onAnimationEnd"),Sn(vn,"onAnimationIteration"),Sn(yn,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(xn,"onTransitionRun"),Sn(bn,"onTransitionStart"),Sn(wn,"onTransitionCancel"),Sn(jn,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function $u(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){kn(u)}a.currentTarget=null,i=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){kn(u)}a.currentTarget=null,i=l}}}}function Ju(e,t){var r=t[We];void 0===r&&(r=t[We]=new Set);var n=e+"__bubble";r.has(n)||(ed(t,e,2,!1),r.add(n))}function Xu(e,t,r){var n=0;t&&(n|=4),ed(r,e,n,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Qu(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function ed(e,t,r,n){switch(kh(t)){case 2:var a=bh;break;case 8:a=wh;break;default:a=jh}r=a.bind(null,t,r,e),a=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function td(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a)break;if(4===o)for(o=n.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==s;){if(null===(o=Je(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){n=i=o;continue e}s=s.parentNode}}n=n.return}Ft(function(){var n=i,a=Rt(r),o=[];e:{var s=Nn.get(e);if(void 0!==s){var c=rr,u=e;switch(e){case"keypress":if(0===Yt(r))break e;case"keydown":case"keyup":c=vr;break;case"focusin":u="focus",c=lr;break;case"focusout":u="blur",c=lr;break;case"beforeblur":case"afterblur":c=lr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xr;break;case gn:case vn:case yn:c=cr;break;case jn:c=br;break;case"scroll":case"scrollend":c=ar;break;case"wheel":c=wr;break;case"copy":case"cut":case"paste":c=ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yr;break;case"toggle":case"beforetoggle":c=jr}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=n;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,r,a),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===Dt||!(u=r.relatedTarget||r.fromElement)||!Je(u)&&!u[He])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Je(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=n),c!==u)){if(d=or,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=yr,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:Ze(c),p=null==u?s:Ze(u),(s=new d(g,m+"leave",c,r,a)).target=h,s.relatedTarget=p,g=null,Je(a)===n&&((d=new d(f,m+"enter",u,r,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&id(o,s,c,d,!1),null!==u&&null!==h&&id(o,h,u,d,!0)}if("select"===(c=(s=n?Ze(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Ur;else if(Rr(s))if(Br)y=Jr;else{y=Yr;var x=Gr}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?n&&At(n.elementType)&&(y=Ur):y=$r;switch(y&&(y=y(e,n))?Ir(o,y,r,a):(x&&x(e,s,n),"focusout"===e&&n&&"number"===s.type&&null!=n.memoizedProps.value&&bt(s,"number",s.value)),x=n?Ze(n):window,e){case"focusin":(Rr(x)||"true"===x.contentEditable)&&(on=x,sn=n,ln=null);break;case"focusout":ln=sn=on=null;break;case"mousedown":cn=!0;break;case"contextmenu":case"mouseup":case"dragend":cn=!1,un(o,r,a);break;case"selectionchange":if(an)break;case"keydown":case"keyup":un(o,r,a)}var b;if(_r)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Tr?Cr(e,r)&&(w="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(w="onCompositionStart");w&&(Er&&"ko"!==r.locale&&(Tr||"onCompositionStart"!==w?"onCompositionEnd"===w&&Tr&&(b=Gt()):(Vt="value"in(Wt=a)?Wt.value:Wt.textContent,Tr=!0)),0<(x=nd(n,w)).length&&(w=new dr(w,e,null,r,a),o.push({event:w,listeners:x}),b?w.data=b:null!==(b=Pr(r))&&(w.data=b))),(b=kr?function(e,t){switch(e){case"compositionend":return Pr(t);case"keypress":return 32!==t.which?null:(Or=!0,Ar);case"textInput":return(e=t.data)===Ar&&Or?null:e;default:return null}}(e,r):function(e,t){if(Tr)return"compositionend"===e||!_r&&Cr(e,t)?(e=Gt(),Kt=Vt=Wt=null,Tr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Er&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(w=nd(n,"onBeforeInput")).length&&(x=new dr("onBeforeInput","beforeinput",null,r,a),o.push({event:x,listeners:w}),x.data=b)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var i=Hu((a[qe]||null).action),o=n.submitter;o&&null!==(t=(t=o[qe]||null)?Hu(t.formAction):o.getAttribute("formAction"))&&(i=t,o=null);var s=new rr("action","action",null,n,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Ru){var e=o?Wu(a,o):new FormData(a);ts(r,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=o?Wu(a,o):new FormData(a),ts(r,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(o,e,n,r,a)}$u(o,t)})}function rd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nd(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Ut(e,r))&&n.unshift(rd(e,a,i)),null!=(a=Ut(e,t))&&n.push(rd(e,a,i))),3===e.tag)return n;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function id(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===n)break;5!==s&&26!==s&&27!==s||null===c||(l=c,a?null!=(c=Ut(r,i))&&o.unshift(rd(r,c,l)):a||null!=(c=Ut(r,i))&&o.push(rd(r,c,l))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var od=/\r\n?/g,sd=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(sd,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,r,n,a,i){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||_t(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&_t(e,""+n);break;case"className":ct(e,"class",n);break;case"tabIndex":ct(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,r,n);break;case"style":Et(e,n,i);break;case"data":if("object"!==t){ct(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Pt(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===r?("input"!==t&&ud(e,t,"name",a.name,a,null),ud(e,t,"formEncType",a.formEncType,a,null),ud(e,t,"formMethod",a.formMethod,a,null),ud(e,t,"formTarget",a.formTarget,a,null)):(ud(e,t,"encType",a.encType,a,null),ud(e,t,"method",a.method,a,null),ud(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Pt(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Tt);break;case"onScroll":null!=n&&Ju("scroll",e);break;case"onScrollEnd":null!=n&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(o(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Pt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),lt(e,"popover",n);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":lt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&lt(e,r=Ot.get(r)||r,n)}}function dd(e,t,r,n,a,i){switch(r){case"style":Et(e,n,i);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(o(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=r}}break;case"children":"string"===typeof n?_t(e,n):("number"===typeof n||"bigint"===typeof n)&&_t(e,""+n);break;case"onScroll":null!=n&&Ju("scroll",e);break;case"onScrollEnd":null!=n&&Ju("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Tt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(i=null!=(i=e[qe]||null)?i[r]:null)&&e.removeEventListener(t,i,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):lt(e,r,n):("function"!==typeof i&&null!==i&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function hd(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var n,a=!1,i=!1;for(n in r)if(r.hasOwnProperty(n)){var s=r[n];if(null!=s)switch(n){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,n,s,r,null)}}return i&&ud(e,t,"srcSet",r.srcSet,r,null),void(a&&ud(e,t,"src",r.src,r,null));case"input":Ju("invalid",e);var l=n=s=i=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var d=r[a];if(null!=d)switch(a){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:ud(e,t,a,d,r,null)}}return void xt(e,n,l,c,u,s,i,!1);case"select":for(i in Ju("invalid",e),a=s=n=null,r)if(r.hasOwnProperty(i)&&null!=(l=r[i]))switch(i){case"value":n=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:ud(e,t,i,l,r,null)}return t=n,r=s,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=r&&wt(e,!!a,r,!0));case"textarea":for(s in Ju("invalid",e),n=i=a=null,r)if(r.hasOwnProperty(s)&&null!=(l=r[s]))switch(s){case"value":a=l;break;case"defaultValue":i=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ud(e,t,s,l,r,null)}return void Nt(e,a,i,n);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else ud(e,t,c,a,r,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(a=0;a<Gu.length;a++)Ju(Gu[a],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(a=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,u,a,r,null)}return;default:if(At(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(a=r[d])&&dd(e,t,d,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&ud(e,t,l,a,r,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,jd="function"===typeof clearTimeout?clearTimeout:void 0,Nd="function"===typeof Promise?Promise:void 0,_d="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Nd?function(e){return Nd.resolve(null).then(e).catch(Sd)}:wd;function Sd(e){setTimeout(function(){throw e})}function kd(e){return"head"===e}function Ed(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)||"/&"===r){if(0===n)return e.removeChild(a),void Wh(t);n--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)n++;else if("html"===r)zd(e.ownerDocument.documentElement);else if("head"===r){zd(r=e.ownerDocument.head);for(var i=r.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[Ye]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===i.rel.toLowerCase()||r.removeChild(i),i=o}}else"body"===r&&zd(e.ownerDocument.body);r=a}while(r);Wh(t)}function Ad(e,t){var r=e;e=0;do{var n=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=n}while(r)}function Od(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Od(r),$e(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Cd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Td(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Rd=null;function Id(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Dd(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Ld(e,t,r){switch(t=gd(r),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Fd=new Map,Ud=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=I.d;I.d={f:function(){var e=qd.f(),t=Qc();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ns(t):qd.r(e)},D:function(e){qd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,r){qd.L(e,t,r);var n=Hd;if(n&&e&&t){var a='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+vt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+vt(r.imageSizes)+'"]')):a+='[href="'+vt(e)+'"]';var i=a;switch(t){case"style":i=Kd(e);break;case"script":i=$d(e)}Fd.has(i)||(e=f({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Fd.set(i,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Gd(i))||"script"===t&&n.querySelector(Jd(i))||(hd(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var r=Hd;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+vt(n)+'"][href="'+vt(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=$d(e)}if(!Fd.has(i)&&(e=f({rel:"modulepreload",href:e},t),Fd.set(i,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jd(i)))return}hd(n=r.createElement("link"),"link",e),et(n),r.head.appendChild(n)}}},X:function(e,t){qd.X(e,t);var r=Hd;if(r&&e){var n=Qe(r).hoistableScripts,a=$d(e),i=n.get(a);i||((i=r.querySelector(Jd(a)))||(e=f({src:e,async:!0},t),(t=Fd.get(a))&&eh(e,t),et(i=r.createElement("script")),hd(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}},S:function(e,t,r){qd.S(e,t,r);var n=Hd;if(n&&e){var a=Qe(n).hoistableStyles,i=Kd(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(Gd(i)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Fd.get(i))&&Qd(e,r);var l=o=n.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zd(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}},M:function(e,t){qd.M(e,t);var r=Hd;if(r&&e){var n=Qe(r).hoistableScripts,a=$d(e),i=n.get(a);i||((i=r.querySelector(Jd(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=Fd.get(a))&&eh(e,t),et(i=r.createElement("script")),hd(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,t,r){var n=Hd;if(n&&"string"===typeof t&&t){var a=vt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),Ud.has(a)||(Ud.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(hd(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function Vd(e,t,r,n){var a,i,s,l,c=(c=K.current)?Bd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Kd(r.href),(n=(r=Qe(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Kd(r.href);var u=Qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Fd.set(e,r),u||(a=c,i=e,s=r,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),hd(i,"link",s),et(i),a.head.appendChild(i))))),t&&null===n)throw Error(o(528,""));return d}if(t&&null!==n)throw Error(o(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=$d(r),(n=(r=Qe(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function $d(e){return'[src="'+vt(e)+'"]'}function Jd(e){return"script[async]"+e}function Xd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+vt(r.href)+'"]');if(n)return t.instance=n,et(n),n;var a=f({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),hd(n,"style",a),Zd(n,r.precedence,e),t.instance=n;case"stylesheet":a=Kd(r.href);var i=e.querySelector(Gd(a));if(i)return t.state.loading|=4,t.instance=i,et(i),i;n=Yd(r),(a=Fd.get(a))&&Qd(n,a),et(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(i,"link",n),t.state.loading|=4,Zd(i,r.precedence,e),t.instance=i;case"script":return i=$d(r.src),(a=e.querySelector(Jd(i)))?(t.instance=a,et(a),a):(n=r,(a=Fd.get(i))&&eh(n=f({},r),a),et(a=(e=e.ownerDocument||e).createElement("script")),hd(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Zd(n,r.precedence,e));return t.instance}function Zd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function rh(e,t,r){if(null===th){var n=new Map,a=th=new Map;a.set(r,n)}else(n=(a=th).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Ye]||i[Be]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var o=i.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(i):n.set(o,[i])}}return n}function nh(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ih=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sh=new Map,t.forEach(ch,e),sh=null,oh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var r=sh.get(e);if(r)var n=r.get(null);else{r=new Map,sh.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}o=(a=t.instance).getAttribute("data-precedence"),(i=r.get(o)||n)===n&&r.set(null,a),r.set(o,a),this.count++,n=oh.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var uh={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function dh(e,t,r,n,a,i,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,r,n,a,i,o,s,l,c,u,d){return e=new dh(e,t,r,o,l,c,u,d,s),t=1,!0===i&&(t|=24),i=zn(3,null,null,t),e.current=i,i.stateNode=e,(t=Fa()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},gi(i),e}function fh(e){return e?e=Mn:Mn}function ph(e,t,r,n,a,i){a=fh(a),null===n.context?n.context=a:n.pendingContext=a,(n=yi(t)).payload={element:r},null!==(i=void 0===i?null:i)&&(n.callback=i),null!==(r=xi(e,n,t))&&(Yc(r,0,t),bi(r,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Dn(e,67108864);null!==t&&Yc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Kc(),r=Dn(e,t=Me(t));null!==r&&Yc(r,0,t),gh(e,t)}}var xh=!0;function bh(e,t,r,n){var a=R.T;R.T=null;var i=I.p;try{I.p=2,jh(e,t,r,n)}finally{I.p=i,R.T=a}}function wh(e,t,r,n){var a=R.T;R.T=null;var i=I.p;try{I.p=8,jh(e,t,r,n)}finally{I.p=i,R.T=a}}function jh(e,t,r,n){if(xh){var a=Nh(n);if(null===a)td(e,t,n,_h,r),Ih(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Ah=Mh(Ah,e,t,r,n,a),!0;case"dragenter":return Oh=Mh(Oh,e,t,r,n,a),!0;case"mouseover":return Ch=Mh(Ch,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ph.set(i,Mh(Ph.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Th.set(i,Mh(Th.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Ih(e,n),4&t&&-1<Rh.indexOf(e)){for(;null!==a;){var i=Xe(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var o=ke(i.pendingLanes);if(0!==o){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-be(o);s.entanglements[1]|=l,o&=~l}Iu(i),0===(6&fc)&&(Rc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(s=Dn(i,2))&&Yc(s,0,2),Qc(),gh(i,2)}if(null===(i=Nh(n))&&td(e,t,n,_h,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else td(e,t,n,null,r)}}function Nh(e){return Sh(e=Rt(e))}var _h=null;function Sh(e){if(_h=null,null!==(e=Je(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(31===r){if(null!==(e=u(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _h=e,null}function kh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Eh=!1,Ah=null,Oh=null,Ch=null,Ph=new Map,Th=new Map,Dh=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":Oh=null;break;case"mouseover":case"mouseout":Ch=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(t.pointerId)}}function Mh(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Xe(t))&&vh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lh(e){var t=Je(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void Fe(e.priority,function(){yh(r)})}else if(31===t){if(null!==(t=u(r)))return e.blockedOn=t,void Fe(e.priority,function(){yh(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nh(e.nativeEvent);if(null!==r)return null!==(t=Xe(r))&&vh(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Dt=n,r.target.dispatchEvent(n),Dt=null,t.shift()}return!0}function Fh(e,t,r){zh(e)&&r.delete(t)}function Uh(){Eh=!1,null!==Ah&&zh(Ah)&&(Ah=null),null!==Oh&&zh(Oh)&&(Oh=null),null!==Ch&&zh(Ch)&&(Ch=null),Ph.forEach(Fh),Th.forEach(Fh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Uh)))}var qh=null;function Hh(e){qh!==e&&(qh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===Sh(n||r))continue;break}var i=Xe(r);null!==i&&(e.splice(t,3),t-=3,ts(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Wh(e){function t(t){return Bh(t,e)}null!==Ah&&Bh(Ah,e),null!==Oh&&Bh(Oh,e),null!==Ch&&Bh(Ch,e),Ph.forEach(t),Th.forEach(t);for(var r=0;r<Dh.length;r++){var n=Dh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Dh.length&&null===(r=Dh[0]).blockedOn;)Lh(r),null===r.blockedOn&&Dh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[qe]||null;if("function"===typeof i)o||Hh(r);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[qe]||null)s=o.formAction;else if(null!==Sh(a))continue}else s=o.action;"function"===typeof s?r[n+1]=s:(r.splice(n,3),n-=3),Hh(r)}}}function Vh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Kh(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ph(t.current,Kc(),e,t,null,null)},Gh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Qc(),t[He]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dh.length&&0!==t&&t<Dh[r].priority;r++);Dh.splice(r,0,e),0===r&&Lh(e)}};var Yh=a.version;if("19.2.1"!==Yh)throw Error(o(527,Yh,"19.2.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return d(a),e;if(i===n)return d(a),t;i=i.sibling}throw Error(o(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,n=i;break}if(c===n){s=!0,n=a,r=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===r){s=!0,r=i,n=a;break}if(c===n){s=!0,n=i,r=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var $h={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ve=Jh.inject($h),ye=Jh}catch(Zh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var r=!1,n="",a=_s,i=Ss,l=ks;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,r,n,null,a,i,l,Vh),e[He]=t.current,Qu(e),new Kh(t)},t.hydrateRoot=function(e,t,r){if(!s(e))throw Error(o(299));var n=!1,a="",i=_s,l=Ss,c=ks,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(i=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.formState&&(u=r.formState)),(t=hh(e,1,!0,t,0,n,a,u,i,l,c,Vh)).context=fh(null),r=t.current,(a=yi(n=Me(n=Kc()))).callback=null,xi(r,a,n),r=n,t.current.lanes=r,Te(t,r),Iu(t),e[He]=t.current,Qu(e),new Gh(t)},t.version="19.2.1"},7043:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3799),a=r(4879);t.range=function(e,t,r){r&&"number"!==typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),r=void 0===r?e<t?1:-1:a.toFinite(r);const i=Math.max(Math.ceil((t-e)/(r||1)),0),o=new Array(i);for(let n=0;n<i;n++)o[n]=e,e+=r;return o}},7237:(e,t,r)=>{"use strict";r(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=[],n=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const o=e[i];Array.isArray(o)&&t<n?a(o,t+1):r.push(o)}};return a(e,0),r}},7330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9323);t.property=function(e){return function(t){return n.get(t,e)}}},7337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SupabaseAuthClient=void 0;const n=r(219);class a extends n.AuthClient{constructor(e){super(e)}}t.SupabaseAuthClient=a},7374:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326).__importDefault(r(9286));class a extends n.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),i="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const s=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(s,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=a},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,r)=>{var n=r(3738).default,a=r(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,r)=>{e.exports=r(9323).get},7820:(e,t,r)=>{e.exports=r(5414).throttle},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},7980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const n=r(6326),a=n.__importDefault(r(1210));t.PostgrestClient=a.default;const i=n.__importDefault(r(8829));t.PostgrestQueryBuilder=i.default;const o=n.__importDefault(r(5736));t.PostgrestFilterBuilder=o.default;const s=n.__importDefault(r(7374));t.PostgrestTransformBuilder=s.default;const l=n.__importDefault(r(9286));t.PostgrestBuilder=l.default;const c=n.__importDefault(r(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?A(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?A(t,h):t}function x(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function b(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=S(r)),i+=n;(r=7-(n=(o=e[t])+"").length)&&(i+=S(r))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return A(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return N(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(s=!1,t=w(k(r,o),k(e,o),o),s=!0,A(t,i))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(s=!1,t=w(r,e,0,1).times(e),s=!0,r.minus(t)):A(new n(r),a)},v.naturalExponential=v.exp=function(){return j(this)},v.naturalLogarithm=v.ln=function(){return k(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):O(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},v.squareRoot=v.sqrt=function(){var e,t,r,n,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=o=(r=u.precision)+3;;)if(n=(i=n).plus(w(c,i,o+2)).times(.5),b(i.d).slice(0,o)===(t=b(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(A(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;o+=4}return s=!0,A(n,r)},v.times=v.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],n=o=c+u;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,s?A(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(x(e,0,i),void 0===t?t=n.rounding:x(t,0,8),A(r,e+N(r)+1,t))},v.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=C(n,!0):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),r=C(n=A(new a(n),e+1,t),!0,e+1)),r},v.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?C(a):(x(e,0,i),void 0===t?t=o.rounding:x(t,0,8),r=C((n=A(new o(a),e+N(a)+1,t)).abs(),!1,e+N(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return A(new t(e),N(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,r,n,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=h.precision,e.eq(a))return A(u,n);if(c=(t=e.e)>=(r=e.d.length-1),o=u.s,c){if((r=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(n/7+4),s=!1;r%2&&P((i=i.times(u)).d,t),0!==(r=d(r/2));)P((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):A(i,n)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,s=!1,i=e.times(k(u,n+12)),s=!0,(i=j(i)).s=o,i},v.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?n=C(a,(r=N(a))<=o.toExpNeg||r>=o.toExpPos):(x(e,1,i),void 0===t?t=o.rounding:x(t,0,8),n=C(a=A(new o(a),e,t),e<=(r=N(a))||r<=o.toExpNeg,e)),n},v.toSignificantDigits=v.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(x(e,1,i),void 0===t?t=r.rounding:x(t,0,8)),A(new r(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=N(e),r=e.constructor;return C(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o){var s,c,u,d,h,f,m,g,v,y,x,b,w,j,_,S,k,E,O=n.constructor,C=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,k=T.length,_=P.length,g=(m=new O(C)).d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,(b=null==i?i=O.precision:o?i+(N(n)-N(a))+1:i)<0)return new O(0);if(b=b/7+2|0,u=0,1==k)for(d=0,T=T[0],b++;(u<_||d)&&b--;u++)w=d*p+(P[u]||0),g[u]=w/T|0,d=w%T|0;else{for((d=p/(T[0]+1)|0)>1&&(T=e(T,d),P=e(P,d),k=T.length,_=P.length),j=k,y=(v=P.slice(0,k)).length;y<k;)v[y++]=0;(E=T.slice()).unshift(0),S=T[0],T[1]>=p/2&&++S;do{d=0,(s=t(T,v,k,y))<0?(x=v[0],k!=y&&(x=x*p+(v[1]||0)),(d=x/S|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(T,d),v,f=h.length,y=v.length))&&(d--,r(h,k<f?E:T,f))):(0==d&&(s=d=1),h=T.slice()),(f=h.length)<y&&h.unshift(0),r(v,h,y),-1==s&&(s=t(T,v,k,y=v.length))<1&&(d++,r(v,k<y?E:T,y)),y=v.length):0===s&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[y++]=P[j]||0:(v=[P[j]],y=1)}while((j++<_||void 0!==v[0])&&b--)}return g[0]||g.shift(),m.e=c,A(m,o?i+N(m)+1:i)}}();function j(e,t){var r,n,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=i=new f(a),f.precision=l;;){if(n=A(n.times(e),l),r=r.times(++c),b((o=i.plus(w(n,r,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;d--;)i=A(i.times(i),l);return f.precision=p,null==t?(s=!0,A(i,p)):i}i=o}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function _(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function k(e,t){var r,n,i,o,c,u,d,h,f,p=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new v(0);if(null==t?(s=!1,h=y):h=t,m.eq(10))return null==t&&(s=!0),_(v,h);if(h+=10,v.precision=h,n=(r=b(g)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return d=_(v,h+2,y).times(o+""),m=k(new v(n+"."+r.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,A(m,y)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=b((m=m.times(e)).d)).charAt(0),p++;for(o=N(m),n>1?(m=new v("0."+r),o++):m=new v(n+"."+r.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=A(m.times(m),h),i=3;;){if(c=A(c.times(f),h),b((d=u.plus(w(c,new v(i),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(_(v,h+2,y).times(o+""))),u=w(u,new v(p),h),v.precision=y,null==t?(s=!0,A(u,y)):u;u=d,i+=2}}function E(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,r){var n,a,i,o,l,c,f,m,v=e.d;for(o=1,i=v[0];i>=10;i/=10)o++;if((n=t-o)<0)n+=7,a=t,f=v[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=v.length))return e;for(f=i=v[m],o=1;i>=10;i/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==v[m+1]||f%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,o-a):0:v[m-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return c?(i=N(e),v.length=1,t=t-i-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==n?(v.length=m,i=1,m--):(v.length=m+1,i=h(10,7-n),v[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(v[0]+=i)==p&&(v[0]=1,++e.e);break}if(v[m]+=i,v[m]!=p)break;v[m--]=0,i=1}for(n=v.length;0===v[--n];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function O(e,t){var r,n,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?A(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n){for((d=o<0)?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,s?A(t,m):t):new f(0)}function C(e,t,r){var n,a=N(e),i=b(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+S(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+S(-a-1)+i,r&&(n=r-o)>0&&(i+=S(n))):a>=o?(i+=S(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+S(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=S(n))),e.s<0?"-"+i:i}function P(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}o=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):E(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);E(t,e)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},8268:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2132);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,r)=>{"use strict";var n=r(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useSyncExternalStore,o=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue},8396:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5508);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,r)=>{"use strict";e.exports=r(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,o=new Array(i);a<i;a++)o[a]=n[a].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,i,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},8829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326).__importDefault(r(5736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,t){const{head:r=!1,count:a}=null!==t&&void 0!==t?t:{},i=r?"HEAD":"GET";let o=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)).join("");return this.url.searchParams.set("select",s),a&&this.headers.append("Prefer","count=".concat(a)),new n.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(t&&this.headers.append("Prefer","count=".concat(t)),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;if(this.headers.append("Prefer","resolution=".concat(r?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer","count=".concat(a)),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return t&&this.headers.append("Prefer","count=".concat(t)),new n.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new n.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},8845:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),a=r(3272),i=r(8396),o=r(9323),s=r(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var r;Object.is(null===(r=e)||void 0===r?void 0:r.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(r){const a=o.get(r,e);return void 0===a?s.has(r,e):void 0===t?void 0===a:n.isMatch(a,t)}}},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},9045:(e,t,r)=>{var n=r(3738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6326).__importDefault(r(2611));t.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,a,i;let o=null,s=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const r=await e.text();""===r||(s="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}const n=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),i=null===(a=e.headers.get("content-range"))||void 0===a?void 0:a.split("/");n&&i&&i.length>1&&(l=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:"Results contain ".concat(s.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(s=[],o=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(i=null===o||void 0===o?void 0:o.details)||void 0===i?void 0:i.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&this.shouldThrowOnError)throw new n.default(o)}return{error:o,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n,a,i,o;let s="";const l=null===e||void 0===e?void 0:e.cause;if(l){const i=null!==(t=null===l||void 0===l?void 0:l.message)&&void 0!==t?t:"",o=null!==(r=null===l||void 0===l?void 0:l.code)&&void 0!==r?r:"";s="".concat(null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),s+="\n\nCaused by: ".concat(null!==(a=null===l||void 0===l?void 0:l.name)&&void 0!==a?a:"Error",": ").concat(i),o&&(s+=" (".concat(o,")")),(null===l||void 0===l?void 0:l.stack)&&(s+="\n".concat(l.stack))}else s=null!==(i=null===e||void 0===e?void 0:e.stack)&&void 0!==i?i:"";return{error:{message:"".concat(null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},9323:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7260),a=r(2489),i=r(3272),o=r(1444);t.get=function e(t,r,s){if(null==t)return s;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return s;const i=t[r];return void 0===i?a.isDeepKey(r)?e(t,o.toPath(r),s):s:i}case"number":case"symbol":{"number"===typeof r&&(r=i.toKey(r));const e=t[r];return void 0===e?s:e}default:{var l;if(Array.isArray(r))return function(e,t,r){if(0===t.length)return r;let a=e;for(let i=0;i<t.length;i++){if(null==a)return r;if(n.isUnsafeProperty(t[i]))return r;a=a[t[i]]}if(void 0===a)return r;return a}(t,r,s);if(r=Object.is(null===(l=r)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return s;const e=t[r];return void 0===e?s:e}}}},9379:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(4705);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},9397:(e,t,r)=>{e.exports=r(2682).isPlainObject},9461:(e,t,r)=>{"use strict";e.exports=r(2330)},9488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="2.86.2"},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FunctionRegion:()=>l,FunctionsClient:()=>c,FunctionsError:()=>a,FunctionsFetchError:()=>i,FunctionsHttpError:()=>s,FunctionsRelayError:()=>o});var n=r(6326);class a extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class i extends a{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o extends a{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class s extends a{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var l;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(l||(l={}));class c{constructor(e){let{headers:t={},customFetch:r,region:n=l.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=n,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return(0,n.__awaiter)(this,arguments,void 0,function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var n;let a,l;try{const{headers:c,method:u,body:d,signal:h,timeout:f}=r;let p={},{region:m}=r;m||(m=t.region);const g=new URL("".concat(t.url,"/").concat(e));let v;m&&"any"!==m&&(p["x-region"]=m,g.searchParams.set("forceFunctionRegion",m)),d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?"undefined"!==typeof Blob&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=d):"string"===typeof d?(p["Content-Type"]="text/plain",v=d):"undefined"!==typeof FormData&&d instanceof FormData?v=d:(p["Content-Type"]="application/json",v=JSON.stringify(d)):v=d;let y=h;f&&(l=new AbortController,a=setTimeout(()=>l.abort(),f),h?(y=l.signal,h.addEventListener("abort",()=>l.abort())):y=l.signal);const x=yield t.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),t.headers),c),body:v,signal:y}).catch(e=>{throw new i(e)}),b=x.headers.get("x-relay-error");if(b&&"true"===b)throw new o(x);if(!x.ok)throw new s(x);let w,j=(null!==(n=x.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return w="application/json"===j?yield x.json():"application/octet-stream"===j||"application/pdf"===j?yield x.blob():"text/event-stream"===j?x:"multipart/form-data"===j?yield x.formData():yield x.text(),{data:w,error:null,response:x}}catch(c){return{data:null,error:c,response:c instanceof s||c instanceof o?c.context:void 0}}finally{a&&clearTimeout(a)}}()})}}},9645:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6392),a=r(8346),i=r(1203);t.last=function(e){if(i.isArrayLike(e))return n.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function r(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const a=r(e),i=r(t);if(a===i&&0===a){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?i-a:a-i}return 0}},9717:(e,t,r)=>{"use strict";var n=r(5043),a=r(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(o=e,t):(o=e,s=r)}var o,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,a]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,r)=>{e.exports=r(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>n[e]);return o.default=()=>n,r.d(i,o),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>UO,scaleDiverging:()=>RR,scaleDivergingLog:()=>IR,scaleDivergingPow:()=>LR,scaleDivergingSqrt:()=>zR,scaleDivergingSymlog:()=>MR,scaleIdentity:()=>AP,scaleImplicit:()=>zO,scaleLinear:()=>EP,scaleLog:()=>LP,scaleOrdinal:()=>FO,scalePoint:()=>qO,scalePow:()=>KP,scaleQuantile:()=>aT,scaleQuantize:()=>iT,scaleRadial:()=>$P,scaleSequential:()=>ER,scaleSequentialLog:()=>AR,scaleSequentialPow:()=>CR,scaleSequentialQuantile:()=>TR,scaleSequentialSqrt:()=>PR,scaleSequentialSymlog:()=>OR,scaleSqrt:()=>GP,scaleSymlog:()=>BP,scaleThreshold:()=>oT,scaleTime:()=>NR,scaleUtc:()=>_R,tickFormat:()=>SP});var t=r(5043),n=r.t(t,2),a=r(4391);function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=r(9379);const s=["sri"],l=["page"],c=["page","matches"],u=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var f="popstate";function p(){return w(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return y("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function v(e,t){return{usr:e.state,key:e.key,idx:t}}function y(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return(0,o.A)((0,o.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function x(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function b(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function w(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l="POP",c=null,u=d();function d(){return(s.state||{idx:null}).idx}function h(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:m.location,delta:t})}function p(e){return j(e)}null==u&&(u=0,s.replaceState((0,o.A)((0,o.A)({},s.state),{},{idx:u}),""));let m={get action(){return l},get location(){return e(a,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(f,h),c=e,()=>{a.removeEventListener(f,h),c=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let n=y(m.location,e,t);r&&r(n,e),u=d()+1;let o=v(n,u),h=m.createHref(n);try{s.pushState(o,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}i&&c&&c({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let n=y(m.location,e,t);r&&r(n,e),u=d();let a=v(n,u),o=m.createHref(n);s.replaceState(a,"",o),i&&c&&c({action:l,location:m.location,delta:0})},go:e=>s.go(e)};return m}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),m(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:x(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function N(e,t){return _(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function _(e,t,r,n){let a=F(("string"===typeof t?b(t):t).pathname||"/",r);if(null==a)return null;let i=S(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=z(a);o=I(i[s],e,n)}return o}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(n)&&o)return;m(l.relativePath.startsWith(n),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(n.length)}let c=G([n,l.relativePath]),u=r.concat(l);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),S(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:R(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of k(e.path))i(e,t,!0,n);else i(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let o=k(n.join("/")),s=[];return s.push(...o.map(e=>""===e?i:[i,e].join("/"))),a&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var E=/^:[\w-]+$/,A=3,O=2,C=1,P=10,T=-2,D=e=>"*"===e;function R(e,t){let r=e.split("/"),n=r.length;return r.some(D)&&(n+=T),t&&(n+=O),r.filter(e=>!D(e)).reduce((e,t)=>e+(E.test(t)?A:""===t?C:P),n)}function I(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:G([i,u.pathname]),pathnameBase:Y(G([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=G([i,u.pathnameBase]))}return o}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=L(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=s[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:o,pattern:e}}function L(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}var U=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B=e=>U.test(e);function q(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function H(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e){let t=W(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=b(e):(n=(0,o.A)({},e),m(!n.pathname||!n.pathname.includes("?"),H("?","pathname","search",n)),m(!n.pathname||!n.pathname.includes("#"),H("#","pathname","hash",n)),m(!n.search||!n.search.includes("#"),H("#","search","hash",n)));let i,s=""===e||""===n.pathname,l=s?"/":n.pathname;if(null==l)i=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:a="",hash:i=""}="string"===typeof e?b(e):e;if(n)if(B(n))t=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),g(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(n))}t=n.startsWith("/")?q(n.substring(1),"/"):q(n,r)}else t=r;return{pathname:t,search:$(a),hash:J(i)}}(n,i),u=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var G=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function Z(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q=["POST","PUT","PATCH","DELETE"],ee=(new Set(Q),["GET",...Q]);new Set(ee),Symbol("ResetLoaderData");var te=t.createContext(null);te.displayName="DataRouter";var re=t.createContext(null);re.displayName="DataRouterState";var ne=t.createContext(!1);var ae=t.createContext({isTransitioning:!1});ae.displayName="ViewTransition";var ie=t.createContext(new Map);ie.displayName="Fetchers";var oe=t.createContext(null);oe.displayName="Await";var se=t.createContext(null);se.displayName="Navigation";var le=t.createContext(null);le.displayName="Location";var ce=t.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=t.createContext(null);ue.displayName="RouteError";function de(){return null!=t.useContext(le)}function he(){return m(de(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){t.useContext(se).static||t.useLayoutEffect(e)}function me(){let{isDataRoute:e}=t.useContext(ce);return e?function(){let{router:e}=Se("useNavigate"),r=Ee("useNavigate"),n=t.useRef(!1);pe(()=>{n.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(n.current,fe),n.current&&("number"===typeof t?await e.navigate(t):await e.navigate(t,(0,o.A)({fromRouteId:r},a)))},[e,r]);return a}():function(){m(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(te),{basename:r,navigator:n}=t.useContext(se),{matches:a}=t.useContext(ce),{pathname:i}=he(),o=JSON.stringify(V(a)),s=t.useRef(!1);pe(()=>{s.current=!0});let l=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(s.current,fe),!s.current)return;if("number"===typeof t)return void n.go(t);let l=K(t,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==r&&(l.pathname="/"===l.pathname?r:G([r,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[r,n,o,i,e]);return l}()}t.createContext(null);function ge(){let{matches:e}=t.useContext(ce),r=e[e.length-1];return r?r.params:{}}function ve(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(ce),{pathname:a}=he(),i=JSON.stringify(V(n));return t.useMemo(()=>K(e,JSON.parse(i),a,"path"===r),[e,i,a,r])}function ye(e,r,n,a,i){m(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=t.useContext(se),{matches:l}=t.useContext(ce),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";Ce(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,v=he();if(r){var y;let e="string"===typeof r?b(r):r;m("/"===h||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=v;let x=p.pathname||"/",w=x;if("/"!==h){let e=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let j=N(e,{pathname:w});g(f||null!=j,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),g(null==j||void 0!==j[j.length-1].route.element||void 0!==j[j.length-1].route.Component||void 0!==j[j.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=Ne(j&&j.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:G([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:G([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,n,a,i);return r&&_?t.createElement(le.Provider,{value:{location:(0,o.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},_):_}function xe(){let e=Ae(),r=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:i},n):null,s)}var be=t.createElement(xe,null),we=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(ce.Provider,{value:this.props.routeContext},t.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function je(e){let{routeContext:r,match:n,children:a}=e,i=t.useContext(te);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(ce.Provider,{value:r},a)}function Ne(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));m(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,l=-1;if(n)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){s=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}let c=n&&a?(e,t)=>{var r,i;a(e,{location:n.location,params:null!==(r=null===(i=n.matches)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.params)&&void 0!==r?r:{},unstable_pattern:Z(n.matches),errorInfo:t})}:void 0;return i.reduceRight((e,a,u)=>{let d,h=!1,f=null,p=null;n&&(d=o&&a.route.id?o[a.route.id]:void 0,f=a.route.errorElement||be,s&&(l<0&&0===u?(Ce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=a.route.hydrateFallbackElement||null)));let m=r.concat(i.slice(0,u+1)),g=()=>{let r;return r=d?f:h?p:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(je,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:r})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?t.createElement(we,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function _e(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let r=t.useContext(te);return m(r,_e(e)),r}function ke(e){let r=t.useContext(re);return m(r,_e(e)),r}function Ee(e){let r=function(e){let r=t.useContext(ce);return m(r,_e(e)),r}(e),n=r.matches[r.matches.length-1];return m(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ae(){var e;let r=t.useContext(ue),n=ke("useRouteError"),a=Ee("useRouteError");return void 0!==r?r:null===(e=n.errors)||void 0===e?void 0:e[a]}var Oe={};function Ce(e,t,r){t||Oe[e]||(Oe[e]=!0,g(!1,r))}var Pe={};function Te(e,t){e||Pe[t]||(Pe[t]=!0,console.warn(t))}n.useOptimistic;t.memo(function(e){let{routes:t,future:r,state:n,unstable_onError:a}=e;return ye(t,void 0,n,a,r)});function De(e){let{to:r,replace:n,state:a,relative:i}=e;m(de(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=t.useContext(se);g(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=t.useContext(ce),{pathname:l}=he(),c=me(),u=K(r,V(s),l,"path"===i),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:n,state:a,relative:i})},[c,d,i,n,a]),null}function Re(e){m(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ie(e){let{basename:r="/",children:n=null,location:a,navigationType:i="POP",navigator:o,static:s=!1,unstable_useTransitions:l}=e;m(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),u=t.useMemo(()=>({basename:c,navigator:o,static:s,unstable_useTransitions:l,future:{}}),[c,o,s,l]);"string"===typeof a&&(a=b(a));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=a,y=t.useMemo(()=>{let e=F(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:v},navigationType:i}},[c,d,h,f,p,v,i]);return g(null!=y,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:t.createElement(se.Provider,{value:u},t.createElement(le.Provider,{children:n,value:y}))}function Me(e){let{children:t,location:r}=e;return ye(Le(t),r)}t.Component;function Le(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let i=[...r,a];if(e.type===t.Fragment)return void n.push.apply(n,Le(e.props.children,i));m(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),m(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Le(e.props.children,i)),n.push(o)}),n}var ze="get",Fe="application/x-www-form-urlencoded";function Ue(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}function Be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}var qe=null;var He=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function We(e){return null==e||He.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Fe,'"')),null)}function Ve(e,t){let r,n,a,i,o;if(function(e){return Ue(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");n=o?F(o,t):null,r=e.getAttribute("method")||ze,a=We(e.getAttribute("enctype"))||Fe,i=new FormData(e)}else if(function(e){return Ue(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ue(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(n=s?F(s,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||ze,a=We(e.getAttribute("formenctype"))||We(o.getAttribute("enctype"))||Fe,i=new FormData(o,e),!function(){if(null===qe)try{new FormData(document.createElement("form"),0),qe=!1}catch(e){qe=!0}return qe}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,n)}}else{if(Ue(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ze,n=null,a=Fe,o=e}return i&&"text/plain"===a&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ke(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ge(e,t,r){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.".concat(r):t&&"/"===F(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):n.pathname="".concat(n.pathname.replace(/\/$/,""),".").concat(r),n}async function Ye(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $e(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Xe(e,t,r,n,a,i){let o=(e,t)=>!r[t]||e.route.id!==r[t].route.id,s=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Ze(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function Qe(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!$e(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let i=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(i)||(r.add(i),e.push({key:i,link:a})),e},[])}function et(e,t){return"lazy"===e.mode&&!0===t}function tt(){let e=t.useContext(te);return Ke(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rt(){let e=t.useContext(re);return Ke(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=t.createContext(void 0);function at(){let e=t.useContext(nt);return Ke(e,"You must render this element inside a <HydratedRouter> element"),e}function it(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function ot(e,t,r){if(r&&!ut)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}nt.displayName="FrameworkContext";function st(e){let{page:r}=e,n=i(e,l),{router:a}=tt(),s=t.useMemo(()=>N(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?t.createElement(ct,(0,o.A)({page:r,matches:s},n)):null}function lt(e){let{manifest:r,routeModules:n}=at(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,r){return Qe((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await Ye(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,o.A)((0,o.A)({},e),{},{rel:"prefetch",as:"style"}):(0,o.A)((0,o.A)({},e),{},{rel:"prefetch"})))}(e,r,n).then(e=>{t||i(e)}),()=>{t=!0}},[e,r,n]),a}function ct(e){let{page:r,matches:n}=e,a=i(e,c),s=he(),{manifest:l,routeModules:u}=at(),{basename:d}=tt(),{loaderData:h,matches:f}=rt(),p=t.useMemo(()=>Xe(r,n,f,l,s,"data"),[r,n,f,l,s]),m=t.useMemo(()=>Xe(r,n,f,l,s,"assets"),[r,n,f,l,s]),g=t.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(n.forEach(r=>{var n;let a=l.routes[r.route.id];a&&a.hasLoader&&(!p.some(e=>e.route.id===r.route.id)&&r.route.id in h&&null!==(n=u[r.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let a=Ge(r,d,"data");return t&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[d,h,s,l,p,n,r,u]),v=t.useMemo(()=>Ze(m,l),[m,l]),y=lt(m);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",(0,o.A)({key:e,rel:"prefetch",as:"fetch",href:e},a))),v.map(e=>t.createElement("link",(0,o.A)({key:e,rel:"modulepreload",href:e},a))),y.map(e=>{let{key:r,link:n}=e;return t.createElement("link",(0,o.A)({key:r,nonce:a.nonce},n))}))}var ut=!1;function dt(e){let{manifest:r,serverHandoffString:n,isSpaMode:a,renderMeta:l,routeDiscovery:c,ssr:u}=at(),{router:d,static:h,staticContext:f}=tt(),{matches:p}=rt(),m=t.useContext(ne),g=et(c,u);l&&(l.didRenderScripts=!0);let v=ot(p,null,a);t.useEffect(()=>{0},[]);let y=t.useMemo(()=>{var a;if(m)return null;let l=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==r.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(r.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(r.url)),";\n").concat(v.map((e,t)=>{let n="route".concat(t),a=r.routes[e.route.id];Ke(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:"".concat(n,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(n,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(n,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===u.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,n=i(e,s),a=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let r=N(t.routes,e,t.basename);r&&r.forEach(e=>a.add(e.route.id))});let u=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return(0,o.A)((0,o.A)({},n),{},{routes:u,sri:!!r||void 0})}(r,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(r.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",(0,o.A)((0,o.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),t.createElement("script",(0,o.A)((0,o.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),x=ut||m?[]:function(e){return[...new Set(e)]}(r.entry.imports.concat(Ze(v,r,{includeHydrateFallback:!0}))),b="object"===typeof r.sri?r.sri:{};return Te(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ut||m?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:b[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:b[r.entry.module],suppressHydrationWarning:!0}),x.map(r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:b[r],suppressHydrationWarning:!0})),y)}function ht(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function ft(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(r))return t.createElement(pt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),i);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(pt,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function pt(e){var r;let{title:n,renderScripts:a,isOutsideRemixApp:i,children:o}=e,{routeModules:s}=at();return null!==s.root&&void 0!==r&&r.Layout&&!i?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,a?t.createElement(dt,null):null)))}var mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{mt&&(window.__reactRouterVersion="7.10.1")}catch(SX){}function gt(e){let{basename:r,children:n,unstable_useTransitions:a,window:i}=e,o=t.useRef();null==o.current&&(o.current=p({window:i,v5Compat:!0}));let s=o.current,[l,c]=t.useState({action:s.action,location:s.location}),u=t.useCallback(e=>{!1===a?c(e):t.startTransition(()=>c(e))},[a]);return t.useLayoutEffect(()=>s.listen(u),[s,u]),t.createElement(Ie,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:!0===a})}var vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=t.forwardRef(function(e,r){let n,{onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:v,preventScrollReset:y,viewTransition:b}=e,w=i(e,u),{basename:j,unstable_useTransitions:N}=t.useContext(se),_="string"===typeof v&&vt.test(v),S=!1;if("string"===typeof v&&_&&(n=v,mt))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),r=F(t.pathname,j);t.origin===e.origin&&null!=r?v=r+t.search+t.hash:S=!0}catch(SX){g(!1,'<Link to="'.concat(v,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=t.useContext(se),{hash:i,pathname:o,search:s}=ve(e,{relative:r}),l=o;return"/"!==n&&(l="/"===o?n:G([n,o])),a.createHref({pathname:l,search:s,hash:i})}(v,{relative:c}),[E,A,O]=function(e,r){let n=t.useContext(nt),[a,i]=t.useState(!1),[o,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=r,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:it(l,p),onBlur:it(c,m),onMouseEnter:it(u,p),onMouseLeave:it(d,m),onTouchStart:it(h,p)}]:[!1,f,{}]}(l,w),C=function(e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s,unstable_useTransitions:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=me(),u=he(),d=ve(e,{relative:o});return t.useCallback(h=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(h,r)){h.preventDefault();let r=void 0!==n?n:x(u)===x(d),f=()=>c(e,{replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:s});l?t.startTransition(()=>f()):f()}},[u,c,d,n,a,r,e,i,o,s,l])}(v,{replace:h,state:f,target:p,preventScrollReset:y,relative:c,viewTransition:b,unstable_useTransitions:N});let P=t.createElement("a",(0,o.A)((0,o.A)((0,o.A)({},w),O),{},{href:n||k,onClick:S||d?a:function(e){a&&a(e),e.defaultPrevented||C(e)},ref:ht(r,A),target:p,"data-discover":_||"render"!==s?void 0:"true"}));return E&&!_?t.createElement(t.Fragment,null,P,t.createElement(st,{page:k})):P});yt.displayName="Link";var xt=t.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:l=!1,style:c,to:u,viewTransition:h,children:f}=e,p=i(e,d),g=ve(u,{relative:p.relative}),v=he(),y=t.useContext(re),{navigator:x,basename:b}=t.useContext(se),w=null!=y&&function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(ae);m(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=jt("useViewTransitionState"),i=ve(e,{relative:r});if(!n.isTransitioning)return!1;let o=F(n.currentLocation.pathname,a)||n.currentLocation.pathname,s=F(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=M(i.pathname,s)||null!=M(i.pathname,o)}(g)&&!0===h,j=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,N=v.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(N=N.toLowerCase(),_=_?_.toLowerCase():null,j=j.toLowerCase()),_&&b&&(_=F(_,b)||_);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let k,E=N===j||!l&&N.startsWith(j)&&"/"===N.charAt(S),A=null!=_&&(_===j||!l&&_.startsWith(j)&&"/"===_.charAt(j.length)),O={isActive:E,isPending:A,isTransitioning:w},C=E?n:void 0;k="function"===typeof s?s(O):[s,E?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof c?c(O):c;return t.createElement(yt,(0,o.A)((0,o.A)({},p),{},{"aria-current":C,className:k,ref:r,style:P,to:u,viewTransition:h}),"function"===typeof f?f(O):f)});xt.displayName="NavLink";var bt=t.forwardRef((e,r)=>{let{discover:n="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:c,state:u,method:d=ze,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:y}=e,b=i(e,h),{unstable_useTransitions:w}=t.useContext(se),j=kt(),N=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(se),a=t.useContext(ce);m(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s=(0,o.A)({},ve(e||".",{relative:r})),l=he();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();s.search=r?"?".concat(r):""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:G([n,s.pathname]));return x(s)}(f,{relative:g}),_="get"===d.toLowerCase()?"get":"post",S="string"===typeof f&&vt.test(f);return t.createElement("form",(0,o.A)((0,o.A)({ref:r,method:_,action:N,onSubmit:l?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,n=(null===r||void 0===r?void 0:r.getAttribute("formmethod"))||d,i=()=>j(r||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:c,state:u,relative:g,preventScrollReset:v,viewTransition:y});w&&!1!==s?t.startTransition(()=>i()):i()}},b),{},{"data-discover":S||"render"!==n?void 0:"true"}))});function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function jt(e){let r=t.useContext(te);return m(r,wt(e)),r}function Nt(e){g("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=t.useRef(Be(e)),n=t.useRef(!1),a=he(),i=t.useMemo(()=>function(e,t){let r=Be(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(a.search,n.current?null:r.current),[a.search]),o=me(),s=t.useCallback((e,t)=>{const r=Be("function"===typeof e?e(new URLSearchParams(i)):e);n.current=!0,o("?"+r,t)},[o,i]);return[i,s]}bt.displayName="Form";var _t=0,St=()=>"__".concat(String(++_t),"__");function kt(){let{router:e}=jt("useSubmit"),{basename:r}=t.useContext(se),n=Ee("useRouteId"),a=e.fetch,i=e.navigate;return t.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:l,formData:c,body:u}=Ve(e,r);if(!1===t.navigate){let e=t.fetcherKey||St();await a(e,n,t.action||o,{preventScrollReset:t.preventScrollReset,formData:c,body:u,formMethod:t.method||s,formEncType:t.encType||l,flushSync:t.flushSync})}else await i(t.action||o,{preventScrollReset:t.preventScrollReset,formData:c,body:u,formMethod:t.method||s,formEncType:t.encType||l,replace:t.replace,state:t.state,fromRouteId:n,flushSync:t.flushSync,viewTransition:t.viewTransition})},[a,i,r,n])}var Et=r(448),At=r.t(Et,2);const{PostgrestError:Ot,FunctionsHttpError:Ct,FunctionsFetchError:Pt,FunctionsRelayError:Tt,FunctionsError:Dt,FunctionRegion:Rt,SupabaseClient:It,createClient:Mt,GoTrueAdminApi:Lt,GoTrueClient:zt,AuthAdminApi:Ft,AuthClient:Ut,navigatorLock:Bt,NavigatorLockAcquireTimeoutError:qt,lockInternals:Ht,processLock:Wt,SIGN_OUT_SCOPES:Vt,AuthError:Kt,AuthApiError:Gt,AuthUnknownError:Yt,CustomAuthError:$t,AuthSessionMissingError:Jt,AuthInvalidTokenResponseError:Xt,AuthInvalidCredentialsError:Zt,AuthImplicitGrantRedirectError:Qt,AuthPKCEGrantCodeExchangeError:er,AuthRetryableFetchError:tr,AuthWeakPasswordError:rr,AuthInvalidJwtError:nr,isAuthError:ar,isAuthApiError:ir,isAuthSessionMissingError:or,isAuthImplicitGrantRedirectError:sr,isAuthRetryableFetchError:lr,isAuthWeakPasswordError:cr,RealtimePresence:ur,RealtimeChannel:dr,RealtimeClient:hr,REALTIME_LISTEN_TYPES:fr,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:pr,REALTIME_PRESENCE_LISTEN_EVENTS:mr,REALTIME_SUBSCRIBE_STATES:gr,REALTIME_CHANNEL_STATES:vr}=Et||At,yr="https://rtdxqthhhwqnlrevzmap.supabase.co",xr=yr,br=Mt(yr,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0ZHhxdGhoaHdxbmxyZXZ6bWFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5ODI4MjYsImV4cCI6MjA4MDU1ODgyNn0.njhKNQVbMWn-MlAhWfnHOVIRh988xksKry8ofEtEnOw"),wr="/images/default-avatar.png";var jr=r(579);const Nr=(0,t.createContext)(),_r=()=>{const e=(0,t.useContext)(Nr);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Sr=e=>{let{children:r}=e;const[n,a]=(0,t.useState)(null),[i,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{const{data:{session:e}}=await br.auth.getSession();if(null!==e&&void 0!==e&&e.user){var t,r,n,i,o,l,c,u,d;let s=(null===(t=e.user.user_metadata)||void 0===t?void 0:t.avatar_url)||(null===(r=e.user.user_metadata)||void 0===r?void 0:r.picture)||wr;const{data:h}=await br.from("admin_users").select("avatar_url").eq("id",e.user.id).maybeSingle(),f=!!h,p={id:e.user.id,email:e.user.email,name:f?"Administrador":(null===(n=e.user.user_metadata)||void 0===n?void 0:n.full_name)||(null===(i=e.user.user_metadata)||void 0===i?void 0:i.name)||"Usu\xe1rio",type:f?"admin":(null===(o=e.user.user_metadata)||void 0===o?void 0:o.user_type)||"user",cidade:(null===(l=e.user.user_metadata)||void 0===l?void 0:l.cidade)||"",estado:(null===(c=e.user.user_metadata)||void 0===c?void 0:c.estado)||"",genero:(null===(u=e.user.user_metadata)||void 0===u?void 0:u.genero)||"",estilo_musical:(null===(d=e.user.user_metadata)||void 0===d?void 0:d.estilo_musical)||"",isPremium:!1,isAdmin:f,avatar:(null===h||void 0===h?void 0:h.avatar_url)||s,user_metadata:e.user.user_metadata};a(p),localStorage.setItem("currentUser",JSON.stringify(p))}s(!1)})();const{data:{subscription:e}}=br.auth.onAuthStateChange(async(e,t)=>{if("SIGNED_IN"===e&&null!==t&&void 0!==t&&t.user){var r,n,i,o,s,l,c,u,d;const{data:e}=await br.from("admin_users").select("avatar_url").eq("id",t.user.id).maybeSingle(),h=!!e;let f=(null===(r=t.user.user_metadata)||void 0===r?void 0:r.avatar_url)||(null===(n=t.user.user_metadata)||void 0===n?void 0:n.picture)||wr;const p={id:t.user.id,email:t.user.email,name:h?"Administrador":(null===(i=t.user.user_metadata)||void 0===i?void 0:i.full_name)||(null===(o=t.user.user_metadata)||void 0===o?void 0:o.name)||"Usu\xe1rio",type:h?"admin":(null===(s=t.user.user_metadata)||void 0===s?void 0:s.user_type)||"user",cidade:(null===(l=t.user.user_metadata)||void 0===l?void 0:l.cidade)||"",estado:(null===(c=t.user.user_metadata)||void 0===c?void 0:c.estado)||"",genero:(null===(u=t.user.user_metadata)||void 0===u?void 0:u.genero)||"",estilo_musical:(null===(d=t.user.user_metadata)||void 0===d?void 0:d.estilo_musical)||"",isPremium:!1,isAdmin:h,avatar:(null===e||void 0===e?void 0:e.avatar_url)||f,user_metadata:t.user.user_metadata};a(p),localStorage.setItem("currentUser",JSON.stringify(p))}else"SIGNED_OUT"===e&&(a(null),localStorage.removeItem("currentUser"))});return()=>e.unsubscribe()},[]);const l={user:n,loading:i,login:async(e,t)=>{var r,n,i,o,s,l;const{data:c,error:u}=await br.auth.signInWithPassword({email:e,password:t});if(u)return{error:u};const{data:d}=await br.from("admin_users").select("id, name, avatar_url").eq("id",c.user.id).maybeSingle();if(d){const e={id:c.user.id,email:c.user.email,name:"Administrador",type:"admin",isAdmin:!0,isPremium:!1,avatar:(null===d||void 0===d?void 0:d.avatar_url)||wr};return a(e),localStorage.setItem("currentUser",JSON.stringify(e)),{data:e,isAdmin:!0,isArtist:!1}}const{data:h}=await br.from("artists").select("id, name, avatar_url").eq("id",c.user.id).maybeSingle(),f=!!h||"artist"===(null===(r=c.user.user_metadata)||void 0===r?void 0:r.user_type),p={id:c.user.id,email:c.user.email,name:(null===h||void 0===h?void 0:h.name)||(null===(n=c.user.user_metadata)||void 0===n?void 0:n.full_name)||"Usu\xe1rio",type:f?"artist":"user",cidade:(null===(i=c.user.user_metadata)||void 0===i?void 0:i.cidade)||"",estado:(null===(o=c.user.user_metadata)||void 0===o?void 0:o.estado)||"",genero:(null===(s=c.user.user_metadata)||void 0===s?void 0:s.genero)||"",estilo_musical:(null===(l=c.user.user_metadata)||void 0===l?void 0:l.estilo_musical)||"",isPremium:!1,isAdmin:!1,avatar:(null===h||void 0===h?void 0:h.avatar_url)||wr};return a(p),localStorage.setItem("currentUser",JSON.stringify(p)),{data:p,isArtist:f,isAdmin:!1}},loginWithGoogle:async()=>{const{data:e,error:t}=await br.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return{data:e,error:t}},logout:async()=>{await br.auth.signOut(),a(null),localStorage.removeItem("currentUser")},upgradeToPremium:()=>{const e=(0,o.A)((0,o.A)({},n),{},{isPremium:!0});a(e),localStorage.setItem("currentUser",JSON.stringify(e))},updateUser:e=>{a(e);try{localStorage.setItem("currentUser",JSON.stringify(e))}catch(SX){}},isArtist:"artist"===(null===n||void 0===n?void 0:n.type)&&"admin"!==(null===n||void 0===n?void 0:n.type),isPremium:null===n||void 0===n?void 0:n.isPremium,isAdmin:!0===(null===n||void 0===n?void 0:n.isAdmin)};return(0,jr.jsx)(Nr.Provider,{value:l,children:r})},kr=[{id:"1",name:"Jo\xe3o Silva",email:"joao@example.com",type:"user",isPremium:!0,avatar:"/images/default-avatar.png"},{id:"2",name:"Maria Santos",email:"maria@example.com",type:"artist",isPremium:!0,avatar:"/images/default-avatar.png"}],Er=[{id:"a1",userId:"2",name:"Maria Santos",bio:"Cantora e compositora brasileira",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=800",followers:45230,monthlyListeners:125e3,verified:!0},{id:"a2",name:"Pedro Oliveira",bio:"Rapper e produtor musical",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800",followers:89540,monthlyListeners:34e4,verified:!0},{id:"a3",name:"Ana Costa",bio:"M\xfasica eletr\xf4nica e experimental",avatar:"/images/default-avatar.png",coverImage:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=800",followers:62100,monthlyListeners:198e3,verified:!0}],Ar=[{id:"alb1",title:"Noites de Ver\xe3o",artistId:"a1",artistName:"Maria Santos",coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",releaseYear:2024,songCount:12},{id:"alb2",title:"Rimas da Quebrada",artistId:"a2",artistName:"Pedro Oliveira",coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",releaseYear:2023,songCount:15},{id:"alb3",title:"Synthwave Dreams",artistId:"a3",artistName:"Ana Costa",coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",releaseYear:2024,songCount:10}],Or=[{id:"s1",title:"Luz do Luar",artistId:"a1",artistName:"Maria Santos",albumId:"alb1",albumName:"Noites de Ver\xe3o",duration:245,coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",plays:125e4,likes:45e3},{id:"s2",title:"Horizonte",artistId:"a1",artistName:"Maria Santos",albumId:"alb1",albumName:"Noites de Ver\xe3o",duration:198,coverImage:"https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",plays:98e4,likes:32e3},{id:"s3",title:"Flow Pesado",artistId:"a2",artistName:"Pedro Oliveira",albumId:"alb2",albumName:"Rimas da Quebrada",duration:212,coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",plays:21e5,likes:89e3},{id:"s4",title:"Midnight Drive",artistId:"a3",artistName:"Ana Costa",albumId:"alb3",albumName:"Synthwave Dreams",duration:267,coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",plays:156e4,likes:62e3},{id:"s5",title:"Neon Lights",artistId:"a3",artistName:"Ana Costa",albumId:"alb3",albumName:"Synthwave Dreams",duration:234,coverImage:"https://images.unsplash.com/photo-1571330735066-03aaa9429d89?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",plays:132e4,likes:54e3},{id:"s6",title:"Realidade",artistId:"a2",artistName:"Pedro Oliveira",albumId:"alb2",albumName:"Rimas da Quebrada",duration:189,coverImage:"https://images.unsplash.com/photo-1619983081563-430f63602796?w=300",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3",plays:189e4,likes:71e3}],Cr=e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r.toString().padStart(2,"0"))};function Pr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Tr,Dr,Rr,Ir;(()=>{try{const e="timbalada",t=Er.findIndex(t=>t.id===e);-1!==t&&Er.splice(t,1);const r=kr.findIndex(t=>t.email==="".concat(e,"@example.com")||t.id===e||t.name===e);-1!==r&&kr.splice(r,1)}catch(SX){}})(),(()=>{try{if("undefined"===typeof window)return;try{const e=JSON.parse(localStorage.getItem("currentUser")||"null");!e||"hericlesbatera@gmail.com"!==e.email&&"Timbalada"!==e.name||localStorage.removeItem("currentUser")}catch(SX){}const e=JSON.parse(localStorage.getItem("mockUsersPersist")||"null");Array.isArray(e)&&e.forEach(e=>{if("ferronaboneca"===e.name)return;"ferronaboneca"===e.name&&(e.type="artist");kr.find(t=>t.id===e.id||t.email===e.email)||"hericlesbatera@gmail.com"===e.email||"Timbalada"===e.name||kr.push(e)});const t=JSON.parse(localStorage.getItem("mockArtistsPersist")||"null");if(Array.isArray(t)){const e=t.filter(e=>"timbalada"!==e.id&&"ferronaboneca"!==e.name);e.forEach(e=>{Er.find(t=>t.id===e.id)||Er.push(e)})}}catch(SX){}})();const Mr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)try{await br.from("songs").update({downloads:br.sql(Rr||(Rr=Pr(["COALESCE(downloads, 0) + 1"])))}).eq("id",e),t&&await br.from("albums").update({download_count:br.sql(Ir||(Ir=Pr(["COALESCE(download_count, 0) + 1"])))}).eq("id",t)}catch(r){console.error("Error recording song download:",r)}else console.error("songId is required for recording download")},Lr=(0,t.createContext)(),zr=()=>{const e=(0,t.useContext)(Lr);if(!e)throw new Error("usePlayer must be used within PlayerProvider");return e},Fr=e=>{let{children:r}=e;const[n,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(0),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(.7),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)("off"),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(null),N=(0,t.useRef)(null);N.current||(N.current=new Audio,N.current.preload="auto",N.current.crossOrigin="anonymous");const _=(0,t.useRef)(null),S=(0,t.useCallback)(()=>{if(!s.length)return;const e=s.findIndex(e=>e.id===(null===n||void 0===n?void 0:n.id));let t;if("one"===v)return N.current.currentTime=0,void N.current.play();if(m)t=Math.floor(Math.random()*s.length);else if(t=e+1,t>=s.length){if("all"!==v)return void o(!1);t=0}a(s[t])},[s,n,v,m]);(0,t.useEffect)(()=>{_.current=S},[S]),(0,t.useEffect)(()=>{const e=N.current,t=()=>u(e.currentTime),r=()=>h(e.duration),n=()=>{_.current&&_.current()},a=()=>console.error("Erro ao carregar \xe1udio:",e.error),i=()=>console.log("\xc1udio pronto para reproduzir");return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",r),e.addEventListener("ended",n),e.addEventListener("error",a),e.addEventListener("canplay",i),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",r),e.removeEventListener("ended",n),e.removeEventListener("error",a),e.removeEventListener("canplay",i)}},[]),(0,t.useEffect)(()=>{N.current.volume=f},[f]),(0,t.useEffect)(()=>{n&&(N.current.src=n.audioUrl,i&&N.current.play().catch(e=>console.error("Error playing audio:",e)))},[n]),(0,t.useEffect)(()=>{i?N.current.play().catch(e=>console.error("Error playing audio:",e)):N.current.pause()},[i]);const k={currentSong:n,isPlaying:i,queue:s,currentTime:c,duration:d,volume:f,isShuffle:m,repeatMode:v,isCompactMode:x,playSong:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a(e),l(t.length>0?t:[e]),o(!0),j(r);const n=e.albumId||e.album_id||e.albumid,i=e.id;n&&i?async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e&&t)try{const{data:n}=await br.from("songs").select("plays").eq("id",e).single(),a=((null===n||void 0===n?void 0:n.plays)||0)+1;await br.from("songs").update({plays:a}).eq("id",e);const{data:i}=await br.from("albums").select("play_count").eq("id",t).single(),o=((null===i||void 0===i?void 0:i.play_count)||0)+1;if(await br.from("albums").update({play_count:o}).eq("id",t),r){const{data:e}=await br.from("playlists").select("play_count").eq("id",r).single(),t=((null===e||void 0===e?void 0:e.play_count)||0)+1;await br.from("playlists").update({play_count:t}).eq("id",r)}await br.from("plays").insert([{album_id:t,song_id:e,playlist_id:r||null,created_at:(new Date).toISOString()}])}catch(n){console.error("Error recording song play:",n)}else console.error("songId and albumId are required for recording play")}(i,n,r):console.error("Album ID or Song ID not found for song:",e)},togglePlay:()=>{o(!i)},handleNext:S,handlePrevious:()=>{if(c>3)return void(N.current.currentTime=0);if(!s.length)return;const e=s.findIndex(e=>e.id===(null===n||void 0===n?void 0:n.id)),t=e-1;t<0?"all"===v&&a(s[s.length-1]):a(s[t])},seekTo:e=>{N.current.currentTime=e,u(e)},setVolume:p,toggleShuffle:()=>{g(!m)},toggleRepeat:()=>{const e=["off","all","one"],t=(e.indexOf(v)+1)%e.length;y(e[t])},clearQueue:()=>{l([]),a(null),o(!1),N.current.pause(),N.current.src=""},setIsCompactMode:b};return(0,jr.jsx)(Lr.Provider,{value:k,children:r})};let Ur=0;const Br=new Map,qr=e=>{if(Br.has(e))return;const t=setTimeout(()=>{Br.delete(e),Kr({type:"REMOVE_TOAST",toastId:e})},1e6);Br.set(e,t)},Hr=(e,t)=>{switch(t.type){case"ADD_TOAST":return(0,o.A)((0,o.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,1)});case"UPDATE_TOAST":return(0,o.A)((0,o.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,o.A)((0,o.A)({},e),t.toast):e)});case"DISMISS_TOAST":{const{toastId:r}=t;return r?qr(r):e.toasts.forEach(e=>{qr(e.id)}),(0,o.A)((0,o.A)({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?(0,o.A)((0,o.A)({},e),{},{open:!1}):e)})}case"REMOVE_TOAST":return void 0===t.toastId?(0,o.A)((0,o.A)({},e),{},{toasts:[]}):(0,o.A)((0,o.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)})}},Wr=[];let Vr={toasts:[]};function Kr(e){Vr=Hr(Vr,e),Wr.forEach(e=>{e(Vr)})}function Gr(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const r=(Ur=(Ur+1)%Number.MAX_SAFE_INTEGER,Ur.toString()),n=()=>Kr({type:"DISMISS_TOAST",toastId:r});return Kr({type:"ADD_TOAST",toast:(0,o.A)((0,o.A)({},t),{},{id:r,open:!0,onOpenChange:e=>{e||n()}})}),{id:r,dismiss:n,update:e=>Kr({type:"UPDATE_TOAST",toast:(0,o.A)((0,o.A)({},e),{},{id:r})})}}var Yr=r(7950);"undefined"===typeof window||!window.document||window.document.createElement;function $r(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}function Jr(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Xr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=!1;const n=t.map(t=>{const n=Jr(t,e);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let e=0;e<n.length;e++){const r=n[e];"function"==typeof r?r():Jr(t[e],null)}}}}function Zr(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.useCallback(Xr(...r),r)}function Qr(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function en(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function tn(e,t){return e.get(en(e,t))}function rn(e,t,r){return e.set(en(e,t),r),r}const nn=["children"],an=["scope","children"];function on(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const a=()=>{const r=n.map(e=>t.createContext(e));return function(n){const a=(null===n||void 0===n?void 0:n[e])||r;return t.useMemo(()=>({["__scope".concat(e)]:(0,o.A)((0,o.A)({},n),{},{[e]:a})}),[n,a])}};return a.scopeName=e,[function(r,a){const o=t.createContext(a),s=n.length;n=[...n,a];const l=r=>{var n;const{scope:a,children:l}=r,c=i(r,an),u=(null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n[s])||o,d=t.useMemo(()=>c,Object.values(c));return(0,jr.jsx)(u.Provider,{value:d,children:l})};return l.displayName=r+"Provider",[l,function(n,i){var l;const c=(null===i||void 0===i||null===(l=i[e])||void 0===l?void 0:l[s])||o,u=t.useContext(c);if(u)return u;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(r,"`"))}]},sn(a,...r)]}function sn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const a=r[0];if(1===r.length)return a;const i=()=>{const e=r.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(r){const n=e.reduce((e,t)=>{let{useScope:n,scopeName:a}=t;const i=n(r)["__scope".concat(a)];return(0,o.A)((0,o.A)({},e),i)},{});return t.useMemo(()=>({["__scope".concat(a.scopeName)]:n}),[n])}};return i.scopeName=a.scopeName,i}const ln=["children"],cn=["children"];function un(e){const r=dn(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=i(e,ln),l=t.Children.toArray(a),c=l.find(pn);if(c){const e=c.props.children,a=l.map(r=>r===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function dn(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=i(e,cn);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const r=(0,o.A)({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,o.A)((0,o.A)({},a),i):"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return(0,o.A)((0,o.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(i.ref=r?Xr(r,e):e),t.cloneElement(n,i)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var hn=Symbol("radix.slottable");var fn;function pn(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===hn}const mn=["scope","children"];function gn(e){const r=e+"CollectionProvider",[n,a]=on(r),[s,l]=n(r,{collectionRef:{current:null},itemMap:new Map}),c=e=>{const{scope:r,children:n}=e,a=t.useRef(null),i=t.useRef(new Map).current;return(0,jr.jsx)(s,{scope:r,itemMap:i,collectionRef:a,children:n})};c.displayName=r;const u=e+"CollectionSlot",d=un(u),h=t.forwardRef((e,t)=>{const{scope:r,children:n}=e,a=Zr(t,l(u,r).collectionRef);return(0,jr.jsx)(d,{ref:a,children:n})});h.displayName=u;const f=e+"CollectionItemSlot",p="data-radix-collection-item",m=un(f),g=t.forwardRef((e,r)=>{const{scope:n,children:a}=e,s=i(e,mn),c=t.useRef(null),u=Zr(r,c),d=l(f,n);return t.useEffect(()=>(d.itemMap.set(c,(0,o.A)({ref:c},s)),()=>{d.itemMap.delete(c)})),(0,jr.jsx)(m,(0,o.A)((0,o.A)({},{[p]:""}),{},{ref:u,children:a}))});return g.displayName=f,[{Provider:c,Slot:h,ItemSlot:g},function(r){const n=l(e+"CollectionConsumer",r),a=t.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]"))),r=Array.from(n.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current));return r},[n.collectionRef,n.itemMap]);return a},a]}var vn=new WeakMap;fn=new WeakMap,Map;function yn(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const r=function(e,t){const r=e.length,n=xn(t),a=n>=0?n:r+n;return a<0||a>=r?-1:a}(e,t);return-1===r?void 0:e[r]}function xn(e){return e!==e||0===e?0:Math.trunc(e)}const bn=["children"],wn=["children"];function jn(e){const r=Nn(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=i(e,bn),l=t.Children.toArray(a),c=l.find(Sn);if(c){const e=c.props.children,a=l.map(r=>r===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function Nn(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=i(e,wn);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const r=(0,o.A)({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,o.A)((0,o.A)({},a),i):"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return(0,o.A)((0,o.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(i.ref=r?Xr(r,e):e),t.cloneElement(n,i)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var _n=Symbol("radix.slottable");function Sn(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===_n}const kn=["asChild"];var En=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{const n=jn("Primitive.".concat(r)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,s=i(e,kn),l=a?n:r;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,jr.jsx)(l,(0,o.A)((0,o.A)({},s),{},{ref:t}))});return a.displayName="Primitive.".concat(r),(0,o.A)((0,o.A)({},e),{},{[r]:a})},{});function An(e,t){e&&Yr.flushSync(()=>e.dispatchEvent(t))}function On(e){const r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return null===(e=r.current)||void 0===e?void 0:e.call(r,...n)},[])}const Cn=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var Pn,Tn="dismissableLayer.update",Dn="dismissableLayer.pointerDownOutside",Rn="dismissableLayer.focusOutside",In=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mn=t.forwardRef((e,r)=>{var n;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:d}=e,h=i(e,Cn),f=t.useContext(In),[p,m]=t.useState(null),g=null!==(n=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,v]=t.useState({}),y=Zr(r,e=>m(e)),x=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(b),j=p?x.indexOf(p):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,_=j>=w,S=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=On(e),a=t.useRef(!1),i=t.useRef(()=>{});return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let t=function(){Fn(Dn,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(r.removeEventListener("click",i.current),i.current=t,r.addEventListener("click",i.current,{once:!0})):t()}else r.removeEventListener("click",i.current);a.current=!1},t=window.setTimeout(()=>{r.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),r.removeEventListener("pointerdown",e),r.removeEventListener("click",i.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,r=[...f.branches].some(e=>e.contains(t));_&&!r&&(null===l||void 0===l||l(e),null===u||void 0===u||u(e),e.defaultPrevented||null===d||void 0===d||d())},g),k=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=On(e),a=t.useRef(!1);return t.useEffect(()=>{const e=e=>{if(e.target&&!a.current){Fn(Rn,n,{originalEvent:e},{discrete:!1})}};return r.addEventListener("focusin",e),()=>r.removeEventListener("focusin",e)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...f.branches].some(e=>e.contains(t))||(null===c||void 0===c||c(e),null===u||void 0===u||u(e),e.defaultPrevented||null===d||void 0===d||d())},g);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=On(e);t.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return r.addEventListener("keydown",e,{capture:!0}),()=>r.removeEventListener("keydown",e,{capture:!0})},[n,r])}(e=>{j===f.layers.size-1&&(null===s||void 0===s||s(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},g),t.useEffect(()=>{if(p)return a&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(Pn=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),zn(),()=>{a&&1===f.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=Pn)}},[p,g,a,f]),t.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),zn())},[p,f]),t.useEffect(()=>{const e=()=>v({});return document.addEventListener(Tn,e),()=>document.removeEventListener(Tn,e)},[]),(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({},h),{},{ref:y,style:(0,o.A)({pointerEvents:N?_?"auto":"none":void 0},e.style),onFocusCapture:$r(e.onFocusCapture,k.onFocusCapture),onBlurCapture:$r(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:$r(e.onPointerDownCapture,S.onPointerDownCapture)}))});Mn.displayName="DismissableLayer";var Ln=t.forwardRef((e,r)=>{const n=t.useContext(In),a=t.useRef(null),i=Zr(r,a);return t.useEffect(()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({},e),{},{ref:i}))});function zn(){const e=new CustomEvent(Tn);document.dispatchEvent(e)}function Fn(e,t,r,n){let{discrete:a}=n;const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),a?An(i,o):i.dispatchEvent(o)}Ln.displayName="DismissableLayerBranch";var Un=Mn,Bn=Ln,qn=null!==globalThis&&void 0!==globalThis&&globalThis.document?t.useLayoutEffect:()=>{};const Hn=["container"];var Wn=t.forwardRef((e,r)=>{var n;const{container:a}=e,s=i(e,Hn),[l,c]=t.useState(!1);qn(()=>c(!0),[]);const u=a||l&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return u?Yr.createPortal((0,jr.jsx)(En.div,(0,o.A)((0,o.A)({},s),{},{ref:r})),u):null});Wn.displayName="Portal";var Vn=e=>{const{present:r,children:n}=e,a=function(e){const[r,n]=t.useState(),a=t.useRef(null),i=t.useRef(e),o=t.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,r){return t.useReducer((e,t)=>{const n=r[e][t];return null!==n&&void 0!==n?n:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const e=Kn(a.current);o.current="mounted"===l?e:"none"},[l]),qn(()=>{const t=a.current,r=i.current;if(r!==e){const n=o.current,a=Kn(t);if(e)c("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(r&&n!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,c]),qn(()=>{if(r){var e;let t;const n=null!==(e=r.ownerDocument.defaultView)&&void 0!==e?e:window,s=e=>{const o=Kn(a.current).includes(CSS.escape(e.animationName));if(e.target===r&&o&&(c("ANIMATION_END"),!i.current)){const e=r.style.animationFillMode;r.style.animationFillMode="forwards",t=n.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=e)})}},l=e=>{e.target===r&&(o.current=Kn(a.current))};return r.addEventListener("animationstart",l),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s),()=>{n.clearTimeout(t),r.removeEventListener("animationstart",l),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:t.useCallback(e=>{a.current=e?getComputedStyle(e):null,n(e)},[])}}(r),i="function"===typeof n?n({present:a.isPresent}):t.Children.only(n),o=Zr(a.ref,function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||a.isPresent?t.cloneElement(i,{ref:o}):null};function Kn(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Vn.displayName="Presence";var Gn=n[" useInsertionEffect ".trim().toString()]||qn;function Yn(e){let{prop:r,defaultProp:n,onChange:a=()=>{},caller:i}=e;const[o,s,l]=function(e){let{defaultProp:r,onChange:n}=e;const[a,i]=t.useState(r),o=t.useRef(a),s=t.useRef(n);return Gn(()=>{s.current=n},[n]),t.useEffect(()=>{var e;o.current!==a&&(null===(e=s.current)||void 0===e||e.call(s,a),o.current=a)},[a,o]),[a,i,s]}({defaultProp:n,onChange:a}),c=void 0!==r,u=c?r:o;{const e=t.useRef(void 0!==r);t.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",r=c?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(e," to ").concat(r,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,i])}const d=t.useCallback(e=>{if(c){const n=function(e){return"function"===typeof e}(e)?e(r):e;var t;if(n!==r)null===(t=l.current)||void 0===t||t.call(l,n)}else s(e)},[c,r,s,l]);return[u,d]}Symbol("RADIX:SYNC_STATE");var $n=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Jn=t.forwardRef((e,t)=>(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({},e),{},{ref:t,style:(0,o.A)((0,o.A)({},$n),e.style)})));Jn.displayName="VisuallyHidden";const Xn=["__scopeToast","hotkey","label"],Zn=["__scopeToast","onFocusFromOutsideViewport"],Qn=["forceMount","open","defaultOpen","onOpenChange"],ea=["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"],ta=["__scopeToast","children"],ra=["__scopeToast"],na=["__scopeToast"],aa=["altText"],ia=["__scopeToast"],oa=["__scopeToast","altText"];var sa="ToastProvider",[la,ca,ua]=gn("Toast"),[da,ha]=on("Toast",[ua]),[fa,pa]=da(sa),ma=e=>{const{__scopeToast:r,label:n="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[l,c]=t.useState(null),[u,d]=t.useState(0),h=t.useRef(!1),f=t.useRef(!1);return n.trim()||console.error("Invalid prop `label` supplied to `".concat(sa,"`. Expected non-empty `string`.")),(0,jr.jsx)(la.Provider,{scope:r,children:(0,jr.jsx)(fa,{scope:r,label:n,duration:a,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:t.useCallback(()=>d(e=>e+1),[]),onToastRemove:t.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:s})})};ma.displayName=sa;var ga="ToastViewport",va=["F8"],ya="toast.viewportPause",xa="toast.viewportResume",ba=t.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:a=va,label:s="Notifications ({hotkey})"}=e,l=i(e,Xn),c=pa(ga,n),u=ca(n),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(null),m=Zr(r,p,c.onViewportChange),g=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=c.toastCount>0;t.useEffect(()=>{const e=e=>{var t;0!==a.length&&a.every(t=>e[t]||e.code===t)&&(null===(t=p.current)||void 0===t||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),t.useEffect(()=>{const e=d.current,t=p.current;if(v&&e&&t){const r=()=>{if(!c.isClosePausedRef.current){const e=new CustomEvent(ya);t.dispatchEvent(e),c.isClosePausedRef.current=!0}},n=()=>{if(c.isClosePausedRef.current){const e=new CustomEvent(xa);t.dispatchEvent(e),c.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&n()},i=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",i),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",i),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[v,c.isClosePausedRef]);const y=t.useCallback(e=>{let{tabbingDirection:t}=e;const r=u().map(e=>{const r=e.ref.current,n=[r,...Fa(r)];return"forwards"===t?n:n.reverse()});return("forwards"===t?r.reverse():r).flat()},[u]);return t.useEffect(()=>{const e=p.current;if(e){const t=t=>{const r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){const r=document.activeElement,o=t.shiftKey;var n;if(t.target===e&&o)return void(null===(n=h.current)||void 0===n||n.focus());const s=y({tabbingDirection:o?"backwards":"forwards"}),l=s.findIndex(e=>e===r);var a,i;if(Ua(s.slice(l+1)))t.preventDefault();else o?null===(a=h.current)||void 0===a||a.focus():null===(i=f.current)||void 0===i||i.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[u,y]),(0,jr.jsxs)(Bn,{ref:d,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&(0,jr.jsx)(ja,{ref:h,onFocusFromOutsideViewport:()=>{Ua(y({tabbingDirection:"forwards"}))}}),(0,jr.jsx)(la.Slot,{scope:n,children:(0,jr.jsx)(En.ol,(0,o.A)((0,o.A)({tabIndex:-1},l),{},{ref:m}))}),v&&(0,jr.jsx)(ja,{ref:f,onFocusFromOutsideViewport:()=>{Ua(y({tabbingDirection:"backwards"}))}})]})});ba.displayName=ga;var wa="ToastFocusProxy",ja=t.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n}=e,a=i(e,Zn),s=pa(wa,r);return(0,jr.jsx)(Jn,(0,o.A)((0,o.A)({tabIndex:0},a),{},{ref:t,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null!==(t=s.viewport)&&void 0!==t&&t.contains(r))&&n()}}))});ja.displayName=wa;var Na="Toast",_a=t.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s}=e,l=i(e,Qn),[c,u]=Yn({prop:n,defaultProp:null===a||void 0===a||a,onChange:s,caller:Na});return(0,jr.jsx)(Vn,{present:r||c,children:(0,jr.jsx)(Ea,(0,o.A)((0,o.A)({open:c},l),{},{ref:t,onClose:()=>u(!1),onPause:On(e.onPause),onResume:On(e.onResume),onSwipeStart:$r(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$r(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(r,"px"))}),onSwipeCancel:$r(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$r(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(r,"px")),u(!1)})}))})});_a.displayName=Na;var[Sa,ka]=da(Na,{onClose(){}}),Ea=t.forwardRef((e,r)=>{const{__scopeToast:n,type:a="foreground",duration:s,open:l,onClose:c,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:g}=e,v=i(e,ea),y=pa(Na,n),[x,b]=t.useState(null),w=Zr(r,e=>b(e)),j=t.useRef(null),N=t.useRef(null),_=s||y.duration,S=t.useRef(0),k=t.useRef(_),E=t.useRef(0),{onToastAdd:A,onToastRemove:O}=y,C=On(()=>{var e;(null===x||void 0===x?void 0:x.contains(document.activeElement))&&(null===(e=y.viewport)||void 0===e||e.focus()),c()}),P=t.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(E.current),S.current=(new Date).getTime(),E.current=window.setTimeout(C,e))},[C]);t.useEffect(()=>{const e=y.viewport;if(e){const t=()=>{P(k.current),null===h||void 0===h||h()},r=()=>{const e=(new Date).getTime()-S.current;k.current=k.current-e,window.clearTimeout(E.current),null===d||void 0===d||d()};return e.addEventListener(ya,r),e.addEventListener(xa,t),()=>{e.removeEventListener(ya,r),e.removeEventListener(xa,t)}}},[y.viewport,_,d,h,P]),t.useEffect(()=>{l&&!y.isClosePausedRef.current&&P(_)},[l,_,y.isClosePausedRef,P]),t.useEffect(()=>(A(),()=>O()),[A,O]);const T=t.useMemo(()=>x?Ma(x):null,[x]);return y.viewport?(0,jr.jsxs)(jr.Fragment,{children:[T&&(0,jr.jsx)(Aa,{__scopeToast:n,role:"status","aria-live":"foreground"===a?"assertive":"polite",children:T}),(0,jr.jsx)(Sa,{scope:n,onClose:C,children:Yr.createPortal((0,jr.jsx)(la.ItemSlot,{scope:n,children:(0,jr.jsx)(Un,{asChild:!0,onEscapeKeyDown:$r(u,()=>{y.isFocusedToastEscapeKeyDownRef.current||C(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,jr.jsx)(En.li,(0,o.A)((0,o.A)({tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":y.swipeDirection},v),{},{ref:w,style:(0,o.A)({userSelect:"none",touchAction:"none"},e.style),onKeyDown:$r(e.onKeyDown,e=>{"Escape"===e.key&&(null===u||void 0===u||u(e.nativeEvent),e.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:$r(e.onPointerDown,e=>{0===e.button&&(j.current={x:e.clientX,y:e.clientY})}),onPointerMove:$r(e.onPointerMove,e=>{if(!j.current)return;const t=e.clientX-j.current.x,r=e.clientY-j.current.y,n=Boolean(N.current),a=["left","right"].includes(y.swipeDirection),i=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,o=a?i(0,t):0,s=a?0:i(0,r),l="touch"===e.pointerType?10:2,c={x:o,y:s},u={originalEvent:e,delta:c};n?(N.current=c,La("toast.swipeMove",p,u,{discrete:!1})):za(c,y.swipeDirection,l)?(N.current=c,La("toast.swipeStart",f,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(j.current=null)}),onPointerUp:$r(e.onPointerUp,e=>{const t=N.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),N.current=null,j.current=null,t){const r=e.currentTarget,n={originalEvent:e,delta:t};za(t,y.swipeDirection,y.swipeThreshold)?La("toast.swipeEnd",g,n,{discrete:!0}):La("toast.swipeCancel",m,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})}))})}),y.viewport)})]}):null}),Aa=e=>{const{__scopeToast:r,children:n}=e,a=i(e,ta),s=pa(Na,r),[l,c]=t.useState(!1),[u,d]=t.useState(!1);return function(){const e=On(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});qn(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}(()=>c(!0)),t.useEffect(()=>{const e=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(e)},[]),u?null:(0,jr.jsx)(Wn,{asChild:!0,children:(0,jr.jsx)(Jn,(0,o.A)((0,o.A)({},a),{},{children:l&&(0,jr.jsxs)(jr.Fragment,{children:[s.label," ",n]})}))})},Oa=t.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=i(e,ra);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({},n),{},{ref:t}))});Oa.displayName="ToastTitle";var Ca=t.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=i(e,na);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({},n),{},{ref:t}))});Ca.displayName="ToastDescription";var Pa="ToastAction",Ta=t.forwardRef((e,t)=>{const{altText:r}=e,n=i(e,aa);return r.trim()?(0,jr.jsx)(Ia,{altText:r,asChild:!0,children:(0,jr.jsx)(Ra,(0,o.A)((0,o.A)({},n),{},{ref:t}))}):(console.error("Invalid prop `altText` supplied to `".concat(Pa,"`. Expected non-empty `string`.")),null)});Ta.displayName=Pa;var Da="ToastClose",Ra=t.forwardRef((e,t)=>{const{__scopeToast:r}=e,n=i(e,ia),a=ka(Da,r);return(0,jr.jsx)(Ia,{asChild:!0,children:(0,jr.jsx)(En.button,(0,o.A)((0,o.A)({type:"button"},n),{},{ref:t,onClick:$r(e.onClick,a.onClose)}))})});Ra.displayName=Da;var Ia=t.forwardRef((e,t)=>{const{__scopeToast:r,altText:n}=e,a=i(e,oa);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},a),{},{ref:t}))});function Ma(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...Ma(e))}}),t}function La(e,t,r,n){let{discrete:a}=n;const i=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),a?An(i,o):i.dispatchEvent(o)}var za=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return"left"===t||"right"===t?i&&n>r:!i&&a>r};function Fa(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ua(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var Ba=ma,qa=ba,Ha=_a,Wa=Oa,Va=Ca,Ka=Ta,Ga=Ra;function Ya(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Ya(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $a(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Ya(e))&&(n&&(n+=" "),n+=t);return n}const Ja=["class","className"],Xa=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,Za=$a,Qa=(e,t)=>r=>{var n;if(null==(null===t||void 0===t?void 0:t.variants))return Za(e,null===r||void 0===r?void 0:r.class,null===r||void 0===r?void 0:r.className);const{variants:a,defaultVariants:s}=t,l=Object.keys(a).map(e=>{const t=null===r||void 0===r?void 0:r[e],n=null===s||void 0===s?void 0:s[e];if(null===t)return null;const i=Xa(t)||Xa(n);return a[e][i]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),u=null===t||void 0===t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n}=t,a=i(t,Ja);return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes((0,o.A)((0,o.A)({},s),c)[t]):(0,o.A)((0,o.A)({},s),c)[t]===r})?[...e,r,n]:e},[]);return Za(e,l,u,null===r||void 0===r?void 0:r.class,null===r||void 0===r?void 0:r.className)},ei=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ti=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ri=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var ni={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ai=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],ii=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d}=e,h=i(e,ai);return(0,t.createElement)("svg",(0,o.A)((0,o.A)((0,o.A)({ref:r},ni),{},{width:a,height:a,stroke:n,strokeWidth:l?24*Number(s)/Number(a):s,className:ri("lucide",c)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(u)?u:[u]])}),oi=["className"],si=(e,r)=>{const n=(0,t.forwardRef)((n,a)=>{let{className:s}=n,l=i(n,oi);return(0,t.createElement)(ii,(0,o.A)({ref:a,iconNode:r,className:ri("lucide-".concat(ei(ti(e))),"lucide-".concat(e),s)},l))});return n.displayName=ti(e),n},li=si("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ci=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},ui="-",di=[],hi=e=>{const t=mi(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return pi(e);const r=e.split(ui),n=""===r[0]&&r.length>1?1:0;return fi(r,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=n[e],a=r[e];return t?a?((e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r})(a,t):t:a||di}return r[e]||di}}},fi=(e,t,r)=>{if(0===e.length-t)return r.classGroupId;const n=e[t],a=r.nextPart.get(n);if(a){const r=fi(e,t+1,a);if(r)return r}const i=r.validators;if(null===i)return;const o=0===t?e.join(ui):e.slice(t).join(ui),s=i.length;for(let l=0;l<s;l++){const e=i[l];if(e.validator(o))return e.classGroupId}},pi=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?"arbitrary.."+n:void 0})(),mi=e=>{const{theme:t,classGroups:r}=e;return gi(r,t)},gi=(e,t)=>{const r=ci();for(const n in e){const a=e[n];vi(a,r,n,t)}return r},vi=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const a=e[i];yi(a,t,r,n)}},yi=(e,t,r,n)=>{"string"!==typeof e?"function"!==typeof e?wi(e,t,r,n):bi(e,t,r,n):xi(e,t,r)},xi=(e,t,r)=>{(""===e?t:ji(t,e)).classGroupId=r},bi=(e,t,r,n)=>{Ni(e)?vi(e(n),t,r,n):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(r,e)))},wi=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[e,i]=a[o];vi(i,ji(t,e),r,n)}},ji=(e,t)=>{let r=e;const n=t.split(ui),a=n.length;for(let i=0;i<a;i++){const e=n[i];let t=r.nextPart.get(e);t||(t=ci(),r.nextPart.set(e,t)),r=t}return r},Ni=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,_i=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(a,i)=>{r[a]=i,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(a(e,t),t):void 0},set(e,t){e in r?r[e]=t:a(e,t)}}},Si=[],ki=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Ei=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,a=0,i=0;const o=e.length;for(let u=0;u<o;u++){const o=e[u];if(0===n&&0===a){if(":"===o){t.push(e.slice(i,u)),i=u+1;continue}if("/"===o){r=u;continue}}"["===o?n++:"]"===o?n--:"("===o?a++:")"===o&&a--}const s=0===t.length?e:e.slice(i);let l=s,c=!1;s.endsWith("!")?(l=s.slice(0,-1),c=!0):s.startsWith("!")&&(l=s.slice(1),c=!0);return ki(t,c,l,r&&r>i?r-i:void 0)};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):ki(Si,!1,t,void 0,!0)}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},Ai=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{const r=[];let n=[];for(let a=0;a<e.length;a++){const i=e[a],o="["===i[0],s=t.has(i);o||s?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(i)):n.push(i)}return n.length>0&&(n.sort(),r.push(...n)),r}},Oi=/\s+/,Ci=e=>{if("string"===typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ci(e[n]))&&(r&&(r+=" "),r+=t);return r},Pi=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a,i,s,l;const c=e=>{const t=i(e);if(t)return t;const r=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],s=e.trim().split(Oi);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=n(p?h.substring(0,f):h);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=0===u.length?"":1===u.length?u[0]:i(u).join(":"),v=d?g+"!":g,y=v+m;if(o.indexOf(y)>-1)continue;o.push(y);const x=a(m,p);for(let r=0;r<x.length;++r){const e=x[r];o.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,a);return s(e,r),r};return l=t=>{const n=r.reduce((e,t)=>t(e),e());return a=(e=>(0,o.A)({cache:_i(e.cacheSize),parseClassName:Ei(e),sortModifiers:Ai(e)},hi(e)))(n),i=a.cache.get,s=a.cache.set,l=c,c(t)},function(){return l(function(){let e,t,r=0,n="";for(;r<arguments.length;){var a;(e=(a=r++)<0||arguments.length<=a?void 0:arguments[a])&&(t=Ci(e))&&(n&&(n+=" "),n+=t)}return n}(...arguments))}},Ti=[],Di=e=>{const t=t=>t[e]||Ti;return t.isThemeGetter=!0,t},Ri=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ii=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mi=/^\d+\/\d+$/,Li=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zi=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fi=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ui=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bi=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qi=e=>Mi.test(e),Hi=e=>!!e&&!Number.isNaN(Number(e)),Wi=e=>!!e&&Number.isInteger(Number(e)),Vi=e=>e.endsWith("%")&&Hi(e.slice(0,-1)),Ki=e=>Li.test(e),Gi=()=>!0,Yi=e=>zi.test(e)&&!Fi.test(e),$i=()=>!1,Ji=e=>Ui.test(e),Xi=e=>Bi.test(e),Zi=e=>!eo(e)&&!oo(e),Qi=e=>po(e,yo,$i),eo=e=>Ri.test(e),to=e=>po(e,xo,Yi),ro=e=>po(e,bo,Hi),no=e=>po(e,go,$i),ao=e=>po(e,vo,Xi),io=e=>po(e,jo,Ji),oo=e=>Ii.test(e),so=e=>mo(e,xo),lo=e=>mo(e,wo),co=e=>mo(e,go),uo=e=>mo(e,yo),ho=e=>mo(e,vo),fo=e=>mo(e,jo,!0),po=(e,t,r)=>{const n=Ri.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},mo=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Ii.exec(e);return!!n&&(n[1]?t(n[1]):r)},go=e=>"position"===e||"percentage"===e,vo=e=>"image"===e||"url"===e,yo=e=>"length"===e||"size"===e||"bg-size"===e,xo=e=>"length"===e,bo=e=>"number"===e,wo=e=>"family-name"===e,jo=e=>"shadow"===e,No=(Symbol.toStringTag,()=>{const e=Di("color"),t=Di("font"),r=Di("text"),n=Di("font-weight"),a=Di("tracking"),i=Di("leading"),o=Di("breakpoint"),s=Di("container"),l=Di("spacing"),c=Di("radius"),u=Di("shadow"),d=Di("inset-shadow"),h=Di("text-shadow"),f=Di("drop-shadow"),p=Di("blur"),m=Di("perspective"),g=Di("aspect"),v=Di("ease"),y=Di("animate"),x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",oo,eo],b=()=>[oo,eo,l],w=()=>[qi,"full","auto",...b()],j=()=>[Wi,"none","subgrid",oo,eo],N=()=>["auto",{span:["full",Wi,oo,eo]},Wi,oo,eo],_=()=>[Wi,"auto",oo,eo],S=()=>["auto","min","max","fr",oo,eo],k=()=>["auto",...b()],E=()=>[qi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],A=()=>[e,oo,eo],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",co,no,{position:[oo,eo]}],C=()=>["auto","cover","contain",uo,Qi,{size:[oo,eo]}],P=()=>[Vi,so,to],T=()=>["","none","full",c,oo,eo],D=()=>["",Hi,so,to],R=()=>[Hi,Vi,co,no],I=()=>["","none",p,oo,eo],M=()=>["none",Hi,oo,eo],L=()=>["none",Hi,oo,eo],z=()=>[Hi,oo,eo],F=()=>[qi,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ki],breakpoint:[Ki],color:[Gi],container:[Ki],"drop-shadow":[Ki],ease:["in","out","in-out"],font:[Zi],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ki],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ki],shadow:[Ki],spacing:["px",Hi],text:[Ki],"text-shadow":[Ki],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qi,eo,oo,g]}],container:["container"],columns:[{columns:[Hi,eo,oo,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Wi,"auto",oo,eo]}],basis:[{basis:[qi,"full","auto",s,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Hi,qi,"auto","initial","none",eo]}],grow:[{grow:["",Hi,oo,eo]}],shrink:[{shrink:["",Hi,oo,eo]}],order:[{order:[Wi,"first","last","none",oo,eo]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[s,"screen",...E()]}],"min-w":[{"min-w":[s,"screen","none",...E()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",r,so,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,oo,ro]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vi,eo]}],"font-family":[{font:[lo,eo,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,oo,eo]}],"line-clamp":[{"line-clamp":[Hi,"none",oo,ro]}],leading:[{leading:[i,...b()]}],"list-image":[{"list-image":["none",oo,eo]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oo,eo]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Hi,"from-font","auto",oo,to]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[Hi,"auto",oo,eo]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oo,eo]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oo,eo]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wi,oo,eo],radial:["",oo,eo],conic:[Wi,oo,eo]},ho,ao]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Hi,oo,eo]}],"outline-w":[{outline:["",Hi,so,to]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",u,fo,io]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",d,fo,io]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[Hi,to]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,fo,io]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[Hi,oo,eo]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Hi]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[oo,eo]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Hi]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oo,eo]}],filter:[{filter:["","none",oo,eo]}],blur:[{blur:I()}],brightness:[{brightness:[Hi,oo,eo]}],contrast:[{contrast:[Hi,oo,eo]}],"drop-shadow":[{"drop-shadow":["","none",f,fo,io]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",Hi,oo,eo]}],"hue-rotate":[{"hue-rotate":[Hi,oo,eo]}],invert:[{invert:["",Hi,oo,eo]}],saturate:[{saturate:[Hi,oo,eo]}],sepia:[{sepia:["",Hi,oo,eo]}],"backdrop-filter":[{"backdrop-filter":["","none",oo,eo]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[Hi,oo,eo]}],"backdrop-contrast":[{"backdrop-contrast":[Hi,oo,eo]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Hi,oo,eo]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Hi,oo,eo]}],"backdrop-invert":[{"backdrop-invert":["",Hi,oo,eo]}],"backdrop-opacity":[{"backdrop-opacity":[Hi,oo,eo]}],"backdrop-saturate":[{"backdrop-saturate":[Hi,oo,eo]}],"backdrop-sepia":[{"backdrop-sepia":["",Hi,oo,eo]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oo,eo]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Hi,"initial",oo,eo]}],ease:[{ease:["linear","initial",v,oo,eo]}],delay:[{delay:[Hi,oo,eo]}],animate:[{animate:["none",y,oo,eo]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,oo,eo]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:M()}],"rotate-x":[{"rotate-x":M()}],"rotate-y":[{"rotate-y":M()}],"rotate-z":[{"rotate-z":M()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[oo,eo,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:F()}],"translate-x":[{"translate-x":F()}],"translate-y":[{"translate-y":F()}],"translate-z":[{"translate-z":F()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oo,eo]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oo,eo]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[Hi,so,to,ro]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),_o=Pi(No);function So(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _o($a(t))}const ko=["className"],Eo=["className","variant"],Ao=["className"],Oo=["className"],Co=["className"],Po=["className"],To=Ba,Do=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,ko);return(0,jr.jsx)(qa,(0,o.A)({ref:t,className:So("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r)},n))});Do.displayName=qa.displayName;const Ro=Qa("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Io=t.forwardRef((e,t)=>{let{className:r,variant:n}=e,a=i(e,Eo);return(0,jr.jsx)(Ha,(0,o.A)({ref:t,className:So(Ro({variant:n}),r)},a))});Io.displayName=Ha.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Ao);return(0,jr.jsx)(Ka,(0,o.A)({ref:t,className:So("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r)},n))}).displayName=Ka.displayName;const Mo=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Oo);return(0,jr.jsx)(Ga,(0,o.A)((0,o.A)({ref:t,className:So("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":""},n),{},{children:(0,jr.jsx)(li,{className:"h-4 w-4"})}))});Mo.displayName=Ga.displayName;const Lo=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Co);return(0,jr.jsx)(Wa,(0,o.A)({ref:t,className:So("text-sm font-semibold [&+div]:text-xs",r)},n))});Lo.displayName=Wa.displayName;const zo=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Po);return(0,jr.jsx)(Va,(0,o.A)({ref:t,className:So("text-sm opacity-90",r)},n))});zo.displayName=Va.displayName;const Fo=["id","title","description","action"];function Uo(){const{toasts:e}=function(){const[e,r]=t.useState(Vr);return t.useEffect(()=>(Wr.push(r),()=>{const e=Wr.indexOf(r);e>-1&&Wr.splice(e,1)}),[e]),(0,o.A)((0,o.A)({},e),{},{toast:Gr,dismiss:e=>Kr({type:"DISMISS_TOAST",toastId:e})})}();return(0,jr.jsxs)(To,{children:[e.map(function(e){let{id:t,title:r,description:n,action:a}=e,s=i(e,Fo);return(0,jr.jsxs)(Io,(0,o.A)((0,o.A)({},s),{},{children:[(0,jr.jsxs)("div",{className:"grid gap-1",children:[r&&(0,jr.jsx)(Lo,{children:r}),n&&(0,jr.jsx)(zo,{children:n})]}),a,(0,jr.jsx)(Mo,{})]}),t)}),(0,jr.jsx)(Do,{})]})}const Bo=si("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),qo=si("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Ho=si("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wo=si("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Vo=si("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ko=si("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Go=si("disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Yo=si("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),$o=si("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Jo=si("list-music",[["path",{d:"M21 15V6",key:"h1cx4g"}],["path",{d:"M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",key:"8saifv"}],["path",{d:"M12 12H3",key:"18klou"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M12 18H3",key:"11ftsu"}]]),Xo=["className","type"],Zo=t.forwardRef((e,t)=>{let{className:r,type:n}=e,a=i(e,Xo);return(0,jr.jsx)("input",(0,o.A)({type:n,className:So("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},a))});Zo.displayName="Input";const Qo=["children"],es=["children"];var ts=Symbol.for("react.lazy"),rs=n[" use ".trim().toString()];function ns(e){return null!=e&&"object"===typeof e&&"$$typeof"in e&&e.$$typeof===ts&&"_payload"in e&&function(e){return"object"===typeof e&&null!==e&&"then"in e}(e._payload)}function as(e){const r=os(e),n=t.forwardRef((e,n)=>{let{children:a}=e,s=i(e,Qo);ns(a)&&"function"===typeof rs&&(a=rs(a._payload));const l=t.Children.toArray(a),c=l.find(ls);if(c){const e=c.props.children,a=l.map(r=>r===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}var is=as("Slot");function os(e){const r=t.forwardRef((e,r)=>{let{children:n}=e,a=i(e,es);if(ns(n)&&"function"===typeof rs&&(n=rs(n._payload)),t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const r=(0,o.A)({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,o.A)((0,o.A)({},a),i):"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return(0,o.A)((0,o.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(i.ref=r?Xr(r,e):e),t.cloneElement(n,i)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var ss=Symbol("radix.slottable");function ls(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ss}const cs=["className","variant","size","asChild"],us=Qa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ds=t.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:s=!1}=e,l=i(e,cs);const c=s?is:"button";return(0,jr.jsx)(c,(0,o.A)({className:So(us({variant:n,size:a,className:r})),ref:t},l))});ds.displayName="Button";var hs=t.createContext(void 0);function fs(e){const r=t.useContext(hs);return e||r||"ltr"}var ps=0;function ms(){t.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=r[0])&&void 0!==e?e:gs()),document.body.insertAdjacentElement("beforeend",null!==(t=r[1])&&void 0!==t?t:gs()),ps++,()=>{1===ps&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ps--}},[])}function gs(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const vs=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var ys="focusScope.autoFocusOnMount",xs="focusScope.autoFocusOnUnmount",bs={bubbles:!1,cancelable:!0},ws=t.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l}=e,c=i(e,vs),[u,d]=t.useState(null),h=On(s),f=On(l),p=t.useRef(null),m=Zr(r,e=>d(e)),g=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect(()=>{if(a){let e=function(e){if(g.paused||!u)return;const t=e.target;u.contains(t)?p.current=t:Ss(p.current,{select:!0})},t=function(e){if(g.paused||!u)return;const t=e.relatedTarget;null!==t&&(u.contains(t)||Ss(p.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Ss(u)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return u&&n.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[a,u,g.paused]),t.useEffect(()=>{if(u){ks.add(g);const t=document.activeElement;if(!u.contains(t)){const r=new CustomEvent(ys,bs);u.addEventListener(ys,h),u.dispatchEvent(r),r.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=document.activeElement;for(const n of e)if(Ss(n,{select:t}),document.activeElement!==r)return}((e=js(u),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Ss(u))}return()=>{u.removeEventListener(ys,h),setTimeout(()=>{const e=new CustomEvent(xs,bs);u.addEventListener(xs,f),u.dispatchEvent(e),e.defaultPrevented||Ss(null!==t&&void 0!==t?t:document.body,{select:!0}),u.removeEventListener(xs,f),ks.remove(g)},0)}}var e},[u,h,f,g]);const v=t.useCallback(e=>{if(!n&&!a)return;if(g.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[a,i]=function(e){const t=js(e),r=Ns(t,e),n=Ns(t.reverse(),e);return[r,n]}(t);a&&i?e.shiftKey||r!==i?e.shiftKey&&r===a&&(e.preventDefault(),n&&Ss(i,{select:!0})):(e.preventDefault(),n&&Ss(a,{select:!0})):r===t&&e.preventDefault()}},[n,a,g.paused]);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({tabIndex:-1},c),{},{ref:m,onKeyDown:v}))});function js(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ns(e,t){for(const r of e)if(!_s(r,{upTo:t}))return r}function _s(e,t){let{upTo:r}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==r&&e===r)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ss(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}ws.displayName="FocusScope";var ks=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null===r||void 0===r||r.pause()),e=Es(e,t),e.unshift(t)},remove(t){var r;e=Es(e,t),null===(r=e[0])||void 0===r||r.resume()}}}();function Es(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var As=n[" useId ".trim().toString()]||(()=>{}),Os=0;function Cs(e){const[r,n]=t.useState(As());return qn(()=>{e||n(e=>null!==e&&void 0!==e?e:String(Os++))},[e]),e||(r?"radix-".concat(r):"")}const Ps=["top","right","bottom","left"],Ts=Math.min,Ds=Math.max,Rs=Math.round,Is=Math.floor,Ms=e=>({x:e,y:e}),Ls={left:"right",right:"left",bottom:"top",top:"bottom"},zs={start:"end",end:"start"};function Fs(e,t,r){return Ds(e,Ts(t,r))}function Us(e,t){return"function"===typeof e?e(t):e}function Bs(e){return e.split("-")[0]}function qs(e){return e.split("-")[1]}function Hs(e){return"x"===e?"y":"x"}function Ws(e){return"y"===e?"height":"width"}const Vs=new Set(["top","bottom"]);function Ks(e){return Vs.has(Bs(e))?"y":"x"}function Gs(e){return Hs(Ks(e))}function Ys(e){return e.replace(/start|end/g,e=>zs[e])}const $s=["left","right"],Js=["right","left"],Xs=["top","bottom"],Zs=["bottom","top"];function Qs(e,t,r,n){const a=qs(e);let i=function(e,t,r){switch(e){case"top":case"bottom":return r?t?Js:$s:t?$s:Js;case"left":case"right":return t?Xs:Zs;default:return[]}}(Bs(e),"start"===r,n);return a&&(i=i.map(e=>e+"-"+a),t&&(i=i.concat(i.map(Ys)))),i}function el(e){return e.replace(/left|right|bottom|top/g,e=>Ls[e])}function tl(e){return"number"!==typeof e?function(e){return(0,o.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function rl(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}const nl=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],al=["strategy"],il=["mainAxis","crossAxis","limiter"],ol=["apply"];function sl(e,t,r){let{reference:n,floating:a}=e;const i=Ks(t),o=Gs(t),s=Ws(o),l=Bs(t),c="y"===i,u=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[s]/2-a[s]/2;let f;switch(l){case"top":f={x:u,y:n.y-a.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-a.width,y:d};break;default:f={x:n.x,y:n.y}}switch(qs(t)){case"start":f[o]-=h*(r&&c?-1:1);break;case"end":f[o]+=h*(r&&c?-1:1)}return f}async function ll(e,t){var r;void 0===t&&(t={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Us(t,e),p=tl(f),m=s[h?"floating"===d?"reference":"floating":d],g=rl(await i.getClippingRect({element:null==(r=await(null==i.isElement?void 0:i.isElement(m)))||r?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),x=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=rl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/x.y,bottom:(b.bottom-g.bottom+p.bottom)/x.y,left:(g.left-b.left+p.left)/x.x,right:(b.right-g.right+p.right)/x.x}}function cl(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ul(e){return Ps.some(t=>e[t]>=0)}const dl=new Set(["left","top"]);function hl(){return"undefined"!==typeof window}function fl(e){return gl(e)?(e.nodeName||"").toLowerCase():"#document"}function pl(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ml(e){var t;return null==(t=(gl(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function gl(e){return!!hl()&&(e instanceof Node||e instanceof pl(e).Node)}function vl(e){return!!hl()&&(e instanceof Element||e instanceof pl(e).Element)}function yl(e){return!!hl()&&(e instanceof HTMLElement||e instanceof pl(e).HTMLElement)}function xl(e){return!(!hl()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof pl(e).ShadowRoot)}const bl=new Set(["inline","contents"]);function wl(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Dl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!bl.has(a)}const jl=new Set(["table","td","th"]);function Nl(e){return jl.has(fl(e))}const _l=[":popover-open",":modal"];function Sl(e){return _l.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const kl=["transform","translate","scale","rotate","perspective"],El=["transform","translate","scale","rotate","perspective","filter"],Al=["paint","layout","strict","content"];function Ol(e){const t=Cl(),r=vl(e)?Dl(e):e;return kl.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||El.some(e=>(r.willChange||"").includes(e))||Al.some(e=>(r.contain||"").includes(e))}function Cl(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Pl=new Set(["html","body","#document"]);function Tl(e){return Pl.has(fl(e))}function Dl(e){return pl(e).getComputedStyle(e)}function Rl(e){return vl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Il(e){if("html"===fl(e))return e;const t=e.assignedSlot||e.parentNode||xl(e)&&e.host||ml(e);return xl(t)?t.host:t}function Ml(e){const t=Il(e);return Tl(t)?e.ownerDocument?e.ownerDocument.body:e.body:yl(t)&&wl(t)?t:Ml(t)}function Ll(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=Ml(e),i=a===(null==(n=e.ownerDocument)?void 0:n.body),o=pl(a);if(i){const e=zl(o);return t.concat(o,o.visualViewport||[],wl(a)?a:[],e&&r?Ll(e):[])}return t.concat(a,Ll(a,[],r))}function zl(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Fl(e){const t=Dl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=yl(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,s=Rs(r)!==i||Rs(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function Ul(e){return vl(e)?e:e.contextElement}function Bl(e){const t=Ul(e);if(!yl(t))return Ms(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=Fl(t);let o=(i?Rs(r.width):r.width)/n,s=(i?Rs(r.height):r.height)/a;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const ql=Ms(0);function Hl(e){const t=pl(e);return Cl()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ql}function Wl(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),i=Ul(e);let o=Ms(1);t&&(n?vl(n)&&(o=Bl(n)):o=Bl(e));const s=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==pl(e))&&t}(i,r,n)?Hl(i):Ms(0);let l=(a.left+s.x)/o.x,c=(a.top+s.y)/o.y,u=a.width/o.x,d=a.height/o.y;if(i){const e=pl(i),t=n&&vl(n)?pl(n):n;let r=e,a=zl(r);for(;a&&n&&t!==r;){const e=Bl(a),t=a.getBoundingClientRect(),n=Dl(a),i=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=o,r=pl(a),a=zl(r)}}return rl({width:u,height:d,x:l,y:c})}function Vl(e,t){const r=Rl(e).scrollLeft;return t?t.left+r:Wl(ml(e)).left+r}function Kl(e,t){const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-Vl(e,r),y:r.top+t.scrollTop}}const Gl=new Set(["absolute","fixed"]);function Yl(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=pl(e),n=ml(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const e=Cl();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}const c=Vl(n);if(c<=0){const e=n.ownerDocument,t=e.body,r=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,o=Math.abs(n.clientWidth-t.clientWidth-a);o<=25&&(i-=o)}else c<=25&&(i+=c);return{width:i,height:o,x:s,y:l}}(e,r);else if("document"===t)n=function(e){const t=ml(e),r=Rl(e),n=e.ownerDocument.body,a=Ds(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ds(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Vl(e);const s=-r.scrollTop;return"rtl"===Dl(n).direction&&(o+=Ds(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}(ml(e));else if(vl(t))n=function(e,t){const r=Wl(e,!0,"fixed"===t),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=yl(e)?Bl(e):Ms(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:n*i.y}}(t,r);else{const r=Hl(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return rl(n)}function $l(e,t){const r=Il(e);return!(r===t||!vl(r)||Tl(r))&&("fixed"===Dl(r).position||$l(r,t))}function Jl(e,t,r){const n=yl(t),a=ml(t),i="fixed"===r,o=Wl(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Ms(0);function c(){l.x=Vl(a)}if(n||!n&&!i)if(("body"!==fl(t)||wl(a))&&(s=Rl(t)),n){const e=Wl(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();i&&!n&&a&&c();const u=!a||n||i?Ms(0):Kl(a,s);return{x:o.left+s.scrollLeft-l.x-u.x,y:o.top+s.scrollTop-l.y-u.y,width:o.width,height:o.height}}function Xl(e){return"static"===Dl(e).position}function Zl(e,t){if(!yl(e)||"fixed"===Dl(e).position)return null;if(t)return t(e);let r=e.offsetParent;return ml(e)===r&&(r=r.ownerDocument.body),r}function Ql(e,t){const r=pl(e);if(Sl(e))return r;if(!yl(e)){let t=Il(e);for(;t&&!Tl(t);){if(vl(t)&&!Xl(t))return t;t=Il(t)}return r}let n=Zl(e,t);for(;n&&Nl(n)&&Xl(n);)n=Zl(n,t);return n&&Tl(n)&&Xl(n)&&!Ol(n)?r:n||function(e){let t=Il(e);for(;yl(t)&&!Tl(t);){if(Ol(t))return t;if(Sl(t))return null;t=Il(t)}return null}(e)||r}const ec={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i="fixed"===a,o=ml(n),s=!!t&&Sl(t.floating);if(n===o||s&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Ms(1);const u=Ms(0),d=yl(n);if((d||!d&&!i)&&(("body"!==fl(n)||wl(o))&&(l=Rl(n)),yl(n))){const e=Wl(n);c=Bl(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}const h=!o||d||i?Ms(0):Kl(o,l);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:ml,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[..."clippingAncestors"===r?Sl(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=Ll(e,[],!1).filter(e=>vl(e)&&"body"!==fl(e)),a=null;const i="fixed"===Dl(e).position;let o=i?Il(e):e;for(;vl(o)&&!Tl(o);){const t=Dl(o),r=Ol(o);r||"fixed"!==t.position||(a=null),(i?!r&&!a:!r&&"static"===t.position&&a&&Gl.has(a.position)||wl(o)&&!r&&$l(e,o))?n=n.filter(e=>e!==o):a=t,o=Il(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],o=i[0],s=i.reduce((e,r)=>{const n=Yl(t,r,a);return e.top=Ds(n.top,e.top),e.right=Ts(n.right,e.right),e.bottom=Ts(n.bottom,e.bottom),e.left=Ds(n.left,e.left),e},Yl(t,o,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Ql,getElementRects:async function(e){const t=this.getOffsetParent||Ql,r=this.getDimensions,n=await r(e.floating);return{reference:Jl(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=Fl(e);return{width:t,height:r}},getScale:Bl,isElement:vl,isRTL:function(e){return"rtl"===Dl(e).direction}};function tc(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rc(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:c=!1}=n,u=Ul(e),d=a||i?[...u?Ll(u):[],...Ll(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),i&&e.addEventListener("resize",r)});const h=u&&l?function(e,t){let r,n=null;const a=ml(e);function i(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const m={rootMargin:-Is(h)+"px "+-Is(a.clientWidth-(d+f))+"px "+-Is(a.clientHeight-(h+p))+"px "+-Is(d)+"px",threshold:Ds(0,Ts(1,c))||1};let g=!0;function v(t){const n=t[0].intersectionRatio;if(n!==c){if(!g)return s();n?s(!1,n):r=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==n||tc(u,e.getBoundingClientRect())||s(),g=!1}try{n=new IntersectionObserver(v,(0,o.A)((0,o.A)({},m),{},{root:a.ownerDocument}))}catch(y){n=new IntersectionObserver(v,m)}n.observe(e)}(!0),i}(u,r):null;let f,p=-1,m=null;s&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g=c?Wl(e):null;return c&&function t(){const n=Wl(e);g&&!tc(g,n)&&r();g=n,f=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),i&&e.removeEventListener("resize",r)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(f)}}const nc=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=t,c=await async function(e,t){const{placement:r,platform:n,elements:a}=e,i=await(null==n.isRTL?void 0:n.isRTL(a.floating)),o=Bs(r),s=qs(r),l="y"===Ks(r),c=dl.has(o)?-1:1,u=i&&l?-1:1,d=Us(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return s===(null==(r=l.offset)?void 0:r.placement)&&null!=(n=l.arrow)&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:(0,o.A)((0,o.A)({},c),{},{placement:s})}}}},ac=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,s=Us(e,t),{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}}}=s,d=i(s,il),h={x:r,y:n},f=await ll(t,d),p=Ks(Bs(a)),m=Hs(p);let g=h[m],v=h[p];if(l){const e="y"===m?"bottom":"right";g=Fs(g+f["y"===m?"top":"left"],g,g-f[e])}if(c){const e="y"===p?"bottom":"right";v=Fs(v+f["y"===p?"top":"left"],v,v-f[e])}const y=u.fn((0,o.A)((0,o.A)({},t),{},{[m]:g,[p]:v}));return(0,o.A)((0,o.A)({},y),{},{data:{x:y.x-r,y:y.y-n,enabled:{[m]:l,[p]:c}}})}}},ic=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:s,initialPlacement:l,platform:c,elements:u}=t,d=Us(e,t),{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=d,y=i(d,nl);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};const x=Bs(a),b=Ks(l),w=Bs(l)===l,j=await(null==c.isRTL?void 0:c.isRTL(u.floating)),N=p||(w||!v?[el(l)]:function(e){const t=el(e);return[Ys(e),t,Ys(t)]}(l)),_="none"!==g;!p&&_&&N.push(...Qs(l,v,g,j));const S=[l,...N],k=await ll(t,y),E=[];let A=(null==(n=o.flip)?void 0:n.overflows)||[];if(h&&E.push(k[x]),f){const e=function(e,t,r){void 0===r&&(r=!1);const n=qs(e),a=Gs(e),i=Ws(a);let o="x"===a?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=el(o)),[o,el(o)]}(a,s,j);E.push(k[e[0]],k[e[1]])}if(A=[...A,{placement:a,overflows:E}],!E.every(e=>e<=0)){var O,C;const e=((null==(O=o.flip)?void 0:O.index)||0)+1,t=S[e];if(t){if(!("alignment"===f&&b!==Ks(t))||A.every(e=>Ks(e.placement)!==b||e.overflows[0]>0))return{data:{index:e,overflows:A},reset:{placement:t}}}let r=null==(C=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:C.placement;if(!r)switch(m){case"bestFit":{var P;const e=null==(P=A.filter(e=>{if(_){const t=Ks(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(r=e);break}case"initialPlacement":r=l}if(a!==r)return{reset:{placement:r}}}return{}}}},oc=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:l,elements:c}=t,u=Us(e,t),{apply:d=()=>{}}=u,h=i(u,ol),f=await ll(t,h),p=Bs(a),m=qs(a),g="y"===Ks(a),{width:v,height:y}=s.floating;let x,b;"top"===p||"bottom"===p?(x=p,b=m===(await(null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(b=p,x="end"===m?"top":"bottom");const w=y-f.top-f.bottom,j=v-f.left-f.right,N=Ts(y-f[x],w),_=Ts(v-f[b],j),S=!t.middlewareData.shift;let k=N,E=_;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(E=j),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(k=w),S&&!m){const e=Ds(f.left,0),t=Ds(f.right,0),r=Ds(f.top,0),n=Ds(f.bottom,0);g?E=v-2*(0!==e||0!==t?e+t:Ds(f.left,f.right)):k=y-2*(0!==r||0!==n?r+n:Ds(f.top,f.bottom))}await d((0,o.A)((0,o.A)({},t),{},{availableWidth:E,availableHeight:k}));const A=await l.getDimensions(c.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}},sc=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,n=Us(e,t),{strategy:a="referenceHidden"}=n,s=i(n,al);switch(a){case"referenceHidden":{const e=cl(await ll(t,(0,o.A)((0,o.A)({},s),{},{elementContext:"reference"})),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:ul(e)}}}case"escaped":{const e=cl(await ll(t,(0,o.A)((0,o.A)({},s),{},{altBoundary:!0})),r.floating);return{data:{escapedOffsets:e,escaped:ul(e)}}}default:return{}}}}},lc=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Us(e,t)||{};if(null==u)return{};const h=tl(d),f={x:r,y:n},p=Gs(a),m=Ws(p),g=await s.getDimensions(u),v="y"===p,y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=i.reference[m]+i.reference[p]-f[p]-i.floating[m],j=f[p]-i.reference[p],N=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let _=N?N[b]:0;_&&await(null==s.isElement?void 0:s.isElement(N))||(_=l.floating[b]||i.floating[m]);const S=w/2-j/2,k=_/2-g[m]/2-1,E=Ts(h[y],k),A=Ts(h[x],k),O=E,C=_-g[m]-A,P=_/2-g[m]/2+S,T=Fs(O,P,C),D=!c.arrow&&null!=qs(a)&&P!==T&&i.reference[m]/2-(P<O?E:A)-g[m]/2<0,R=D?P<O?P-O:P-C:0;return{[p]:f[p]+R,data:(0,o.A)({[p]:T,centerOffset:P-T-R},D&&{alignmentOffset:R}),reset:D}}}),cc=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Us(e,t),d={x:r,y:n},h=Ks(a),f=Hs(h);let p=d[f],m=d[h];const g=Us(l,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:(0,o.A)({mainAxis:0,crossAxis:0},g);if(c){const e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+v.mainAxis,r=i.reference[f]+i.reference[e]-v.mainAxis;p<t?p=t:p>r&&(p=r)}if(u){var y,x;const e="y"===f?"width":"height",t=dl.has(Bs(a)),r=i.reference[h]-i.floating[e]+(t&&(null==(y=s.offset)?void 0:y[h])||0)+(t?0:v.crossAxis),n=i.reference[h]+i.reference[e]+(t?0:(null==(x=s.offset)?void 0:x[h])||0)-(t?v.crossAxis:0);m<r?m=r:m>n&&(m=n)}return{[f]:p,[h]:m}}}},uc=(e,t,r)=>{const n=new Map,a=(0,o.A)({platform:ec},r),i=(0,o.A)((0,o.A)({},a.platform),{},{_c:n});return(async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=sl(u,n,c),f=n,p={},m=0;for(let g=0;g<l.length;g++){const{name:r,fn:i}=l[g],{x:v,y:y,data:x,reset:b}=await i({x:d,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=y?y:h,p=(0,o.A)((0,o.A)({},p),{},{[r]:(0,o.A)((0,o.A)({},p[r]),x)}),b&&m<=50&&(m++,"object"===typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:a}):b.rects),({x:d,y:h}=sl(u,f,c))),g=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:p}})(e,t,(0,o.A)((0,o.A)({},a),{},{platform:i}))};var dc="undefined"!==typeof document?t.useLayoutEffect:function(){};function hc(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!hc(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;0!==n--;){const r=a[n];if(("_owner"!==r||!e.$$typeof)&&!hc(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function fc(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pc(e,t){const r=fc(e);return Math.round(t*r)/r}function mc(e){const r=t.useRef(e);return dc(()=>{r.current=e}),r}const gc=(e,t)=>(0,o.A)((0,o.A)({},nc(e)),{},{options:[e,t]}),vc=(e,t)=>(0,o.A)((0,o.A)({},ac(e)),{},{options:[e,t]}),yc=(e,t)=>(0,o.A)((0,o.A)({},cc(e)),{},{options:[e,t]}),xc=(e,t)=>(0,o.A)((0,o.A)({},ic(e)),{},{options:[e,t]}),bc=(e,t)=>(0,o.A)((0,o.A)({},oc(e)),{},{options:[e,t]}),wc=(e,t)=>(0,o.A)((0,o.A)({},sc(e)),{},{options:[e,t]}),jc=(e,t)=>(0,o.A)((0,o.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"===typeof e?e(t):e;return r&&function(e){return{}.hasOwnProperty.call(e,"current")}(r)?null!=r.current?lc({element:r.current,padding:n}).fn(t):{}:r?lc({element:r,padding:n}).fn(t):{}}}))(e)),{},{options:[e,t]}),Nc=["children","width","height"];var _c=t.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5}=e,s=i(e,Nc);return(0,jr.jsx)(En.svg,(0,o.A)((0,o.A)({},s),{},{ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,jr.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});_c.displayName="Arrow";var Sc=_c;function kc(e){const[r,n]=t.useState(void 0);return qn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let a,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,i=t.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),r}const Ec=["__scopePopper","virtualRef"],Ac=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],Oc=["__scopePopper"];var Cc="Popper",[Pc,Tc]=on(Cc),[Dc,Rc]=Pc(Cc),Ic=e=>{const{__scopePopper:r,children:n}=e,[a,i]=t.useState(null);return(0,jr.jsx)(Dc,{scope:r,anchor:a,onAnchorChange:i,children:n})};Ic.displayName=Cc;var Mc="PopperAnchor",Lc=t.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:a}=e,s=i(e,Ec),l=Rc(Mc,n),c=t.useRef(null),u=Zr(r,c),d=t.useRef(null);return t.useEffect(()=>{const e=d.current;d.current=(null===a||void 0===a?void 0:a.current)||c.current,e!==d.current&&l.onAnchorChange(d.current)}),a?null:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({},s),{},{ref:u}))});Lc.displayName=Mc;var zc="PopperContent",[Fc,Uc]=Pc(zc),Bc=t.forwardRef((e,r)=>{var n,a,s,l,c,u,d,h;const{__scopePopper:f,side:p="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:x=!0,collisionBoundary:b=[],collisionPadding:w=0,sticky:j="partial",hideWhenDetached:N=!1,updatePositionStrategy:_="optimized",onPlaced:S}=e,k=i(e,Ac),E=Rc(zc,f),[A,O]=t.useState(null),C=Zr(r,e=>O(e)),[P,T]=t.useState(null),D=kc(P),R=null!==(n=null===D||void 0===D?void 0:D.width)&&void 0!==n?n:0,I=null!==(a=null===D||void 0===D?void 0:D.height)&&void 0!==a?a:0,M=p+("center"!==g?"-"+g:""),L="number"===typeof w?w:(0,o.A)({top:0,right:0,bottom:0,left:0},w),z=Array.isArray(b)?b:[b],F=z.length>0,U={padding:L,boundary:z.filter(Vc),altBoundary:F},{refs:B,floatingStyles:q,placement:H,isPositioned:W,middlewareData:V}=function(e){void 0===e&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,f]=t.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[p,m]=t.useState(a);hc(p,a)||m(a);const[g,v]=t.useState(null),[y,x]=t.useState(null),b=t.useCallback(e=>{e!==_.current&&(_.current=e,v(e))},[]),w=t.useCallback(e=>{e!==S.current&&(S.current=e,x(e))},[]),j=s||g,N=l||y,_=t.useRef(null),S=t.useRef(null),k=t.useRef(h),E=null!=u,A=mc(u),O=mc(i),C=mc(d),P=t.useCallback(()=>{if(!_.current||!S.current)return;const e={placement:r,strategy:n,middleware:p};O.current&&(e.platform=O.current),uc(_.current,S.current,e).then(e=>{const t=(0,o.A)((0,o.A)({},e),{},{isPositioned:!1!==C.current});T.current&&!hc(k.current,t)&&(k.current=t,Yr.flushSync(()=>{f(t)}))})},[p,r,n,O,C]);dc(()=>{!1===d&&k.current.isPositioned&&(k.current.isPositioned=!1,f(e=>(0,o.A)((0,o.A)({},e),{},{isPositioned:!1})))},[d]);const T=t.useRef(!1);dc(()=>(T.current=!0,()=>{T.current=!1}),[]),dc(()=>{if(j&&(_.current=j),N&&(S.current=N),j&&N){if(A.current)return A.current(j,N,P);P()}},[j,N,P,A,E]);const D=t.useMemo(()=>({reference:_,floating:S,setReference:b,setFloating:w}),[b,w]),R=t.useMemo(()=>({reference:j,floating:N}),[j,N]),I=t.useMemo(()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=pc(R.floating,h.x),r=pc(R.floating,h.y);return c?(0,o.A)((0,o.A)({},e),{},{transform:"translate("+t+"px, "+r+"px)"},fc(R.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,c,R.floating,h.x,h.y]);return t.useMemo(()=>(0,o.A)((0,o.A)({},h),{},{update:P,refs:D,elements:R,floatingStyles:I}),[h,P,D,R,I])}({strategy:"fixed",placement:M,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return rc(...t,{animationFrame:"always"===_})},elements:{reference:E.anchor},middleware:[gc({mainAxis:m+I,alignmentAxis:v}),x&&vc((0,o.A)({mainAxis:!0,crossAxis:!1,limiter:"partial"===j?yc():void 0},U)),x&&xc((0,o.A)({},U)),bc((0,o.A)((0,o.A)({},U),{},{apply:e=>{let{elements:t,rects:r,availableWidth:n,availableHeight:a}=e;const{width:i,height:o}=r.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(n,"px")),s.setProperty("--radix-popper-available-height","".concat(a,"px")),s.setProperty("--radix-popper-anchor-width","".concat(i,"px")),s.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}})),P&&jc({element:P,padding:y}),Kc({arrowWidth:R,arrowHeight:I}),N&&wc((0,o.A)({strategy:"referenceHidden"},U))]}),[K,G]=Gc(H),Y=On(S);qn(()=>{W&&(null===Y||void 0===Y||Y())},[W,Y]);const $=null===(s=V.arrow)||void 0===s?void 0:s.x,J=null===(l=V.arrow)||void 0===l?void 0:l.y,X=0!==(null===(c=V.arrow)||void 0===c?void 0:c.centerOffset),[Z,Q]=t.useState();return qn(()=>{A&&Q(window.getComputedStyle(A).zIndex)},[A]),(0,jr.jsx)("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:(0,o.A)((0,o.A)({},q),{},{transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[null===(u=V.transformOrigin)||void 0===u?void 0:u.x,null===(d=V.transformOrigin)||void 0===d?void 0:d.y].join(" ")},(null===(h=V.hide)||void 0===h?void 0:h.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,jr.jsx)(Fc,{scope:f,placedSide:K,onArrowChange:T,arrowX:$,arrowY:J,shouldHideArrow:X,children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({"data-side":K,"data-align":G},k),{},{ref:C,style:(0,o.A)((0,o.A)({},k.style),{},{animation:W?void 0:"none"})}))})})});Bc.displayName=zc;var qc="PopperArrow",Hc={top:"bottom",right:"left",bottom:"top",left:"right"},Wc=t.forwardRef(function(e,t){const{__scopePopper:r}=e,n=i(e,Oc),a=Uc(qc,r),s=Hc[a.placedSide];return(0,jr.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,jr.jsx)(Sc,(0,o.A)((0,o.A)({},n),{},{ref:t,style:(0,o.A)((0,o.A)({},n.style),{},{display:"block"})}))})});function Vc(e){return null!==e}Wc.displayName=qc;var Kc=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,i,o;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null===(r=c.arrow)||void 0===r?void 0:r.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=Gc(s),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(n=null===(a=c.arrow)||void 0===a?void 0:a.x)&&void 0!==n?n:0)+d/2,v=(null!==(i=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==i?i:0)+h/2;let y="",x="";return"bottom"===f?(y=u?m:"".concat(g,"px"),x="".concat(-h,"px")):"top"===f?(y=u?m:"".concat(g,"px"),x="".concat(l.floating.height+h,"px")):"right"===f?(y="".concat(-h,"px"),x=u?m:"".concat(v,"px")):"left"===f&&(y="".concat(l.floating.width+h,"px"),x=u?m:"".concat(v,"px")),{data:{x:y,y:x}}}});function Gc(e){const[t,r="center"]=e.split("-");return[t,r]}var Yc=Ic,$c=Lc,Jc=Bc,Xc=Wc;const Zc=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],Qc=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var eu="rovingFocusGroup.onEntryFocus",tu={bubbles:!1,cancelable:!0},ru="RovingFocusGroup",[nu,au,iu]=gn(ru),[ou,su]=on(ru,[iu]),[lu,cu]=ou(ru),uu=t.forwardRef((e,t)=>(0,jr.jsx)(nu.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,jr.jsx)(nu.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,jr.jsx)(du,(0,o.A)((0,o.A)({},e),{},{ref:t}))})}));uu.displayName=ru;var du=t.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1}=e,p=i(e,Zc),m=t.useRef(null),g=Zr(r,m),v=fs(l),[y,x]=Yn({prop:c,defaultProp:null!==u&&void 0!==u?u:null,onChange:d,caller:ru}),[b,w]=t.useState(!1),j=On(h),N=au(n),_=t.useRef(!1),[S,k]=t.useState(0);return t.useEffect(()=>{const e=m.current;if(e)return e.addEventListener(eu,j),()=>e.removeEventListener(eu,j)},[j]),(0,jr.jsx)(lu,{scope:n,orientation:a,dir:v,loop:s,currentTabStopId:y,onItemFocus:t.useCallback(e=>x(e),[x]),onItemShiftTab:t.useCallback(()=>w(!0),[]),onFocusableItemAdd:t.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>k(e=>e-1),[]),children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({tabIndex:b||0===S?-1:0,"data-orientation":a},p),{},{ref:g,style:(0,o.A)({outline:"none"},e.style),onMouseDown:$r(e.onMouseDown,()=>{_.current=!0}),onFocus:$r(e.onFocus,e=>{const t=!_.current;if(e.target===e.currentTarget&&t&&!b){const t=new CustomEvent(eu,tu);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=N().filter(e=>e.focusable);mu([e.find(e=>e.active),e.find(e=>e.id===y),...e].filter(Boolean).map(e=>e.ref.current),f)}}_.current=!1}),onBlur:$r(e.onBlur,()=>w(!1))}))})}),hu="RovingFocusGroupItem",fu=t.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:l,children:c}=e,u=i(e,Qc),d=Cs(),h=l||d,f=cu(hu,n),p=f.currentTabStopId===h,m=au(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=f;return t.useEffect(()=>{if(a)return g(),()=>v()},[a,g,v]),(0,jr.jsx)(nu.ItemSlot,{scope:n,id:h,focusable:a,active:s,children:(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({tabIndex:p?0:-1,"data-orientation":f.orientation},u),{},{ref:r,onMouseDown:$r(e.onMouseDown,e=>{a?f.onItemFocus(h):e.preventDefault()}),onFocus:$r(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:$r(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:pu[n]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();const n=r.indexOf(e.currentTarget);r=f.loop?function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(r,n+1):r.slice(n+1)}setTimeout(()=>mu(r))}}),children:"function"===typeof c?c({isCurrentTabStop:p,hasTabStop:null!=y}):c}))})});fu.displayName=hu;var pu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=document.activeElement;for(const n of e){if(n===r)return;if(n.focus({preventScroll:t}),document.activeElement!==r)return}}var gu=uu,vu=fu;const yu=["children"],xu=["children"];function bu(e){const r=wu(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=i(e,yu),l=t.Children.toArray(a),c=l.find(Nu);if(c){const e=c.props.children,a=l.map(r=>r===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function wu(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=i(e,xu);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const r=(0,o.A)({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,o.A)((0,o.A)({},a),i):"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return(0,o.A)((0,o.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(i.ref=r?Xr(r,e):e),t.cloneElement(n,i)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var ju=Symbol("radix.slottable");function Nu(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ju}var _u=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Su=new WeakMap,ku=new WeakMap,Eu={},Au=0,Ou=function(e){return e&&(e.host||Ou(e.parentNode))},Cu=function(e,t,r,n){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=Ou(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Eu[r]||(Eu[r]=new WeakMap);var i=Eu[r],o=[],s=new Set,l=new Set(a),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};a.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(n),a=null!==t&&"false"!==t,l=(Su.get(e)||0)+1,c=(i.get(e)||0)+1;Su.set(e,l),i.set(e,c),o.push(e),1===l&&a&&ku.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(n,"true")}catch(SX){console.error("aria-hidden: cannot operate on ",e,SX)}})};return u(t),s.clear(),Au++,function(){o.forEach(function(e){var t=Su.get(e)-1,a=i.get(e)-1;Su.set(e,t),i.set(e,a),t||(ku.has(e)||e.removeAttribute(n),ku.delete(e)),a||e.removeAttribute(r)}),--Au||(Su=new WeakMap,Su=new WeakMap,ku=new WeakMap,Eu={})}},Pu=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||_u(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Cu(n,a,r,"aria-hidden")):function(){return null}},Tu=r(6326),Du="right-scroll-bar-position",Ru="width-before-scroll-bar";function Iu(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var Mu="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Lu=new WeakMap;function zu(e,r){var n=function(e,r){var n=(0,t.useState)(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=r,n.facade}(r||null,function(t){return e.forEach(function(e){return Iu(e,t)})});return Mu(function(){var t=Lu.get(n);if(t){var r=new Set(t),a=new Set(e),i=n.current;r.forEach(function(e){a.has(e)||Iu(e,null)}),a.forEach(function(e){r.has(e)||Iu(e,i)})}Lu.set(n,e)},[e]),n}function Fu(e){return e}function Uu(e,t){void 0===t&&(t=Fu);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var a=t(e,n);return r.push(a),function(){r=r.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var a=r;r=[],a.forEach(e),t=r}var i=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}};return a}var Bu=function(e){void 0===e&&(e={});var t=Uu(null);return t.options=(0,Tu.__assign)({async:!0,ssr:!1},e),t}(),qu=function(){},Hu=t.forwardRef(function(e,r){var n=t.useRef(null),a=t.useState({onScrollCapture:qu,onWheelCapture:qu,onTouchMoveCapture:qu}),i=a[0],o=a[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,x=void 0===y?"div":y,b=e.gapMode,w=(0,Tu.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=zu([n,r]),_=(0,Tu.__assign)((0,Tu.__assign)({},w),i);return t.createElement(t.Fragment,null,d&&t.createElement(j,{sideCar:Bu,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:b}),s?t.cloneElement(t.Children.only(l),(0,Tu.__assign)((0,Tu.__assign)({},_),{ref:N})):t.createElement(x,(0,Tu.__assign)({},_,{className:c,ref:N}),l))});Hu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Hu.classNames={fullWidth:Ru,zeroRight:Du};var Wu,Vu=function(e){var r=e.sideCar,n=(0,Tu.__rest)(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return t.createElement(a,(0,Tu.__assign)({},n))};Vu.isSideCarExport=!0;function Ku(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wu||r.nc;return t&&e.setAttribute("nonce",t),e}var Gu=function(){var e=0,t=null;return{add:function(r){var n,a;0==e&&(t=Ku())&&(a=r,(n=t).styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Yu=function(){var e=function(){var e=Gu();return function(r,n){t.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}}();return function(t){var r=t.styles,n=t.dynamic;return e(r,n),null}},$u={left:0,top:0,right:0,gap:0},Ju=function(e){return parseInt(e||"",10)||0},Xu=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return $u;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[Ju(r),Ju(n),Ju(a)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Zu=Yu(),Qu="data-scroll-locked",ed=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(Qu,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Du," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(Ru," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(Du," .").concat(Du," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(Ru," .").concat(Ru," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Qu,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},td=function(){var e=parseInt(document.body.getAttribute(Qu)||"0",10);return isFinite(e)?e:0},rd=function(e){var r=e.noRelative,n=e.noImportant,a=e.gapMode,i=void 0===a?"margin":a;t.useEffect(function(){return document.body.setAttribute(Qu,(td()+1).toString()),function(){var e=td()-1;e<=0?document.body.removeAttribute(Qu):document.body.setAttribute(Qu,e.toString())}},[]);var o=t.useMemo(function(){return Xu(i)},[i]);return t.createElement(Zu,{styles:ed(o,!r,i,n?"":"!important")})},nd=!1;if("undefined"!==typeof window)try{var ad=Object.defineProperty({},"passive",{get:function(){return nd=!0,!0}});window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch(kX){nd=!1}var id=!!nd&&{passive:!1},od=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},sd=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),ld(e,n)){var a=cd(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ld=function(e,t){return"v"===e?function(e){return od(e,"overflowY")}(t):function(e){return od(e,"overflowX")}(t)},cd=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},ud=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dd=function(e){return[e.deltaX,e.deltaY]},hd=function(e){return e&&"current"in e?e.current:e},fd=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},pd=0,md=[];function gd(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vd=(yd=function(e){var r=t.useRef([]),n=t.useRef([0,0]),a=t.useRef(),i=t.useState(pd++)[0],o=t.useState(Yu)[0],s=t.useRef(e);t.useEffect(function(){s.current=e},[e]),t.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,Tu.__spreadArray)([e.lockRef.current],(e.shards||[]).map(hd),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var r,i=ud(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-i[0],c="deltaY"in e?e.deltaY:o[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=window.getSelection(),f=h&&h.anchorNode;if(f&&(f===u||f.contains(u)))return!1;var p=sd(d,u);if(!p)return!0;if(p?r=d:(r="v"===d?"h":"v",p=sd(d,u)),!p)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=r),!r)return!0;var m=a.current||r;return function(e,t,r,n,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*n,s=r.target,l=t.contains(s),c=!1,u=o>0,d=0,h=0;do{if(!s)break;var f=cd(e,s),p=f[0],m=f[1]-f[2]-i*p;(p||m)&&ld(e,s)&&(d+=m,h+=p);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(a&&Math.abs(d)<1||!a&&o>d)||!u&&(a&&Math.abs(h)<1||!a&&-o>h))&&(c=!0),c}(m,t,e,"h"===m?l:c,!0)},[]),c=t.useCallback(function(e){var t=e;if(md.length&&md[md.length-1]===o){var n="deltaY"in t?dd(t):ud(t),a=r.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(r=e.delta,a=n,r[0]===a[0]&&r[1]===a[1]);var r,a})[0];if(a&&a.should)t.cancelable&&t.preventDefault();else if(!a){var i=(s.current.shards||[]).map(hd).filter(Boolean).filter(function(e){return e.contains(t.target)});(i.length>0?l(t,i[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),u=t.useCallback(function(e,t,n,a){var i={name:e,delta:t,target:n,should:a,shadowParent:gd(n)};r.current.push(i),setTimeout(function(){r.current=r.current.filter(function(e){return e!==i})},1)},[]),d=t.useCallback(function(e){n.current=ud(e),a.current=void 0},[]),h=t.useCallback(function(t){u(t.type,dd(t),t.target,l(t,e.lockRef.current))},[]),f=t.useCallback(function(t){u(t.type,ud(t),t.target,l(t,e.lockRef.current))},[]);t.useEffect(function(){return md.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,id),document.addEventListener("touchmove",c,id),document.addEventListener("touchstart",d,id),function(){md=md.filter(function(e){return e!==o}),document.removeEventListener("wheel",c,id),document.removeEventListener("touchmove",c,id),document.removeEventListener("touchstart",d,id)}},[]);var p=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(o,{styles:fd(i)}):null,p?t.createElement(rd,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Bu.useMedium(yd),Vu);var yd,xd=t.forwardRef(function(e,r){return t.createElement(Hu,(0,Tu.__assign)({},e,{ref:r,sideCar:vd}))});xd.classNames=Hu.classNames;const bd=xd,wd=["__scopeMenu"],jd=["forceMount"],Nd=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"],_d=["__scopeMenu"],Sd=["__scopeMenu"],kd=["disabled","onSelect"],Ed=["__scopeMenu","disabled","textValue"],Ad=["checked","onCheckedChange"],Od=["value","onValueChange"],Cd=["value"],Pd=["__scopeMenu","forceMount"],Td=["__scopeMenu"],Dd=["__scopeMenu"],Rd=["forceMount"];var Id=["Enter"," "],Md=["ArrowUp","PageDown","End"],Ld=["ArrowDown","PageUp","Home",...Md],zd={ltr:[...Id,"ArrowRight"],rtl:[...Id,"ArrowLeft"]},Fd={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ud="Menu",[Bd,qd,Hd]=gn(Ud),[Wd,Vd]=on(Ud,[Hd,Tc,su]),Kd=Tc(),Gd=su(),[Yd,$d]=Wd(Ud),[Jd,Xd]=Wd(Ud),Zd=e=>{const{__scopeMenu:r,open:n=!1,children:a,dir:i,onOpenChange:s,modal:l=!0}=e,c=Kd(r),[u,d]=t.useState(null),h=t.useRef(!1),f=On(s),p=fs(i);return t.useEffect(()=>{const e=()=>{h.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>h.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,jr.jsx)(Yc,(0,o.A)((0,o.A)({},c),{},{children:(0,jr.jsx)(Yd,{scope:r,open:n,onOpenChange:f,content:u,onContentChange:d,children:(0,jr.jsx)(Jd,{scope:r,onClose:t.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:l,children:a})})}))};Zd.displayName=Ud;var Qd=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=i(e,wd),a=Kd(r);return(0,jr.jsx)($c,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Qd.displayName="MenuAnchor";var eh="MenuPortal",[th,rh]=Wd(eh,{forceMount:void 0}),nh=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=$d(eh,t);return(0,jr.jsx)(th,{scope:t,forceMount:r,children:(0,jr.jsx)(Vn,{present:r||i.open,children:(0,jr.jsx)(Wn,{asChild:!0,container:a,children:n})})})};nh.displayName=eh;var ah="MenuContent",[ih,oh]=Wd(ah),sh=t.forwardRef((e,t)=>{const r=rh(ah,e.__scopeMenu),{forceMount:n=r.forceMount}=e,a=i(e,jd),s=$d(ah,e.__scopeMenu),l=Xd(ah,e.__scopeMenu);return(0,jr.jsx)(Bd.Provider,{scope:e.__scopeMenu,children:(0,jr.jsx)(Vn,{present:n||s.open,children:(0,jr.jsx)(Bd.Slot,{scope:e.__scopeMenu,children:l.modal?(0,jr.jsx)(lh,(0,o.A)((0,o.A)({},a),{},{ref:t})):(0,jr.jsx)(ch,(0,o.A)((0,o.A)({},a),{},{ref:t}))})})})}),lh=t.forwardRef((e,r)=>{const n=$d(ah,e.__scopeMenu),a=t.useRef(null),i=Zr(r,a);return t.useEffect(()=>{const e=a.current;if(e)return Pu(e)},[]),(0,jr.jsx)(dh,(0,o.A)((0,o.A)({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:$r(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),ch=t.forwardRef((e,t)=>{const r=$d(ah,e.__scopeMenu);return(0,jr.jsx)(dh,(0,o.A)((0,o.A)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),uh=bu("MenuContent.ScrollLock"),dh=t.forwardRef((e,r)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v}=e,y=i(e,Nd),x=$d(ah,n),b=Xd(ah,n),w=Kd(n),j=Gd(n),N=qd(n),[_,S]=t.useState(null),k=t.useRef(null),E=Zr(r,k,x.onContentChange),A=t.useRef(0),O=t.useRef(""),C=t.useRef(0),P=t.useRef(null),T=t.useRef("right"),D=t.useRef(0),R=v?bd:t.Fragment,I=v?{as:uh,allowPinchZoom:!0}:void 0,M=e=>{var t,r;const n=O.current+e,a=N().filter(e=>!e.disabled),i=document.activeElement,o=null===(t=a.find(e=>e.ref.current===i))||void 0===t?void 0:t.textValue,s=function(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0]),a=n?t[0]:t,i=r?e.indexOf(r):-1;let o=function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(e,Math.max(i,0));1===a.length&&(o=o.filter(e=>e!==r));const s=o.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return s!==r?s:void 0}(a.map(e=>e.textValue),n,o),l=null===(r=a.find(e=>e.textValue===s))||void 0===r?void 0:r.ref.current;!function e(t){O.current=t,window.clearTimeout(A.current),""!==t&&(A.current=window.setTimeout(()=>e(""),1e3))}(n),l&&setTimeout(()=>l.focus())};t.useEffect(()=>()=>window.clearTimeout(A.current),[]),ms();const L=t.useCallback(e=>{var t,r;return T.current===(null===(t=P.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const e=t[i],s=t[o],l=e.x,c=e.y,u=s.x,d=s.y;c>n!==d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}(r,t)}(e,null===(r=P.current)||void 0===r?void 0:r.area)},[]);return(0,jr.jsx)(ih,{scope:n,searchRef:O,onItemEnter:t.useCallback(e=>{L(e)&&e.preventDefault()},[L]),onItemLeave:t.useCallback(e=>{var t;L(e)||(null===(t=k.current)||void 0===t||t.focus(),S(null))},[L]),onTriggerLeave:t.useCallback(e=>{L(e)&&e.preventDefault()},[L]),pointerGraceTimerRef:C,onPointerGraceIntentChange:t.useCallback(e=>{P.current=e},[]),children:(0,jr.jsx)(R,(0,o.A)((0,o.A)({},I),{},{children:(0,jr.jsx)(ws,{asChild:!0,trapped:s,onMountAutoFocus:$r(l,e=>{var t;e.preventDefault(),null===(t=k.current)||void 0===t||t.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:(0,jr.jsx)(Mn,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:(0,jr.jsx)(gu,(0,o.A)((0,o.A)({asChild:!0},j),{},{dir:b.dir,orientation:"vertical",loop:a,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:$r(d,e=>{b.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,jr.jsx)(Jc,(0,o.A)((0,o.A)((0,o.A)({role:"menu","aria-orientation":"vertical","data-state":Fh(x.open),"data-radix-menu-content":"",dir:b.dir},w),y),{},{ref:E,style:(0,o.A)({outline:"none"},y.style),onKeyDown:$r(y.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&n&&M(e.key));const a=k.current;if(e.target!==a)return;if(!Ld.includes(e.key))return;e.preventDefault();const i=N().filter(e=>!e.disabled).map(e=>e.ref.current);Md.includes(e.key)&&i.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(i)}),onBlur:$r(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(A.current),O.current="")}),onPointerMove:$r(e.onPointerMove,qh(e=>{const t=e.target,r=D.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>D.current?"right":"left";T.current=t,D.current=e.clientX}}))}))}))})})}))})});sh.displayName=ah;var hh=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=i(e,_d);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({role:"group"},n),{},{ref:t}))});hh.displayName="MenuGroup";var fh=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=i(e,Sd);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({},n),{},{ref:t}))});fh.displayName="MenuLabel";var ph="MenuItem",mh="menu.itemSelect",gh=t.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:a}=e,s=i(e,kd),l=t.useRef(null),c=Xd(ph,e.__scopeMenu),u=oh(ph,e.__scopeMenu),d=Zr(r,l),h=t.useRef(!1);return(0,jr.jsx)(vh,(0,o.A)((0,o.A)({},s),{},{ref:d,disabled:n,onClick:$r(e.onClick,()=>{const e=l.current;if(!n&&e){const t=new CustomEvent(mh,{bubbles:!0,cancelable:!0});e.addEventListener(mh,e=>null===a||void 0===a?void 0:a(e),{once:!0}),An(e,t),t.defaultPrevented?h.current=!1:c.onClose()}}),onPointerDown:t=>{var r;null===(r=e.onPointerDown)||void 0===r||r.call(e,t),h.current=!0},onPointerUp:$r(e.onPointerUp,e=>{var t;h.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:$r(e.onKeyDown,e=>{const t=""!==u.searchRef.current;n||t&&" "===e.key||Id.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))});gh.displayName=ph;var vh=t.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s}=e,l=i(e,Ed),c=oh(ph,n),u=Gd(n),d=t.useRef(null),h=Zr(r,d),[f,p]=t.useState(!1),[m,g]=t.useState("");return t.useEffect(()=>{const e=d.current;var t;e&&g((null!==(t=e.textContent)&&void 0!==t?t:"").trim())},[l.children]),(0,jr.jsx)(Bd.ItemSlot,{scope:n,disabled:a,textValue:null!==s&&void 0!==s?s:m,children:(0,jr.jsx)(vu,(0,o.A)((0,o.A)({asChild:!0},u),{},{focusable:!a,children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},l),{},{ref:h,onPointerMove:$r(e.onPointerMove,qh(e=>{if(a)c.onItemLeave(e);else if(c.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:$r(e.onPointerLeave,qh(e=>c.onItemLeave(e))),onFocus:$r(e.onFocus,()=>p(!0)),onBlur:$r(e.onBlur,()=>p(!1))}))}))})}),yh=t.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n}=e,a=i(e,Ad);return(0,jr.jsx)(kh,{scope:e.__scopeMenu,checked:r,children:(0,jr.jsx)(gh,(0,o.A)((0,o.A)({role:"menuitemcheckbox","aria-checked":Uh(r)?"mixed":r},a),{},{ref:t,"data-state":Bh(r),onSelect:$r(a.onSelect,()=>null===n||void 0===n?void 0:n(!!Uh(r)||!r),{checkForDefaultPrevented:!1})}))})});yh.displayName="MenuCheckboxItem";var xh="MenuRadioGroup",[bh,wh]=Wd(xh,{value:void 0,onValueChange:()=>{}}),jh=t.forwardRef((e,t)=>{const{value:r,onValueChange:n}=e,a=i(e,Od),s=On(n);return(0,jr.jsx)(bh,{scope:e.__scopeMenu,value:r,onValueChange:s,children:(0,jr.jsx)(hh,(0,o.A)((0,o.A)({},a),{},{ref:t}))})});jh.displayName=xh;var Nh="MenuRadioItem",_h=t.forwardRef((e,t)=>{const{value:r}=e,n=i(e,Cd),a=wh(Nh,e.__scopeMenu),s=r===a.value;return(0,jr.jsx)(kh,{scope:e.__scopeMenu,checked:s,children:(0,jr.jsx)(gh,(0,o.A)((0,o.A)({role:"menuitemradio","aria-checked":s},n),{},{ref:t,"data-state":Bh(s),onSelect:$r(n.onSelect,()=>{var e;return null===(e=a.onValueChange)||void 0===e?void 0:e.call(a,r)},{checkForDefaultPrevented:!1})}))})});_h.displayName=Nh;var Sh="MenuItemIndicator",[kh,Eh]=Wd(Sh,{checked:!1}),Ah=t.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n}=e,a=i(e,Pd),s=Eh(Sh,r);return(0,jr.jsx)(Vn,{present:n||Uh(s.checked)||!0===s.checked,children:(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({},a),{},{ref:t,"data-state":Bh(s.checked)}))})});Ah.displayName=Sh;var Oh=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=i(e,Td);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({role:"separator","aria-orientation":"horizontal"},n),{},{ref:t}))});Oh.displayName="MenuSeparator";var Ch=t.forwardRef((e,t)=>{const{__scopeMenu:r}=e,n=i(e,Dd),a=Kd(r);return(0,jr.jsx)(Xc,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Ch.displayName="MenuArrow";var Ph="MenuSub",[Th,Dh]=Wd(Ph),Rh=e=>{const{__scopeMenu:r,children:n,open:a=!1,onOpenChange:i}=e,s=$d(Ph,r),l=Kd(r),[c,u]=t.useState(null),[d,h]=t.useState(null),f=On(i);return t.useEffect(()=>(!1===s.open&&f(!1),()=>f(!1)),[s.open,f]),(0,jr.jsx)(Yc,(0,o.A)((0,o.A)({},l),{},{children:(0,jr.jsx)(Yd,{scope:r,open:a,onOpenChange:f,content:d,onContentChange:h,children:(0,jr.jsx)(Th,{scope:r,contentId:Cs(),triggerId:Cs(),trigger:c,onTriggerChange:u,children:n})})}))};Rh.displayName=Ph;var Ih="MenuSubTrigger",Mh=t.forwardRef((e,r)=>{const n=$d(Ih,e.__scopeMenu),a=Xd(Ih,e.__scopeMenu),i=Dh(Ih,e.__scopeMenu),s=oh(Ih,e.__scopeMenu),l=t.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=s,d={__scopeMenu:e.__scopeMenu},h=t.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return t.useEffect(()=>h,[h]),t.useEffect(()=>{const e=c.current;return()=>{window.clearTimeout(e),u(null)}},[c,u]),(0,jr.jsx)(Qd,(0,o.A)((0,o.A)({asChild:!0},d),{},{children:(0,jr.jsx)(vh,(0,o.A)((0,o.A)({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Fh(n.open)},e),{},{ref:Xr(r,i.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:$r(e.onPointerMove,qh(t=>{s.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||l.current||(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:$r(e.onPointerLeave,qh(e=>{var t;h();const r=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(r){var a;const t=null===(a=n.content)||void 0===a?void 0:a.dataset.side,i="right"===t,o=i?-5:5,l=r[i?"left":"right"],u=r[i?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+o,y:e.clientY},{x:l,y:r.top},{x:u,y:r.top},{x:u,y:r.bottom},{x:l,y:r.bottom}],side:t}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:$r(e.onKeyDown,t=>{const r=""!==s.searchRef.current;var i;e.disabled||r&&" "===t.key||zd[a.dir].includes(t.key)&&(n.onOpenChange(!0),null===(i=n.content)||void 0===i||i.focus(),t.preventDefault())})}))}))});Mh.displayName=Ih;var Lh="MenuSubContent",zh=t.forwardRef((e,r)=>{const n=rh(ah,e.__scopeMenu),{forceMount:a=n.forceMount}=e,s=i(e,Rd),l=$d(ah,e.__scopeMenu),c=Xd(ah,e.__scopeMenu),u=Dh(Lh,e.__scopeMenu),d=t.useRef(null),h=Zr(r,d);return(0,jr.jsx)(Bd.Provider,{scope:e.__scopeMenu,children:(0,jr.jsx)(Vn,{present:a||l.open,children:(0,jr.jsx)(Bd.Slot,{scope:e.__scopeMenu,children:(0,jr.jsx)(dh,(0,o.A)((0,o.A)({id:u.contentId,"aria-labelledby":u.triggerId},s),{},{ref:h,align:"start",side:"rtl"===c.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;c.isUsingKeyboardRef.current&&(null===(t=d.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:$r(e.onFocusOutside,e=>{e.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:$r(e.onEscapeKeyDown,e=>{c.onClose(),e.preventDefault()}),onKeyDown:$r(e.onKeyDown,e=>{const t=e.currentTarget.contains(e.target),r=Fd[c.dir].includes(e.key);var n;t&&r&&(l.onOpenChange(!1),null===(n=u.trigger)||void 0===n||n.focus(),e.preventDefault())})}))})})})});function Fh(e){return e?"open":"closed"}function Uh(e){return"indeterminate"===e}function Bh(e){return Uh(e)?"indeterminate":e?"checked":"unchecked"}function qh(e){return t=>"mouse"===t.pointerType?e(t):void 0}zh.displayName=Lh;var Hh=Zd,Wh=Qd,Vh=nh,Kh=sh,Gh=hh,Yh=fh,$h=gh,Jh=yh,Xh=jh,Zh=_h,Qh=Ah,ef=Oh,tf=Ch,rf=Mh,nf=zh;const af=["__scopeDropdownMenu","disabled"],of=["__scopeDropdownMenu"],sf=["__scopeDropdownMenu"],lf=["__scopeDropdownMenu"],cf=["__scopeDropdownMenu"],uf=["__scopeDropdownMenu"],df=["__scopeDropdownMenu"],hf=["__scopeDropdownMenu"],ff=["__scopeDropdownMenu"],pf=["__scopeDropdownMenu"],mf=["__scopeDropdownMenu"],gf=["__scopeDropdownMenu"],vf=["__scopeDropdownMenu"],yf=["__scopeDropdownMenu"];var xf="DropdownMenu",[bf,wf]=on(xf,[Vd]),jf=Vd(),[Nf,_f]=bf(xf),Sf=e=>{const{__scopeDropdownMenu:r,children:n,dir:a,open:i,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,u=jf(r),d=t.useRef(null),[h,f]=Yn({prop:i,defaultProp:null!==s&&void 0!==s&&s,onChange:l,caller:xf});return(0,jr.jsx)(Nf,{scope:r,triggerId:Cs(),triggerRef:d,contentId:Cs(),open:h,onOpenChange:f,onOpenToggle:t.useCallback(()=>f(e=>!e),[f]),modal:c,children:(0,jr.jsx)(Hh,(0,o.A)((0,o.A)({},u),{},{open:h,onOpenChange:f,dir:a,modal:c,children:n}))})};Sf.displayName=xf;var kf="DropdownMenuTrigger",Ef=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1}=e,a=i(e,af),s=_f(kf,r),l=jf(r);return(0,jr.jsx)(Wh,(0,o.A)((0,o.A)({asChild:!0},l),{},{children:(0,jr.jsx)(En.button,(0,o.A)((0,o.A)({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},a),{},{ref:Xr(t,s.triggerRef),onPointerDown:$r(e.onPointerDown,e=>{n||0!==e.button||!1!==e.ctrlKey||(s.onOpenToggle(),s.open||e.preventDefault())}),onKeyDown:$r(e.onKeyDown,e=>{n||(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})}))}))});Ef.displayName=kf;var Af=e=>{const{__scopeDropdownMenu:t}=e,r=i(e,of),n=jf(t);return(0,jr.jsx)(Vh,(0,o.A)((0,o.A)({},n),r))};Af.displayName="DropdownMenuPortal";var Of="DropdownMenuContent",Cf=t.forwardRef((e,r)=>{const{__scopeDropdownMenu:n}=e,a=i(e,sf),s=_f(Of,n),l=jf(n),c=t.useRef(!1);return(0,jr.jsx)(Kh,(0,o.A)((0,o.A)((0,o.A)({id:s.contentId,"aria-labelledby":s.triggerId},l),a),{},{ref:r,onCloseAutoFocus:$r(e.onCloseAutoFocus,e=>{var t;c.current||null===(t=s.triggerRef.current)||void 0===t||t.focus(),c.current=!1,e.preventDefault()}),onInteractOutside:$r(e.onInteractOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;s.modal&&!n||(c.current=!0)}),style:(0,o.A)((0,o.A)({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});Cf.displayName=Of;var Pf=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,lf),a=jf(r);return(0,jr.jsx)(Gh,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Pf.displayName="DropdownMenuGroup";var Tf=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,cf),a=jf(r);return(0,jr.jsx)(Yh,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Tf.displayName="DropdownMenuLabel";var Df=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,uf),a=jf(r);return(0,jr.jsx)($h,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Df.displayName="DropdownMenuItem";var Rf=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,df),a=jf(r);return(0,jr.jsx)(Jh,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Rf.displayName="DropdownMenuCheckboxItem";var If=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,hf),a=jf(r);return(0,jr.jsx)(Xh,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});If.displayName="DropdownMenuRadioGroup";var Mf=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,ff),a=jf(r);return(0,jr.jsx)(Zh,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Mf.displayName="DropdownMenuRadioItem";var Lf=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,pf),a=jf(r);return(0,jr.jsx)(Qh,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Lf.displayName="DropdownMenuItemIndicator";var zf=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,mf),a=jf(r);return(0,jr.jsx)(ef,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});zf.displayName="DropdownMenuSeparator";var Ff=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,gf),a=jf(r);return(0,jr.jsx)(tf,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Ff.displayName="DropdownMenuArrow";var Uf=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,vf),a=jf(r);return(0,jr.jsx)(rf,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Uf.displayName="DropdownMenuSubTrigger";var Bf=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:r}=e,n=i(e,yf),a=jf(r);return(0,jr.jsx)(nf,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t,style:(0,o.A)((0,o.A)({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});Bf.displayName="DropdownMenuSubContent";var qf=Sf,Hf=Ef,Wf=Af,Vf=Cf,Kf=Tf,Gf=Df,Yf=Rf,$f=Mf,Jf=Lf,Xf=zf,Zf=Uf,Qf=Bf;const ep=si("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),tp=si("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),rp=si("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),np=["className","inset","children"],ap=["className"],ip=["className","sideOffset"],op=["className","inset"],sp=["className","children","checked"],lp=["className","children"],cp=["className","inset"],up=["className"],dp=qf,hp=Hf,fp=t.forwardRef((e,t)=>{let{className:r,inset:n,children:a}=e,s=i(e,np);return(0,jr.jsxs)(Zf,(0,o.A)((0,o.A)({ref:t,className:So("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",r)},s),{},{children:[a,(0,jr.jsx)(ep,{className:"ml-auto"})]}))});fp.displayName=Zf.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,ap);return(0,jr.jsx)(Qf,(0,o.A)({ref:t,className:So("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r)},n))}).displayName=Qf.displayName;const pp=t.forwardRef((e,t)=>{let{className:r,sideOffset:n=4}=e,a=i(e,ip);return(0,jr.jsx)(Wf,{children:(0,jr.jsx)(Vf,(0,o.A)({ref:t,sideOffset:n,className:So("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r)},a))})});pp.displayName=Vf.displayName;const mp=t.forwardRef((e,t)=>{let{className:r,inset:n}=e,a=i(e,op);return(0,jr.jsx)(Gf,(0,o.A)({ref:t,className:So("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",n&&"pl-8",r)},a))});mp.displayName=Gf.displayName;t.forwardRef((e,t)=>{let{className:r,children:n,checked:a}=e,s=i(e,sp);return(0,jr.jsxs)(Yf,(0,o.A)((0,o.A)({ref:t,className:So("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:a},s),{},{children:[(0,jr.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,jr.jsx)(Jf,{children:(0,jr.jsx)(tp,{className:"h-4 w-4"})})}),n]}))}).displayName=Yf.displayName;t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=i(e,lp);return(0,jr.jsxs)($f,(0,o.A)((0,o.A)({ref:t,className:So("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{},{children:[(0,jr.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,jr.jsx)(Jf,{children:(0,jr.jsx)(rp,{className:"h-2 w-2 fill-current"})})}),n]}))}).displayName=$f.displayName;t.forwardRef((e,t)=>{let{className:r,inset:n}=e,a=i(e,cp);return(0,jr.jsx)(Kf,(0,o.A)({ref:t,className:So("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",r)},a))}).displayName=Kf.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,up);return(0,jr.jsx)(Xf,(0,o.A)({ref:t,className:So("-mx-1 my-1 h-px bg-muted",r)},n))}).displayName=Xf.displayName;const gp=si("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),vp=si("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),yp=si("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xp=()=>{const{user:e}=_r(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(0),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if((async()=>{if(null===e||void 0===e||!e.id)return;l(!0);const{data:t,error:r}=await br.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);!r&&t&&(n(t),i(t.filter(e=>!e.is_read).length)),l(!1)})(),null!==e&&void 0!==e&&e.id){const t=br.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"user_id=eq.".concat(e.id)},e=>{n(t=>[e.new,...t]),i(e=>e+1)}).subscribe();return()=>{br.removeChannel(t)}}},[null===e||void 0===e?void 0:e.id]);const m=async e=>{await br.from("notifications").update({is_read:!0}).eq("id",e),n(t=>t.map(t=>t.id===e?(0,o.A)((0,o.A)({},t),{},{is_read:!0}):t)),i(e=>Math.max(0,e-1))},g=async e=>{await br.from("notifications").delete().eq("id",e),n(t=>t.filter(t=>t.id!==e))},v=e=>{switch(e){case"new_album":return(0,jr.jsx)(Go,{className:"w-5 h-5 text-red-500"});case"new_playlist":return(0,jr.jsx)(Jo,{className:"w-5 h-5 text-blue-500"});case"collaboration_invite":return(0,jr.jsx)(gp,{className:"w-5 h-5 text-red-500"});default:return(0,jr.jsx)(vp,{className:"w-5 h-5 text-gray-500"})}},y=e=>{const t=new Date(e),r=new Date-t,n=Math.floor(r/6e4),a=Math.floor(r/36e5),i=Math.floor(r/864e5);return n<1?"Agora":n<60?"".concat(n,"min"):a<24?"".concat(a,"h"):i<7?"".concat(i,"d"):t.toLocaleDateString("pt-BR")};return e?(0,jr.jsxs)(dp,{open:f,onOpenChange:e=>{if(p(e),e){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=e+"px"}else document.body.style.overflow="auto",document.body.style.paddingRight="0px"},children:[(0,jr.jsx)(hp,{asChild:!0,children:(0,jr.jsxs)("button",{className:"relative p-2 text-white hover:bg-white/20 rounded-full transition-colors",children:[(0,jr.jsx)(vp,{className:"w-6 h-6"}),a>0&&(0,jr.jsx)("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-red-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:a>9?"9+":a})]})}),(0,jr.jsxs)(pp,{className:"bg-white w-80 max-h-96 overflow-y-auto",align:"end",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900",children:"Notifica\xe7\xf5es"}),a>0&&(0,jr.jsxs)("button",{onClick:async()=>{await br.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1),n(e=>e.map(e=>(0,o.A)((0,o.A)({},e),{},{is_read:!0}))),i(0)},className:"text-xs text-red-600 hover:text-red-700 flex items-center gap-1",children:[(0,jr.jsx)(tp,{className:"w-3 h-3"}),"Marcar todas como lidas"]})]}),s?(0,jr.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Carregando..."}):0===r.length?(0,jr.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,jr.jsx)(vp,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,jr.jsx)("p",{children:"Nenhuma notifica\xe7\xe3o"})]}):(0,jr.jsx)("div",{children:r.map(e=>(0,jr.jsxs)("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-gray-50 border-b last:border-b-0 cursor-pointer ".concat(e.is_read?"":"bg-red-50"),onClick:()=>{"collaboration_invite"===e.type&&(e=>{"collaboration_invite"===e.type&&(u(e),p(!1),m(e.id),document.body.style.overflow="hidden")})(e)},children:["collaboration_invite"===e.type?(0,jr.jsx)("div",{className:"flex-shrink-0",children:e.image_url?(0,jr.jsx)("img",{src:e.image_url,alt:"",className:"w-12 h-12 rounded object-cover hover:opacity-80 transition-opacity"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded bg-red-100 flex items-center justify-center",children:(0,jr.jsx)(gp,{className:"w-5 h-5 text-red-500"})})}):(0,jr.jsx)(yt,{to:e.link||"#",onClick:()=>m(e.id),className:"flex-shrink-0",children:e.image_url?(0,jr.jsx)("img",{src:e.image_url,alt:"",className:"w-12 h-12 rounded object-cover hover:opacity-80 transition-opacity"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:v(e.type)})}),(0,jr.jsx)("div",{className:"flex-1 min-w-0",children:"collaboration_invite"===e.type?(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.message}),(0,jr.jsx)("p",{className:"text-xs text-red-600 mt-1 font-medium",children:"Clique para responder"})]}):(0,jr.jsxs)(yt,{to:e.link||"#",onClick:()=>m(e.id),className:"block",children:[(0,jr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.message}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:y(e.created_at)})]})}),(0,jr.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e.id)},className:"p-1 text-gray-400 hover:text-red-500",children:(0,jr.jsx)(yp,{className:"w-4 h-4"})})]},e.id))})]}),c&&(0,jr.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:(0,jr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[(0,jr.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-red-500 px-6 py-4 flex items-center justify-between",children:[(0,jr.jsxs)("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[(0,jr.jsx)(gp,{className:"w-5 h-5"}),"Convite de Colabora\xe7\xe3o"]}),(0,jr.jsx)("button",{onClick:()=>{u(null),document.body.style.overflow="auto"},className:"text-white/80 hover:text-white",children:(0,jr.jsx)(li,{className:"w-5 h-5"})})]}),(0,jr.jsxs)("div",{className:"p-6",children:[c.image_url&&(0,jr.jsx)("img",{src:c.image_url,alt:"Capa do \xe1lbum",className:"w-32 h-32 rounded-lg object-cover mx-auto mb-4 shadow-lg"}),(0,jr.jsx)("h4",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:c.title}),(0,jr.jsx)("p",{className:"text-gray-600 text-center mb-6",children:c.message}),(0,jr.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,jr.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Ao aceitar, este \xe1lbum aparecer\xe1 no seu perfil e seus seguidores ser\xe3o notificados."})}),(0,jr.jsxs)("div",{className:"flex gap-3",children:[(0,jr.jsx)(ds,{onClick:async()=>{if(c&&e){h(!0);try{let t=c.album_id;if(!t&&c.artist_id){const{data:r}=await br.from("collaboration_invites").select("album_id").eq("invited_user_id",e.id).eq("invited_by_user_id",c.artist_id).eq("status","pending").single();r&&(t=r.album_id)}await br.from("collaboration_invites").update({status:"rejected",responded_at:(new Date).toISOString()}).eq("album_id",t).eq("invited_user_id",e.id),Gr({title:"Convite recusado",description:"Voc\xea recusou a colabora\xe7\xe3o"}),g(c.id),u(null),document.body.style.overflow="auto"}catch(t){console.error("Erro ao recusar colabora\xe7\xe3o:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel recusar a colabora\xe7\xe3o",variant:"destructive"})}finally{h(!1)}}},disabled:d,variant:"outline",className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-100",children:d?"Processando...":"Recusar"}),(0,jr.jsx)(ds,{onClick:async()=>{if(c&&e){h(!0);try{console.log("Aceitando colabora\xe7\xe3o:",c);let t=c.album_id;if(!t&&c.artist_id){const{data:r}=await br.from("collaboration_invites").select("album_id").eq("invited_user_id",e.id).eq("invited_by_user_id",c.artist_id).eq("status","pending").single();r&&(t=r.album_id)}if(!t)throw new Error("N\xe3o foi poss\xedvel identificar o \xe1lbum");const{data:r,error:n}=await br.from("collaboration_invites").update({status:"accepted",responded_at:(new Date).toISOString()}).eq("album_id",t).eq("invited_user_id",e.id).select();if(console.log("Update result:",r,n),n)throw n;const{data:a}=await br.from("albums").select("*, artist:artists(name, slug)").eq("id",t).single(),{data:i}=await br.from("follows").select("follower_id").eq("artist_id",e.id);if(i&&i.length>0&&a){const t=i.map(t=>({user_id:t.follower_id,type:"new_album",title:"Novo \xe1lbum de ".concat(e.name||"artista"),message:"".concat(e.name||"Um artista que voc\xea segue",' participou do \xe1lbum "').concat(a.title,'"'),image_url:a.cover_url,link:"/".concat(e.slug||e.id,"/").concat(a.slug||a.id),artist_id:e.id,album_id:a.id,is_read:!1}));await br.from("notifications").insert(t)}Gr({title:"Colabora\xe7\xe3o aceita!",description:"O \xe1lbum agora aparece no seu perfil"}),g(c.id),u(null),document.body.style.overflow="auto"}catch(t){console.error("Erro ao aceitar colabora\xe7\xe3o:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel aceitar a colabora\xe7\xe3o",variant:"destructive"})}finally{h(!1)}}},disabled:d,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:d?"Processando...":"Aceitar"})]})]})]})})]}):null},bp=()=>{var e,r;const{user:n,logout:a,isArtist:i}=_r(),[o,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),h=me(),[f,p]=(he(),(0,t.useState)("")),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)("down"),x=(t.useRef(null),!0===(null===n||void 0===n?void 0:n.isAdmin)),b=[{name:"Forr\xf3",slug:"forro"},{name:"Arrocha",slug:"arrocha"},{name:"Piseiro",slug:"piseiro"},{name:"Arrochadeira",slug:"arrochadeira"},{name:"Pagode",slug:"pagode"},{name:"Sertanejo",slug:"sertanejo"},{name:"Brega Funk",slug:"brega-funk"},{name:"Variados",slug:"variados"},{name:"Samba",slug:"samba"},{name:"Funk",slug:"funk"},{name:"Ax\xe9",slug:"axe"},{name:"Reggae",slug:"reggae"},{name:"Brega",slug:"brega"},{name:"Gospel",slug:"gospel"},{name:"Rap/Hip-Hop",slug:"rap-hip-hop"},{name:"Pop",slug:"pop"},{name:"MPB",slug:"mpb"},{name:"Rock",slug:"rock"},{name:"Eletr\xf4nica",slug:"eletronica"},{name:"Trap",slug:"trap"},{name:"Frevo",slug:"frevo"}],w=m?b:b.slice(0,14);(0,t.useEffect)(()=>{(async()=>{if(null!==n&&void 0!==n&&n.id&&i){const{data:e}=await br.from("artists").select("*").eq("id",n.id).maybeSingle();if(e)s({id:e.id,slug:e.slug,name:e.name,avatar:e.avatar_url||"/images/default-avatar.png"});else{const e=Er.find(e=>e.userId===n.id||String(e.userId)===String(n.id));e&&s(e)}}})()},[null===n||void 0===n?void 0:n.id,i]),(0,t.useEffect)(()=>{(async()=>{if(null!==n&&void 0!==n&&n.id&&x){const{data:e}=await br.from("admin_users").select("avatar_url").eq("id",n.id).maybeSingle();null!==e&&void 0!==e&&e.avatar_url?c(e.avatar_url):null!==n&&void 0!==n&&n.avatar&&c(n.avatar)}})()},[null===n||void 0===n?void 0:n.id,x,null===n||void 0===n?void 0:n.avatar]);return(0,jr.jsx)("header",{className:"bg-red-600 shadow-lg sticky top-0 z-50",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between h-16 gap-6",children:[(0,jr.jsx)(yt,{to:"/",className:"flex items-center flex-shrink-0",children:(0,jr.jsx)("img",{src:"/images/Logo-escutai.png",alt:"Escuta\xed",className:"max-h-12 w-auto h-auto"})}),(0,jr.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,jr.jsx)(yt,{to:"/lancamentos",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"Lan\xe7amentos"}),(0,jr.jsx)(yt,{to:"/artists",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"Artistas"}),(0,jr.jsx)(yt,{to:"/albums",className:"text-white hover:text-gray-200 font-medium transition-colors",children:"M\xfasicas"}),(0,jr.jsxs)(dp,{modal:!1,onOpenChange:e=>{e||g(!1)},children:[(0,jr.jsx)(hp,{className:"text-white hover:text-gray-200 font-medium transition-colors",children:"G\xeaneros \u25bc"}),(0,jr.jsxs)(pp,{className:"bg-white w-48",children:[w.map(e=>(0,jr.jsx)(mp,{className:"cursor-pointer hover:bg-red-50 hover:text-red-600 p-0",asChild:!0,children:(0,jr.jsx)(yt,{to:"/genero/".concat(e.slug),className:"w-full px-2 py-1.5 block",children:e.name})},e.slug)),!m&&b.length>14&&(0,jr.jsx)("div",{onMouseEnter:()=>g(!0),className:"w-full py-2 flex items-center justify-center text-gray-400 border-t cursor-pointer hover:text-red-600 transition-colors",children:(0,jr.jsx)(Bo,{className:"w-5 h-5"})})]})]})]}),(0,jr.jsx)("form",{onSubmit:e=>{e.preventDefault(),f.trim()&&h("/search?q=".concat(f))},className:"hidden lg:flex items-center flex-1 max-w-sm",children:(0,jr.jsxs)("div",{className:"relative w-full",children:[(0,jr.jsx)(qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),(0,jr.jsx)(Zo,{type:"text",placeholder:"Busque por artistas, \xe1lbuns...",value:f,onChange:e=>p(e.target.value),className:"pl-9 pr-3 py-2 bg-white border-0 text-gray-900 placeholder:text-gray-500 rounded-full shadow-sm focus:ring-2 focus:ring-white/50"})]})}),(0,jr.jsxs)("div",{className:"flex items-center space-x-4",children:[n&&(0,jr.jsx)(xp,{}),n?(0,jr.jsxs)(dp,{modal:!1,children:[(0,jr.jsx)(hp,{asChild:!0,children:(0,jr.jsxs)("button",{className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[(0,jr.jsx)("img",{src:x?(null===l||void 0===l?void 0:l.trim())||(null===n||void 0===n||null===(e=n.user_metadata)||void 0===e?void 0:e.avatar_url)||"/images/default-avatar.png":(null===o||void 0===o?void 0:o.avatar)||(null===n||void 0===n?void 0:n.avatar)||(null===n||void 0===n||null===(r=n.user_metadata)||void 0===r?void 0:r.avatar_url)||"/images/default-avatar.png",alt:x?"Administrador":(null===o||void 0===o?void 0:o.name)||(null===n||void 0===n?void 0:n.name),className:"w-8 h-8 rounded-full object-cover"}),(0,jr.jsx)("span",{className:"text-white font-medium hidden md:block",children:x?u||"Administrador":n.name})]})}),(0,jr.jsx)(pp,{className:"bg-white w-56",children:x?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsxs)(mp,{onClick:()=>h("/admin"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Ho,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Painel Admin"})]}),(0,jr.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,jr.jsxs)(mp,{onClick:a,className:"cursor-pointer flex items-center gap-3 py-3 text-red-600",children:[(0,jr.jsx)(Wo,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Sair"})]})]}):i?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsxs)(mp,{onClick:()=>h("/".concat((null===o||void 0===o?void 0:o.slug)||(null===o||void 0===o?void 0:o.id)||"a1")),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Vo,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Meu Perfil"})]}),(0,jr.jsxs)(mp,{onClick:()=>h("/artist/upload"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Ko,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Novo Upload"})]}),(0,jr.jsxs)(mp,{onClick:()=>h("/artist/albums"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Go,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Meus \xc1lbuns"})]}),(0,jr.jsxs)(mp,{onClick:()=>h("/artist/dashboard"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Yo,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Estat\xedsticas"})]}),(0,jr.jsxs)(mp,{onClick:()=>h("/artist/settings"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Ho,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,jr.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,jr.jsxs)(mp,{onClick:a,className:"cursor-pointer flex items-center gap-3 py-3 text-red-600",children:[(0,jr.jsx)(Wo,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Sair"})]})]}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsxs)(mp,{onClick:()=>h("/user/panel"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Ho,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Meu Painel"})]}),(0,jr.jsxs)(mp,{onClick:()=>h("/favorites"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)($o,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Favoritos"})]}),(0,jr.jsxs)(mp,{onClick:()=>h("/playlists"),className:"cursor-pointer flex items-center gap-3 py-3",children:[(0,jr.jsx)(Jo,{className:"w-5 h-5 text-gray-500"}),(0,jr.jsx)("span",{children:"Playlists"})]}),(0,jr.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,jr.jsxs)(mp,{onClick:a,className:"cursor-pointer flex items-center gap-3 py-3 text-red-600",children:[(0,jr.jsx)(Wo,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Sair"})]})]})})]}):(0,jr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,jr.jsx)(ds,{onClick:()=>h("/login"),variant:"outline",className:"border-white text-white hover:bg-white hover:text-red-600",children:"Entrar"}),(0,jr.jsx)(ds,{onClick:()=>h("/cadastrar"),className:"bg-white text-red-600 hover:bg-gray-100",children:"Cadastrar"})]})]})]})})})},wp=si("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),jp=si("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Np=si("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),_p=si("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Sp=()=>(0,jr.jsx)("footer",{className:"bg-black text-white py-8",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(yt,{to:"/",className:"flex items-center space-x-2 mb-3",children:(0,jr.jsx)("img",{src:"/images/Logo-rodape.png",alt:"Escuta\xed",className:"h-8"})}),(0,jr.jsx)("p",{className:"text-gray-400 text-sm",children:"Compartilhe sua m\xfasica com o mundo."})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold mb-3",children:"Explorar"}),(0,jr.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,jr.jsx)("li",{children:(0,jr.jsx)(yt,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"\xc1lbuns"})}),(0,jr.jsx)("li",{children:(0,jr.jsx)(yt,{to:"/artists",className:"text-gray-400 hover:text-white transition-colors",children:"Artistas"})})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold mb-3",children:"Para Artistas"}),(0,jr.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,jr.jsx)("li",{children:(0,jr.jsx)(yt,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Fazer Upload"})}),(0,jr.jsx)("li",{children:(0,jr.jsx)(yt,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Meu Perfil"})})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold mb-3",children:"Redes Sociais"}),(0,jr.jsxs)("div",{className:"flex space-x-3",children:[(0,jr.jsx)("a",{href:"#",className:"w-9 h-9 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors",children:(0,jr.jsx)(wp,{className:"w-4 h-4"})}),(0,jr.jsx)("a",{href:"#",className:"w-9 h-9 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors",children:(0,jr.jsx)(jp,{className:"w-4 h-4"})}),(0,jr.jsx)("a",{href:"#",className:"w-9 h-9 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors",children:(0,jr.jsx)(Np,{className:"w-4 h-4"})}),(0,jr.jsx)("a",{href:"#",className:"w-9 h-9 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors",children:(0,jr.jsx)(_p,{className:"w-4 h-4"})})]})]})]}),(0,jr.jsx)("div",{className:"border-t border-gray-800 pt-6 text-center text-gray-400 text-sm",children:(0,jr.jsx)("p",{children:"\xa9 2025 Escuta\xed. Todos os direitos reservados."})})]})}),kp=si("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ep=si("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Ap=si("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Op=si("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Cp=si("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]),Pp=si("skip-back",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),Tp=si("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),Dp=si("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Rp=si("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Ip=si("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Mp=si("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);function Lp(e,t){let[r,n]=t;return Math.min(n,Math.max(r,e))}function zp(e){const r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}const Fp=["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"],Up=["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"],Bp=["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"],qp=["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"],Hp=["__scopeSlider"],Wp=["__scopeSlider"],Vp=["__scopeSlider","index","name"],Kp=["__scopeSlider","value"];var Gp=["PageUp","PageDown"],Yp=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$p={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Jp="Slider",[Xp,Zp,Qp]=gn(Jp),[em,tm]=on(Jp,[Qp]),[rm,nm]=em(Jp),am=t.forwardRef((e,r)=>{const{name:n,min:a=0,max:s=100,step:l=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[a],value:f,onValueChange:p=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:v}=e,y=i(e,Fp),x=t.useRef(new Set),b=t.useRef(0),w="horizontal"===c?sm:lm,[j=[],N]=Yn({prop:f,defaultProp:h,onChange:e=>{var t;null===(t=[...x.current][b.current])||void 0===t||t.focus(),p(e)}}),_=t.useRef(j);function S(e,t){let{commit:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1};const n=function(e){return(String(e).split(".")[1]||"").length}(l),i=function(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-a)/l)*l+a,n),o=Lp(i,[a,s]);N(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;const n=[...e];return n[r]=t,n.sort((e,t)=>e-t)}(e,o,t);if(function(e,t){if(t>0){const r=function(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}(e);return Math.min(...r)>=t}return!0}(n,d*l)){b.current=n.indexOf(o);const t=String(n)!==String(e);return t&&r&&m(n),t?n:e}return e})}return(0,jr.jsx)(rm,{scope:e.__scopeSlider,name:n,disabled:u,min:a,max:s,valueIndexToChangeRef:b,thumbs:x.current,values:j,orientation:c,form:v,children:(0,jr.jsx)(Xp.Provider,{scope:e.__scopeSlider,children:(0,jr.jsx)(Xp.Slot,{scope:e.__scopeSlider,children:(0,jr.jsx)(w,(0,o.A)((0,o.A)({"aria-disabled":u,"data-disabled":u?"":void 0},y),{},{ref:r,onPointerDown:$r(y.onPointerDown,()=>{u||(_.current=j)}),min:a,max:s,inverted:g,onSlideStart:u?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const r=e.map(e=>Math.abs(e-t)),n=Math.min(...r);return r.indexOf(n)}(j,e);S(e,t)},onSlideMove:u?void 0:function(e){S(e,b.current)},onSlideEnd:u?void 0:function(){const e=_.current[b.current];j[b.current]!==e&&m(j)},onHomeKeyDown:()=>!u&&S(a,0,{commit:!0}),onEndKeyDown:()=>!u&&S(s,j.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:r}=e;if(!u){const e=Gp.includes(t.key)||t.shiftKey&&Yp.includes(t.key)?10:1,n=b.current;S(j[n]+l*e*r,n,{commit:!0})}}}))})})})});am.displayName=Jp;var[im,om]=em(Jp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),sm=t.forwardRef((e,r)=>{const{min:n,max:a,dir:s,inverted:l,onSlideStart:c,onSlideMove:u,onSlideEnd:d,onStepKeyDown:h}=e,f=i(e,Up),[p,m]=t.useState(null),g=Zr(r,e=>m(e)),v=t.useRef(void 0),y=fs(s),x="ltr"===y,b=x&&!l||!x&&l;function w(e){const t=v.current||p.getBoundingClientRect(),r=xm([0,t.width],b?[n,a]:[a,n]);return v.current=t,r(e-t.left)}return(0,jr.jsx)(im,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,jr.jsx)(cm,(0,o.A)((0,o.A)({dir:y,"data-orientation":"horizontal"},f),{},{ref:g,style:(0,o.A)((0,o.A)({},f.style),{},{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:e=>{const t=w(e.clientX);null===c||void 0===c||c(t)},onSlideMove:e=>{const t=w(e.clientX);null===u||void 0===u||u(t)},onSlideEnd:()=>{v.current=void 0,null===d||void 0===d||d()},onStepKeyDown:e=>{const t=$p[b?"from-left":"from-right"].includes(e.key);null===h||void 0===h||h({event:e,direction:t?-1:1})}}))})}),lm=t.forwardRef((e,r)=>{const{min:n,max:a,inverted:s,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:d}=e,h=i(e,Bp),f=t.useRef(null),p=Zr(r,f),m=t.useRef(void 0),g=!s;function v(e){const t=m.current||f.current.getBoundingClientRect(),r=xm([0,t.height],g?[a,n]:[n,a]);return m.current=t,r(e-t.top)}return(0,jr.jsx)(im,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:(0,jr.jsx)(cm,(0,o.A)((0,o.A)({"data-orientation":"vertical"},h),{},{ref:p,style:(0,o.A)((0,o.A)({},h.style),{},{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:e=>{const t=v(e.clientY);null===l||void 0===l||l(t)},onSlideMove:e=>{const t=v(e.clientY);null===c||void 0===c||c(t)},onSlideEnd:()=>{m.current=void 0,null===u||void 0===u||u()},onStepKeyDown:e=>{const t=$p[g?"from-bottom":"from-top"].includes(e.key);null===d||void 0===d||d({event:e,direction:t?-1:1})}}))})}),cm=t.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u}=e,d=i(e,qp),h=nm(Jp,r);return(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({},d),{},{ref:t,onKeyDown:$r(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(c(e),e.preventDefault()):Gp.concat(Yp).includes(e.key)&&(u(e),e.preventDefault())}),onPointerDown:$r(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():n(e)}),onPointerMove:$r(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:$r(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})}))}),um="SliderTrack",dm=t.forwardRef((e,t)=>{const{__scopeSlider:r}=e,n=i(e,Hp),a=nm(um,r);return(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},n),{},{ref:t}))});dm.displayName=um;var hm="SliderRange",fm=t.forwardRef((e,r)=>{const{__scopeSlider:n}=e,a=i(e,Wp),s=nm(hm,n),l=om(hm,n),c=Zr(r,t.useRef(null)),u=s.values.length,d=s.values.map(e=>ym(e,s.min,s.max)),h=u>1?Math.min(...d):0,f=100-Math.max(...d);return(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},a),{},{ref:c,style:(0,o.A)((0,o.A)({},e.style),{},{[l.startEdge]:h+"%",[l.endEdge]:f+"%"})}))});fm.displayName=hm;var pm="SliderThumb",mm=t.forwardRef((e,r)=>{const n=Zp(e.__scopeSlider),[a,i]=t.useState(null),s=Zr(r,e=>i(e)),l=t.useMemo(()=>a?n().findIndex(e=>e.ref.current===a):-1,[n,a]);return(0,jr.jsx)(gm,(0,o.A)((0,o.A)({},e),{},{ref:s,index:l}))}),gm=t.forwardRef((e,r)=>{const{__scopeSlider:n,index:a,name:s}=e,l=i(e,Vp),c=nm(pm,n),u=om(pm,n),[d,h]=t.useState(null),f=Zr(r,e=>h(e)),p=!d||(c.form||!!d.closest("form")),m=kc(d),g=c.values[a],v=void 0===g?0:ym(g,c.min,c.max),y=function(e,t){return t>2?"Value ".concat(e+1," of ").concat(t):2===t?["Minimum","Maximum"][e]:void 0}(a,c.values.length),x=null===m||void 0===m?void 0:m[u.size],b=x?function(e,t,r){const n=e/2,a=xm([0,50],[0,n]);return(n-a(t)*r)*r}(x,v,u.direction):0;return t.useEffect(()=>{if(d)return c.thumbs.add(d),()=>{c.thumbs.delete(d)}},[d,c.thumbs]),(0,jr.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:"calc(".concat(v,"% + ").concat(b,"px)")},children:[(0,jr.jsx)(Xp.ItemSlot,{scope:e.__scopeSlider,children:(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":c.min,"aria-valuenow":g,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0},l),{},{ref:f,style:void 0===g?{display:"none"}:e.style,onFocus:$r(e.onFocus,()=>{c.valueIndexToChangeRef.current=a})}))}),p&&(0,jr.jsx)(vm,{name:null!==s&&void 0!==s?s:c.name?c.name+(c.values.length>1?"[]":""):void 0,form:c.form,value:g},a)]})});mm.displayName=pm;var vm=t.forwardRef((e,r)=>{let{__scopeSlider:n,value:a}=e,s=i(e,Kp);const l=t.useRef(null),c=Zr(l,r),u=zp(a);return t.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(u!==a&&r){const t=new Event("input",{bubbles:!0});r.call(e,a),e.dispatchEvent(t)}},[u,a]),(0,jr.jsx)(En.input,(0,o.A)((0,o.A)({style:{display:"none"}},s),{},{ref:c,defaultValue:a}))});function ym(e,t,r){return Lp(100/(r-t)*(e-t),[0,100])}function xm(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}vm.displayName="RadioBubbleInput";var bm=am,wm=dm,jm=fm,Nm=mm;const _m=["className"],Sm=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,_m);return(0,jr.jsxs)(bm,(0,o.A)((0,o.A)({ref:t,className:So("relative flex w-full touch-none select-none items-center",r)},n),{},{children:[(0,jr.jsx)(wm,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,jr.jsx)(jm,{className:"absolute h-full bg-primary"})}),(0,jr.jsx)(Nm,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}))});Sm.displayName=bm.displayName;const km=e=>{const{user:r}=_r(),[n,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(null===r||void 0===r||!r.id||!e)return a(!1),void o(!1);s()},[null===r||void 0===r?void 0:r.id,e]);const s=async()=>{try{o(!0);const{data:n,error:i}=await br.from("music_favorites").select("id",{count:"exact"}).eq("user_id",r.id).eq("music_id",e).limit(1);if(!i&&n&&n.length>0)a(!0);else try{const{data:t}=await br.from("favorites").select("id",{count:"exact"}).eq("userId",r.id).eq("songId",e).limit(1);a(t&&t.length>0)}catch(t){a(!1)}}catch(n){console.error("Error checking favorite:",n),a(!1)}finally{o(!1)}};return{isFavorite:n,toggleFavorite:async()=>{if(null!==r&&void 0!==r&&r.id&&e)try{o(!0);const t=!n;if(n){const{error:t}=await br.from("music_favorites").delete().eq("user_id",r.id).eq("music_id",e);if(t){const{error:t}=await br.from("favorites").delete().eq("userId",r.id).eq("songId",e);if(t)throw t}}else{const{error:t}=await br.from("music_favorites").insert({user_id:r.id,music_id:e,created_at:(new Date).toISOString()});if(t){const{error:t}=await br.from("favorites").insert({userId:r.id,songId:e,createdAt:(new Date).toISOString()});if(t)throw t}}a(t)}catch(t){throw console.error("Error toggling favorite:",t),t}finally{o(!1)}},loading:i}},Em=()=>(0,jr.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,jr.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,jr.jsx)("path",{d:"M14 10H3v2h11v-2zm0-4H3v2h11V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM3 16h7v-2H3v2z"})]}),Am=()=>{const e=me(),{currentSong:r,isPlaying:n,currentTime:a,duration:i,volume:s,isShuffle:l,repeatMode:c,togglePlay:u,handleNext:d,handlePrevious:h,seekTo:f,setVolume:p,toggleShuffle:m,toggleRepeat:g,queue:v,clearQueue:y,playSong:x,setIsCompactMode:b}=zr(),{isPremium:w,user:j}=_r(),[N,_]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[E,A]=(0,t.useState)(!1),[O,C]=(0,t.useState)(!1),[P,T]=(0,t.useState)(!1),[D,R]=(0,t.useState)({title:"",description:"",isPublic:!1,cover:null}),{isFavorite:I,toggleFavorite:M,loading:L}=km(null===r||void 0===r?void 0:r.id);if(!r)return null;const z=e=>(null===e||void 0===e?void 0:e.replace(/\.mp3$/i,""))||"";return O?(0,jr.jsxs)("div",{className:"fixed bottom-4 right-4 z-50 bg-zinc-900 rounded-lg shadow-2xl p-3 w-64",children:[(0,jr.jsx)("button",{onClick:()=>{C(!1),b(!1)},className:"absolute -top-6 right-2 bg-red-600 px-2 py-1 rounded-t hover:bg-red-700 transition",title:"Expandir player",children:(0,jr.jsx)(kp,{className:"w-4 h-4 text-white"})}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)("img",{src:E?"/images/default-album.png":r.coverImage,alt:r.title,className:"w-12 h-12 rounded object-cover",onError:()=>A(!0)}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-white font-bold text-xs truncate",children:z(r.title)}),(0,jr.jsx)("p",{className:"text-white/70 text-xs truncate",children:r.artistName})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:u,className:"text-white hover:bg-red-600 h-7 w-7",children:n?(0,jr.jsx)(Ep,{className:"w-4 h-4",fill:"currentColor"}):(0,jr.jsx)(Ap,{className:"w-4 h-4",fill:"currentColor"})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:d,className:"text-white hover:bg-red-600 h-7 w-7",children:(0,jr.jsx)(Op,{className:"w-4 h-4"})})]})]})]}):(0,jr.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 shadow-2xl transition-all animate-in slide-in-from-bottom duration-300 ".concat(N?"h-auto":""),children:[(0,jr.jsx)("button",{onClick:()=>{C(!0),b(!0)},className:"absolute right-24 -top-6 z-50 bg-zinc-900 border-t border-l border-r border-white/20 px-2 py-1 rounded-t hover:bg-zinc-800 transition",title:"Compactar player",children:(0,jr.jsx)(Bo,{className:"w-4 h-4 text-white"})}),(0,jr.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 border-t border-white/20 px-4 py-2",children:(0,jr.jsx)("div",{className:"max-w-screen-2xl mx-auto",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 w-72 cursor-pointer",onClick:async()=>{if(r)try{const{data:t}=await br.from("artists").select("slug").eq("id",r.artist_id||r.artistId).single(),{data:n}=await br.from("albums").select("slug").eq("id",r.album_id||r.albumId).single();null!==t&&void 0!==t&&t.slug&&null!==n&&void 0!==n&&n.slug&&e("/".concat(t.slug,"/").concat(n.slug))}catch(t){console.error("Error fetching slugs:",t)}},children:[(0,jr.jsxs)("div",{className:"relative group",children:[(0,jr.jsx)("img",{src:E?"/images/default-album.png":r.coverImage,alt:r.title,className:"w-11 h-11 rounded object-cover shadow-lg group-hover:shadow-xl transition-all group-hover:brightness-75",onError:()=>A(!0)}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/20 rounded opacity-0 group-hover:opacity-100 transition-opacity"})]}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-white font-bold text-sm truncate",children:z(r.title)}),(0,jr.jsx)("p",{className:"text-white/80 text-xs truncate",children:r.artistName})]}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),(async()=>{if(j)try{await M(),Gr({title:I?"Removido dos favoritos":"Adicionado aos favoritos",description:r.title})}catch(e){Gr({title:"Erro",description:"Erro ao atualizar favoritos",variant:"destructive"})}else Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar aos favoritos",variant:"destructive"})})()},className:"hover:bg-white/20 h-8 w-8",children:(0,jr.jsx)($o,{className:"w-4 h-4 ".concat(I?"fill-white text-white":"text-white")})})]}),(0,jr.jsxs)("div",{className:"flex-1 max-w-2xl",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-1",children:[(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:m,className:"hover:bg-white/20 h-8 w-8 ".concat(l?"text-white":"text-white/60"),children:(0,jr.jsx)(Cp,{className:"w-3.5 h-3.5"})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:h,className:"text-white hover:bg-white/20 h-8 w-8",children:(0,jr.jsx)(Pp,{className:"w-4 h-4"})}),(0,jr.jsx)(ds,{onClick:u,className:"w-10 h-10 rounded-full bg-white hover:bg-gray-100 text-red-600 shadow-lg",children:n?(0,jr.jsx)(Ep,{className:"w-5 h-5",fill:"currentColor"}):(0,jr.jsx)(Ap,{className:"w-5 h-5 ml-0.5",fill:"currentColor"})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:d,className:"text-white hover:bg-white/20 h-8 w-8",children:(0,jr.jsx)(Op,{className:"w-4 h-4"})}),(0,jr.jsxs)(ds,{variant:"ghost",size:"icon",onClick:g,className:"hover:bg-white/20 h-8 w-8 ".concat("off"!==c?"text-white":"text-white/60"),children:[(0,jr.jsx)(Tp,{className:"w-3.5 h-3.5"}),"one"===c&&(0,jr.jsx)("span",{className:"absolute text-xs font-bold",children:"1"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)("span",{className:"text-xs text-white font-medium w-10 text-right",children:Cr(Math.floor(a))}),(0,jr.jsx)(Sm,{value:[a],max:i||100,step:.1,onValueChange:e=>f(e[0]),className:"flex-1"}),(0,jr.jsx)("span",{className:"text-xs text-white font-medium w-10",children:Cr(Math.floor(i))})]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 w-72 justify-end",children:[(0,jr.jsxs)(ds,{variant:"ghost",onClick:async()=>{if(null!==r&&void 0!==r&&r.audioUrl){Gr({title:"Download Iniciado",description:"Baixando ".concat(r.title,"...")});try{if(r.id){const e=r.albumId||r.album_id||r.albumid;Mr(r.id,e)}const e=await fetch(r.audioUrl),t=await e.blob(),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="".concat(r.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(e){console.error("Download error:",e),Gr({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else Gr({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})},className:"text-white hover:bg-white/20 border border-white/30 px-3 h-8 text-xs",children:[(0,jr.jsx)(Dp,{className:"w-3.5 h-3.5 mr-1.5"}),"BAIXAR"]}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:()=>{j?T(!0):Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para criar uma playlist",variant:"destructive"})},className:"text-white hover:bg-white/20 h-8 w-8",title:"Criar playlist",children:(0,jr.jsx)(Em,{})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:()=>_(!N),className:"text-white hover:bg-white/20 h-8 w-8 ".concat(N?"bg-white/20":""),children:(0,jr.jsx)(Rp,{className:"w-4 h-4"})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:()=>{S?(p(.7),k(!1)):(p(0),k(!0))},className:"text-white hover:bg-white/20 h-8 w-8",children:S||0===s?(0,jr.jsx)(Ip,{className:"w-4 h-4"}):(0,jr.jsx)(Mp,{className:"w-4 h-4"})}),(0,jr.jsx)(Sm,{value:[s],max:1,step:.01,onValueChange:e=>{p(e[0]),k(0===e[0])},className:"w-20"})]})]})})}),N&&(0,jr.jsx)("div",{className:"bg-zinc-900 border-t border-zinc-800",children:(0,jr.jsxs)("div",{className:"max-w-screen-2xl mx-auto",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b border-zinc-800",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-white font-semibold text-sm",children:"Fila de Reprodu\xe7\xe3o"}),(0,jr.jsxs)("p",{className:"text-gray-400 text-xs",children:[v.length," m\xfasicas"]})]}),(0,jr.jsxs)(ds,{variant:"ghost",size:"sm",onClick:()=>{y(),_(!1),Gr({title:"Fila limpa",description:"Todas as m\xfasicas foram removidas da fila"})},className:"text-gray-400 hover:text-white hover:bg-zinc-800 h-8 px-3",children:[(0,jr.jsx)(yp,{className:"w-4 h-4 mr-2"}),"Limpar fila"]})]}),(0,jr.jsx)("div",{className:"overflow-x-auto overflow-y-hidden px-4 py-3",children:(0,jr.jsx)("div",{className:"flex gap-3",children:v.map((e,t)=>(0,jr.jsxs)("div",{onClick:()=>(e=>{x(e,v)})(e),className:"flex-shrink-0 flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-all min-w-[220px] ".concat(r.id===e.id?"bg-red-600/30 ring-1 ring-red-500":"hover:bg-zinc-800"),children:[(0,jr.jsx)("img",{src:e.coverImage||"/images/default-album.png",alt:e.title,className:"w-14 h-14 object-cover rounded",onError:e=>e.target.src="/images/default-album.png"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-white text-sm font-medium truncate",children:z(e.title)}),(0,jr.jsx)("p",{className:"text-gray-400 text-xs truncate",children:e.artistName})]})]},e.id))})})]})}),P&&(0,jr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,jr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,jr.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Criar Playlist"}),(0,jr.jsx)("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-6",children:[(0,jr.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,jr.jsx)("div",{className:"w-40 h-40 bg-red-600 rounded-lg flex items-center justify-center cursor-pointer hover:bg-red-700 transition",children:D.cover?(0,jr.jsx)("img",{src:URL.createObjectURL(D.cover),alt:"Capa",className:"w-full h-full object-cover rounded-lg"}):(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)("div",{className:"text-white text-4xl mb-2",children:"\u266b"}),(0,jr.jsx)("p",{className:"text-white text-sm font-medium",children:"Adicionar capa"})]})}),(0,jr.jsxs)("label",{className:"text-xs text-gray-600 cursor-pointer hover:text-gray-900",children:[(0,jr.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;null!==(t=e.target.files)&&void 0!==t&&t[0]&&R((0,o.A)((0,o.A)({},D),{},{cover:e.target.files[0]}))}}),"Clique para adicionar"]})]}),(0,jr.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"T\xedtulo"}),(0,jr.jsx)("input",{type:"text",value:D.title,onChange:e=>R((0,o.A)((0,o.A)({},D),{},{title:e.target.value})),placeholder:"T\xedtulo da playlist",maxLength:100,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Descri\xe7\xe3o"}),(0,jr.jsx)("textarea",{value:D.description,onChange:e=>R((0,o.A)((0,o.A)({},D),{},{description:e.target.value})),placeholder:"Descreva sua playlist...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600"})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jr.jsx)("label",{className:"text-sm font-medium text-gray-900",children:"Privada?"}),(0,jr.jsx)("button",{onClick:()=>R((0,o.A)((0,o.A)({},D),{},{isPublic:!D.isPublic})),className:"w-12 h-6 rounded-full transition-colors ".concat(D.isPublic?"bg-gray-300":"bg-red-600"),children:(0,jr.jsx)("div",{className:"w-5 h-5 bg-white rounded-full transition-transform ".concat(D.isPublic?"translate-x-0.5":"translate-x-6")})})]})]})]}),(0,jr.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-4 border-t",children:[(0,jr.jsx)("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,jr.jsx)("button",{onClick:async()=>{if(D.title.trim())try{const{data:e}=await br.from("playlists").insert({title:D.title,description:D.description,is_public:D.isPublic,user_id:j.id}).select().single();if(e&&v.length>0){const t=v.map(t=>({playlist_id:e.id,song_id:t.id}));await br.from("playlist_songs").insert(t)}Gr({title:"Sucesso",description:"Playlist criada"}),T(!1),R({title:"",description:"",isPublic:!1,cover:null})}catch(e){Gr({title:"Erro",description:"Erro ao criar playlist",variant:"destructive"})}else Gr({title:"Erro",description:"Digite um t\xedtulo",variant:"destructive"})},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Criar"})]})]})})]})},Om=["asChild"];var Cm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{const n=as("Primitive.".concat(r)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,s=i(e,Om),l=a?n:r;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,jr.jsx)(l,(0,o.A)((0,o.A)({},s),{},{ref:t}))});return a.displayName="Primitive.".concat(r),(0,o.A)((0,o.A)({},e),{},{[r]:a})},{});var Pm=t.forwardRef((e,t)=>(0,jr.jsx)(Cm.label,(0,o.A)((0,o.A)({},e),{},{ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));Pm.displayName="Label";var Tm=Pm;const Dm=["className"],Rm=Qa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Im=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Dm);return(0,jr.jsx)(Tm,(0,o.A)({ref:t,className:So(Rm(),r)},n))});Im.displayName=Tm.displayName;const Mm=["className"],Lm=["className"],zm=["className"],Fm=["className"],Um=["className"],Bm=["className"],qm=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Mm);return(0,jr.jsx)("div",(0,o.A)({ref:t,className:So("rounded-xl border bg-card text-card-foreground shadow",r)},n))});qm.displayName="Card";const Hm=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Lm);return(0,jr.jsx)("div",(0,o.A)({ref:t,className:So("flex flex-col space-y-1.5 p-6",r)},n))});Hm.displayName="CardHeader";const Wm=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,zm);return(0,jr.jsx)("div",(0,o.A)({ref:t,className:So("font-semibold leading-none tracking-tight",r)},n))});Wm.displayName="CardTitle";const Vm=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Fm);return(0,jr.jsx)("div",(0,o.A)({ref:t,className:So("text-sm text-muted-foreground",r)},n))});Vm.displayName="CardDescription";const Km=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Um);return(0,jr.jsx)("div",(0,o.A)({ref:t,className:So("p-6 pt-0",r)},n))});Km.displayName="CardContent";t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Bm);return(0,jr.jsx)("div",(0,o.A)({ref:t,className:So("flex items-center p-6 pt-0",r)},n))}).displayName="CardFooter";const Gm=si("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Ym=si("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),$m=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(!1),{login:s,loginWithGoogle:l}=_r(),c=me();return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,jr.jsxs)("div",{className:"w-full max-w-md",children:[(0,jr.jsxs)("div",{className:"text-center mb-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,jr.jsx)(Gm,{className:"w-12 h-12 text-red-600"}),(0,jr.jsx)("h1",{className:"text-4xl font-bold text-black",children:"RedMusic"})]}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Milhares de m\xfasicas ao seu alcance"})]}),(0,jr.jsxs)(qm,{className:"bg-white border-gray-200 shadow-lg",children:[(0,jr.jsxs)(Hm,{children:[(0,jr.jsx)(Wm,{className:"text-black",children:"Entrar"}),(0,jr.jsx)(Vm,{className:"text-gray-600",children:"Acesse sua conta para continuar"})]}),(0,jr.jsxs)(Km,{children:[(0,jr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n){o(!0);try{var r;const t=await s(e,n);if(t.error)return Gr({title:"Erro",description:t.error.message||"Conta n\xe3o encontrada ou senha incorreta",variant:"destructive"}),void o(!1);Gr({title:"Login realizado!",description:"Bem-vindo de volta!"}),"artist"===(null===(r=t.data)||void 0===r?void 0:r.type)||t.isArtist?c("/artist/settings"):c("/")}catch(a){Gr({title:"Erro",description:"Ocorreu um erro ao fazer login",variant:"destructive"})}o(!1)}else Gr({title:"Erro",description:"Por favor, insira seu email e senha",variant:"destructive"})},className:"space-y-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"email",className:"text-black",children:"E-mail"}),(0,jr.jsx)(Zo,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:e=>r(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"password",className:"text-black",children:"Senha"}),(0,jr.jsx)(Zo,{id:"password",type:"password",placeholder:"Sua senha",value:n,onChange:e=>a(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)(ds,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:i,children:[(0,jr.jsx)(Ym,{className:"w-4 h-4 mr-2"}),i?"Entrando...":"Entrar"]})]}),(0,jr.jsxs)("div",{className:"relative my-6",children:[(0,jr.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,jr.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,jr.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,jr.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Ou"})})]}),(0,jr.jsxs)(ds,{type:"button",onClick:async()=>{try{const e=await l();e.error&&Gr({title:"Erro",description:e.error.message||"Erro ao fazer login com Google",variant:"destructive"})}catch(e){Gr({title:"Erro",description:"Ocorreu um erro ao fazer login com Google",variant:"destructive"})}},className:"w-full bg-white hover:bg-gray-100 text-black border border-gray-300",children:[(0,jr.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,jr.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,jr.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,jr.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,jr.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Fazer Login com o Google"]}),(0,jr.jsxs)("p",{className:"text-center text-gray-600 text-sm mt-6",children:["N\xe3o tem uma conta?"," ",(0,jr.jsx)(yt,{to:"/cadastrar",className:"text-red-600 underline",children:"Cadastre-se"})]})]})]})]})})},Jm=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],Xm=["__scopeTabs","loop"],Zm=["__scopeTabs","value","disabled"],Qm=["__scopeTabs","value","forceMount","children"];var eg="Tabs",[tg,rg]=on(eg,[su]),ng=su(),[ag,ig]=tg(eg),og=t.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:l="horizontal",dir:c,activationMode:u="automatic"}=e,d=i(e,Jm),h=fs(c),[f,p]=Yn({prop:n,onChange:a,defaultProp:null!==s&&void 0!==s?s:"",caller:eg});return(0,jr.jsx)(ag,{scope:r,baseId:Cs(),value:f,onValueChange:p,orientation:l,dir:h,activationMode:u,children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({dir:h,"data-orientation":l},d),{},{ref:t}))})});og.displayName=eg;var sg="TabsList",lg=t.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0}=e,a=i(e,Xm),s=ig(sg,r),l=ng(r);return(0,jr.jsx)(gu,(0,o.A)((0,o.A)({asChild:!0},l),{},{orientation:s.orientation,dir:s.dir,loop:n,children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({role:"tablist","aria-orientation":s.orientation},a),{},{ref:t}))}))});lg.displayName=sg;var cg="TabsTrigger",ug=t.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1}=e,s=i(e,Zm),l=ig(cg,r),c=ng(r),u=fg(l.baseId,n),d=pg(l.baseId,n),h=n===l.value;return(0,jr.jsx)(vu,(0,o.A)((0,o.A)({asChild:!0},c),{},{focusable:!a,active:h,children:(0,jr.jsx)(En.button,(0,o.A)((0,o.A)({type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:u},s),{},{ref:t,onMouseDown:$r(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(n)}),onKeyDown:$r(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(n)}),onFocus:$r(e.onFocus,()=>{const e="manual"!==l.activationMode;h||a||!e||l.onValueChange(n)})}))}))});ug.displayName=cg;var dg="TabsContent",hg=t.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,forceMount:s,children:l}=e,c=i(e,Qm),u=ig(dg,n),d=fg(u.baseId,a),h=pg(u.baseId,a),f=a===u.value,p=t.useRef(f);return t.useEffect(()=>{const e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,jr.jsx)(Vn,{present:s||f,children:t=>{let{present:n}=t;return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!n,id:h,tabIndex:0},c),{},{ref:r,style:(0,o.A)((0,o.A)({},e.style),{},{animationDuration:p.current?"0s":void 0}),children:n&&l}))}})});function fg(e,t){return"".concat(e,"-trigger-").concat(t)}function pg(e,t){return"".concat(e,"-content-").concat(t)}hg.displayName=dg;var mg=lg,gg=ug,vg=hg;const yg=["className"],xg=["className"],bg=["className"],wg=og,jg=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,yg);return(0,jr.jsx)(mg,(0,o.A)({ref:t,className:So("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r)},n))});jg.displayName=mg.displayName;const Ng=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,xg);return(0,jr.jsx)(gg,(0,o.A)({ref:t,className:So("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r)},n))});Ng.displayName=gg.displayName;const _g=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,bg);return(0,jr.jsx)(vg,(0,o.A)({ref:t,className:So("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r)},n))});_g.displayName=vg.displayName;const Sg=["children"],kg=["children"];function Eg(e){const r=Ag(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=i(e,Sg),l=t.Children.toArray(a),c=l.find(Cg);if(c){const e=c.props.children,a=l.map(r=>r===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function Ag(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=i(e,kg);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const r=(0,o.A)({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,o.A)((0,o.A)({},a),i):"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return(0,o.A)((0,o.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(i.ref=r?Xr(r,e):e),t.cloneElement(n,i)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var Og=Symbol("radix.slottable");function Cg(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Og}const Pg=["__scopeDialog"],Tg=["forceMount"],Dg=["__scopeDialog"],Rg=["forceMount"],Ig=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],Mg=["__scopeDialog"],Lg=["__scopeDialog"],zg=["__scopeDialog"];var Fg="Dialog",[Ug,Bg]=on(Fg),[qg,Hg]=Ug(Fg),Wg=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=t.useRef(null),c=t.useRef(null),[u,d]=Yn({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:Fg});return(0,jr.jsx)(qg,{scope:r,triggerRef:l,contentRef:c,contentId:Cs(),titleId:Cs(),descriptionId:Cs(),open:u,onOpenChange:d,onOpenToggle:t.useCallback(()=>d(e=>!e),[d]),modal:s,children:n})};Wg.displayName=Fg;var Vg="DialogTrigger",Kg=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=i(e,Pg),a=Hg(Vg,r),s=Zr(t,a.triggerRef);return(0,jr.jsx)(En.button,(0,o.A)((0,o.A)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":hv(a.open)},n),{},{ref:s,onClick:$r(e.onClick,a.onOpenToggle)}))});Kg.displayName=Vg;var Gg="DialogPortal",[Yg,$g]=Ug(Gg,{forceMount:void 0}),Jg=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:i}=e,o=Hg(Gg,r);return(0,jr.jsx)(Yg,{scope:r,forceMount:n,children:t.Children.map(a,e=>(0,jr.jsx)(Vn,{present:n||o.open,children:(0,jr.jsx)(Wn,{asChild:!0,container:i,children:e})}))})};Jg.displayName=Gg;var Xg="DialogOverlay",Zg=t.forwardRef((e,t)=>{const r=$g(Xg,e.__scopeDialog),{forceMount:n=r.forceMount}=e,a=i(e,Tg),s=Hg(Xg,e.__scopeDialog);return s.modal?(0,jr.jsx)(Vn,{present:n||s.open,children:(0,jr.jsx)(ev,(0,o.A)((0,o.A)({},a),{},{ref:t}))}):null});Zg.displayName=Xg;var Qg=Eg("DialogOverlay.RemoveScroll"),ev=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=i(e,Dg),a=Hg(Xg,r);return(0,jr.jsx)(bd,{as:Qg,allowPinchZoom:!0,shards:[a.contentRef],children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({"data-state":hv(a.open)},n),{},{ref:t,style:(0,o.A)({pointerEvents:"auto"},n.style)}))})}),tv="DialogContent",rv=t.forwardRef((e,t)=>{const r=$g(tv,e.__scopeDialog),{forceMount:n=r.forceMount}=e,a=i(e,Rg),s=Hg(tv,e.__scopeDialog);return(0,jr.jsx)(Vn,{present:n||s.open,children:s.modal?(0,jr.jsx)(nv,(0,o.A)((0,o.A)({},a),{},{ref:t})):(0,jr.jsx)(av,(0,o.A)((0,o.A)({},a),{},{ref:t}))})});rv.displayName=tv;var nv=t.forwardRef((e,r)=>{const n=Hg(tv,e.__scopeDialog),a=t.useRef(null),i=Zr(r,n.contentRef,a);return t.useEffect(()=>{const e=a.current;if(e)return Pu(e)},[]),(0,jr.jsx)(iv,(0,o.A)((0,o.A)({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$r(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:$r(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:$r(e.onFocusOutside,e=>e.preventDefault())}))}),av=t.forwardRef((e,r)=>{const n=Hg(tv,e.__scopeDialog),a=t.useRef(!1),i=t.useRef(!1);return(0,jr.jsx)(iv,(0,o.A)((0,o.A)({},e),{},{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,o;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented)||(a.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());a.current=!1,i.current=!1},onInteractOutside:t=>{var r,o;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),iv=t.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:l}=e,c=i(e,Ig),u=Hg(tv,n),d=t.useRef(null),h=Zr(r,d);return ms(),(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(ws,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:l,children:(0,jr.jsx)(Mn,(0,o.A)((0,o.A)({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":hv(u.open)},c),{},{ref:h,onDismiss:()=>u.onOpenChange(!1)}))}),(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(gv,{titleId:u.titleId}),(0,jr.jsx)(vv,{contentRef:d,descriptionId:u.descriptionId})]})]})}),ov="DialogTitle",sv=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=i(e,Mg),a=Hg(ov,r);return(0,jr.jsx)(En.h2,(0,o.A)((0,o.A)({id:a.titleId},n),{},{ref:t}))});sv.displayName=ov;var lv="DialogDescription",cv=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=i(e,Lg),a=Hg(lv,r);return(0,jr.jsx)(En.p,(0,o.A)((0,o.A)({id:a.descriptionId},n),{},{ref:t}))});cv.displayName=lv;var uv="DialogClose",dv=t.forwardRef((e,t)=>{const{__scopeDialog:r}=e,n=i(e,zg),a=Hg(uv,r);return(0,jr.jsx)(En.button,(0,o.A)((0,o.A)({type:"button"},n),{},{ref:t,onClick:$r(e.onClick,()=>a.onOpenChange(!1))}))});function hv(e){return e?"open":"closed"}dv.displayName=uv;var fv="DialogTitleWarning",[pv,mv]=function(e,r){const n=t.createContext(r),a=e=>{const{children:r}=e,a=i(e,nn),o=t.useMemo(()=>a,Object.values(a));return(0,jr.jsx)(n.Provider,{value:o,children:r})};return a.displayName=e+"Provider",[a,function(a){const i=t.useContext(n);if(i)return i;if(void 0!==r)return r;throw new Error("`".concat(a,"` must be used within `").concat(e,"`"))}]}(fv,{contentName:tv,titleName:ov,docsSlug:"dialog"}),gv=e=>{let{titleId:r}=e;const n=mv(fv),a="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return t.useEffect(()=>{if(r){document.getElementById(r)||console.error(a)}},[a,r]),null},vv=e=>{let{contentRef:r,descriptionId:n}=e;const a=mv("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return t.useEffect(()=>{var e;const t=null===(e=r.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(n&&t){document.getElementById(n)||console.warn(i)}},[i,r,n]),null},yv=Wg,xv=Kg,bv=Jg,wv=Zg,jv=rv,Nv=sv,_v=cv,Sv=dv;const kv=["className"],Ev=["className","children"],Av=["className"],Ov=["className"],Cv=["className"],Pv=["className"],Tv=yv,Dv=bv,Rv=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,kv);return(0,jr.jsx)(wv,(0,o.A)({ref:t,className:So("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n))});Rv.displayName=wv.displayName;const Iv=t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=i(e,Ev);return(0,jr.jsxs)(Dv,{children:[(0,jr.jsx)(Rv,{}),(0,jr.jsxs)(jv,(0,o.A)((0,o.A)({ref:t,className:So("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},a),{},{children:[n,(0,jr.jsxs)(Sv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,jr.jsx)(li,{className:"h-4 w-4"}),(0,jr.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});Iv.displayName=jv.displayName;const Mv=e=>{let{className:t}=e,r=i(e,Av);return(0,jr.jsx)("div",(0,o.A)({className:So("flex flex-col space-y-1.5 text-center sm:text-left",t)},r))};Mv.displayName="DialogHeader";const Lv=e=>{let{className:t}=e,r=i(e,Ov);return(0,jr.jsx)("div",(0,o.A)({className:So("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},r))};Lv.displayName="DialogFooter";const zv=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Cv);return(0,jr.jsx)(Nv,(0,o.A)({ref:t,className:So("text-lg font-semibold leading-none tracking-tight",r)},n))});zv.displayName=Nv.displayName;const Fv=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Pv);return(0,jr.jsx)(_v,(0,o.A)({ref:t,className:So("text-sm text-muted-foreground",r)},n))});Fv.displayName=_v.displayName;const Uv=()=>{const[e,r]=(0,t.useState)("user"),n=me(),{loginWithGoogle:a}=_r(),[i,o]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(""),[N,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[E,A]=(0,t.useState)(""),[O,C]=(0,t.useState)(""),[P,T]=(0,t.useState)(""),[D,R]=(0,t.useState)(""),[I,M]=(0,t.useState)(""),[L,z]=(0,t.useState)(""),[F,U]=(0,t.useState)(!1),[B,q]=(0,t.useState)(!1),H=e=>e?e.toString().normalize("NFKD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u0898-\u089F\u08C9-\u08D2\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C3C\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u1714\u1715\u1734\u17C9-\u17D3\u17DD\u1939-\u193B\u1A60\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABE\u1AC1-\u1ACB\u1ACF-\u1ADD\u1AE0-\u1AEB\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1BE6\u1BF2\u1BF3\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1D9B-\u1DBE\u1DC4-\u1DCF\u1DF5-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F1\uA7F8\uA7F9\uA806\uA82C\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDD4E\uDD69-\uDD6D\uDEFA\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC46\uDC70\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3B\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74\uDFCE-\uDFD0\uDFD2\uDFD3\uDFE1\uDFE2]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97\uDDD9\uDF41\uDF42\uDF5A]|\uD80D[\uDC47-\uDC55]|\uD818\uDD2F|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDD6B\uDD6C\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDC30-\uDC6D\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/[\s_-]+/g,"").replace(/^-+|-+$/g,""):"",[W,V]=(0,t.useState)(!1),[K,G]=(0,t.useState)(!1),[Y,$]=(0,t.useState)("user"),J=e=>{$(e),V(!0)};return(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,jr.jsxs)("div",{className:"w-full max-w-md",children:[(0,jr.jsxs)("div",{className:"text-center mb-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,jr.jsx)(Gm,{className:"w-12 h-12 text-red-600"}),(0,jr.jsx)("h1",{className:"text-4xl font-bold text-black",children:"RedMusic"})]}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Milhares de m\xfasicas ao seu alcance"})]}),(0,jr.jsxs)(qm,{className:"bg-white border-gray-200 shadow-lg",children:[(0,jr.jsxs)(Hm,{children:[(0,jr.jsx)(Wm,{className:"text-black",children:"Cadastrar"}),(0,jr.jsx)(Vm,{className:"text-gray-600",children:"Crie sua conta para acessar a plataforma"})]}),(0,jr.jsxs)(Km,{children:[(0,jr.jsxs)(wg,{value:e,onValueChange:r,className:"w-full",children:[(0,jr.jsxs)(jg,{className:"grid w-full grid-cols-2 bg-gray-100",children:[(0,jr.jsx)(Ng,{value:"user",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white",children:"Usu\xe1rio"}),(0,jr.jsx)(Ng,{value:"artist",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white",children:"Artista"})]}),(0,jr.jsx)(_g,{value:"user",className:"space-y-4 mt-4",children:(0,jr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v){if(!x){b(!0),Gr({title:"Processando cadastro...",description:"Aguarde um momento"});try{const{data:e,error:t}=await br.auth.signUp({email:s,password:c,options:{data:{full_name:i,user_type:"user",cidade:d,estado:f,genero:m}}});if(t)return b(!1),void Gr({title:"Erro no cadastro",description:t.message,variant:"destructive"});G(!0),b(!1)}catch(t){console.error("Erro no cadastro:",t),b(!1),Gr({title:"Erro no cadastro",description:(null===t||void 0===t?void 0:t.message)||"Ocorreu um erro inesperado.",variant:"destructive"})}}}else Gr({title:"Voc\xea precisa aceitar os termos de uso para se cadastrar.",variant:"destructive"})},className:"space-y-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"userName",className:"text-black",children:"Nome"}),(0,jr.jsx)(Zo,{id:"userName",type:"text",placeholder:"Seu nome",value:i,onChange:e=>o(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"userEmail",className:"text-black",children:"E-mail"}),(0,jr.jsx)(Zo,{id:"userEmail",type:"email",placeholder:"seu@email.com",value:s,onChange:e=>l(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"userPassword",className:"text-black",children:"Senha"}),(0,jr.jsx)(Zo,{id:"userPassword",type:"password",placeholder:"Sua senha",value:c,onChange:e=>u(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"userCidade",className:"text-black",children:"Cidade"}),(0,jr.jsx)(Zo,{id:"userCidade",type:"text",placeholder:"Sua cidade",value:d,onChange:e=>h(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"userEstado",className:"text-black",children:"Estado"}),(0,jr.jsx)(Zo,{id:"userEstado",type:"text",placeholder:"Seu estado",value:f,onChange:e=>p(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"userGenero",className:"text-black",children:"G\xeanero"}),(0,jr.jsxs)("select",{id:"userGenero",value:m,onChange:e=>g(e.target.value),className:"w-full bg-white border border-gray-300 rounded px-3 py-2 text-black",required:!0,children:[(0,jr.jsx)("option",{value:"",children:"Selecione"}),(0,jr.jsx)("option",{value:"masculino",children:"Masculino"}),(0,jr.jsx)("option",{value:"feminino",children:"Feminino"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,jr.jsx)("input",{type:"checkbox",id:"userAcceptTerms",checked:v,readOnly:!0,required:!0}),(0,jr.jsxs)("label",{htmlFor:"userAcceptTerms",className:"text-black",children:["Li e aceito os"," ",(0,jr.jsx)("span",{className:"text-red-600 underline cursor-pointer",onClick:()=>J("user"),children:"termos de uso"})]})]}),(0,jr.jsx)(ds,{className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded shadow disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",disabled:x,children:x?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processando..."]}):"Cadastrar"})]})}),(0,jr.jsx)(_g,{value:"artist",className:"space-y-4 mt-4",children:(0,jr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!F)return void Gr({title:"Voc\xea precisa aceitar os termos de uso para se cadastrar.",variant:"destructive"});if(!N)return void Gr({title:"Erro",description:"O nome do artista \xe9 obrigat\xf3rio.",variant:"destructive"});if(B)return;q(!0),Gr({title:"Processando cadastro...",description:"Aguarde um momento"});const t=await(async e=>{if(!e)return!1;const{data:t,error:r}=await br.from("artists").select("id").eq("slug",e).single();return!t})(N);if(!t)return k("Este nome j\xe1 est\xe1 em uso. Escolha outro nome."),q(!1),void Gr({title:"Nome indispon\xedvel",description:"Este nome de artista j\xe1 est\xe1 em uso. Por favor, escolha outro.",variant:"destructive"});try{var r;const{data:e,error:t}=await br.auth.signUp({email:E,password:O,options:{data:{full_name:w,user_type:"artist",slug:N,cidade:P,estado:D,genero:I,estilo_musical:L}}});if(t)return q(!1),void Gr({title:"Erro no cadastro",description:t.message,variant:"destructive"});if(null!==e&&void 0!==e&&null!==(r=e.user)&&void 0!==r&&r.id){const{error:t}=await br.from("artists").insert({id:e.user.id,name:w,slug:N,email:E,cidade:P,estado:D,genero:I,estilo_musical:L,bio:"",avatar_url:"",cover_url:"",followers_count:0,is_verified:!1});t?(console.error("Erro ao criar perfil:",t),console.error("Detalhes:",JSON.stringify(t,null,2))):console.log("Perfil do artista criado com sucesso!")}G(!0),q(!1)}catch(n){console.error("Erro no cadastro:",n),q(!1),Gr({title:"Erro no cadastro",description:(null===n||void 0===n?void 0:n.message)||"Ocorreu um erro inesperado.",variant:"destructive"})}},className:"space-y-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"artistName",className:"text-black",children:"Nome (Artista/Banda)"}),(0,jr.jsx)(Zo,{id:"artistName",type:"text",placeholder:"Nome do artista ou banda",value:w,onChange:e=>(e=>{j(e);const t=H(e);_(t),k("")})(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"artistSlug",className:"text-black",children:"URL do Perfil"}),(0,jr.jsxs)("div",{className:"flex items-center",children:[(0,jr.jsxs)("span",{className:"text-gray-500 text-sm mr-1",children:[window.location.origin,"/"]}),(0,jr.jsx)(Zo,{id:"artistSlug",type:"text",placeholder:"seuartista",value:N,onChange:e=>{_(H(e.target.value)),k("")},className:"bg-white border-gray-300 text-black flex-1 ".concat(S?"border-red-500":""),required:!0})]}),S&&(0,jr.jsx)("p",{className:"text-red-500 text-xs mt-1",children:S}),N&&!S&&(0,jr.jsxs)("p",{className:"text-green-600 text-xs mt-1",children:["Seu perfil ficar\xe1 em: ",window.location.origin,"/",N]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"artistEmail",className:"text-black",children:"E-mail"}),(0,jr.jsx)(Zo,{id:"artistEmail",type:"email",placeholder:"seu@email.com",value:E,onChange:e=>A(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"artistPassword",className:"text-black",children:"Senha"}),(0,jr.jsx)(Zo,{id:"artistPassword",type:"password",placeholder:"Sua senha",value:O,onChange:e=>C(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"artistCidade",className:"text-black",children:"Cidade"}),(0,jr.jsx)(Zo,{id:"artistCidade",type:"text",placeholder:"Sua cidade",value:P,onChange:e=>T(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"artistEstado",className:"text-black",children:"Estado"}),(0,jr.jsx)(Zo,{id:"artistEstado",type:"text",placeholder:"Seu estado",value:D,onChange:e=>R(e.target.value),className:"bg-white border-gray-300 text-black",required:!0})]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"artistGenero",className:"text-black",children:"G\xeanero"}),(0,jr.jsxs)("select",{id:"artistGenero",value:I,onChange:e=>M(e.target.value),className:"w-full bg-white border border-gray-300 rounded px-3 py-2 text-black",required:!0,children:[(0,jr.jsx)("option",{value:"",children:"Selecione"}),(0,jr.jsx)("option",{value:"masculino",children:"Masculino"}),(0,jr.jsx)("option",{value:"feminino",children:"Feminino"})]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"artistEstiloMusical",className:"text-black",children:"Estilo Musical"}),(0,jr.jsxs)("select",{id:"artistEstiloMusical",value:L,onChange:e=>z(e.target.value),className:"w-full bg-white border border-gray-300 rounded px-3 py-2 text-black",required:!0,children:[(0,jr.jsx)("option",{value:"",children:"Selecione"}),(0,jr.jsx)("option",{value:"forro",children:"Forr\xf3"}),(0,jr.jsx)("option",{value:"arrocha",children:"Arrocha"}),(0,jr.jsx)("option",{value:"piseiro",children:"Piseiro"}),(0,jr.jsx)("option",{value:"arrochadeira",children:"Arrochadeira"}),(0,jr.jsx)("option",{value:"pagode",children:"Pagode"}),(0,jr.jsx)("option",{value:"sertanejo",children:"Sertanejo"}),(0,jr.jsx)("option",{value:"brega-funk",children:"Brega Funk"}),(0,jr.jsx)("option",{value:"variados",children:"Variados"}),(0,jr.jsx)("option",{value:"samba",children:"Samba"}),(0,jr.jsx)("option",{value:"funk",children:"Funk"}),(0,jr.jsx)("option",{value:"axe",children:"Ax\xe9"}),(0,jr.jsx)("option",{value:"reggae",children:"Reggae"}),(0,jr.jsx)("option",{value:"brega",children:"Brega"}),(0,jr.jsx)("option",{value:"gospel",children:"Gospel"}),(0,jr.jsx)("option",{value:"rap",children:"Rap/Hip-Hop"}),(0,jr.jsx)("option",{value:"pop",children:"Pop"}),(0,jr.jsx)("option",{value:"mpb",children:"MPB"}),(0,jr.jsx)("option",{value:"rock",children:"Rock"}),(0,jr.jsx)("option",{value:"eletronica",children:"Eletr\xf4nica"}),(0,jr.jsx)("option",{value:"podcast",children:"Podcast"}),(0,jr.jsx)("option",{value:"trap",children:"Trap"}),(0,jr.jsx)("option",{value:"frevo",children:"Frevo"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,jr.jsx)("input",{type:"checkbox",id:"artistAcceptTerms",checked:F,readOnly:!0,required:!0}),(0,jr.jsxs)("label",{htmlFor:"artistAcceptTerms",className:"text-black",children:["Li e aceito os"," ",(0,jr.jsx)("span",{className:"text-red-600 underline cursor-pointer",onClick:()=>J("artist"),children:"termos de uso"})]})]}),(0,jr.jsx)(ds,{className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded shadow disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",disabled:B,children:B?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processando..."]}):"Cadastrar"})]})})]}),(0,jr.jsxs)("div",{className:"relative my-6",children:[(0,jr.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,jr.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,jr.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,jr.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Ou"})})]}),(0,jr.jsxs)(ds,{type:"button",onClick:()=>{a(e),Gr({title:"Login realizado!",description:"Bem-vindo!"}),n("/")},className:"w-full bg-white hover:bg-gray-100 text-black border border-gray-300",children:[(0,jr.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,jr.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,jr.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,jr.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,jr.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Fazer Login com o Google"]}),(0,jr.jsxs)("p",{className:"text-center text-gray-600 text-sm mt-6",children:["J\xe1 tem uma conta?"," ",(0,jr.jsx)(yt,{to:"/login",className:"text-red-600 underline",children:"Fazer login"})]})]})]})]})}),W&&(0,jr.jsx)(Tv,{open:W,onOpenChange:V,children:(0,jr.jsxs)(Iv,{style:{maxWidth:600,padding:0},children:[(0,jr.jsx)(zv,{style:{padding:"24px 24px 0 24px",fontWeight:700,fontSize:20},children:"Termos de Uso"}),(0,jr.jsxs)(Fv,{children:[(0,jr.jsx)("div",{style:{maxHeight:"50vh",overflowY:"auto",textAlign:"left",fontSize:13,whiteSpace:"pre-wrap",padding:24},children:'Termos de uso\n\nEste documento, de agora em diante chamado simplesmente de "Termos de Uso", concentra as regras e condi\xe7\xf5es mais importantes que voc\xea precisa conhecer se quiser utilizar os sites www.cifraclub.com.br (Cifra Club), www.palcomp3.com (Palco MP3), www.forum.cifraclub.com.br (F\xf3rum Cifra Club), www.guitarbattle.com.br (Guitar Battle) e www.formesuabanda.com.br (Forme Sua Banda) todos de propriedade da STUDIO SOL COMUNICA\xc7\xc3O DIGITAL LTDA, chamada de "Studio Sol" daqui em diante. Esse documento \xe9 complementado pelas diretrizes previstas em nossa Pol\xedtica de Privacidade para tratamento dos dados.\n\nATEN\xc7\xc3O:\n\nO simples acesso a qualquer dos nossos sites gera a presun\xe7\xe3o de que voc\xea leu a vers\xe3o mais recente e atualizada dos Termos de Uso. Al\xe9m disso, n\xf3s consideraremos que voc\xea concordou com todas as condi\xe7\xf5es aqui indicadas e tamb\xe9m com todas as outras pol\xedticas publicadas em qualquer desses sites. Por essa raz\xe3o, recomendamos que voc\xea leia com aten\xe7\xe3o este documento ANTES de come\xe7ar a usar algum dos nossos sites ou baixar nossos aplicativos. Recomendamos, tamb\xe9m, a leitura de todas as outras pol\xedticas que adotamos, como, por exemplo, a nossa Pol\xedtica de Privacidade. Se voc\xea por acaso n\xe3o concordar com alguma condi\xe7\xe3o prevista nos Termos de Uso ou se n\xe3o concordar com alguma de nossas pol\xedticas, sugerimos que n\xe3o acesse os nossos sites e que n\xe3o utilize os nossos servi\xe7os e produtos. Mas, claro, se simplesmente tiver alguma d\xfavida sobre as regras de uso, fique \xe0 vontade para nos consultar. Teremos prazer em lhe responder!'}),(0,jr.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:24},children:(0,jr.jsx)("button",{type:"button",style:{background:"#dc2626",color:"#fff",border:"none",borderRadius:6,padding:"12px 48px",fontWeight:700,fontSize:16,cursor:"pointer"},onClick:()=>{"user"===Y?y(!0):U(!0),V(!1)},children:"Concordo"})})]})]})}),K&&(0,jr.jsx)(Tv,{open:K,onOpenChange:G,children:(0,jr.jsx)(Iv,{className:"text-center",children:(0,jr.jsxs)("div",{className:"flex flex-col items-center justify-center py-4",children:[(0,jr.jsx)("div",{className:"text-green-500 text-6xl mb-4",children:"\u2713"}),(0,jr.jsx)(zv,{className:"text-xl font-bold text-black mb-4",children:"Cadastro realizado com sucesso!"}),(0,jr.jsx)(Fv,{className:"text-gray-600 text-center",children:"Enviamos um e-mail de confirma\xe7\xe3o. Por favor, verifique sua caixa de entrada para confirmar o cadastro."}),(0,jr.jsx)(ds,{onClick:()=>{G(!1),n("/")},className:"mt-6 bg-gray-200 hover:bg-gray-300 text-black px-8",children:"OK"})]})})})]})},Bv=si("disc-3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]]),qv=si("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Hv=si("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Wv=si("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Vv=si("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Kv=si("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),Gv=()=>{const e=me(),[r,n]=(0,t.useState)(0),[a,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=async()=>{try{const{data:e,error:t}=await br.from("slides").select("*").order("order_index",{ascending:!0});if(t)return console.error("\u274c Erro ao buscar slides:",t),void s(!1);if(console.log("\u2705 Slides carregados:",e),e&&e.length>0){const t=e.filter(e=>!0===e.active);console.log("\ud83c\udfac Slides ativos:",t);const r=t.map(e=>({id:e.id,image:e.image_url,title:e.title,link:e.link}));console.log("\ud83d\udccb Slides formatados:",r),i(r)}s(!1)}catch(kX){console.error("\u274c Erro ao carregar slides:",kX),s(!1)}};e();const t=setInterval(()=>{console.log("\ud83d\udd04 Recarregando slides via polling..."),e()},2e3);return()=>{clearInterval(t)}},[]),(0,t.useEffect)(()=>{const e=setInterval(()=>{n(e=>(e+1)%a.length)},5e3);return()=>clearInterval(e)},[a.length]);const l=e=>{n(e)};return o?(0,jr.jsx)("div",{className:"relative w-full h-[400px] bg-gray-100 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-pulse text-gray-400",children:"Carregando..."})}):0===a.length?null:(0,jr.jsx)("div",{className:"relative w-full",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,jr.jsxs)("div",{className:"flex gap-2 p-2",children:[(0,jr.jsxs)("div",{className:"relative flex-1 h-[400px] overflow-hidden rounded-lg group",children:[a.map((t,n)=>(0,jr.jsx)("div",{onClick:()=>t.link&&e(t.link),className:"absolute inset-0 transition-opacity duration-700 ".concat(n===r?"opacity-100 z-10":"opacity-0 z-0"," ").concat(t.link?"cursor-pointer":""),children:(0,jr.jsx)("img",{src:t.image,alt:t.title||"Slide ".concat(n+1),className:"w-full h-full object-cover"})},t.id)),(0,jr.jsx)("button",{onClick:e=>{e.stopPropagation(),n(e=>(e-1+a.length)%a.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-black/40 hover:bg-black/60 rounded flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:(0,jr.jsx)(qv,{className:"w-5 h-5 text-white"})}),(0,jr.jsx)("button",{onClick:e=>{e.stopPropagation(),n(e=>(e+1)%a.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-black/40 hover:bg-black/60 rounded flex items-center justify-center transition-all opacity-0 group-hover:opacity-100",children:(0,jr.jsx)(ep,{className:"w-5 h-5 text-white"})}),(0,jr.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex space-x-2",children:a.map((e,t)=>(0,jr.jsx)("button",{onClick:()=>l(t),className:"h-2 rounded-full transition-all ".concat(t===r?"bg-red-600 w-8":"bg-white/50 w-2")},t))})]}),(0,jr.jsx)("div",{className:"hidden lg:flex flex-col gap-2 w-48",children:a.slice(0,4).map((e,t)=>(0,jr.jsx)("button",{onClick:()=>l(t),className:"relative h-[95px] overflow-hidden rounded-lg transition-all ".concat(t===r?"ring-2 ring-red-600 opacity-100":"opacity-70 hover:opacity-100"),children:(0,jr.jsx)("img",{src:e.image,alt:"Thumbnail ".concat(t+1),className:"w-full h-full object-cover"})},e.id))})]})})})},Yv=()=>{const[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=setTimeout(()=>{s()},500);return()=>clearTimeout(e)},[]);const s=async()=>{try{const{data:e}=await br.from("homepage_popup").select("*").eq("active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(e){r(e);const t="popup-".concat(e.id,"-seen");sessionStorage.getItem(t)||(a(!0),requestAnimationFrame(()=>o(!0)),sessionStorage.setItem(t,"true"))}}catch(e){console.log("Erro ao carregar popup:",e)}};return n&&e?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("style",{children:"\n        @keyframes popupFadeIn {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n\n        @keyframes popupScaleIn {\n          from {\n            transform: scale(0.9) translateY(-20px);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1) translateY(0);\n            opacity: 1;\n          }\n        }\n\n        @keyframes popupFadeOut {\n          from {\n            opacity: 1;\n          }\n          to {\n            opacity: 0;\n          }\n        }\n\n        @keyframes popupScaleOut {\n          from {\n            transform: scale(1) translateY(0);\n            opacity: 1;\n          }\n          to {\n            transform: scale(0.9) translateY(-20px);\n            opacity: 0;\n          }\n        }\n\n        .popup-overlay {\n          animation: ".concat(i?"popupFadeIn":"popupFadeOut"," 0.3s ease-out forwards;\n        }\n\n        .popup-content {\n          animation: ").concat(i?"popupScaleIn":"popupScaleOut"," 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;\n        }\n      ")}),(0,jr.jsx)("div",{className:"popup-overlay fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4 -mt-16",children:(0,jr.jsxs)("div",{className:"popup-content relative max-w-3xl w-full",children:[(0,jr.jsx)("button",{onClick:()=>{o(!1),setTimeout(()=>a(!1),300)},className:"absolute top-4 right-4 z-10 bg-red-600 rounded-full p-2 shadow-lg hover:bg-red-700 transition",children:(0,jr.jsx)(li,{className:"w-6 h-6 text-white"})}),(0,jr.jsx)("div",{className:"bg-white rounded-lg overflow-hidden shadow-2xl ".concat(e.link_url?"cursor-pointer hover:shadow-3xl transition-shadow":""),onClick:()=>{null!==e&&void 0!==e&&e.link_url&&(e.link_url.startsWith("http")?window.open(e.link_url,"_blank"):window.location.href=e.link_url)},children:(0,jr.jsx)("img",{src:e.image_url,alt:"Popup promocional",className:"w-full h-auto object-cover"})})]})})]}):null},$v=()=>{const{playSong:e}=zr(),{user:r}=_r(),n=(0,t.useRef)(null),a=(0,t.useRef)(null),i=(0,t.useRef)(null),[s,l]=(0,t.useState)("mes"),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(new Set),[v,y]=(0,t.useState)([]),x=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";(0,t.useEffect)(()=>{const e=async()=>{const{data:e,error:t}=await br.from("albums").select("\n          *,\n          artist:artists(id, name, slug, is_verified)\n        ").order("created_at",{ascending:!1});if(t&&console.error("Erro ao buscar \xe1lbuns:",t),e&&e.length>0){const t=e.filter(e=>!0!==e.is_private&&(null===e.deleted_at||void 0===e.deleted_at)),{data:r}=await br.from("collaboration_invites").select("album_id, invited_user_id").eq("status","accepted"),n={};if(r&&r.length>0){const e=[...new Set(r.map(e=>e.invited_user_id))],{data:t}=await br.from("artists").select("id, name, slug, is_verified").in("id",e);if(t){const e={};t.forEach(t=>{e[t.id]=t}),r.forEach(t=>{e[t.invited_user_id]&&(n[t.album_id]||(n[t.album_id]=[]),n[t.album_id].push(e[t.invited_user_id]))})}}const a=t.map(e=>{var t,r,a;const i=n[e.id]||[];return{id:e.id,slug:e.slug,title:e.title,artistName:(null===(t=e.artist)||void 0===t?void 0:t.name)||e.artist_name,artistId:e.artist_id,artistSlug:(null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id,artistVerified:(null===(a=e.artist)||void 0===a?void 0:a.is_verified)||!1,collaborators:i,coverImage:e.cover_url||"/images/default-album.png",releaseYear:e.release_year,playCount:e.play_count||0,downloadCount:e.download_count||0}});if(u(a),a.length>0){const e=[...a].sort(()=>Math.random()-.5);y(e.slice(0,6))}}const{data:n}=await br.from("artists").select("*").order("followers_count",{ascending:!1}).limit(20);if(n&&n.length>0){const e=new Date;e.setHours(0,0,0,0);const t=e.toISOString(),a=(new Date).toISOString(),{data:i}=await br.from("plays").select("artist_id",{count:"exact"}).gte("created_at",t).lte("created_at",a),o={};(i||[]).forEach(e=>{o[e.artist_id]=(o[e.artist_id]||0)+1});const s=n.sort((e,t)=>{const r=o[e.id]||0,n=o[t.id]||0;return r!==n?n-r:(t.followers_count||0)-(e.followers_count||0)}),l=s.map(e=>({id:e.id,slug:e.slug,name:e.name,avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",verified:e.is_verified,bio:e.bio}));if(h(l),null!==r&&void 0!==r&&r.id){const{data:e}=await br.from("follows").select("artist_id").eq("follower_id",r.id);e&&g(new Set(e.map(e=>e.artist_id)))}}};e();const t=br.channel("albums_channel").on("postgres_changes",{event:"*",schema:"public",table:"albums"},()=>{e()}).subscribe();return()=>{t.unsubscribe()}},[]),(0,t.useEffect)(()=>{b()},[s,c]);const b=async()=>{try{if(0===c.length)return;if("geral"===s){const e=[...c].sort((e,t)=>t.playCount-e.playCount);return void p(e)}const e=new Date;let t;"dia"===s?(t=new Date(e),t.setHours(0,0,0,0),console.log("\u23f0 DIA ATUAL: ".concat(t.toLocaleString("pt-BR")))):"semana"===s?t=new Date(e.getTime()-6048e5):"mes"===s&&(t=new Date(e.getTime()-2592e6));const{data:r,error:n}=await br.from("plays").select("album_id").gte("created_at",t.toISOString()).lte("created_at",e.toISOString());if(n)throw n;const a={};(r||[]).forEach(e=>{a[e.album_id]=(a[e.album_id]||0)+1});const i=c.filter(e=>a[e.id]>0).map(e=>(0,o.A)((0,o.A)({},e),{},{period_play_count:a[e.id]||0})).sort((e,t)=>t.period_play_count-e.period_play_count);p(i)}catch(e){console.error("\u274c Erro ao carregar TOP CDS:",e),p([])}},w=(e,t)=>{if(e.current){const r="left"===t?-800:800;e.current.scrollBy({left:r,behavior:"smooth"})}};return(0,jr.jsxs)("div",{className:"flex-1 overflow-y-auto bg-white",children:[(0,jr.jsx)(Yv,{}),(0,jr.jsx)(Gv,{}),(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,jr.jsxs)("section",{className:"mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Bv,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Lan\xe7amentos Recentes"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(yt,{to:"/lancamentos",className:"text-red-600 hover:text-red-500 font-bold text-sm",children:"VER TODOS"}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)(ds,{onClick:()=>w(n,"left"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(qv,{className:"w-4 h-4"})}),(0,jr.jsx)(ds,{onClick:()=>w(n,"right"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(ep,{className:"w-4 h-4"})})]})]})]}),(0,jr.jsx)("div",{ref:n,className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===c.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum lan\xe7amento dispon\xedvel no momento."}):c.map(e=>(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(yt,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 text-xs mb-2 flex-wrap",children:[(0,jr.jsxs)(yt,{to:"/".concat(e.artistSlug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,jr.jsx)("span",{children:e.artistName}),e.artistVerified&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),e.collaborators&&e.collaborators.length>0&&(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("span",{children:"&"}),e.collaborators.map((e,t)=>(0,jr.jsxs)(yt,{to:"/".concat(e.slug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,jr.jsx)("span",{children:e.name}),e.is_verified&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]},e.id))]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:x(e.period_play_count||e.playCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:x(e.downloadCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))})]}),(0,jr.jsxs)("section",{className:"mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Wv,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"TOP CDS"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-sm ml-4",children:[(0,jr.jsx)("button",{onClick:()=>l("dia"),className:"font-bold pb-1 transition-colors ".concat("dia"===s?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-red-600"),children:"DIA"}),(0,jr.jsx)("span",{className:"text-gray-400",children:"/"}),(0,jr.jsx)("button",{onClick:()=>l("semana"),className:"font-medium transition-colors ".concat("semana"===s?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"SEMANA"}),(0,jr.jsx)("span",{className:"text-gray-400",children:"/"}),(0,jr.jsx)("button",{onClick:()=>l("mes"),className:"font-medium transition-colors ".concat("mes"===s?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"M\xcaS"}),(0,jr.jsx)("span",{className:"text-gray-400",children:"/"}),(0,jr.jsx)("button",{onClick:()=>l("geral"),className:"font-medium transition-colors ".concat("geral"===s?"text-red-600 border-b-2 border-red-600 pb-1":"text-gray-600 hover:text-red-600"),children:"GERAL"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(yt,{to:"/top-cds",className:"text-red-600 hover:text-red-500 font-bold text-sm",children:"VER TODOS"}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)(ds,{onClick:()=>w(a,"left"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(qv,{className:"w-4 h-4"})}),(0,jr.jsx)(ds,{onClick:()=>w(a,"right"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(ep,{className:"w-4 h-4"})})]})]})]}),(0,jr.jsx)("div",{ref:a,className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===f.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum CD dispon\xedvel para este per\xedodo."}):f.map((e,t)=>(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(yt,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-red-600 text-white font-bold text-lg w-10 h-10 flex items-center justify-center rounded shadow-lg",children:t+1}),(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 text-xs mb-2 flex-wrap",children:[(0,jr.jsxs)(yt,{to:"/".concat(e.artistSlug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,jr.jsx)("span",{children:e.artistName}),e.artistVerified&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),e.collaborators&&e.collaborators.length>0&&(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("span",{children:"&"}),e.collaborators.map((e,t)=>(0,jr.jsxs)(yt,{to:"/".concat(e.slug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,jr.jsx)("span",{children:e.name}),e.is_verified&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]},e.id))]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:x(e.period_play_count||e.playCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:x(e.downloadCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},"".concat(e.id,"-").concat(s)))})]}),(0,jr.jsxs)("section",{className:"mb-16",children:[(0,jr.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Vo,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Artistas em Destaque"})]})}),(0,jr.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-6",children:0===d.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum artista dispon\xedvel no momento."}):d.map(e=>(0,jr.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,jr.jsx)(yt,{to:"/".concat(e.slug||e.id),className:"group cursor-pointer mb-1",children:(0,jr.jsx)("div",{className:"relative inline-block",children:(0,jr.jsx)("img",{src:e.avatar,alt:e.name,className:"w-28 h-28 rounded-full object-cover transform group-hover:scale-110 transition-transform duration-300 shadow-lg group-hover:ring-2 group-hover:ring-red-600"})})}),(0,jr.jsxs)(yt,{to:"/".concat(e.slug||e.id),className:"flex items-center gap-1 justify-center text-black font-semibold text-sm mb-1 hover:text-red-600 transition-colors w-full",children:[(0,jr.jsx)("span",{className:"truncate",children:e.name}),e.verified&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,jr.jsx)("button",{onClick:t=>(async(e,t)=>{if(t.preventDefault(),null!==r&&void 0!==r&&r.id)try{if(m.has(e)){await br.from("follows").delete().eq("follower_id",r.id).eq("artist_id",e);const t=new Set(m);t.delete(e),g(t),Gr({title:"Sucesso",description:"Deixou de seguir o artista"})}else{await br.from("follows").insert([{follower_id:r.id,artist_id:e}]);const t=new Set(m);t.add(e),g(t),Gr({title:"Sucesso",description:"Agora voc\xea segue este artista"})}}catch(n){console.error("Erro ao seguir/deixar de seguir:",n),Gr({title:"Erro",description:"Ocorreu um erro ao seguir o artista",variant:"destructive"})}else Gr({title:"Erro",description:"Fa\xe7a login para seguir artistas",variant:"destructive"})})(e.id,t),className:"inline-flex items-center justify-center gap-1.5 whitespace-nowrap text-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 shadow py-2 px-5 h-10 rounded-full font-semibold ".concat(m.has(e.id)?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-red-600 text-white hover:bg-red-700"),children:m.has(e.id)?"DEIXAR DE SEGUIR":(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(Vv,{className:"w-3.5 h-3.5"}),"SEGUIR"]})})]},e.id))})]}),(0,jr.jsxs)("section",{className:"mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,jr.jsx)(Kv,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Ou\xe7a Aqui Recomenda!"})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===v.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum \xe1lbum dispon\xedvel no momento."}):v.map(e=>(0,jr.jsxs)("div",{className:"flex-shrink-0",children:[(0,jr.jsxs)(yt,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 text-xs mb-2 flex-wrap",children:[(0,jr.jsxs)(yt,{to:"/".concat(e.artistSlug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,jr.jsx)("span",{children:e.artistName}),e.artistVerified&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),e.collaborators&&e.collaborators.length>0&&(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("span",{children:"&"}),e.collaborators.map(e=>(0,jr.jsxs)(yt,{to:"/".concat(e.slug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,jr.jsx)("span",{children:e.name}),e.is_verified&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]},e.id))]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:x(e.playCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:x(e.downloadCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))})]}),(0,jr.jsxs)("section",{className:"mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Gm,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"G\xeaneros"})]}),(0,jr.jsx)("div",{className:"flex items-center gap-3",children:(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)(ds,{onClick:()=>w(i,"left"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(qv,{className:"w-4 h-4"})}),(0,jr.jsx)(ds,{onClick:()=>w(i,"right"),size:"icon",variant:"outline",className:"w-8 h-8 border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:(0,jr.jsx)(ep,{className:"w-4 h-4"})})]})})]}),(0,jr.jsx)("div",{ref:i,className:"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[{name:"Forr\xf3",slug:"forro",imageUrl:"/images/slides/GENEROS/forr\xf3.jpg"},{name:"Arrocha",slug:"arrocha",imageUrl:"/images/slides/GENEROS/ARROCHA.jpg"},{name:"Piseiro",slug:"piseiro",imageUrl:"/images/slides/GENEROS/PISEIRO.jpg"},{name:"Arrochadeira",slug:"arrochadeira",imageUrl:"/images/slides/GENEROS/ARROCHADEIRA.jpg"},{name:"Pagode",slug:"pagode",imageUrl:"/images/slides/GENEROS/PAGODE.jpg"},{name:"Sertanejo",slug:"sertanejo",imageUrl:"/images/slides/GENEROS/SERTANEJO.jpg"},{name:"Brega Funk",slug:"brega-funk",imageUrl:"/images/slides/GENEROS/BREGAFUNK.jpg"},{name:"Variados",slug:"variados",imageUrl:"/images/slides/GENEROS/POP.jpg"},{name:"Samba",slug:"samba",imageUrl:"/images/slides/GENEROS/SAMBA.jpg"},{name:"Funk",slug:"funk",imageUrl:"/images/slides/GENEROS/FUNK.jpg"},{name:"Ax\xe9",slug:"axe",imageUrl:"/images/slides/GENEROS/AX\xc9.jpg"},{name:"Reggae",slug:"reggae",imageUrl:"/images/slides/GENEROS/REGGAE.jpg"},{name:"Brega",slug:"brega",imageUrl:"/images/slides/GENEROS/BREGA.jpg"},{name:"Gospel",slug:"gospel",imageUrl:"/images/slides/GENEROS/GOSPEL.jpg"},{name:"Rap/Hip-Hop",slug:"rap-hip-hop",imageUrl:"/images/slides/GENEROS/HIP-HOP.jpg"},{name:"Pop",slug:"pop",imageUrl:"/images/slides/GENEROS/POP.jpg"},{name:"MPB",slug:"mpb",imageUrl:"/images/slides/GENEROS/MPB.jpg"},{name:"Rock",slug:"rock",imageUrl:"/images/slides/GENEROS/ROCK.jpg"},{name:"Eletr\xf4nica",slug:"eletronica",imageUrl:"/images/slides/GENEROS/ELETR\xd4NICA.jpg"},{name:"Trap",slug:"trap",imageUrl:"/images/slides/GENEROS/TRAP.jpg"},{name:"Frevo",slug:"frevo",imageUrl:"/images/slides/GENEROS/FREVO.jpg"}].map(e=>(0,jr.jsx)(yt,{to:"/genero/".concat(e.slug),className:"flex-shrink-0",style:{width:"calc((100% - 80px) / 6)"},children:(0,jr.jsxs)("div",{className:"h-32 rounded-lg shadow-lg flex items-center justify-center p-4 cursor-pointer group hover:shadow-xl transition-all duration-300 relative overflow-hidden",style:{backgroundImage:"linear-gradient(135deg, rgba(0, 0, 0, 0.72) 0%, rgba(0, 0, 0, 0.72) 100%), url('".concat(e.imageUrl,"')"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,jr.jsx)("div",{className:"absolute inset-0 group-hover:bg-red-600/85 transition-all duration-300"}),(0,jr.jsx)("h3",{className:"text-white font-bold text-lg text-center relative z-10 group-hover:scale-110 transition-transform duration-300",children:e.name})]})},e.slug))})]})]})]})},Jv=si("sliders-horizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Xv=e=>{const{user:r}=_r();(0,t.useEffect)(()=>{(async()=>{try{await br.from("page_visits").insert({page_name:e||window.location.pathname,user_id:(null===r||void 0===r?void 0:r.id)||null,user_agent:navigator.userAgent,ip_address:null})}catch(t){console.log("Erro ao registrar visita:",t.message)}})()},[e,null===r||void 0===r?void 0:r.id])},Zv=e=>{let{src:t,alt:r="",className:n="",showBadge:a=!0,badgeClassName:i=""}=e;const o=i||"w-7 h-7",s=null!==i&&void 0!==i&&i.includes("w-5")?"w-3 h-3":"w-4 h-4";return(0,jr.jsxs)("div",{className:"relative inline-block ".concat((n.includes("w-"),"")),children:[(0,jr.jsx)("img",{src:t,alt:r,className:"".concat(n," block")}),a&&(0,jr.jsx)("div",{className:"absolute bottom-2 right-2",children:(0,jr.jsx)("div",{className:"".concat(o," rounded-full bg-blue-500 flex items-center justify-center shadow-md"),children:(0,jr.jsx)(Hv,{className:s,color:"#fff"})})})]})},Qv=()=>{Xv("search");const[e,r]=Nt(),n=e.get("q")||"",[a,i]=(0,t.useState)(n),[o,s]=(0,t.useState)("todos"),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)("recent"),[h,f]=(0,t.useState)("recent"),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)([]),b=[{id:"recent",label:"MAIS RECENTES"},{id:"plays",label:"MAIS OUVIDAS"},{id:"downloads",label:"MAIS BAIXADAS"},{id:"oldest",label:"MAIS ANTIGOS"}];(0,t.useEffect)(()=>{n&&w(n)},[n]);const w=async e=>{c(!0);try{const t=await br.from("artists").select("*").or("name.ilike.%".concat(e,"%,slug.ilike.%").concat(e,"%")).limit(20),r=(t.data||[]).map(e=>e.id),[n,a]=await Promise.all([br.from("albums").select("\n            *,\n            artist:artists(id, name, slug, is_verified, avatar_url)\n          ").or("title.ilike.%".concat(e,"%,slug.ilike.%").concat(e,"%").concat(r.length>0?",artist_id.in.(".concat(r.join(","),")"):"")).order("created_at",{ascending:!1}).limit(50),br.from("playlists").select("*").eq("is_public",!0).ilike("title","%".concat(e,"%")).order("created_at",{ascending:!1}).limit(20)]);console.log("Playlists encontradas:",a.data,"Erro:",a.error),m(t.data||[]);const i=new Date,o=(n.data||[]).filter(e=>!e.is_private&&(!e.is_scheduled||(!e.scheduled_publish_at||new Date(e.scheduled_publish_at)<=i)));v(o),x(a.data||[])}catch(t){console.error("Erro na busca:",t)}c(!1)},j="todos"===o||"perfis"===o,N="todos"===o||"albums"===o,_="todos"===o||"playlists"===o,S=(e,t)=>{const r=[...e];switch(t){case"plays":return r.sort((e,t)=>(t.play_count||0)-(e.play_count||0));case"downloads":return r.sort((e,t)=>(t.download_count||0)-(e.download_count||0));case"oldest":return r.sort((e,t)=>new Date(e.created_at)-new Date(t.created_at));default:return r.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))}},k=S(g,u),E=S(y,h),A=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,jr.jsx)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&r({q:a.trim()})},className:"mb-8",children:(0,jr.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[(0,jr.jsx)(qo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,jr.jsx)(Zo,{type:"text",placeholder:"Buscar artistas, \xe1lbuns, playlists...",value:a,onChange:e=>i(e.target.value),className:"pl-12 h-12 bg-white border-gray-200 text-gray-900"})]})}),n&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)("div",{className:"flex gap-2 mb-8 flex-wrap",children:[{id:"todos",label:"Todos"},{id:"perfis",label:"Perfis"},{id:"albums",label:"CDS/SINGLES"},{id:"playlists",label:"Playlists"}].map(e=>(0,jr.jsx)("button",{onClick:()=>s(e.id),className:"px-6 py-2 rounded-full font-medium transition-colors ".concat(o===e.id?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.label},e.id))}),(0,jr.jsx)("main",{children:l?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,jr.jsx)("p",{className:"text-gray-500 mt-4",children:"Buscando..."})]}):(0,jr.jsxs)("div",{className:"space-y-10",children:[j&&p.length>0&&(0,jr.jsxs)("section",{children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4 pb-2 border-b-2 border-red-600",children:"PERFIS"}),(0,jr.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-8 gap-4",children:("todos"===o?p.slice(0,8):p).map(e=>{var t;return(0,jr.jsxs)(yt,{to:"/".concat(e.slug),className:"group cursor-pointer text-center",children:[(0,jr.jsx)("div",{className:"relative mb-2 mx-auto",style:{maxWidth:"120px"},children:(0,jr.jsx)(Zv,{src:e.avatar_url||"/images/default-avatar.png",alt:e.name,className:"w-full aspect-square rounded-full object-cover transform group-hover:scale-105 transition-transform duration-300 shadow-md",badgeClassName:"w-6 h-6",showBadge:e.is_verified})}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-xs mb-0.5 truncate group-hover:text-red-600 transition-colors",children:e.name}),(0,jr.jsxs)("p",{className:"text-gray-500 text-xs",children:[(null===(t=e.followers_count)||void 0===t?void 0:t.toLocaleString())||0," ouvintes"]})]},e.id)})}),"todos"===o&&p.length>8&&(0,jr.jsx)("button",{onClick:()=>s("perfis"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODOS PERFIS"})]}),N&&g.length>0&&(0,jr.jsxs)("section",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"CDS/SINGLES"}),(0,jr.jsxs)(dp,{modal:!1,children:[(0,jr.jsxs)(hp,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,jr.jsx)(Jv,{className:"w-4 h-4"}),"Filtros",(0,jr.jsx)(Bo,{className:"w-4 h-4"})]}),(0,jr.jsx)(pp,{align:"end",className:"bg-white",children:b.map(e=>(0,jr.jsx)(mp,{onClick:()=>d(e.id),className:"cursor-pointer ".concat(u===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:("todos"===o?k.slice(0,12):k).map(e=>{var t,r;return(0,jr.jsxs)(yt,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||"artista","/").concat(e.slug),className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,jr.jsx)("p",{className:"text-gray-500 text-xs truncate mb-2",children:(null===(r=e.artist)||void 0===r?void 0:r.name)||"Artista"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:A(e.play_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:A(e.download_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})}),"todos"===o&&g.length>12&&(0,jr.jsx)("button",{onClick:()=>s("albums"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODOS CDS/SINGLES"})]}),_&&y.length>0&&(0,jr.jsxs)("section",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"PLAYLISTS"}),(0,jr.jsxs)(dp,{modal:!1,children:[(0,jr.jsxs)(hp,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,jr.jsx)(Jv,{className:"w-4 h-4"}),"Filtros",(0,jr.jsx)(Bo,{className:"w-4 h-4"})]}),(0,jr.jsx)(pp,{align:"end",className:"bg-white",children:b.map(e=>(0,jr.jsx)(mp,{onClick:()=>f(e.id),className:"cursor-pointer ".concat(h===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:("todos"===o?E.slice(0,6):E).map(e=>(0,jr.jsxs)(yt,{to:"/playlist/".concat(e.id),className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,jr.jsx)("p",{className:"text-gray-500 text-xs truncate",children:"Playlist"})]},e.id))}),"todos"===o&&y.length>6&&(0,jr.jsx)("button",{onClick:()=>s("playlists"),className:"mt-6 w-full py-3 border-2 border-red-600 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"VER TODAS PLAYLISTS"})]}),!l&&0===p.length&&0===g.length&&0===y.length&&(0,jr.jsxs)("div",{className:"text-center py-16",children:[(0,jr.jsx)(qo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum resultado encontrado"}),(0,jr.jsxs)("p",{className:"text-gray-500",children:['N\xe3o encontramos resultados para "',n,'"']})]})]})})]}),!n&&(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(qo,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"O que voc\xea quer encontrar?"}),(0,jr.jsx)("p",{className:"text-gray-500",children:"Busque por artistas, \xe1lbuns ou playlists"})]})]})})},ey=si("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ty=()=>{Xv("library");const{playSong:e}=zr();return(0,jr.jsxs)("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-red-950/20 to-black p-8",children:[(0,jr.jsx)("h1",{className:"text-4xl font-bold text-white mb-8",children:"Sua Biblioteca"}),(0,jr.jsxs)(wg,{defaultValue:"songs",className:"w-full",children:[(0,jr.jsxs)(jg,{className:"bg-zinc-900 border-red-900/30 mb-6",children:[(0,jr.jsx)(Ng,{value:"songs",className:"data-[state=active]:bg-red-600",children:"M\xfasicas"}),(0,jr.jsx)(Ng,{value:"albums",className:"data-[state=active]:bg-red-600",children:"\xc1lbuns"})]}),(0,jr.jsx)(_g,{value:"songs",children:(0,jr.jsxs)("div",{className:"bg-zinc-900/50 rounded-lg p-6",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,jr.jsx)("div",{className:"w-48 h-48 bg-gradient-to-br from-red-600 to-red-900 rounded-lg flex items-center justify-center",children:(0,jr.jsx)($o,{className:"w-20 h-20 text-white"})}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"PLAYLIST"}),(0,jr.jsx)("h2",{className:"text-5xl font-bold text-white mb-4",children:"M\xfasicas Curtidas"}),(0,jr.jsxs)("p",{className:"text-gray-400",children:[Or.length," m\xfasicas"]})]})]}),(0,jr.jsxs)("div",{className:"space-y-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-2 text-gray-400 text-sm border-b border-red-900/30",children:[(0,jr.jsx)("span",{className:"w-8",children:"#"}),(0,jr.jsx)("span",{className:"flex-1",children:"T\xcdTULO"}),(0,jr.jsx)("span",{className:"w-32",children:"REPRODU\xc7\xd5ES"}),(0,jr.jsx)(ey,{className:"w-5 h-5"})]}),Or.map((t,r)=>{var n;return(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 rounded hover:bg-red-900/20 transition-colors group cursor-pointer",onClick:()=>e(t,Or),children:[(0,jr.jsx)("span",{className:"text-gray-400 w-8",children:r+1}),(0,jr.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-12 h-12 rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-white font-medium truncate",children:t.title}),(0,jr.jsx)("p",{className:"text-gray-400 text-sm truncate",children:t.artistName})]}),(0,jr.jsx)("span",{className:"text-gray-400 text-sm w-32",children:null===(n=t.plays)||void 0===n?void 0:n.toLocaleString()}),(0,jr.jsx)("span",{className:"text-gray-400 text-sm",children:Cr(t.duration)}),(0,jr.jsx)(ds,{className:"w-10 h-10 rounded-full bg-red-600 hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,jr.jsx)(Ap,{className:"w-4 h-4 ml-0.5"})})]},t.id)})]})]})}),(0,jr.jsx)(_g,{value:"albums",children:(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:Ar.map(t=>(0,jr.jsxs)(qm,{className:"bg-zinc-900 border-red-900/20 p-4 hover:bg-zinc-800 transition-colors cursor-pointer group",children:[(0,jr.jsxs)("div",{className:"relative mb-4",children:[(0,jr.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-full aspect-square object-cover rounded-md"}),(0,jr.jsx)(ds,{onClick:()=>{const r=Or.filter(e=>e.albumId===t.id);r.length>0&&e(r[0],r)},className:"absolute bottom-2 right-2 w-12 h-12 rounded-full bg-red-600 hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 ml-0.5"})})]}),(0,jr.jsx)("h3",{className:"text-white font-semibold mb-1 truncate",children:t.title}),(0,jr.jsx)("p",{className:"text-gray-400 text-sm truncate",children:t.artistName}),(0,jr.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:[t.songCount," m\xfasicas"]})]},t.id))})})]})]})},ry=si("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),ny=si("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ay=si("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),iy=()=>(0,jr.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 256 256",height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",children:(0,jr.jsx)("path",{d:"M144,80a8,8,0,0,1,8-8h96a8,8,0,0,1,0,16H152A8,8,0,0,1,144,80Zm104,40H152a8,8,0,0,0,0,16h96a8,8,0,0,0,0-16Zm0,48H176a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16Zm-96.25,22a8,8,0,0,1-5.76,9.74,7.55,7.55,0,0,1-2,.26,8,8,0,0,1-7.75-6c-6.16-23.94-30.34-42-56.25-42s-50.09,18.05-56.25,42a8,8,0,0,1-15.5-4c5.59-21.71,21.84-39.29,42.46-48a48,48,0,1,1,58.58,0C129.91,150.71,146.16,168.29,151.75,190ZM80,136a32,32,0,1,0-32-32A32,32,0,0,0,80,136Z"})}),oy=()=>(0,jr.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,jr.jsx)("path",{fill:"none",strokeLinejoin:"round",strokeWidth:"48",d:"M144 144h320M144 256h320M144 368h320"}),(0,jr.jsx)("path",{fill:"none",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:"32",d:"M64 128h32v32H64zm0 112h32v32H64zm0 112h32v32H64z"})]}),sy=e=>(null===e||void 0===e?void 0:e.replace(/\.mp3$/i,""))||"",ly=e=>{let{song:r,index:n,onPlay:a,formatDuration:i,isHighlighted:o=!1}=e;const{user:s}=_r(),{isFavorite:l,toggleFavorite:c}=km(null===r||void 0===r?void 0:r.id),{playSong:u}=zr(),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(d){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight="".concat(e,"px")}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[d]);const m=(0,t.useCallback)(async e=>{if(e.stopPropagation(),s)try{await c(),Gr({title:l?"Removido dos favoritos":"Adicionado aos favoritos",description:r.title})}catch(t){Gr({title:"Erro",description:"Erro ao atualizar favoritos",variant:"destructive"})}else Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para favoritar m\xfasicas",variant:"destructive"})},[null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.title,s,l,c]),g=(0,t.useCallback)(async e=>{if(e.stopPropagation(),r.audioUrl){Gr({title:"Download Iniciado",description:r.title});try{if(r.id){const e=r.albumId||r.album_id||r.albumid;Mr(r.id,e)}const e=await fetch(r.audioUrl),t=await e.blob(),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="".concat(r.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(t){console.error("Download error:",t),Gr({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else Gr({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})},[null===r||void 0===r?void 0:r.audioUrl,null===r||void 0===r?void 0:r.title,null===r||void 0===r?void 0:r.id]),v=(0,t.useCallback)(e=>{e.stopPropagation(),s||Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar \xe0 playlist"})},[s]),y=(0,t.useCallback)(e=>{e.stopPropagation(),r&&(u(r,[r]),Gr({title:"Adicionado ao player",description:sy(r.title)}))},[r,u]),x=(0,t.useCallback)(async e=>{if(e.stopPropagation(),h(!0),null!==r&&void 0!==r&&r.artistId)try{const{data:e}=await br.from("artists").select("name, is_verified, avatar_url").eq("id",r.artistId).maybeSingle();e&&p(e)}catch(t){console.error("Erro ao buscar dados do artista:",t)}},[null===r||void 0===r?void 0:r.artistId]);return(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100 last:border-0 hover:bg-red-100 transition-colors ".concat(o?"bg-blue-100":""),children:[(0,jr.jsxs)("span",{className:"text-gray-600 w-8 text-center font-medium",children:[String(n+1).padStart(2,"0"),"."]}),(0,jr.jsx)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>null===a||void 0===a?void 0:a(r),children:(0,jr.jsx)("p",{className:"text-black font-medium truncate",children:sy(r.title)})}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:m,title:l?"Remover dos favoritos":"Adicionar aos favoritos",children:(0,jr.jsx)($o,{className:"w-5 h-5 ".concat(l?"fill-red-600 text-red-600":"text-gray-600 hover:text-red-600")})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:y,title:"Adicionar ao player",children:(0,jr.jsx)(Vv,{className:"w-5 h-5 text-gray-600"})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:v,title:"Adicionar \xe0 playlist",children:(0,jr.jsx)(oy,{})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:x,title:"Cr\xe9ditos da m\xfasica",children:(0,jr.jsx)(iy,{})}),(0,jr.jsx)("span",{className:"text-gray-600 text-sm w-12 text-right",children:i(r.duration)}),(0,jr.jsx)(ds,{onClick:g,variant:"outline",size:"sm",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:"\u2193 BAIXAR"})]}),(0,jr.jsx)(Tv,{open:d,onOpenChange:h,children:(0,jr.jsxs)(Iv,{className:"max-w-md",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,jr.jsx)(Mv,{children:(0,jr.jsx)(zv,{children:"Cr\xe9ditos"})}),(0,jr.jsxs)("div",{className:"space-y-6 py-4",children:[(0,jr.jsxs)("div",{className:"flex gap-3",children:[(0,jr.jsx)("img",{src:null===r||void 0===r?void 0:r.coverImage,alt:null===r||void 0===r?void 0:r.title,className:"w-16 h-16 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsxs)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:[String((null===r||void 0===r?void 0:r.trackNumber)||0).padStart(2,"0")," - ",sy(null===r||void 0===r?void 0:r.title)]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1",children:[(null===f||void 0===f?void 0:f.avatar_url)&&(0,jr.jsx)("img",{src:f.avatar_url,alt:f.name,className:"w-4 h-4 rounded-full object-cover"}),(0,jr.jsx)("span",{className:"text-xs text-gray-600",children:(null===f||void 0===f?void 0:f.name)||(null===r||void 0===r?void 0:r.artistName)}),(null===f||void 0===f?void 0:f.is_verified)&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Composi\xe7\xe3o de"}),null!==r&&void 0!==r&&r.composer?(0,jr.jsx)("p",{className:"text-base text-gray-900",children:r.composer}):(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600",children:"N\xe3o encontrado"}),(0,jr.jsx)("button",{className:"text-red-600 text-sm hover:underline mt-2",children:"Fa\xe7a uma sugest\xe3o"})]})]})]}),(0,jr.jsx)("div",{className:"flex justify-end",children:(0,jr.jsx)(ds,{variant:"outline",onClick:e=>{e.stopPropagation(),h(!1)},children:"Fechar"})})]})})]})},cy=si("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),uy=si("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),dy=si("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),hy=e=>{var r,n;let{albumId:a,artistId:i}=e;const{user:o}=_r(),s=me(),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(null),[j,N]=(0,t.useState)(null),[_,S]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{if(null!==o&&void 0!==o&&o.id){const{data:e}=await br.from("artists").select("*").eq("id",o.id).maybeSingle();e&&w(e);const{data:t}=await br.from("admin_users").select("id").eq("id",o.id).maybeSingle();t&&S(!0)}})()},[o]),(0,t.useEffect)(()=>{k()},[a]);const k=async()=>{try{f(!0);const{data:e,error:t}=await br.from("album_comments").select("*").eq("album_id",a).order("created_at",{ascending:!1});if(t)throw t;c(e||[])}catch(e){console.error("Erro ao carregar coment\xe1rios:",e),c([])}finally{f(!1)}};return(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-16 mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,jr.jsx)(cy,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"COMENT\xc1RIOS"})]}),(0,jr.jsx)("div",{className:"w-full h-1 bg-red-600 rounded mb-8"}),o?(0,jr.jsxs)("div",{className:"mb-8",children:[(0,jr.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[null!==b&&void 0!==b&&b.avatar_url?(0,jr.jsx)("img",{src:b.avatar_url,alt:b.name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0 border-2 border-red-600"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:(null===b||void 0===b||null===(r=b.name)||void 0===r?void 0:r.charAt(0).toUpperCase())||(null===(n=o.email)||void 0===n?void 0:n.charAt(0).toUpperCase())}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,jr.jsx)("p",{className:"text-black font-semibold",children:(null===b||void 0===b?void 0:b.name)||o.email}),(null===b||void 0===b?void 0:b.is_verified)&&(0,jr.jsx)(Hv,{className:"w-4 h-4 text-blue-500"})]}),(0,jr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o)if(u.trim())try{m(!0);const{data:e,error:t}=await br.from("album_comments").insert([{album_id:a,user_id:o.id,comment_text:u.trim(),created_at:(new Date).toISOString()}]).select();if(t)throw t;d(""),await k(),Gr({title:"Coment\xe1rio publicado!",description:"Seu coment\xe1rio foi adicionado com sucesso"})}catch(t){console.error("Erro ao publicar coment\xe1rio:",t),Gr({title:"Erro",description:"Erro ao publicar coment\xe1rio",variant:"destructive"})}finally{m(!1)}else Gr({title:"Coment\xe1rio vazio",description:"Digite algo antes de comentar",variant:"destructive"});else Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para comentar",variant:"destructive"})},className:"flex flex-col gap-3",children:[(0,jr.jsx)("input",{type:"text",placeholder:"Seja o primeiro a comentar...",value:u,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),(0,jr.jsx)("div",{className:"flex justify-end",children:(0,jr.jsxs)(ds,{type:"submit",disabled:p||!u.trim(),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,jr.jsx)(uy,{className:"w-4 h-4"}),"Comentar"]})})]})]})]}),(0,jr.jsx)("div",{className:"h-px bg-gray-200 mb-8"})]}):(0,jr.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200 mb-8",children:[(0,jr.jsx)("p",{className:"text-gray-700 text-lg mb-6",children:"Fa\xe7a login para deixar um coment\xe1rio"}),(0,jr.jsx)(ds,{onClick:()=>s("/login"),className:"bg-red-600 hover:bg-red-700 text-white px-8 py-2 rounded-lg",children:"Iniciar Sess\xe3o"})]}),(0,jr.jsx)("div",{children:h?(0,jr.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Carregando coment\xe1rios..."}):0===l.length?(0,jr.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Seja o primeiro a comentar!"}):(0,jr.jsx)("div",{className:"space-y-6",children:l.map(e=>{var t;return(0,jr.jsxs)("div",{className:"flex items-start gap-4 pb-6 border-b border-gray-200 last:border-b-0",children:[e.user_avatar?(0,jr.jsx)("img",{src:e.user_avatar,alt:e.user_name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0 border-2 border-red-600"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:(null===(t=e.user_name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)("p",{className:"text-black font-semibold",children:e.user_name||"Usu\xe1rio"}),e.user_verified&&(0,jr.jsx)(Hv,{className:"w-4 h-4 text-blue-500"})]}),((null===o||void 0===o?void 0:o.id)===e.user_id||_)&&(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("button",{onClick:()=>N(j===e.id?null:e.id),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,jr.jsx)(dy,{className:"w-4 h-4 text-gray-500"})}),j===e.id&&(0,jr.jsx)("div",{className:"absolute right-0 mt-1 w-40 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:(0,jr.jsxs)("button",{onClick:()=>(async e=>{try{const{error:t}=await br.from("album_comments").delete().eq("id",e);if(t)throw t;await k(),N(null),Gr({title:"Coment\xe1rio deletado",description:"Seu coment\xe1rio foi removido"})}catch(t){console.error("Erro ao deletar coment\xe1rio:",t),Gr({title:"Erro",description:"Erro ao deletar coment\xe1rio",variant:"destructive"})}})(e.id),className:"w-full text-left px-4 py-2 hover:bg-red-50 text-red-600 flex items-center gap-2 rounded-lg",children:[(0,jr.jsx)(yp,{className:"w-4 h-4"}),"Deletar ",_&&(null===o||void 0===o?void 0:o.id)!==e.user_id?"(Admin)":""]})})]})]}),(0,jr.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.comment_text}),(0,jr.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:new Date(e.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},e.id)})})})]})},fy=["children"],py=["children"];function my(e){const r=gy(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=i(e,fy),l=t.Children.toArray(a),c=l.find(yy);if(c){const e=c.props.children,a=l.map(r=>r===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function gy(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=i(e,py);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const r=(0,o.A)({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,o.A)((0,o.A)({},a),i):"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return(0,o.A)((0,o.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(i.ref=r?Xr(r,e):e),t.cloneElement(n,i)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var vy=Symbol("radix.slottable");function yy(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===vy}const xy=["__scopePopover"],by=["__scopePopover"],wy=["forceMount"],jy=["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"],Ny=["__scopePopover"],_y=["__scopePopover"];var Sy="Popover",[ky,Ey]=on(Sy,[Tc]),Ay=Tc(),[Oy,Cy]=ky(Sy),Py=e=>{const{__scopePopover:r,children:n,open:a,defaultOpen:i,onOpenChange:s,modal:l=!1}=e,c=Ay(r),u=t.useRef(null),[d,h]=t.useState(!1),[f,p]=Yn({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:s,caller:Sy});return(0,jr.jsx)(Yc,(0,o.A)((0,o.A)({},c),{},{children:(0,jr.jsx)(Oy,{scope:r,contentId:Cs(),triggerRef:u,open:f,onOpenChange:p,onOpenToggle:t.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:d,onCustomAnchorAdd:t.useCallback(()=>h(!0),[]),onCustomAnchorRemove:t.useCallback(()=>h(!1),[]),modal:l,children:n})}))};Py.displayName=Sy;var Ty="PopoverAnchor",Dy=t.forwardRef((e,r)=>{const{__scopePopover:n}=e,a=i(e,xy),s=Cy(Ty,n),l=Ay(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=s;return t.useEffect(()=>(c(),()=>u()),[c,u]),(0,jr.jsx)($c,(0,o.A)((0,o.A)((0,o.A)({},l),a),{},{ref:r}))});Dy.displayName=Ty;var Ry="PopoverTrigger",Iy=t.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=i(e,by),a=Cy(Ry,r),s=Ay(r),l=Zr(t,a.triggerRef),c=(0,jr.jsx)(En.button,(0,o.A)((0,o.A)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$y(a.open)},n),{},{ref:l,onClick:$r(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?c:(0,jr.jsx)($c,(0,o.A)((0,o.A)({asChild:!0},s),{},{children:c}))});Iy.displayName=Ry;var My="PopoverPortal",[Ly,zy]=ky(My,{forceMount:void 0}),Fy=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Cy(My,t);return(0,jr.jsx)(Ly,{scope:t,forceMount:r,children:(0,jr.jsx)(Vn,{present:r||i.open,children:(0,jr.jsx)(Wn,{asChild:!0,container:a,children:n})})})};Fy.displayName=My;var Uy="PopoverContent",By=t.forwardRef((e,t)=>{const r=zy(Uy,e.__scopePopover),{forceMount:n=r.forceMount}=e,a=i(e,wy),s=Cy(Uy,e.__scopePopover);return(0,jr.jsx)(Vn,{present:n||s.open,children:s.modal?(0,jr.jsx)(Hy,(0,o.A)((0,o.A)({},a),{},{ref:t})):(0,jr.jsx)(Wy,(0,o.A)((0,o.A)({},a),{},{ref:t}))})});By.displayName=Uy;var qy=my("PopoverContent.RemoveScroll"),Hy=t.forwardRef((e,r)=>{const n=Cy(Uy,e.__scopePopover),a=t.useRef(null),i=Zr(r,a),s=t.useRef(!1);return t.useEffect(()=>{const e=a.current;if(e)return Pu(e)},[]),(0,jr.jsx)(bd,{as:qy,allowPinchZoom:!0,children:(0,jr.jsx)(Vy,(0,o.A)((0,o.A)({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$r(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),s.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:$r(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;s.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:$r(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})}))})}),Wy=t.forwardRef((e,r)=>{const n=Cy(Uy,e.__scopePopover),a=t.useRef(!1),i=t.useRef(!1);return(0,jr.jsx)(Vy,(0,o.A)((0,o.A)({},e),{},{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,o;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented)||(a.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());a.current=!1,i.current=!1},onInteractOutside:t=>{var r,o;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),Vy=t.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h}=e,f=i(e,jy),p=Cy(Uy,r),m=Ay(r);return ms(),(0,jr.jsx)(ws,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:(0,jr.jsx)(Mn,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:(0,jr.jsx)(Jc,(0,o.A)((0,o.A)((0,o.A)({"data-state":$y(p.open),role:"dialog",id:p.contentId},m),f),{},{ref:t,style:(0,o.A)((0,o.A)({},f.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),Ky="PopoverClose",Gy=t.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=i(e,Ny),a=Cy(Ky,r);return(0,jr.jsx)(En.button,(0,o.A)((0,o.A)({type:"button"},n),{},{ref:t,onClick:$r(e.onClick,()=>a.onOpenChange(!1))}))});Gy.displayName=Ky;var Yy=t.forwardRef((e,t)=>{const{__scopePopover:r}=e,n=i(e,_y),a=Ay(r);return(0,jr.jsx)(Xc,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});function $y(e){return e?"open":"closed"}Yy.displayName="PopoverArrow";var Jy=Fy,Xy=By;const Zy=["className","align","sideOffset"],Qy=Py,ex=Iy,tx=t.forwardRef((e,t)=>{let{className:r,align:n="center",sideOffset:a=4}=e,s=i(e,Zy);return(0,jr.jsx)(Jy,{children:(0,jr.jsx)(Xy,(0,o.A)({ref:t,align:n,sideOffset:a,className:So("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",r)},s))})});tx.displayName=Xy.displayName;const rx=()=>{var e,r;Xv("album");const{artistSlug:n,albumSlug:a}=ge(),{playSong:i,currentSong:s}=(me(),zr()),{user:l,isPremium:c}=_r(),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)([]),[b,w]=(0,t.useState)(!0),[j,N]=(0,t.useState)(!1),[_,S]=(0,t.useState)(!1),[k,E]=(0,t.useState)([]),[A,O]=(0,t.useState)(null);if((0,t.useEffect)(()=>{(async()=>{if("album"===n)return N(!0),void w(!1);let{data:e}=await br.from("artists").select("*").eq("slug",n).maybeSingle();if(!e){const{data:t}=await br.from("artists").select("*").eq("id",n).maybeSingle();e=t}if(!e)return N(!0),void w(!1);v(e);let{data:t}=await br.from("albums").select("*").eq("slug",a).maybeSingle();if(!t){const{data:e}=await br.from("albums").select("*").eq("id",a).maybeSingle();t=e}if(!t)return N(!0),void w(!1);if(t.is_private&&(null===l||void 0===l?void 0:l.id)!==t.artist_id)return N(!0),void w(!1);f({id:t.id,slug:t.slug,title:t.title,artistName:t.artist_name,artistId:t.artist_id,coverImage:t.cover_url||"/images/default-album.png",releaseYear:t.release_year,description:t.description,genre:t.genre,archiveUrl:t.archive_url,download_count:t.download_count||0,play_count:t.play_count||0});const{data:r}=await br.from("songs").select("*").eq("album_id",t.id).order("track_number",{ascending:!0});r&&m(r.map(e=>({id:e.id,title:e.title,artistName:e.artist_name,artistId:e.artist_id,albumId:e.album_id,albumName:e.album_name,coverImage:e.cover_url||t.cover_url||"/images/default-album.png",audioUrl:e.audio_url,duration:e.duration||0,trackNumber:e.track_number,composer:e.composer,isrc:e.isrc})));const{data:i}=await br.from("artist_videos").select("*").eq("album_id",t.id).maybeSingle();i&&O({id:i.id,title:i.title,url:i.video_url,videoId:i.video_id,thumbnail:i.thumbnail});const{data:o}=await br.from("collaboration_invites").select("invited_user_id").eq("album_id",t.id).eq("status","accepted");if(o&&o.length>0){const e=o.map(e=>e.invited_user_id),{data:t}=await br.from("artists").select("id, name, slug, avatar_url, is_verified").in("id",e);t&&x(t)}if(null!==l&&void 0!==l&&l.id){const{data:e}=await br.from("album_favorites").select("id").eq("user_id",l.id).eq("album_id",t.id).maybeSingle();if(e)d(!0);else{const{data:e}=await br.from("album_favorites").select("id").eq("userId",l.id).eq("albumId",t.id).maybeSingle();e&&d(!0)}}const s=t.genre;let c=[];if(s){const{data:e}=await br.from("albums").select("*").eq("genre",s).neq("id",t.id).eq("is_private",!1);if(e&&e.length>0)if(e.length>6){c=[...e].sort(()=>Math.random()-.5).slice(0,6)}else{const t=[...e].sort((e,t)=>(t.play_count||0)-(e.play_count||0));c=t.slice(0,6)}}if(c.length<6){const{data:e}=await br.from("albums").select("*").neq("id",t.id).eq("is_private",!1).order("play_count",{ascending:!1}).limit(6-c.length);e&&(c=[...c,...e])}if(c.length>0){const e=c.slice(0,6).map(e=>({id:e.id,slug:e.slug,title:e.title,artistName:e.artist_name,artistId:e.artist_id,coverImage:e.cover_url||"/images/default-album.png",playCount:e.play_count||0,downloadCount:e.download_count||0,artistSlug:(null===g||void 0===g?void 0:g.slug)||e.artist_id,artistVerified:!1,collaborators:[]}));E(e)}w(!1)})()},[n,a]),b)return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(j||!h)return(0,jr.jsxs)("div",{className:"fixed inset-0 top-16 bg-white flex flex-col items-center justify-center pb-32",children:[(0,jr.jsxs)("div",{className:"relative mb-6",children:[(0,jr.jsx)("div",{className:"w-24 h-24 rounded-full bg-red-100 flex items-center justify-center",children:(0,jr.jsx)(Go,{className:"w-12 h-12 text-red-600"})}),(0,jr.jsx)("div",{className:"absolute -top-1 -right-1 w-8 h-8 rounded-full bg-red-600 flex items-center justify-center",children:(0,jr.jsx)(li,{className:"w-5 h-5 text-white"})})]}),(0,jr.jsx)("p",{className:"text-gray-900 text-2xl font-bold mb-2",children:"\xc1lbum n\xe3o encontrado"}),(0,jr.jsx)("p",{className:"text-gray-500 mb-6",children:"O \xe1lbum que voc\xea procura n\xe3o existe ou foi removido."}),(0,jr.jsx)(yt,{to:"/",children:(0,jr.jsx)(ds,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Voltar para Home"})})]});const C=async()=>{if(p.length>0&&(i(p[0],p),h.id)){const{error:e}=await br.rpc("increment_play_count",{album_id:h.id});e?(await br.from("albums").update({play_count:(h.play_count||0)+1}).eq("id",h.id),f(e=>(0,o.A)((0,o.A)({},e),{},{play_count:(e.play_count||0)+1}))):f(e=>(0,o.A)((0,o.A)({},e),{},{play_count:(e.play_count||0)+1}))}},P=e=>{if(!e)return"0:00";const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(String(r).padStart(2,"0"))};return(0,jr.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,jr.jsx)("div",{className:"relative bg-gradient-to-b from-red-900 to-black pt-20 pb-8",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"flex items-end gap-8",children:[(0,jr.jsxs)("div",{className:"relative w-64 h-64 group cursor-pointer",onClick:C,children:[(0,jr.jsx)("img",{src:_?"/images/default-album.png":h.coverImage,alt:h.title,className:"w-full h-full rounded-lg shadow-2xl object-cover",onError:()=>S(!0)}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-lg",children:(0,jr.jsx)(Ap,{className:"w-8 h-8 text-white ml-1",fill:"white"})})})]}),(0,jr.jsxs)("div",{className:"text-white pb-4 flex flex-col justify-between h-56",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-sm uppercase tracking-wider mb-2",children:"\xc1lbum"}),(0,jr.jsx)("h1",{className:"text-3xl font-bold mb-2 max-w-xl",children:h.title}),h.description&&(0,jr.jsxs)("p",{className:"text-gray-300 text-sm max-w-xl leading-relaxed",children:[(0,jr.jsx)("span",{className:"text-gray-400",children:"Descri\xe7\xe3o:"})," ",h.description.length>150?"".concat(h.description.slice(0,150),"..."):h.description]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,jr.jsxs)("div",{className:"flex items-center mr-2",style:{marginLeft:y.length>0?"4px":"0"},children:[(0,jr.jsx)(yt,{to:"/".concat((null===g||void 0===g?void 0:g.slug)||h.artistId),className:"hover:z-20 relative z-10",style:{marginBottom:y.length>0?"8px":"0"},children:(0,jr.jsx)("img",{src:(null===g||void 0===g?void 0:g.avatar_url)||(null===g||void 0===g?void 0:g.profile_image)||"/images/default-avatar.png",alt:h.artistName,className:"w-8 h-8 rounded-full object-cover border-2 border-white"})}),y.map((e,t)=>(0,jr.jsx)(yt,{to:"/".concat(e.slug),className:"hover:z-20 relative",style:{zIndex:9-t,marginLeft:"-12px",marginTop:"8px"},children:(0,jr.jsx)("img",{src:e.avatar_url||"/images/default-avatar.png",alt:e.name,className:"w-8 h-8 rounded-full object-cover border-2 border-white"})},e.id))]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jr.jsxs)(yt,{to:"/".concat((null===g||void 0===g?void 0:g.slug)||h.artistId),className:"flex items-start hover:opacity-80 transition-opacity",children:[(0,jr.jsx)("span",{className:"text-lg",children:h.artistName}),(null===g||void 0===g?void 0:g.is_verified)&&(0,jr.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500 flex items-center justify-center ml-0.5 mt-0.5",children:(0,jr.jsx)(Hv,{className:"w-2 h-2 text-white"})})]}),y.map(e=>(0,jr.jsxs)(t.Fragment,{children:[(0,jr.jsx)("span",{className:"text-gray-400 mx-1",children:"&"}),(0,jr.jsxs)(yt,{to:"/".concat(e.slug),className:"flex items-start hover:opacity-80 transition-opacity",children:[(0,jr.jsx)("span",{className:"text-lg",children:e.name}),e.is_verified&&(0,jr.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500 flex items-center justify-center ml-0.5 mt-0.5",children:(0,jr.jsx)(Hv,{className:"w-2 h-2 text-white"})})]})]},e.id))]}),(0,jr.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,jr.jsx)("span",{className:"text-gray-400",children:h.releaseYear}),(0,jr.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,jr.jsxs)("span",{className:"text-gray-400",children:[p.length," m\xfasicas"]})]})]})]})})}),(0,jr.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,jr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jr.jsx)(ds,{onClick:C,className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 text-white shadow-lg",children:(0,jr.jsx)(Ap,{className:"w-6 h-6 ml-1",fill:"white"})}),(0,jr.jsx)(ds,{variant:"outline",size:"icon",onClick:async()=>{if(l)try{if(u){const{error:e}=await br.from("album_favorites").delete().eq("user_id",l.id).eq("album_id",h.id);if(e){console.error("Erro delete:",e);const{error:t}=await br.from("album_favorites").delete().eq("userId",l.id).eq("albumId",h.id);if(t)throw t}d(!1),Gr({title:"Removido dos favoritos",description:h.title})}else{const{error:e}=await br.from("album_favorites").insert([{user_id:l.id,album_id:h.id,created_at:(new Date).toISOString()}]);if(e){console.error("Erro insert snake_case:",e);const{error:t}=await br.from("album_favorites").insert([{userId:l.id,albumId:h.id,createdAt:(new Date).toISOString()}]);if(t)throw t}d(!0),Gr({title:"Adicionado aos favoritos",description:h.title})}}catch(e){console.error("Erro ao favoritar album:",e),Gr({title:"Erro",description:"Tabela de favoritos n\xe3o configurada. Contate o suporte.",variant:"destructive"})}else Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar aos favoritos",variant:"destructive"})},className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,jr.jsx)($o,{className:"w-5 h-5 ".concat(u?"fill-red-600 text-red-600":"text-gray-600")})}),(0,jr.jsxs)(ds,{onClick:async()=>{if(h.archiveUrl){Gr({title:"Download Iniciado",description:"Baixando ".concat(h.title,"...")});try{if(h.id){const e=p.map(e=>e.id);!async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e)try{if(await br.from("albums").update({download_count:br.sql(Tr||(Tr=Pr(["COALESCE(download_count, 0) + 1"])))}).eq("id",e),t&&t.length>0)for(const e of t)await br.from("songs").update({downloads:br.sql(Dr||(Dr=Pr(["COALESCE(downloads, 0) + 1"])))}).eq("id",e)}catch(r){console.error("Error recording album download:",r)}else console.error("albumId is required for recording download")}(h.id,e),f(e=>(0,o.A)((0,o.A)({},e),{},{download_count:(e.download_count||0)+1}))}const e=await fetch(h.archiveUrl),t=await e.blob(),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r;const a=h.archiveUrl.includes(".rar")?"rar":"zip";n.download="".concat(h.title,".").concat(a),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)}catch(e){console.error("Download error:",e),Gr({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else Gr({title:"Download Indispon\xedvel",description:"O arquivo do \xe1lbum n\xe3o est\xe1 dispon\xedvel",variant:"destructive"})},className:"bg-red-600 hover:bg-red-700 text-white px-8 h-12 text-base font-bold shadow-lg",children:[(0,jr.jsx)(Dp,{className:"w-5 h-5 mr-2"}),"BAIXAR CD COMPLETO"]}),(0,jr.jsxs)(Qy,{children:[(0,jr.jsx)(ex,{asChild:!0,children:(0,jr.jsx)(ds,{variant:"outline",size:"icon",className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,jr.jsx)(ry,{className:"w-5 h-5 text-gray-600"})})}),(0,jr.jsx)(tx,{className:"w-auto p-3",side:"right",align:"center",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-green-500 hover:bg-green-600 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://wa.me/?text=".concat(encodeURIComponent("".concat(h.title," - ").concat(h.artistName,"\n").concat(e))),"_blank")},title:"WhatsApp",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-blue-600 hover:bg-blue-700 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e)),"_blank")},title:"Facebook",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-black hover:bg-gray-800 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(e),"&text=").concat(encodeURIComponent("".concat(h.title," - ").concat(h.artistName))),"_blank")},title:"Twitter / X",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,jr.jsx)("div",{className:"w-px h-8 bg-gray-300"}),(0,jr.jsxs)(ds,{variant:"outline",className:"h-10 gap-2",onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e),Gr({title:"Link copiado!",description:"O link foi copiado para a \xe1rea de transfer\xeancia"})},children:[(0,jr.jsx)(ny,{className:"w-4 h-4"}),"Copiar Link"]})]})})]}),(0,jr.jsx)("div",{className:"flex-1"}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,jr.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,jr.jsx)("span",{className:"text-lg font-bold text-red-600",children:(null===(e=h.download_count)||void 0===e?void 0:e.toLocaleString())||0})}),(0,jr.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,jr.jsx)("span",{className:"text-xs text-gray-500",children:"Downloads"})})]}),(0,jr.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,jr.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,jr.jsx)("span",{className:"text-lg font-bold text-gray-800",children:(null===(r=h.play_count)||void 0===r?void 0:r.toLocaleString())||0})}),(0,jr.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,jr.jsx)("span",{className:"text-xs text-gray-500",children:"Plays"})})]})]})]})})}),A&&(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-8 mb-8",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,jr.jsx)(ay,{className:"w-6 h-6 text-red-600"}),(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"V\xcdDEO"})]}),(0,jr.jsx)("div",{className:"relative w-full max-w-2xl bg-black rounded-lg overflow-hidden shadow-lg",children:(0,jr.jsx)("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:(0,jr.jsx)("iframe",{className:"absolute inset-0 w-full h-full",src:"https://www.youtube.com/embed/".concat(A.videoId,"?autoplay=0&controls=1&modestbranding=1"),title:A.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})]}),(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-8",children:[(0,jr.jsx)("div",{className:"bg-red-600 text-white px-4 py-3 rounded-t-lg",children:(0,jr.jsx)("h2",{className:"text-xl font-bold",children:"M\xdaSICAS DO CD"})}),(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-b-lg",children:[(0,jr.jsx)("div",{style:{maxHeight:p.length>10?"550px":"auto",overflowY:p.length>10?"auto":"visible"},children:p.map((e,t)=>(0,jr.jsx)(ly,{song:e,index:t,onPlay:()=>i(e,p),formatDuration:P,isHighlighted:s&&s.id===e.id},e.id))}),0===p.length&&(0,jr.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma m\xfasica encontrada neste \xe1lbum"})]})]}),(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-16 mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,jr.jsx)(Kv,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Ou\xe7a Aqui Recomenda!"})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===k.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhum \xe1lbum dispon\xedvel no momento."}):k.map(e=>(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(yt,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsx)("div",{className:"flex items-center gap-1 text-gray-600 text-xs mb-2",children:(0,jr.jsx)(yt,{to:"/".concat(e.artistSlug),className:"hover:text-red-600 transition-colors truncate",children:e.artistName})}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:e.playCount>999?(e.playCount/1e3).toFixed(1)+"K":e.playCount}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:e.downloadCount>999?(e.downloadCount/1e3).toFixed(1)+"K":e.downloadCount}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))})]}),(0,jr.jsx)(hy,{albumId:h.id,artistId:h.artistId})]})},nx=si("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ax=(e,r)=>{const[n,a]=(0,t.useState)(r),[i,o]=(0,t.useState)(!0),[s,l]=(0,t.useState)(null);return(0,t.useEffect)(()=>{if(!e)return void o(!1);(async()=>{try{o(!0);const{data:t,error:n}=await br.from("albums").select("cover_url").eq("id",e).maybeSingle();if(n)throw n;if(null!==t&&void 0!==t&&t.cover_url){const e="".concat(t.cover_url,"?t=").concat((new Date).getTime());a(e),l(null)}else a(r)}catch(kX){console.error("Erro ao buscar imagem do \xe1lbum:",kX),a(r),l(kX)}finally{o(!1)}})()},[e,r]),{imageUrl:n,loading:i,error:s}},ix=()=>(0,jr.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 256 256",height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",children:(0,jr.jsx)("path",{d:"M144,80a8,8,0,0,1,8-8h96a8,8,0,0,1,0,16H152A8,8,0,0,1,144,80Zm104,40H152a8,8,0,0,0,0,16h96a8,8,0,0,0,0-16Zm0,48H176a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16Zm-96.25,22a8,8,0,0,1-5.76,9.74,7.55,7.55,0,0,1-2,.26,8,8,0,0,1-7.75-6c-6.16-23.94-30.34-42-56.25-42s-50.09,18.05-56.25,42a8,8,0,0,1-15.5-4c5.59-21.71,21.84-39.29,42.46-48a48,48,0,1,1,58.58,0C129.91,150.71,146.16,168.29,151.75,190ZM80,136a32,32,0,1,0-32-32A32,32,0,0,0,80,136Z"})}),ox=()=>(0,jr.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,jr.jsx)("path",{fill:"none",strokeLinejoin:"round",strokeWidth:"48",d:"M144 144h320M144 256h320M144 368h320"}),(0,jr.jsx)("path",{fill:"none",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:"32",d:"M64 128h32v32H64zm0 112h32v32H64zm0 112h32v32H64z"})]}),sx=e=>(null===e||void 0===e?void 0:e.replace(/\.mp3$/i,""))||"",lx=e=>{let{song:r,index:n,onPlay:a,onDownload:i,showActions:o=!0,formatDuration:s,playlistId:l=null}=e;const{user:c}=_r(),{isFavorite:u,toggleFavorite:d}=km(null===r||void 0===r?void 0:r.id),{playSong:h}=zr(),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),{imageUrl:v}=ax(null===r||void 0===r?void 0:r.albumId,(null===r||void 0===r?void 0:r.coverImage)||"/placeholder-album.jpg"),y=v||(null===r||void 0===r?void 0:r.coverImage)||"/placeholder-album.jpg";(0,t.useEffect)(()=>{if(f){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight="".concat(e,"px")}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[f]);const x=(0,t.useCallback)(async e=>{if(e.stopPropagation(),c)try{await d(),Gr({title:u?"Removido dos favoritos":"Adicionado aos favoritos",description:r.title})}catch(t){Gr({title:"Erro",description:"Erro ao atualizar favoritos",variant:"destructive"})}else Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para favoritar m\xfasicas",variant:"destructive"})},[null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.title,c,u,d]),b=(0,t.useCallback)(e=>{e.stopPropagation(),c||Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar \xe0 playlist"})},[c]),w=(0,t.useCallback)(async e=>{if(e.stopPropagation(),r.audioUrl){Gr({title:"Download Iniciado",description:r.title});try{if(r.id){const e=r.albumId||r.album_id||r.albumid;Mr(r.id,e)}const e=await fetch(r.audioUrl),t=await e.blob(),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="".concat(r.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(t){console.error("Download error:",t),Gr({title:"Erro no Download",description:"N\xe3o foi poss\xedvel baixar o arquivo",variant:"destructive"})}}else Gr({title:"Download Indispon\xedvel",description:"Arquivo n\xe3o dispon\xedvel",variant:"destructive"})},[null===r||void 0===r?void 0:r.audioUrl,null===r||void 0===r?void 0:r.title,null===r||void 0===r?void 0:r.id]),j=(0,t.useCallback)(e=>{e.stopPropagation(),r&&(h(r,[r],l),Gr({title:"Adicionado ao player",description:sx(r.title)}))},[r,h,l]),N=(0,t.useCallback)(async e=>{if(e.stopPropagation(),p(!0),null!==r&&void 0!==r&&r.artistId)try{const{data:e}=await br.from("artists").select("name, is_verified, avatar_url").eq("id",r.artistId).maybeSingle();e&&g(e)}catch(t){console.error("Erro ao buscar dados do artista:",t)}},[null===r||void 0===r?void 0:r.artistId]);return(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-gray-100 transition-colors rounded-md mb-2 group cursor-pointer",children:[(0,jr.jsxs)("span",{className:"text-gray-600 w-8 text-center font-medium flex-shrink-0",children:[String(n+1).padStart(2,"0"),"."]}),(0,jr.jsx)("img",{src:y,alt:r.title,className:"w-16 h-16 rounded object-cover flex-shrink-0",onError:e=>{e.target.src="/placeholder-album.jpg"}}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>null===a||void 0===a?void 0:a(),children:[(0,jr.jsx)("p",{className:"text-red-600 font-semibold truncate text-sm",children:r.title}),(0,jr.jsx)("p",{className:"text-gray-600 text-sm truncate",children:r.artistName})]}),o&&(0,jr.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:x,title:u?"Remover dos favoritos":"Adicionar aos favoritos",children:(0,jr.jsx)($o,{className:"w-5 h-5 ".concat(u?"fill-red-600 text-red-600":"text-gray-600 hover:text-red-600")})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:j,title:"Adicionar ao player",children:(0,jr.jsx)(Vv,{className:"w-5 h-5 text-gray-600"})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:b,title:"Adicionar \xe0 playlist",children:(0,jr.jsx)(ox,{})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:N,title:"Cr\xe9ditos da m\xfasica",children:(0,jr.jsx)(ix,{})}),(0,jr.jsx)("span",{className:"text-gray-600 text-sm w-12 text-right",children:(s||(e=>{if(!e)return"0:00";const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(String(r).padStart(2,"0"))}))(r.duration)}),(0,jr.jsx)(ds,{onClick:w,variant:"outline",size:"sm",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:"\u2193 BAIXAR"})]})]}),(0,jr.jsx)(Tv,{open:f,onOpenChange:p,children:(0,jr.jsxs)(Iv,{className:"max-w-md",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,jr.jsx)(Mv,{children:(0,jr.jsx)(zv,{children:"Cr\xe9ditos"})}),(0,jr.jsxs)("div",{className:"space-y-6 py-4",children:[(0,jr.jsxs)("div",{className:"flex gap-3",children:[(0,jr.jsx)("img",{src:y,alt:null===r||void 0===r?void 0:r.title,className:"w-16 h-16 rounded object-cover",onError:e=>{e.target.src="/placeholder-album.jpg"}}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:sx(null===r||void 0===r?void 0:r.title)}),(0,jr.jsxs)("div",{className:"flex items-center gap-1",children:[(null===m||void 0===m?void 0:m.avatar_url)&&(0,jr.jsx)("img",{src:m.avatar_url,alt:m.name,className:"w-4 h-4 rounded-full object-cover"}),(0,jr.jsx)("span",{className:"text-xs text-gray-600",children:(null===m||void 0===m?void 0:m.name)||(null===r||void 0===r?void 0:r.artistName)}),(null===m||void 0===m?void 0:m.is_verified)&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Composi\xe7\xe3o de"}),null!==r&&void 0!==r&&r.composer?(0,jr.jsx)("p",{className:"text-base text-gray-900",children:r.composer}):(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600",children:"N\xe3o encontrado"}),(0,jr.jsx)("button",{className:"text-red-600 text-sm hover:underline mt-2",children:"Fa\xe7a uma sugest\xe3o"})]})]})]}),(0,jr.jsx)("div",{className:"flex justify-end",children:(0,jr.jsx)(ds,{variant:"outline",onClick:e=>{e.stopPropagation(),p(!1)},children:"Fechar"})})]})})]})},cx=()=>{var e,r;const{playlistSlug:n}=ge(),{playSong:a,currentSong:i,isPlaying:s}=zr(),{user:l}=_r(),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)([]),w=null===c||void 0===c?void 0:c.id,{isFavorite:j,toggleFavorite:N,loading:_}=(e=>{const{user:r}=_r(),[n,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{null!==r&&void 0!==r&&r.id&&e?s():a(!1)},[null===r||void 0===r?void 0:r.id,e]);const s=async()=>{try{const{data:t}=await br.from("playlist_favorites").select("id").eq("user_id",r.id).eq("playlist_id",e).single();a(!!t)}catch(t){a(!1)}};return{isFavorite:n,toggleFavorite:async()=>{if(null!==r&&void 0!==r&&r.id&&e)try{if(o(!0),n){const{error:t}=await br.from("playlist_favorites").delete().eq("user_id",r.id).eq("playlist_id",e);if(t)throw t;a(!1)}else{const{error:t}=await br.from("playlist_favorites").insert({user_id:r.id,playlist_id:e,created_at:(new Date).toISOString()});if(t)throw t;a(!0)}}catch(t){throw console.error("Error toggling playlist favorite:",t),t}finally{o(!1)}},loading:i}})(w),S=(0,t.useCallback)(async()=>{if(null!==c&&void 0!==c&&c.song_ids&&0!==c.song_ids.length)try{Gr({title:"Atualizando imagens...",description:"Sincronizando capas dos \xe1lbuns"});const{data:e}=await br.from("songs").select("*").in("id",c.song_ids);if(e){const t=[...new Set(e.map(e=>e.album_id).filter(Boolean))],{data:r}=t.length>0?await br.from("albums").select("id, cover_url").in("id",t):{data:[]},n={};r&&r.forEach(e=>{n[e.id]="".concat(e.cover_url,"?t=").concat((new Date).getTime())});const a=c.song_ids.map(t=>e.find(e=>e.id===t)).filter(Boolean).map(e=>({id:e.id,title:e.title,artistName:e.artist_name,artistId:e.artist_id,albumId:e.album_id,albumName:e.album_name,coverImage:e.album_id&&n[e.album_id]||e.cover_url||"/placeholder-album.jpg",audioUrl:e.audio_url,duration:e.duration||0}));h(a),Gr({title:"Imagens atualizadas",description:"Capas dos \xe1lbuns sincronizadas com sucesso"})}}catch(e){console.error("Erro ao atualizar imagens:",e),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar as imagens",variant:"destructive"})}},[null===c||void 0===c?void 0:c.song_ids,null===c||void 0===c?void 0:c.id]);if((0,t.useEffect)(()=>{(async()=>{(new Date).getTime();let{data:e}=await br.from("playlists").select("*").eq("slug",n).maybeSingle();if(!e){const{data:t}=await br.from("playlists").select("*").eq("id",n).maybeSingle();e=t}if(!e)return y(!0),void g(!1);u((0,o.A)((0,o.A)({},e),{},{download_count:e.download_count||0,play_count:e.play_count||0}));const{data:t}=await br.from("artists").select("id, name, slug, avatar_url, is_verified").eq("id",e.user_id).maybeSingle();if(p(t),e.song_ids&&e.song_ids.length>0){const{data:t}=await br.from("songs").select("*").in("id",e.song_ids);if(t){const r=[...new Set(t.map(e=>e.album_id).filter(Boolean))],{data:n}=r.length>0?await br.from("albums").select("id, cover_url").in("id",r):{data:[]},a={};n&&n.forEach(e=>{a[e.id]=e.cover_url});const i=e.song_ids.map(e=>t.find(t=>t.id===e)).filter(Boolean).map(e=>({id:e.id,title:e.title,artistName:e.artist_name,artistId:e.artist_id,albumId:e.album_id,albumName:e.album_name,coverImage:e.album_id&&a[e.album_id]||e.cover_url||"/placeholder-album.jpg",audioUrl:e.audio_url,duration:e.duration||0}));h(i)}}try{const{data:t}=await br.from("playlists").select("*").neq("id",e.id).order("play_count",{ascending:!1}).limit(6);if(t&&t.length>0){const e=t.map(e=>({id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-playlist.jpg",playCount:e.play_count||0,downloadCount:e.download_count||0,creatorId:e.user_id}));b(e)}}catch(r){console.error("Erro ao carregar playlists recomendadas:",r)}g(!1)})()},[n]),m)return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(v||!c)return(0,jr.jsxs)("div",{className:"fixed inset-0 top-16 bg-white flex flex-col items-center justify-center pb-32",children:[(0,jr.jsxs)("div",{className:"relative mb-6",children:[(0,jr.jsx)("div",{className:"w-24 h-24 rounded-full bg-red-100 flex items-center justify-center",children:(0,jr.jsx)(Jo,{className:"w-12 h-12 text-red-600"})}),(0,jr.jsx)("div",{className:"absolute -top-1 -right-1 w-8 h-8 rounded-full bg-red-600 flex items-center justify-center",children:(0,jr.jsx)(li,{className:"w-5 h-5 text-white"})})]}),(0,jr.jsx)("p",{className:"text-gray-900 text-2xl font-bold mb-2",children:"Playlist n\xe3o encontrada"}),(0,jr.jsx)("p",{className:"text-gray-500 mb-6",children:"A playlist que voc\xea procura n\xe3o existe ou foi removida."}),(0,jr.jsx)(yt,{to:"/",children:(0,jr.jsx)(ds,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Voltar para Home"})})]});const k=async()=>{d.length>0&&(a(d[0],d,c.id),E())},E=()=>{u(e=>(0,o.A)((0,o.A)({},e),{},{play_count:(e.play_count||0)+1}))},A=e=>{if(!e)return"0:00";const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(String(r).padStart(2,"0"))};return(0,jr.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,jr.jsx)("div",{className:"relative bg-gradient-to-b from-red-900 to-black pt-20 pb-8",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"flex items-end gap-8",children:[(0,jr.jsxs)("div",{className:"relative w-64 h-64 group cursor-pointer",onClick:k,children:[(0,jr.jsx)("img",{src:c.cover_url||"/images/default-playlist.jpg",alt:c.title,className:"w-full h-full rounded-lg shadow-2xl object-cover"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-lg",children:(0,jr.jsx)(Ap,{className:"w-8 h-8 text-white ml-1",fill:"white"})})})]}),(0,jr.jsxs)("div",{className:"text-white pb-4 flex flex-col justify-between h-56",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-sm uppercase tracking-wider mb-2",children:"Playlist"}),(0,jr.jsx)("h1",{className:"text-3xl font-bold mb-2 max-w-xl",children:c.title}),c.description&&(0,jr.jsx)("p",{className:"text-gray-300 text-sm max-w-xl leading-relaxed",children:c.description})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[(0,jr.jsx)("div",{className:"flex items-center",children:f&&(0,jr.jsx)(yt,{to:"/".concat(f.slug||f.id),className:"hover:z-20 relative z-10",children:(0,jr.jsx)("img",{src:f.avatar_url||"/images/default-avatar.png",alt:f.name,className:"w-8 h-8 rounded-full object-cover border-2 border-white"})})}),f&&(0,jr.jsxs)(yt,{to:"/".concat(f.slug||f.id),className:"flex items-start hover:opacity-80 transition-opacity",children:[(0,jr.jsx)("span",{className:"text-lg",children:f.name}),f.is_verified&&(0,jr.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500 flex items-center justify-center ml-0.5 mt-0.5",children:(0,jr.jsx)(Hv,{className:"w-2 h-2 text-white"})})]}),(0,jr.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,jr.jsxs)("span",{className:"text-gray-400",children:[d.length," m\xfasicas"]})]})]})]})})}),(0,jr.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,jr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jr.jsx)(ds,{onClick:k,className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 text-white shadow-lg",children:(0,jr.jsx)(Ap,{className:"w-6 h-6 ml-1",fill:"white"})}),(0,jr.jsx)(ds,{variant:"outline",size:"icon",onClick:async()=>{if(l)try{await N(),Gr({title:j?"Removido dos favoritos":"Adicionado aos favoritos",description:c.name})}catch(e){Gr({title:"Erro",description:"Erro ao atualizar favoritos",variant:"destructive"})}else Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar aos favoritos",variant:"destructive"})},className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,jr.jsx)($o,{className:"w-5 h-5 ".concat(j?"fill-red-600 text-red-600":"text-gray-600")})}),(0,jr.jsxs)(ds,{onClick:async()=>{if(Gr({title:"Download Iniciado",description:"Baixando ".concat(d.length," m\xfasicas...")}),c.id)try{await br.from("playlists").update({download_count:(c.download_count||0)+1}).eq("id",c.id),u(e=>(0,o.A)((0,o.A)({},e),{},{download_count:(e.download_count||0)+1}))}catch(e){console.error("Erro ao incrementar download_count:",e)}for(const t of d)if(t.audioUrl)try{const e=await fetch(t.audioUrl),r=await e.blob(),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(t.title,".mp3"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Download error:",e)}},className:"bg-red-600 hover:bg-red-700 text-white px-8 h-12 text-base font-bold shadow-lg",children:[(0,jr.jsx)(Dp,{className:"w-5 h-5 mr-2"}),"BAIXAR PLAYLIST"]}),(0,jr.jsx)(ds,{onClick:S,variant:"outline",className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",title:"Atualizar imagens das m\xfasicas",children:(0,jr.jsx)(nx,{className:"w-5 h-5 text-gray-600"})}),(0,jr.jsxs)(Qy,{children:[(0,jr.jsx)(ex,{asChild:!0,children:(0,jr.jsx)(ds,{variant:"outline",size:"icon",className:"w-12 h-12 rounded-full border-gray-300 hover:border-red-600",children:(0,jr.jsx)(ry,{className:"w-5 h-5 text-gray-600"})})}),(0,jr.jsx)(tx,{className:"w-auto p-3",side:"right",align:"center",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-green-500 hover:bg-green-600 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://wa.me/?text=".concat(encodeURIComponent("".concat(c.title,"\n").concat(e))),"_blank")},title:"WhatsApp",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-blue-600 hover:bg-blue-700 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e)),"_blank")},title:"Facebook",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,jr.jsx)("button",{className:"w-12 h-12 rounded-lg bg-black hover:bg-gray-800 flex items-center justify-center transition-colors",onClick:()=>{const e=window.location.href;window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(e),"&text=").concat(encodeURIComponent(c.title)),"_blank")},title:"Twitter / X",children:(0,jr.jsx)("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,jr.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,jr.jsx)("div",{className:"w-px h-8 bg-gray-300"}),(0,jr.jsxs)(ds,{variant:"outline",className:"h-10 gap-2",onClick:()=>{const e=window.location.href;navigator.clipboard.writeText(e),Gr({title:"Link copiado!",description:"O link foi copiado para a \xe1rea de transfer\xeancia"})},children:[(0,jr.jsx)(ny,{className:"w-4 h-4"}),"Copiar Link"]})]})})]}),(0,jr.jsx)("div",{className:"flex-1"}),(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,jr.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,jr.jsx)("span",{className:"text-lg font-bold text-red-600",children:(null===(e=c.download_count)||void 0===e?void 0:e.toLocaleString())||0})}),(0,jr.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,jr.jsx)("span",{className:"text-xs text-gray-500",children:"Downloads"})})]}),(0,jr.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded overflow-hidden",children:[(0,jr.jsx)("div",{className:"px-5 py-1.5 text-center",children:(0,jr.jsx)("span",{className:"text-lg font-bold text-gray-800",children:(null===(r=c.play_count)||void 0===r?void 0:r.toLocaleString())||0})}),(0,jr.jsx)("div",{className:"border-t border-gray-300 px-5 py-1 text-center bg-gray-50",children:(0,jr.jsx)("span",{className:"text-xs text-gray-500",children:"Plays"})})]})]})]})})}),(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 mt-8",children:0===d.length?(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(Jo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Esta playlist ainda n\xe3o tem m\xfasicas"})]}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"bg-red-600 text-white px-4 py-3 rounded-t-lg",children:(0,jr.jsx)("h2",{className:"text-xl font-bold",children:"M\xdaSICAS DA PLAYLIST"})}),(0,jr.jsx)("div",{className:"bg-white border border-gray-200 rounded-b-lg",style:{maxHeight:d.length>10?"550px":"auto",overflowY:d.length>10?"auto":"visible"},children:d.map((e,t)=>(0,jr.jsx)(lx,{song:e,index:t,onPlay:()=>(e=>{a(e,d,c.id),E()})(e),showActions:!0,formatDuration:A,playlistId:c.id},e.id))})]})}),(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mt-16 mb-16",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,jr.jsx)(Kv,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h2",{className:"text-3xl font-bold text-black",children:"Ou\xe7a Aqui Recomenda!"})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:0===x.length?(0,jr.jsx)("p",{className:"text-gray-500 py-8 col-span-full",children:"Nenhuma playlist dispon\xedvel no momento."}):x.map(e=>(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(yt,{to:"/playlist/".concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:e.playCount>999?(e.playCount/1e3).toFixed(1)+"K":e.playCount}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:e.downloadCount>999?(e.downloadCount/1e3).toFixed(1)+"K":e.downloadCount}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))})]}),(0,jr.jsx)(hy,{playlistId:null===c||void 0===c?void 0:c.id,artistId:null===f||void 0===f?void 0:f.id})]})},ux=()=>(0,jr.jsx)("div",{className:"hidden xl:block w-72 flex-shrink-0",children:(0,jr.jsx)("a",{href:"#",className:"block group overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow",children:(0,jr.jsx)("img",{src:"/images/Publicidade/BANNER-LATERAL-SITE.jpg",alt:"Publicidade",className:"w-full h-auto group-hover:scale-105 transition-transform duration-300"})})}),dx=()=>(0,jr.jsx)("div",{className:"hidden xl:block w-72 flex-shrink-0",children:(0,jr.jsx)("a",{href:"#",className:"block group overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow",children:(0,jr.jsx)("img",{src:"/images/Publicidade/BANNER-LATERAL-SITE.jpg",alt:"Publicidade",className:"w-full h-auto group-hover:scale-105 transition-transform duration-300"})})}),hx=()=>{var e;Xv("top-cds");const[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[s,l]=(0,t.useState)("geral"),c=[{id:"dia",label:"DIA"},{id:"semana",label:"SEMANA"},{id:"mes",label:"M\xcaS"},{id:"geral",label:"GERAL"}];(0,t.useEffect)(()=>{u()},[s]);const u=async()=>{i(!0);try{const{data:e,error:t}=await br.from("albums").select("\n           *,\n           artist:artists(id, name, slug, is_verified, avatar_url)\n         ").or("is_private.is.null,is_private.eq.false").filter("deleted_at","is",null).order("created_at",{ascending:!1});if(t)throw t;if(!e)return n([]),void i(!1);const r=e.filter(e=>!e.is_private),{data:a}=await br.from("collaboration_invites").select("album_id, invited_user_id").eq("status","accepted"),l={};if(a&&a.length>0){const e=[...new Set(a.map(e=>e.invited_user_id))],{data:t}=await br.from("artists").select("id, name, slug, is_verified").in("id",e);if(t){const e={};t.forEach(t=>{e[t.id]=t}),a.forEach(t=>{e[t.invited_user_id]&&(l[t.album_id]||(l[t.album_id]=[]),l[t.album_id].push(e[t.invited_user_id]))})}}const c=r.map(e=>{const t=l[e.id]||[];return(0,o.A)((0,o.A)({},e),{},{collaborators:t})});if("geral"===s){const e=[...c].sort((e,t)=>t.play_count-e.play_count);return n(e),void i(!1)}const u=new Date;let d;"dia"===s?(d=new Date(u),d.setHours(0,0,0,0)):"semana"===s?d=new Date(u.getTime()-6048e5):"mes"===s&&(d=new Date(u.getTime()-2592e6));const{data:h,error:f}=await br.from("plays").select("album_id").gte("created_at",d.toISOString()).lte("created_at",u.toISOString());if(f)throw f;const p={};(h||[]).forEach(e=>{p[e.album_id]=(p[e.album_id]||0)+1});const m=c.filter(e=>p[e.id]>0).map(e=>(0,o.A)((0,o.A)({},e),{},{period_play_count:p[e.id]||0})).sort((e,t)=>t.period_play_count-e.period_play_count);n(m)}catch(e){console.error("Erro ao carregar \xe1lbuns:",e),n([])}i(!1)},d=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,jr.jsxs)("div",{className:"flex justify-center gap-4 px-2",children:[(0,jr.jsx)(ux,{}),(0,jr.jsxs)("div",{className:"w-full max-w-7xl px-4 py-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-red-600",children:[(0,jr.jsx)("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),(0,jr.jsx)("polyline",{points:"16 7 22 7 22 13"})]}),(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"TOP CDS"})]}),(0,jr.jsxs)(dp,{modal:!1,children:[(0,jr.jsxs)(hp,{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors",children:[(0,jr.jsx)(Jv,{className:"w-4 h-4"}),(null===(e=c.find(e=>e.id===s))||void 0===e?void 0:e.label)||"GERAL",(0,jr.jsx)(Bo,{className:"w-4 h-4"})]}),(0,jr.jsx)(pp,{align:"end",className:"bg-white",children:c.map(e=>(0,jr.jsx)(mp,{onClick:()=>l(e.id),className:"cursor-pointer ".concat(s===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),a?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,jr.jsx)("p",{className:"text-gray-500 mt-4",children:"Carregando..."})]}):0===r.length?(0,jr.jsxs)("div",{className:"text-center py-16",children:[(0,jr.jsx)(Wv,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum CD encontrado"}),(0,jr.jsx)("p",{className:"text-gray-500",children:"N\xe3o h\xe1 CDs para o per\xedodo selecionado"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:r.map((e,t)=>{var r,n,a,i;return(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(yt,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-red-600 text-white font-bold text-lg w-10 h-10 flex items-center justify-center rounded shadow-lg",children:t+1}),(0,jr.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-xs mb-2 flex-wrap",children:[(0,jr.jsxs)(yt,{to:"/".concat((null===(n=e.artist)||void 0===n?void 0:n.slug)||e.artist_id),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,jr.jsx)("span",{children:(null===(a=e.artist)||void 0===a?void 0:a.name)||e.artist_name}),(null===(i=e.artist)||void 0===i?void 0:i.is_verified)&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),e.collaborators&&e.collaborators.length>0&&(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("span",{children:"&"}),e.collaborators.map(e=>(0,jr.jsxs)(yt,{to:"/".concat(e.slug),className:"flex items-center gap-0.5 hover:text-red-600 transition-colors",children:[(0,jr.jsx)("span",{children:e.name}),e.is_verified&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]},e.id))]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:d("geral"===s?e.play_count:e.period_play_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:d(e.download_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})})]}),(0,jr.jsx)(dx,{})]})})},fx=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0);(0,t.useEffect)(()=>{i()},[]);const i=async()=>{a(!0);const{data:e,error:t}=await br.from("albums").select("\n        *,\n        artist:artists(id, name, slug, is_verified, avatar_url)\n      ").order("created_at",{ascending:!1}).limit(200);if(!t&&e){const t=e.filter(e=>!0!==e.is_private&&(null===e.deleted_at||void 0===e.deleted_at));r(t)}a(!1)},o=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,jr.jsx)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-red-600",children:[(0,jr.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,jr.jsx)("path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2"}),(0,jr.jsx)("circle",{cx:"12",cy:"12",r:"2"}),(0,jr.jsx)("path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2"})]}),(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"LAN\xc7AMENTOS RECENTES"})]})}),n?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,jr.jsx)("p",{className:"text-gray-500 mt-4",children:"Carregando..."})]}):0===e.length?(0,jr.jsxs)("div",{className:"text-center py-16",children:[(0,jr.jsx)(Bv,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum lan\xe7amento encontrado"}),(0,jr.jsx)("p",{className:"text-gray-500",children:"N\xe3o h\xe1 lan\xe7amentos recentes no momento"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:e.map(e=>{var t,r,n,a;return(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(yt,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)(yt,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id),className:"flex items-center gap-1 text-gray-500 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,jr.jsx)("span",{className:"truncate",children:(null===(n=e.artist)||void 0===n?void 0:n.name)||e.artist_name}),(null===(a=e.artist)||void 0===a?void 0:a.is_verified)&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:o(e.play_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:o(e.download_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})})]})})},px=si("music-2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]),mx=()=>{const{genre:e}=ge(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),o={"forr\xf3":"Forr\xf3",forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega funk":"Brega Funk","brega-funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk","ax\xe9":"Ax\xe9",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel","rap/hip-hop":"Rap/Hip-Hop","rap-hip-hop":"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock","eletr\xf4nica":"Eletr\xf4nica",eletronica:"Eletr\xf4nica",trap:"Trap",frevo:"Frevo"},s=e=>{if(!e)return"";const t=decodeURIComponent(e).toLowerCase();return o[t]||t.charAt(0).toUpperCase()+t.slice(1)};(0,t.useEffect)(()=>{l()},[e]);const l=async()=>{i(!0);const t=decodeURIComponent(e).toLowerCase(),r=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/-/g," "),a=r(t),{data:o}=await br.from("artists").select("id, estilo_musical"),s=(o||[]).filter(e=>{if(!e.estilo_musical)return!1;const n=r(e.estilo_musical);return n.includes(a)||n.includes(t.replace(/-/g," "))}).map(e=>e.id);if(0===s.length)return n([]),void i(!1);const{data:l,error:c}=await br.from("albums").select("\n        *,\n        artist:artists(id, name, slug, is_verified, avatar_url)\n      ").in("artist_id",s).order("created_at",{ascending:!1});!c&&l&&n(l),i(!1)},c=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0";return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,jr.jsx)("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-red-600",children:(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:s(e)})}),a?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,jr.jsx)("p",{className:"text-gray-500 mt-4",children:"Carregando..."})]}):0===r.length?(0,jr.jsxs)("div",{className:"text-center py-16",children:[(0,jr.jsx)(px,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum \xe1lbum encontrado"}),(0,jr.jsxs)("p",{className:"text-gray-500",children:["N\xe3o h\xe1 \xe1lbuns do g\xeanero ",s(e)," no momento"]})]}):(0,jr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:r.map(e=>{var t,r,n,a;return(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(yt,{to:"/".concat((null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,"/").concat(e.slug||e.id),className:"group cursor-pointer block",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-cover.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-sm mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title})]}),(0,jr.jsxs)(yt,{to:"/".concat((null===(r=e.artist)||void 0===r?void 0:r.slug)||e.artist_id),className:"flex items-center gap-1 text-gray-500 text-xs truncate hover:text-red-600 transition-colors mb-2",children:[(0,jr.jsx)("span",{className:"truncate",children:(null===(n=e.artist)||void 0===n?void 0:n.name)||e.artist_name}),(null===(a=e.artist)||void 0===a?void 0:a.is_verified)&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:c(e.play_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:c(e.download_count)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id)})})]})})},gx=si("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),vx=()=>{var e,r;const{slug:n}=ge(),{playSong:a}=zr(),{user:i}=_r(),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)("albums"),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)([]),[N,_]=(0,t.useState)(null),[S,k]=(0,t.useState)(1),E=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0",A={"forr\xf3":"Forr\xf3",forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk","ax\xe9":"Ax\xe9",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel","rap/hip-hop":"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock","eletr\xf4nica":"Eletr\xf4nica",eletronica:"Eletr\xf4nica",trap:"Trap",frevo:"Frevo"},O={"forr\xf3":"forro",forro:"forro",arrocha:"arrocha",piseiro:"piseiro",arrochadeira:"arrochadeira",pagode:"pagode",sertanejo:"sertanejo","brega funk":"brega-funk",variados:"variados",samba:"samba",funk:"funk","ax\xe9":"axe",axe:"axe",reggae:"reggae",brega:"brega",gospel:"gospel","rap/hip-hop":"rap-hip-hop",pop:"pop",mpb:"mpb",rock:"rock","eletr\xf4nica":"eletronica",eletronica:"eletronica",trap:"trap",frevo:"frevo"};(0,t.useEffect)(()=>{(async()=>{let{data:e}=await br.from("artists").select("*").eq("slug",n).maybeSingle();if(!e){const{data:t}=await br.from("artists").select("*").eq("id",n).maybeSingle();e=t}if(e){const{count:t}=await br.from("follows").select("*",{count:"exact",head:!0}).eq("artist_id",e.id),{data:r}=await br.from("albums").select("play_count").eq("artist_id",e.id),n=(r||[]).reduce((e,t)=>e+(t.play_count||0),0);p({id:e.id,name:e.name,bio:e.bio,avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",verified:e.is_verified,followers:t||0,monthlyListeners:n,genre:e.estilo_musical,location:e.cidade&&e.estado?"".concat(e.cidade,", ").concat(e.estado):e.cidade||e.estado||"",instagram:e.instagram||"",twitter:e.twitter||"",youtube:e.youtube||""})}else if(i&&i.id===n){const{error:e}=await br.from("artists").insert({id:i.id,email:i.email,name:i.name||"Artista",slug:(i.name||"artista").toLowerCase().replace(/[^a-z0-9]/g,""),bio:"",estilo_musical:i.estilo_musical||"",cidade:i.cidade||"",estado:i.estado||"",avatar_url:"",cover_url:"",followers_count:0,is_verified:!1});e?(console.error("Erro ao criar artista:",e),p(null)):p({id:i.id,name:i.name||"Artista",bio:"",avatar:"/images/default-avatar.png",coverImage:"",verified:!1,followers:0,monthlyListeners:0,genre:i.estilo_musical||""})}else{const e=Er.find(e=>e.id===n||e.slug===n);p(e||null),e&&y(Ar.filter(t=>t.artistId===e.id))}g(!1)})().then(()=>{})},[n,i]),(0,t.useEffect)(()=>{(async()=>{if(i&&null!==f&&void 0!==f&&f.id){const{data:e}=await br.from("follows").select("id").eq("follower_id",i.id).eq("artist_id",f.id).maybeSingle();l(!!e)}})()},[i,null===f||void 0===f?void 0:f.id]),(0,t.useEffect)(()=>{if(null!==f&&void 0!==f&&f.id){const e=async()=>{const{data:e}=await br.from("albums").select("*").eq("artist_id",f.id).order("created_at",{ascending:!1});console.log("Buscando colabora\xe7\xf5es para artistId:",f.id);const{data:t,error:r}=await br.from("collaboration_invites").select("album_id").eq("invited_user_id",f.id).eq("status","accepted");console.log("Colabora\xe7\xf5es encontradas:",t,"Erro:",r);let n=[];if(t&&t.length>0){const e=t.map(e=>e.album_id),{data:r}=await br.from("albums").select("*, artist:artists(slug, name)").in("id",e);console.log("\xc1lbuns de colabora\xe7\xe3o:",r),n=r||[]}const a=[...e||[],...n].filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id));if(a.length>0){const e=new Date,t=a.filter(t=>!t.is_private&&(!t.is_scheduled||(!t.scheduled_publish_at||new Date(t.scheduled_publish_at)<=e)));t.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)),y(t.map(e=>{var t;return{id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-album.png",songCount:e.song_count||0,releaseYear:e.release_year,playCount:e.play_count||0,downloadCount:e.download_count||0,isCollab:e.artist_id!==f.id,artistSlug:(null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id}}))}},t=async()=>{const{data:e,error:t}=await br.from("playlists").select("*").eq("user_id",f.id).eq("is_public",!0).order("created_at",{ascending:!1});console.log("Playlists do artista:",e,"Erro:",t),e&&b(e)},r=async()=>{try{const{data:e,error:t}=await br.from("artist_videos").select("*").eq("artist_id",f.id).eq("is_public",!0).order("created_at",{ascending:!1});if(t)return console.log("Erro ao carregar v\xeddeos do Supabase:",t),void j([]);if(e&&e.length>0){const t=e.map(e=>{return{id:e.id,title:e.title,url:e.video_url,videoId:e.video_id,thumbnail:e.thumbnail||(t=e.video_id,"https://img.youtube.com/vi/".concat(t,"/maxresdefault.jpg")),addedAt:new Date(e.created_at)};var t});j(t),_(t[0])}else j([])}catch(e){console.error("Erro ao carregar v\xeddeos:",e),j([])}};e(),t(),r()}},[null===f||void 0===f?void 0:f.id]);f&&Or.filter(e=>e.artistId===f.id);if(m)return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(!f)return(0,jr.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,jr.jsx)("p",{className:"text-black text-xl",children:"Artista n\xe3o encontrado"})});const C=async()=>{try{const{error:e}=await br.from("follows").insert({follower_id:i.id,artist_id:f.id});if(e)return console.error("Erro ao seguir:",e),"23505"===e.code?void l(!0):void Gr({title:"Erro",description:"N\xe3o foi poss\xedvel seguir. Tente novamente.",variant:"destructive"});l(!0),p(e=>(0,o.A)((0,o.A)({},e),{},{followers:(e.followers||0)+1})),Gr({title:"Seguindo",description:f.name})}catch(kX){console.error("Erro ao seguir:",kX),Gr({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}};return(0,jr.jsxs)("div",{className:"min-h-screen bg-white pb-32",children:[(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("div",{className:"h-96 bg-cover bg-center",style:{backgroundImage:"url(".concat(f.coverImage,")"),backgroundPosition:"center"},children:(0,jr.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/50 to-black"})}),(0,jr.jsx)("div",{className:"absolute bottom-0 left-0 right-0",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 pb-6",children:(0,jr.jsxs)("div",{className:"flex items-end gap-6",children:[(0,jr.jsx)("div",{className:"relative",children:(0,jr.jsx)("img",{src:f.avatar,alt:f.name,className:"w-40 h-40 rounded-full border-4 border-white shadow-2xl object-cover"})}),(0,jr.jsxs)("div",{className:"flex-1 pb-2",children:[(0,jr.jsxs)("h1",{className:"text-5xl font-bold text-white mb-2 flex items-center",children:[f.name,f.verified&&(0,jr.jsx)("div",{className:"ml-4 inline-flex items-center",children:(0,jr.jsx)("div",{className:"w-7 h-7 rounded-full bg-blue-500 flex items-center justify-center",children:(0,jr.jsx)(Hv,{className:"w-4 h-4",color:"#fff"})})})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-6 text-white/80 text-sm mt-3",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)(gp,{className:"w-4 h-4"}),(0,jr.jsxs)("span",{children:[null===(e=f.followers)||void 0===e?void 0:e.toLocaleString()," seguidores"]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)(Gm,{className:"w-4 h-4"}),(0,jr.jsxs)("span",{children:[null===(r=f.monthlyListeners)||void 0===r?void 0:r.toLocaleString()," ouvintes mensais"]})]})]})]}),(0,jr.jsx)("div",{className:"pb-2",children:(0,jr.jsx)(ds,{onClick:()=>{i?s?u(!0):C():Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para seguir artistas",variant:"destructive"})},className:"px-8 h-12 rounded-full font-semibold ".concat(s?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-red-600 text-white hover:bg-red-700"),children:s?"DEIXAR DE SEGUIR":"+ SEGUIR"})})]})})})]}),(0,jr.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"flex gap-8",children:[(0,jr.jsxs)("button",{onClick:()=>h("albums"),className:"py-4 px-2 font-semibold border-b-2 transition-colors flex items-center gap-2 ".concat("albums"===d?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:[(0,jr.jsx)(Bv,{className:"w-5 h-5"}),"CDS/SINGLES"]}),(0,jr.jsxs)("button",{onClick:()=>h("playlist"),className:"py-4 px-2 font-semibold border-b-2 transition-colors flex items-center gap-2 ".concat("playlist"===d?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:[(0,jr.jsx)(Rp,{className:"w-5 h-5"}),"PLAYLISTS"]}),(0,jr.jsxs)("button",{onClick:()=>h("videos"),className:"py-4 px-2 font-semibold border-b-2 transition-colors flex items-center gap-2 ".concat("videos"===d?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-black"),children:[(0,jr.jsx)(ay,{className:"w-5 h-5"}),"V\xcdDEOS"]})]})})}),(0,jr.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,jr.jsxs)("div",{className:"flex gap-8",children:[(0,jr.jsxs)("div",{className:"flex-1",children:["albums"===d&&(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"CDS/SINGLES"}),(0,jr.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700",children:[(0,jr.jsx)("option",{children:"MAIS RECENTES"}),(0,jr.jsx)("option",{children:"MAIS ANTIGOS"}),(0,jr.jsx)("option",{children:"A-Z"})]})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:v.map(e=>(0,jr.jsxs)(yt,{to:e.isCollab?"/".concat(e.artistSlug,"/").concat(e.slug||e.id):"/".concat((null===f||void 0===f?void 0:f.slug)||n,"/").concat(e.slug||e.id),className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-14 h-14 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-6 h-6 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-xs mb-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:E(e.playCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Plays"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded",children:[(0,jr.jsx)("span",{className:"font-bold text-gray-700",children:E(e.downloadCount)}),(0,jr.jsx)("span",{className:"text-gray-500",children:"Downloads"})]})]})]},e.id))}),0===v.length&&(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(Gm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Nenhum \xe1lbum publicado ainda"})]})]}),"playlist"===d&&(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black",children:"PLAYLISTS"}),(0,jr.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700",children:[(0,jr.jsx)("option",{children:"MAIS RECENTES"}),(0,jr.jsx)("option",{children:"MAIS ANTIGOS"}),(0,jr.jsx)("option",{children:"A-Z"})]})]}),(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:x.map(e=>(0,jr.jsxs)(yt,{to:"/playlist/".concat(e.slug||e.id),className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-full aspect-square object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-14 h-14 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-6 h-6 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h3",{className:"text-black font-semibold mb-1 truncate group-hover:text-red-600 transition-colors",children:e.title}),(0,jr.jsxs)("p",{className:"text-gray-600 text-sm",children:[(e.song_ids||[]).length," m\xfasicas"]})]},e.id))}),0===x.length&&(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(Gm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Nenhuma playlist ainda"})]})]}),"videos"===d&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"V\xcdDEOS"}),N&&(0,jr.jsxs)("div",{className:"mb-8",children:[(0,jr.jsx)("div",{className:"relative w-full bg-black rounded-lg overflow-hidden shadow-lg mb-3",children:(0,jr.jsx)("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:(0,jr.jsx)("iframe",{className:"absolute inset-0 w-full h-full",src:"https://www.youtube.com/embed/".concat(N.videoId,"?autoplay=0&controls=1&modestbranding=1"),title:N.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),(0,jr.jsx)("h3",{className:"text-black font-semibold text-lg",children:N.title})]}),w.length>0&&(0,jr.jsxs)("div",{className:"mt-8",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-black mb-4",children:"Mais v\xeddeos"}),(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6 mb-8",children:w.slice(6*(S-1),6*S).map(e=>(0,jr.jsxs)("button",{onClick:()=>_(e),className:"group cursor-pointer text-left transition-all ".concat((null===N||void 0===N?void 0:N.id)===e.id?"ring-2 ring-red-600 rounded-lg":""),children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg shadow-lg",children:[(0,jr.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full aspect-video object-cover transform group-hover:scale-110 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsx)("h4",{className:"text-black font-semibold text-sm truncate group-hover:text-red-600 transition-colors",children:e.title})]},e.id))}),Math.ceil(w.length/6)>1&&(0,jr.jsx)("div",{className:"flex justify-center items-center gap-2 mt-6",children:Array.from({length:Math.ceil(w.length/6)},(e,t)=>t+1).map(e=>(0,jr.jsx)("button",{onClick:()=>k(e),className:"px-3 py-2 rounded font-medium transition-colors ".concat(S===e?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e},e))})]}),0===w.length&&(0,jr.jsxs)("div",{className:"text-center py-20",children:[(0,jr.jsx)(ay,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Nenhum v\xeddeo ainda"})]})]})]}),(0,jr.jsx)("div",{className:"w-[420px] flex-shrink-0 hidden lg:block",children:(0,jr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-4",children:[f.bio&&(0,jr.jsxs)("div",{className:"mb-6",children:[(0,jr.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Biografia"}),(0,jr.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed text-justify",children:f.bio})]}),(f.instagram||f.twitter||f.youtube)&&(0,jr.jsxs)("div",{className:"mb-6",children:[(0,jr.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Redes Sociais"}),(0,jr.jsxs)("div",{className:"space-y-2",children:[f.instagram&&(0,jr.jsxs)("a",{href:f.instagram.startsWith("http")?f.instagram:"https://instagram.com/".concat(f.instagram.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,jr.jsx)(jp,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:f.instagram.includes("/")?f.instagram.split("/").filter(Boolean).pop():f.instagram.replace("@","")})]}),f.twitter&&(0,jr.jsxs)("a",{href:f.twitter.startsWith("http")?f.twitter:"https://twitter.com/".concat(f.twitter.replace("@","")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,jr.jsx)(Np,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:f.twitter.includes("/")?f.twitter.split("/").filter(Boolean).pop():f.twitter.replace("@","")})]}),f.youtube&&(0,jr.jsxs)("a",{href:f.youtube.startsWith("http")?f.youtube:"https://youtube.com/".concat(f.youtube),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors text-sm",children:[(0,jr.jsx)(_p,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:f.youtube.includes("/")?f.youtube.split("/").filter(Boolean).pop():f.youtube})]})]})]}),f.location&&(0,jr.jsxs)("div",{className:"mb-6",children:[(0,jr.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Localiza\xe7\xe3o"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[(0,jr.jsx)(gx,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:f.location})]})]}),f.genre&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-3 border-b border-gray-200 pb-2",children:"Estilo Musical"}),(0,jr.jsxs)(yt,{to:"/genero/".concat((e=>{if(!e)return"";const t=e.toLowerCase();return O[t]||t.replace(/\s+/g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,"")})(f.genre)),className:"flex items-center gap-2 text-gray-600 text-sm hover:text-red-600 transition-colors",children:[(0,jr.jsx)(px,{className:"w-4 h-4"}),(0,jr.jsx)("span",{children:(e=>{if(!e)return"";const t=e.toLowerCase();return A[t]||e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})(f.genre)})]})]})]})})]})}),c&&(0,jr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4 shadow-xl",children:[(0,jr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-4",children:["Deixar de seguir @",null===f||void 0===f?void 0:f.name,"?"]}),(0,jr.jsx)("p",{className:"text-gray-600 text-sm text-center mb-6",children:"Tem certeza de que deseja deixar de seguir este Artista?"}),(0,jr.jsx)("div",{className:"border-t border-gray-200",children:(0,jr.jsx)("button",{onClick:async()=>{try{const{error:e}=await br.from("follows").delete().eq("follower_id",i.id).eq("artist_id",f.id);if(e)return console.error("Erro ao deixar de seguir:",e),void Gr({title:"Erro",description:"N\xe3o foi poss\xedvel deixar de seguir. Tente novamente.",variant:"destructive"});l(!1),p(e=>(0,o.A)((0,o.A)({},e),{},{followers:Math.max((e.followers||1)-1,0)})),u(!1),Gr({title:"Deixou de seguir",description:f.name})}catch(kX){console.error("Erro ao deixar de seguir:",kX)}},className:"w-full py-3 text-red-600 font-semibold hover:bg-gray-50 transition-colors",children:"Deixar de seguir"})}),(0,jr.jsx)("div",{className:"border-t border-gray-200",children:(0,jr.jsx)("button",{onClick:()=>u(!1),className:"w-full py-3 text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancelar"})})]})})]})},yx=si("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),xx=si("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),bx=si("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),wx=()=>{const{user:e,logout:r}=_r(),n=he(),[a,i]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(null!==e&&void 0!==e&&e.id){const{data:t}=await br.from("artists").select("*").eq("id",e.id).maybeSingle();t&&i(t)}})()},[null===e||void 0===e?void 0:e.id]);const o=e=>n.pathname===e;return(0,jr.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col h-full",children:[(0,jr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,jr.jsx)("img",{src:(null===a||void 0===a?void 0:a.avatar_url)||(null===e||void 0===e?void 0:e.avatar)||"/images/default-avatar.png",alt:(null===a||void 0===a?void 0:a.name)||(null===e||void 0===e?void 0:e.name),className:"w-12 h-12 rounded-full object-cover"}),(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jr.jsx)("p",{className:"font-semibold text-gray-900",children:null===e||void 0===e?void 0:e.name}),(null===a||void 0===a?void 0:a.is_verified)&&(0,jr.jsx)(Hv,{className:"w-4 h-4 text-blue-500 flex-shrink-0"})]}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Artista"})]})]})}),(0,jr.jsxs)("nav",{className:"py-4 overflow-y-auto",children:[(0,jr.jsxs)("div",{className:"px-4 mb-4",children:[(0,jr.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"ADICIONAR"}),(0,jr.jsxs)(yt,{to:"/artist/upload",className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(o("/artist/upload")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Ko,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Novo Upload"})]})]}),(0,jr.jsxs)("div",{className:"px-4 mb-4",children:[(0,jr.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"EDITAR PERFIL"}),(0,jr.jsxs)(yt,{to:"/artist/albums",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(o("/artist/albums")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Bv,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"CDS/SINGLES"})]}),(0,jr.jsxs)(yt,{to:"/artist/playlists",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(o("/artist/playlists")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Jo,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Minhas Playlists"})]}),(0,jr.jsxs)(yt,{to:"/artist/favoritos",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(o("/artist/favoritos")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)($o,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Favoritos"})]}),(0,jr.jsxs)(yt,{to:"/artist/meus-videos",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(o("/artist/meus-videos")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(ay,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Meus V\xeddeos"})]}),(0,jr.jsxs)(yt,{to:"/".concat((null===a||void 0===a?void 0:a.slug)||(null===e||void 0===e?void 0:e.id)),className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(n.pathname.includes("/profile-public")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Vo,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Meu Perfil"})]})]}),(0,jr.jsxs)("div",{className:"px-4 mb-4",children:[(0,jr.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"COMUNICA\xc7\xc3O"}),(0,jr.jsxs)(yt,{to:"/artist/support",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(o("/artist/support")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(xx,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Suporte"})]})]}),(0,jr.jsxs)("div",{className:"px-4 mb-4",children:[(0,jr.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"DASHBOARD"}),(0,jr.jsxs)(yt,{to:"/artist/settings",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(o("/artist/settings")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Ho,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,jr.jsxs)(yt,{to:"/artist/email-senha",className:"flex items-center gap-3 px-3 py-2 rounded-lg mb-1 ".concat(o("/artist/email-senha")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(bx,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Email e senha"})]}),(0,jr.jsxs)(yt,{to:"/artist/dashboard",className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(o("/artist/dashboard")?"text-gray-900 bg-gray-100":"text-gray-600 hover:bg-gray-50"),children:[(0,jr.jsx)(Yo,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Estat\xedsticas"})]})]})]}),(0,jr.jsx)("div",{className:"px-4 pt-4 border-t border-gray-200",children:(0,jr.jsxs)("button",{onClick:r,className:"flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg w-full",children:[(0,jr.jsx)(Wo,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Sair"})]})})]})},jx=()=>{var e;Xv("artist-dashboard-new");const{user:r}=_r(),[n,a]=(0,t.useState)("geral"),[i,o]=(0,t.useState)("7"),[s,l]=(0,t.useState)("plays"),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)({plays:0,downloads:0}),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1),[N,_]=(0,t.useState)(!1),[S,k]=(0,t.useState)([]),[E,A]=(0,t.useState)(null),[O,C]=(0,t.useState)(!1),P=new Date,T=new Date(P);T.setDate(T.getDate()-1);const D=P.toLocaleDateString("pt-BR"),R=T.toLocaleDateString("pt-BR");(0,t.useEffect)(()=>{I()},[null===r||void 0===r?void 0:r.id,n,i,m,E]),(0,t.useEffect)(()=>{console.log("\n>>> Auto-select useEffect (DEPRECATED - now in loadData) <<<"),console.log("  activeTab:",n),console.log("  albums.length:",f.length),console.log("  playlists.length:",S.length),console.log("  selectedAlbum:",m),console.log("  selectedPlaylist:",E),console.log(">>> End Auto-select <<<\n")},[n,f,S,m,E]);const I=async()=>{if(null!==r&&void 0!==r&&r.id){u(!0),console.log("\n\n *** LOADATA START ***"),console.log("Current state:"),console.log("  user.id:",null===r||void 0===r?void 0:r.id),console.log("  activeTab:",n),console.log("  selectedAlbum:",m),console.log("  selectedPlaylist:",E),console.log("  albums:",f.length),console.log("  playlists:",S.length);try{let{data:t,error:a}=await br.from("albums").select("*").eq("artist_id",r.id).order("created_at",{ascending:!1});p(t||[]);let{data:o}=await br.from("playlists").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});k(o||[]),console.log("\n*** AUTO-SELECT LOGIC START ***"),console.log("activeTab:",n),console.log("selectedAlbum:",m),console.log("selectedPlaylist:",E),console.log("albumsData length:",null===t||void 0===t?void 0:t.length),console.log("playlistsData length:",null===o||void 0===o?void 0:o.length);let s=m,l=E;"cds"===n&&t&&t.length>0&&!m&&(console.log("CONDITION MET: activeTab=cds, has albums, no selection"),console.log("AUTO-SELECT: Setting first album:",t[0].id),s=t[0].id,g(t[0].id)),"playlists"===n&&o&&o.length>0&&!E?(console.log("CONDITION MET: activeTab=playlists, has playlists, no selection"),console.log("AUTO-SELECT: Setting first playlist:",o[0].id),l=o[0].id,A(o[0].id)):"playlists"===n&&(console.log("CONDITION NOT MET for auto-select:"),console.log("  activeTab===playlists?","playlists"===n),console.log("  playlistsData?",!!o),console.log("  playlistsData.length > 0?",(null===o||void 0===o?void 0:o.length)>0),console.log("  !selectedPlaylist?",!E)),console.log("finalSelectedAlbum:",s),console.log("finalSelectedPlaylist:",l),console.log("*** AUTO-SELECT LOGIC END ***\n");const c="http://localhost:8000",u=new URL("/api/statistics/artist/".concat(r.id,"/stats"),c);u.searchParams.append("period",parseInt(i)),console.log("CHECK 1: activeTab === cds?","cds"===n,"| finalSelectedAlbum?",!!s),"cds"===n&&s&&(console.log("\u2713\u2713\u2713 ENTERING CDS BRANCH with:",s),u.searchParams.append("album_id",s)),console.log("CHECK 2: activeTab === playlists?","playlists"===n,"| finalSelectedPlaylist?",!!l),"playlists"===n&&l?(console.log("\u2713\u2713\u2713 ENTERING PLAYLISTS BRANCH with:",l),console.log("\u2713 Adding playlist_id to URL:",l),u.searchParams.append("playlist_id",l),u.searchParams.append("t",Date.now())):"playlists"!==n||l||console.warn("\u26a0\ufe0f  PLAYLISTS tab but finalSelectedPlaylist is null!"),console.log("\n=== LoadData triggered ==="),console.log("  activeTab:",n),console.log("  selectedAlbum:",m),console.log("  selectedPlaylist:",E),console.log("  playlists loaded:",S.length),console.log("Final URL:",u.toString()),console.log("======================\n");const d=u.toString();console.log("DEBUG: About to fetch URL:",d),console.log("DEBUG: URL has playlist_id?",d.includes("playlist_id")),console.log("DEBUG: Full URL breakdown:",{href:u.href,search:u.search,pathname:u.pathname});try{const e=await fetch(d,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Stats response status:",e.status),e.ok){const t=await e.json();console.log("Stats data received:",t),console.log("DEBUG: Backend returned plays:",t.total_plays),console.log("DEBUG: Expected plays for this playlist: 2"),console.log("DEBUG: Plays match playlist data?",2===t.total_plays?"YES":"NO (PROBLEM!)"),h({plays:t.total_plays,downloads:t.total_downloads}),y(t.chart_data)}else{const t=await e.text();console.warn("Erro ao buscar estat\xedsticas da API:",e.status,t),h({plays:0,downloads:0});const r=parseInt(i),n=[];for(let e=0;e<r;e++){const t=new Date;t.setDate(t.getDate()-(r-1-e));const a=t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});n.push({plays:0,downloads:0,date:a})}y(n)}}catch(e){console.error("Erro no fetch:",e),h({plays:0,downloads:0}),y([])}}catch(t){console.error("Erro ao carregar dados:",t),h({plays:0,downloads:0}),y([])}finally{u(!1)}}},M=[{value:"7",label:"\xdaltimos 7 dias"},{value:"14",label:"\xdaltimos 14 dias"},{value:"30",label:"\xdaltimos 30 dias"}],L=Math.max(...v.map(e=>"plays"===s?e.plays:e.downloads),1);return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1",children:(0,jr.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,jr.jsx)("div",{className:"mb-6",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Yo,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Estat\xedsticas"})]})}),(0,jr.jsx)("div",{className:"flex gap-2 mb-6",children:[{id:"geral",label:"GERAL"},{id:"cds",label:"CDS/SINGLES"},{id:"playlists",label:"PLAYLISTS"}].map(e=>(0,jr.jsx)(ds,{onClick:()=>{a(e.id),g(null),A(null),_(!1),C(!1)},className:"rounded-full px-6 ".concat(n===e.id?"bg-red-600 hover:bg-red-700 text-white":"bg-white border border-red-600 text-red-600 hover:bg-red-50"),children:e.label},e.id))}),"cds"===n&&(0,jr.jsx)(qm,{className:"mb-6 border-red-200 overflow-hidden",children:(0,jr.jsx)(Km,{className:"p-0",children:c&&0===f.length?(0,jr.jsxs)("div",{className:"p-4 flex items-center gap-2 text-red-600",children:[(0,jr.jsx)(yx,{className:"w-4 h-4 animate-spin"}),"Carregando..."]}):0===f.length?(0,jr.jsx)("div",{className:"p-4 text-gray-500",children:"Nenhum \xe1lbum encontrado"}):(0,jr.jsx)(jr.Fragment,{children:(()=>{let e=[...f];if(m){const t=e.find(e=>e.id===m);t&&(e=[t,...e.filter(e=>e.id!==m)])}return e})().length>0&&(0,jr.jsxs)(jr.Fragment,{children:[(()=>{const e=m?[f.find(e=>e.id===m),...f.filter(e=>e.id!==m)]:f,t=e[0];return(0,jr.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b cursor-pointer hover:bg-gray-50 ".concat(m===t.id?"bg-red-50":""),onClick:()=>g(m===t.id?null:t.id),children:[(0,jr.jsx)("img",{src:t.cover_url||"/placeholder-album.jpg",alt:t.title,className:"w-12 h-12 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"font-medium text-red-600",children:t.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:["Enviado: ",new Date(t.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(t.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),f.length>1&&(0,jr.jsx)("button",{onClick:e=>{e.stopPropagation(),_(!N)},className:"p-1",children:(0,jr.jsx)(Bo,{className:"w-5 h-5 text-red-400 transition-transform ".concat(N?"rotate-180":"")})})]},t.id)})(),f.length>1&&N&&(0,jr.jsx)(jr.Fragment,{children:(()=>{const e=m?[f.find(e=>e.id===m),...f.filter(e=>e.id!==m)]:f;return e.slice(1).map(e=>(0,jr.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b last:border-b-0 cursor-pointer hover:bg-gray-50 ".concat(m===e.id?"bg-red-50":""),onClick:()=>{g(e.id),_(!1)},children:[(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-12 h-12 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"font-medium text-red-600",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:["Enviado: ",new Date(e.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]},e.id))})()})]})})})}),"playlists"===n&&(0,jr.jsx)(qm,{className:"mb-6 border-red-200 overflow-hidden",children:(0,jr.jsx)(Km,{className:"p-0",children:c&&0===S.length?(0,jr.jsxs)("div",{className:"p-4 flex items-center gap-2 text-red-600",children:[(0,jr.jsx)(yx,{className:"w-4 h-4 animate-spin"}),"Carregando..."]}):0===S.length?(0,jr.jsx)("div",{className:"p-4 text-gray-500",children:"Nenhuma playlist encontrada"}):(0,jr.jsxs)(jr.Fragment,{children:[(()=>{const e=(E?[S.find(e=>e.id===E),...S.filter(e=>e.id!==E)]:S)[0];return(0,jr.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b cursor-pointer hover:bg-gray-50 ".concat(E===e.id?"bg-red-50":""),onClick:()=>A(E===e.id?null:e.id),children:[e.cover_url?(0,jr.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-12 h-12 rounded object-cover"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded bg-red-100 flex items-center justify-center",children:(0,jr.jsx)(Gm,{className:"w-6 h-6 text-red-600"})}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"font-medium text-red-600",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:["Criada: ",new Date(e.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),S.length>1&&(0,jr.jsx)("button",{onClick:e=>{e.stopPropagation(),C(!O)},className:"p-1",children:(0,jr.jsx)(Bo,{className:"w-5 h-5 text-red-400 transition-transform ".concat(O?"rotate-180":"")})})]},e.id)})(),S.length>1&&O&&(0,jr.jsx)(jr.Fragment,{children:(E?[S.find(e=>e.id===E),...S.filter(e=>e.id!==E)]:S).slice(1).map(e=>(0,jr.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b last:border-b-0 cursor-pointer hover:bg-gray-50 ".concat(E===e.id?"bg-red-50":""),onClick:()=>{A(e.id),C(!1)},children:[e.cover_url?(0,jr.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-12 h-12 rounded object-cover"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded bg-red-100 flex items-center justify-center",children:(0,jr.jsx)(Gm,{className:"w-6 h-6 text-red-600"})}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"font-medium text-red-600",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:["Criada: ",new Date(e.created_at).toLocaleDateString("pt-BR")," \xe0s ",new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]},e.id))})]})})}),(0,jr.jsx)(qm,{className:"border-gray-200",children:(0,jr.jsxs)(Km,{className:"p-6",children:[(0,jr.jsx)("div",{className:"flex justify-end mb-4",children:(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsxs)(ds,{variant:"outline",onClick:()=>b(!x),className:"flex items-center gap-2",children:[null===(e=M.find(e=>e.value===i))||void 0===e?void 0:e.label,(0,jr.jsx)(Bo,{className:"w-4 h-4"})]}),x&&(0,jr.jsx)("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-lg z-10 min-w-[160px]",children:M.map(e=>(0,jr.jsx)("div",{onClick:()=>{o(e.value),b(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat(i===e.value?"bg-blue-50 text-blue-600":""),children:e.label},e.value))})]})}),"cds"===n&&(0,jr.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["* CDs lan\xe7ados na data de hoje (",(0,jr.jsx)("span",{className:"font-medium",children:D}),") n\xe3o est\xe3o contabilizados abaixo."]}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["* Dados atualizados at\xe9 o dia (",(0,jr.jsx)("span",{className:"font-medium",children:R}),")"]}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["** O carregamento pode demorar entre ",(0,jr.jsx)("span",{className:"font-medium",children:"20-30 segundos"})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-8 mb-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"PLAYS"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:d.plays.toLocaleString("pt-BR")})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"DOWNLOADS"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:d.downloads.toLocaleString("pt-BR")})]}),(0,jr.jsx)("div",{className:"flex-1"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)("span",{className:"text-sm text-gray-500",children:"Dados por filtro:"}),(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsxs)(ds,{variant:"outline",onClick:()=>j(!w),className:"flex items-center gap-2",children:["plays"===s?"PLAYS":"DOWNLOADS",(0,jr.jsx)(Bo,{className:"w-4 h-4"})]}),w&&(0,jr.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-lg z-10 min-w-[120px]",children:[(0,jr.jsx)("div",{onClick:()=>{l("plays"),j(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat("plays"===s?"bg-blue-50 text-blue-600":""),children:"PLAYS"}),(0,jr.jsx)("div",{onClick:()=>{l("downloads"),j(!1)},className:"px-4 py-2 cursor-pointer hover:bg-gray-100 ".concat("downloads"===s?"bg-blue-50 text-blue-600":""),children:"DOWNLOADS"})]})]})]})]}),(0,jr.jsx)("div",{className:"relative h-64 border-l border-b border-gray-300",children:c?(0,jr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"flex flex-col items-center gap-2",children:(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin border-t-blue-600"}),(0,jr.jsx)(Gm,{className:"w-6 h-6 text-red-400 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]})})}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none",children:[0,1,2,3,4].map(e=>(0,jr.jsx)("div",{className:"border-t border-gray-100 w-full"},e))}),(0,jr.jsx)("div",{className:"absolute inset-0 flex items-end justify-around px-2",children:v.map((e,t)=>{const r="plays"===s?e.plays:e.downloads,n=L>0?r/L*100:0;return(0,jr.jsx)("div",{className:"flex flex-col items-center flex-1",children:(0,jr.jsx)("div",{className:"w-2 bg-blue-500 rounded-t transition-all",style:{height:"".concat(Math.max(n,2),"%")}})},t)})}),(0,jr.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",preserveAspectRatio:"none",children:[(0,jr.jsx)("polyline",{fill:"none",stroke:"#3b82f6",strokeWidth:"2",points:v.map((e,t)=>{const r="plays"===s?e.plays:e.downloads,n=(t+.5)/v.length*100,a=100-(L>0?r/L*100:0);return"".concat(n,",").concat(a)}).join(" ")}),v.map((e,t)=>{const r="plays"===s?e.plays:e.downloads,n=(t+.5)/v.length*100,a=100-(L>0?r/L*100:0);return(0,jr.jsx)("circle",{cx:n,cy:a,r:"4",fill:"#3b82f6"},t)})]})]})}),(0,jr.jsx)("div",{className:"flex justify-around mt-2 text-xs text-gray-500",children:v.map((e,t)=>(0,jr.jsx)("span",{children:e.date},t))})]})})]})})]})},Nx=si("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),_x=si("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Sx=si("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),kx=si("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ex=si("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ax=["scope","children"];function Ox(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const a=r[0];if(1===r.length)return a;const i=()=>{const e=r.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(r){const n=e.reduce((e,t)=>{let{useScope:n,scopeName:a}=t;const i=n(r)["__scope".concat(a)];return(0,o.A)((0,o.A)({},e),i)},{});return t.useMemo(()=>({["__scope".concat(a.scopeName)]:n}),[n])}};return i.scopeName=a.scopeName,i}const Cx=["asChild"];var Px=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{const n=as("Primitive.".concat(r)),a=t.forwardRef((e,t)=>{const{asChild:a}=e,s=i(e,Cx),l=a?n:r;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,jr.jsx)(l,(0,o.A)((0,o.A)({},s),{},{ref:t}))});return a.displayName="Primitive.".concat(r),(0,o.A)((0,o.A)({},e),{},{[r]:a})},{});const Tx=["__scopeProgress","value","max","getValueLabel"],Dx=["__scopeProgress"];var Rx="Progress",Ix=100,[Mx,Lx]=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const a=()=>{const r=n.map(e=>t.createContext(e));return function(n){const a=(null===n||void 0===n?void 0:n[e])||r;return t.useMemo(()=>({["__scope".concat(e)]:(0,o.A)((0,o.A)({},n),{},{[e]:a})}),[n,a])}};return a.scopeName=e,[function(r,a){const o=t.createContext(a);o.displayName=r+"Context";const s=n.length;n=[...n,a];const l=r=>{var n;const{scope:a,children:l}=r,c=i(r,Ax),u=(null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n[s])||o,d=t.useMemo(()=>c,Object.values(c));return(0,jr.jsx)(u.Provider,{value:d,children:l})};return l.displayName=r+"Provider",[l,function(n,i){var l;const c=(null===i||void 0===i||null===(l=i[e])||void 0===l?void 0:l[s])||o,u=t.useContext(c);if(u)return u;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(r,"`"))}]},Ox(a,...r)]}(Rx),[zx,Fx]=Mx(Rx),Ux=t.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=Hx}=e,l=i(e,Tx);var c,u;!a&&0!==a||Kx(a)||console.error((c="".concat(a),u="Progress","Invalid prop `max` of value `".concat(c,"` supplied to `").concat(u,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(Ix,"`.")));const d=Kx(a)?a:Ix;null===n||Gx(n,d)||console.error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(Ix," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}("".concat(n),"Progress"));const h=Gx(n,d)?n:null,f=Vx(h)?s(h,d):void 0;return(0,jr.jsx)(zx,{scope:r,value:h,max:d,children:(0,jr.jsx)(Px.div,(0,o.A)((0,o.A)({"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Vx(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":Wx(h,d),"data-value":null!==h&&void 0!==h?h:void 0,"data-max":d},l),{},{ref:t}))})});Ux.displayName=Rx;var Bx="ProgressIndicator",qx=t.forwardRef((e,t)=>{var r;const{__scopeProgress:n}=e,a=i(e,Dx),s=Fx(Bx,n);return(0,jr.jsx)(Px.div,(0,o.A)((0,o.A)({"data-state":Wx(s.value,s.max),"data-value":null!==(r=s.value)&&void 0!==r?r:void 0,"data-max":s.max},a),{},{ref:t}))});function Hx(e,t){return"".concat(Math.round(e/t*100),"%")}function Wx(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Vx(e){return"number"===typeof e}function Kx(e){return Vx(e)&&!isNaN(e)&&e>0}function Gx(e,t){return Vx(e)&&!isNaN(e)&&e<=t&&e>=0}qx.displayName=Bx;var Yx=Ux,$x=qx;const Jx=["className","value"],Xx=t.forwardRef((e,t)=>{let{className:r,value:n}=e,a=i(e,Jx);return(0,jr.jsx)(Yx,(0,o.A)((0,o.A)({ref:t,className:So("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r)},a),{},{children:(0,jr.jsx)($x,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})}))});Xx.displayName=Yx.displayName;const Zx=["className"],Qx=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Zx);return(0,jr.jsx)("textarea",(0,o.A)({className:So("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},n))});Qx.displayName="Textarea";const eb=()=>{const{user:e}=_r(),r=me(),[n,a]=(0,t.useState)(1),[i,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)({title:"",description:"",genre:"",tags:[],coverImage:null,isPublic:!0,publishType:"immediate",scheduleDate:"",scheduleTime:"",releaseDate:"",customUrl:"",videoLink:"",albumFile:null}),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)("nao"),[j,N]=(0,t.useState)("nao"),[_,S]=(0,t.useState)([]),[k,E]=(0,t.useState)({}),[A,O]=(0,t.useState)(!1),[C,P]=(0,t.useState)([]),[T,D]=(0,t.useState)(""),[R,I]=(0,t.useState)([]),[M,L]=(0,t.useState)(!1),[z,F]=(0,t.useState)(!1),[U,B]=(0,t.useState)(!1),[q,H]=(0,t.useState)(null),W=e=>{const{name:t,value:r}=e.target;f(e=>(0,o.A)((0,o.A)({},e),{},{[t]:r}))},V=e=>{P(C.filter(t=>t.id!==e))},K=(e,t)=>{const r=e.target.files[0];if(r)if("coverImage"===t){f(e=>(0,o.A)((0,o.A)({},e),{},{[t]:r}));const e=new FileReader;e.onloadend=()=>{v(e.result)},e.readAsDataURL(r)}else f(e=>(0,o.A)((0,o.A)({},e),{},{[t]:r}))},G=e=>e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]/g,""),Y=e=>{if(1===e){if(!h.title.trim())return Gr({title:"Campo obrigat\xf3rio",description:"Por favor, preencha o T\xedtulo do \xc1lbum",variant:"destructive"}),!1;if(!h.genre)return Gr({title:"Campo obrigat\xf3rio",description:"Por favor, selecione o G\xeanero Musical",variant:"destructive"}),!1;if(!h.coverImage)return Gr({title:"Campo obrigat\xf3rio",description:"Por favor, envie a Capa do \xc1lbum",variant:"destructive"}),!1}else if(2===e){if(!h.releaseDate)return Gr({title:"Campo obrigat\xf3rio",description:"Por favor, selecione a Data de Lan\xe7amento do \xe1lbum",variant:"destructive"}),!1;if(h.customUrl&&!h.customUrl.match(/^[a-zA-Z0-9-_]*$/))return Gr({title:"URL inv\xe1lida",description:"A URL deve conter apenas letras, n\xfameros, h\xedfens e underscores",variant:"destructive"}),!1}else if(3===e&&!h.albumFile)return Gr({title:"Campo obrigat\xf3rio",description:"Por favor, envie o arquivo ZIP com as m\xfasicas",variant:"destructive"}),!1;return!0},$=()=>{Y(n)&&n<3&&a(n+1)},J=()=>{n>1&&a(n-1)},X=async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s(!0),c(0),d(!1);try{const n=new FormData;n.append("title",h.title),n.append("description",h.description||""),n.append("genre",h.genre),n.append("publishType",h.publishType),n.append("videoLink",h.videoLink||"");let i=h.releaseDate;if(i&&!i.match(/^\d{4}-\d{2}-\d{2}$/)){const e=new Date(i);isNaN(e.getTime())||(i=e.toISOString().split("T")[0])}console.log("Release date enviado:",i),n.append("releaseDate",i),n.append("customUrl",h.customUrl||G(h.title)),n.append("artistId",(null===e||void 0===e?void 0:e.id)||""),n.append("artistName",(null===e||void 0===e?void 0:e.name)||"Artista"),n.append("albumFile",h.albumFile),"scheduled"===h.publishType&&(n.append("scheduleDate",h.scheduleDate),n.append("scheduleTime",h.scheduleTime)),n.append("needsComposer",b),n.append("needsISRC",j),n.append("songMetadata",JSON.stringify(k)),n.append("collaborators",JSON.stringify(C.map(e=>e.id))),h.coverImage&&n.append("coverImage",h.coverImage);const o="http://localhost:8000",l=await new Promise((e,t)=>{const r=new XMLHttpRequest;let a=null,i=0,s=!1;r.upload.addEventListener("progress",e=>{if(e.lengthComputable){const t=e.loaded/e.total*100,r=Math.min(t,85),n=i+.3*(r-i);i=n,c(Math.round(n))}}),a=setInterval(()=>{s||c(e=>e<85?Math.round(Math.min(e+3*Math.random()+.5,85)):e)},400),r.addEventListener("load",()=>{s=!0,a&&clearInterval(a);let n=i;a=setInterval(()=>{n+=4*Math.random()+2,n>=100&&(n=100,clearInterval(a)),c(Math.round(n))},250),200===r.status||201===r.status?e(JSON.parse(r.responseText)):t(new Error(JSON.parse(r.responseText).detail||"Erro ao fazer upload"))}),r.addEventListener("error",()=>{s=!0,a&&clearInterval(a),t(new Error("Erro na conex\xe3o"))}),r.addEventListener("abort",()=>{s=!0,a&&clearInterval(a),t(new Error("Upload cancelado"))}),r.open("POST","".concat(o,"/api/album-upload/upload")),r.send(n)});c(100),s(!1),d(!0),t&&l.songs?(S(l.songs.map((e,t)=>({id:t+1,name:e.title||"M\xfasica ".concat(t+1),composer:"",isrc:""}))),setTimeout(()=>{d(!1),a(4)},1500)):(Gr({title:"\xc1lbum publicado!",description:'"'.concat(l.album.title,'" foi enviado com ').concat(l.songs.length," m\xfasicas!")}),setTimeout(()=>{f({title:"",description:"",genre:"",tags:[],coverImage:null,videoLink:"",isPublic:!0,publishType:"immediate",scheduleDate:"",scheduleTime:"",releaseDate:"",customUrl:"",albumFile:null}),v(null),d(!1),c(0),a(1);document.querySelectorAll('input[type="file"]').forEach(e=>e.value=""),r("/artist/albums")},3e3))}catch(n){s(!1),c(0),Gr({title:"Erro no upload",description:n.message||"N\xe3o foi poss\xedvel enviar o \xe1lbum. Tente novamente.",variant:"destructive"})}},Z=h.customUrl||G(h.title);return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1",children:(0,jr.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[(0,jr.jsx)("div",{className:"mb-8",children:(0,jr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[(0,jr.jsx)(Ko,{className:"w-8 h-8 text-red-600"}),"Upload de \xc1lbum"]})}),(0,jr.jsx)("div",{className:"mb-8",children:(0,jr.jsx)("div",{className:"flex items-center justify-between",children:[1,2,3].map(e=>(0,jr.jsxs)(t.Fragment,{children:[(0,jr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,jr.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs transition-all ".concat(e===n?"bg-red-600 text-white scale-110":e<n?"bg-green-600 text-white":"bg-gray-300 text-gray-700"),children:e<n?(0,jr.jsx)(Nx,{className:"w-3.5 h-3.5"}):e}),(0,jr.jsxs)("p",{className:"text-xs leading-tight ".concat(e===n?"text-red-600 font-semibold":"text-gray-600"),style:{marginTop:"2px",lineHeight:"1.2"},children:[1===e&&"Informa\xe7\xf5es\nB\xe1sicas",2===e&&"Privacidade\ne URL",3===e&&"Upload do\nArquivo"]})]}),e<3&&(0,jr.jsx)("div",{className:"flex-1 h-0.5 mx-1 ".concat(e<n?"bg-green-600":"bg-gray-300")})]},e))})}),1===n&&(0,jr.jsx)(qm,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),$()},className:"p-8 space-y-12",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Etapa 1: Informa\xe7\xf5es B\xe1sicas"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600",children:"Preencha os detalhes do seu \xe1lbum"})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[(0,jr.jsx)("div",{className:"md:col-span-3",children:(0,jr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,jr.jsx)("label",{htmlFor:"coverImage",className:"w-[175px] h-[175px] bg-gray-100 border-2 border-gray-300 rounded-lg overflow-hidden mb-4 flex items-center justify-center cursor-pointer hover:border-red-500 transition-colors",children:g?(0,jr.jsx)("img",{src:g,alt:"Capa do \xe1lbum",className:"w-full h-full object-cover"}):(0,jr.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:(0,jr.jsx)(_x,{className:"w-12 h-12 text-gray-400"})})}),(0,jr.jsxs)("label",{htmlFor:"coverImage",className:"w-[170px] flex items-center justify-center gap-1.5 bg-red-600 hover:bg-red-700 active:bg-red-800 font-semibold py-1.5 px-2 rounded-lg cursor-pointer transition-colors mb-2 whitespace-nowrap text-sm",style:{color:"white"},children:[(0,jr.jsx)(Sx,{className:"w-3.5 h-3.5 flex-shrink-0"}),"Capa do \xc1lbum"]}),(0,jr.jsx)("input",{id:"coverImage",type:"file",accept:"image/*",onChange:e=>K(e,"coverImage"),className:"hidden"}),(0,jr.jsxs)("p",{className:"text-xs text-gray-500 text-center mt-2",children:["M\xednimo 500x500px",(0,jr.jsx)("br",{}),"JPG, PNG ou GIF"]})]})}),(0,jr.jsxs)("div",{className:"md:col-span-9 space-y-5",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{htmlFor:"title",className:"text-gray-700 font-semibold",children:"T\xedtulo do \xc1lbum *"}),(0,jr.jsx)(Zo,{id:"title",name:"title",value:h.title,onChange:W,placeholder:"Ex: Meu Primeiro \xc1lbum",className:"mt-2 border-gray-300 focus:border-red-500 focus:ring-red-500",required:!0})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{htmlFor:"description",className:"text-gray-700 font-semibold",children:"Descri\xe7\xe3o"}),(0,jr.jsx)(Qx,{id:"description",name:"description",value:h.description,onChange:e=>{e.target.value.length<=500&&f(t=>(0,o.A)((0,o.A)({},t),{},{description:e.target.value}))},placeholder:"Descreva seu \xe1lbum...",rows:3,maxLength:500,className:"mt-2 border-gray-300 focus:border-red-500 focus:ring-red-500 resize-none"}),(0,jr.jsxs)("p",{className:"text-xs mt-1 ".concat(h.description.length>=500?"text-red-500":"text-gray-500"),children:[h.description.length,"/500 caracteres"]})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{className:"text-gray-700 font-semibold",children:"G\xeanero Musical *"}),(0,jr.jsxs)(Qy,{open:y,onOpenChange:x,children:[(0,jr.jsx)(ex,{asChild:!0,children:(0,jr.jsxs)("button",{className:"mt-2 w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-red-500 text-left",children:[(0,jr.jsx)("span",{className:h.genre?"text-gray-900":"text-gray-500",children:h.genre?(()=>{const e=[{value:"forro",label:"Forr\xf3"},{value:"arrocha",label:"Arrocha"},{value:"piseiro",label:"Piseiro"},{value:"arrochadeira",label:"Arrochadeira"},{value:"pagode",label:"Pagode"},{value:"sertanejo",label:"Sertanejo"},{value:"brega-funk",label:"Brega Funk"},{value:"variados",label:"Variados"},{value:"samba",label:"Samba"},{value:"funk",label:"Funk"},{value:"axe",label:"Ax\xe9"},{value:"reggae",label:"Reggae"},{value:"brega",label:"Brega"},{value:"gospel",label:"Gospel"},{value:"rap-hiphop",label:"Rap/Hip-Hop"},{value:"pop",label:"Pop"},{value:"mpb",label:"MPB"},{value:"rock",label:"Rock"},{value:"eletronica",label:"Eletr\xf4nica"},{value:"podcast",label:"Podcast"},{value:"trap",label:"Trap"},{value:"frevo",label:"Frevo"}].find(e=>e.value===h.genre);return e?e.label:h.genre})():"Selecione o g\xeanero"}),(0,jr.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})}),(0,jr.jsx)(tx,{side:"top",align:"start",className:"w-80 p-0 max-h-80 overflow-y-auto",children:(0,jr.jsx)("div",{className:"flex flex-col",children:[{value:"forro",label:"Forr\xf3"},{value:"arrocha",label:"Arrocha"},{value:"piseiro",label:"Piseiro"},{value:"arrochadeira",label:"Arrochadeira"},{value:"pagode",label:"Pagode"},{value:"sertanejo",label:"Sertanejo"},{value:"brega-funk",label:"Brega Funk"},{value:"variados",label:"Variados"},{value:"samba",label:"Samba"},{value:"funk",label:"Funk"},{value:"axe",label:"Ax\xe9"},{value:"reggae",label:"Reggae"},{value:"brega",label:"Brega"},{value:"gospel",label:"Gospel"},{value:"rap-hiphop",label:"Rap/Hip-Hop"},{value:"pop",label:"Pop"},{value:"mpb",label:"MPB"},{value:"rock",label:"Rock"},{value:"eletronica",label:"Eletr\xf4nica"},{value:"podcast",label:"Podcast"},{value:"trap",label:"Trap"},{value:"frevo",label:"Frevo"}].map(e=>(0,jr.jsx)("button",{onClick:()=>{f(t=>(0,o.A)((0,o.A)({},t),{},{genre:e.value})),x(!1)},className:"px-4 py-3 text-left text-sm font-medium transition-all border-2 ".concat(h.genre===e.value?"bg-red-600 text-white border-red-600":"text-red-600 border-transparent hover:bg-red-600 hover:text-white"),children:e.label},e.value))})})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{htmlFor:"tags",className:"text-gray-700 font-semibold",children:"Tags (Digite cada tag separada por ENTER)"}),(0,jr.jsx)(Zo,{id:"tags",type:"text",value:p,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&p.trim()&&(e.preventDefault(),h.tags.includes(p.trim())||f(e=>(0,o.A)((0,o.A)({},e),{},{tags:[...e.tags,p.trim()]})),m(""))},placeholder:"Ex: sertanejo, tradicional, nordeste",className:"mt-2 border-gray-300 focus:border-red-500 focus:ring-red-500"}),h.tags.length>0&&(0,jr.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:h.tags.map((e,t)=>(0,jr.jsxs)("div",{className:"bg-red-600 text-white text-xs px-3 py-1 rounded-full flex items-center gap-2",children:[e,(0,jr.jsx)("button",{type:"button",onClick:()=>{return e=t,void f(t=>(0,o.A)((0,o.A)({},t),{},{tags:t.tags.filter((t,r)=>r!==e)}));var e},className:"text-white hover:text-red-200 font-bold",children:"\xd7"})]},t))})]})]}),(0,jr.jsxs)("div",{className:"border rounded-xl p-5 bg-gradient-to-br from-gray-50 to-white",children:[(0,jr.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:(0,jr.jsx)(gp,{className:"w-6 h-6 text-red-600"})}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)(Im,{className:"text-gray-900 font-semibold text-lg block mb-1",children:"Colaboradores"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Convide outros artistas para colaborar. O \xe1lbum aparecer\xe1 no perfil de todos os colaboradores que aceitarem."})]})]}),(0,jr.jsxs)(ds,{type:"button",onClick:()=>B(!0),variant:"outline",className:"w-full border-2 border-dashed border-gray-300 hover:border-red-400 hover:bg-red-50 text-gray-700 hover:text-red-600 font-medium py-3 rounded-lg transition-all flex items-center justify-center gap-2",children:[(0,jr.jsx)(kx,{className:"w-5 h-5"}),"Convidar colaborador"]}),C.length>0&&(0,jr.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,jr.jsxs)("p",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,jr.jsx)(gp,{className:"w-4 h-4"}),"Colaboradores adicionados (",C.length,")"]}),(0,jr.jsx)("div",{className:"space-y-2",children:C.map(e=>(0,jr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow group",children:[e.profile_image?(0,jr.jsx)("img",{src:e.profile_image,alt:e.name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0 border-2 border-gray-200"}):(0,jr.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center flex-shrink-0 text-white text-sm font-bold",children:e.name[0]}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,jr.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),e.verified&&(0,jr.jsxs)("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#00bcd4"},children:[(0,jr.jsx)("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),(0,jr.jsx)("path",{d:"m9 12 2 2 4-4"})]})]}),(0,jr.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700 mt-1",children:[(0,jr.jsx)(ey,{className:"w-3 h-3"}),"Aguardando resposta"]})]}),(0,jr.jsx)("button",{type:"button",onClick:()=>V(e.id),className:"text-gray-400 hover:text-red-600 flex-shrink-0 transition-colors opacity-0 group-hover:opacity-100",title:"Remover colaborador",children:(0,jr.jsx)(li,{className:"w-5 h-5"})})]},e.id))})]})]})]})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 pt-6",children:[(0,jr.jsx)("div",{className:"md:col-span-3"}),(0,jr.jsxs)("div",{className:"md:col-span-9 flex gap-4",children:[(0,jr.jsx)(ds,{type:"button",variant:"outline",disabled:!0,className:"flex-1 opacity-50 cursor-not-allowed",children:"Voltar"}),(0,jr.jsx)(ds,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold",children:"Pr\xf3ximo"})]})]})]})}),2===n&&(0,jr.jsx)(qm,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),$()},className:"p-6 space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Etapa 2: Privacidade e URL"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Configure como seu \xe1lbum ser\xe1 acess\xedvel"})]}),(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{className:"text-gray-700 font-semibold",children:"Visibilidade do \xc1lbum"}),(0,jr.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,jr.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors",style:{borderColor:"immediate"===h.publishType?"#dc2626":"#d1d5db"},children:[(0,jr.jsx)("input",{type:"radio",name:"publishType",value:"immediate",checked:"immediate"===h.publishType,onChange:()=>f(e=>(0,o.A)((0,o.A)({},e),{},{publishType:"immediate"})),className:"w-4 h-4 text-red-600 cursor-pointer"}),(0,jr.jsxs)("div",{className:"ml-4 flex-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,jr.jsx)(Ex,{className:"w-5 h-5 text-red-600"}),(0,jr.jsx)("span",{className:"font-semibold text-gray-900",children:"P\xfablico"})]}),(0,jr.jsx)("p",{className:"text-sm text-gray-600",children:"Qualquer pessoa pode acessar e ouvir seu \xe1lbum"})]})]}),(0,jr.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors",style:{borderColor:"private"===h.publishType?"#dc2626":"#d1d5db"},children:[(0,jr.jsx)("input",{type:"radio",name:"publishType",value:"private",checked:"private"===h.publishType,onChange:()=>f(e=>(0,o.A)((0,o.A)({},e),{},{publishType:"private"})),className:"w-4 h-4 text-red-600 cursor-pointer"}),(0,jr.jsxs)("div",{className:"ml-4 flex-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,jr.jsx)(bx,{className:"w-5 h-5 text-red-600"}),(0,jr.jsx)("span",{className:"font-semibold text-gray-900",children:"Privado"})]}),(0,jr.jsx)("p",{className:"text-sm text-gray-600",children:"Apenas voc\xea pode acessar este \xe1lbum"})]})]}),(0,jr.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors",style:{borderColor:"scheduled"===h.publishType?"#dc2626":"#d1d5db"},children:[(0,jr.jsx)("input",{type:"radio",name:"publishType",value:"scheduled",checked:"scheduled"===h.publishType,onChange:()=>f(e=>(0,o.A)((0,o.A)({},e),{},{publishType:"scheduled"})),className:"w-4 h-4 text-red-600 cursor-pointer"}),(0,jr.jsxs)("div",{className:"ml-4 flex-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,jr.jsx)(ey,{className:"w-5 h-5 text-red-600"}),(0,jr.jsx)("span",{className:"font-semibold text-gray-900",children:"Programar"})]}),(0,jr.jsx)("p",{className:"text-sm text-gray-600",children:"Selecione uma data e hora para tornar o conte\xfado p\xfablico"})]})]}),"scheduled"===h.publishType&&(0,jr.jsxs)("div",{className:"ml-8 space-y-3",children:[(0,jr.jsxs)("div",{className:"flex gap-4 w-fit",children:[(0,jr.jsx)(Zo,{id:"scheduleDate",type:"date",value:h.scheduleDate,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{scheduleDate:e.target.value})),className:"border-gray-300 focus:border-red-500 focus:ring-red-500 h-12 px-3 w-44 text-base",style:{fontSize:"16px"}}),(0,jr.jsx)(Zo,{id:"scheduleTime",type:"time",value:h.scheduleTime,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{scheduleTime:e.target.value})),className:"border-gray-300 focus:border-red-500 focus:ring-red-500 h-12 px-3 w-32 text-base",style:{fontSize:"16px"}})]}),(0,jr.jsxs)("p",{className:"text-xs text-gray-600",children:["O \xe1lbum ser\xe1 ",(0,jr.jsx)("strong",{children:"Privado"})," antes da data e hora agendada"]})]})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsxs)(Im,{className:"text-gray-700 font-semibold mb-2 block",children:["Data de Lan\xe7amento ",(0,jr.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Escolha a data em que o \xe1lbum foi lan\xe7ado. Isso afeta a ordem como ele aparece no seu perfil."}),(0,jr.jsx)("input",{type:"date",name:"releaseDate",value:h.releaseDate||"",onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{releaseDate:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-red-500 focus:ring-red-500 focus:outline-none",required:!0})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{htmlFor:"customUrl",className:"text-gray-700",children:"URL do \xc1lbum"}),(0,jr.jsxs)("div",{className:"mt-2",children:[(0,jr.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg border border-gray-300 overflow-hidden",children:[(0,jr.jsx)("span",{className:"px-4 py-2 text-gray-600 text-sm font-medium whitespace-nowrap",children:"musicasua.com/"}),(0,jr.jsx)(Zo,{id:"customUrl",name:"customUrl",value:h.customUrl,onChange:W,placeholder:G(h.title)||"seu-album",className:"flex-1 border-0 bg-transparent px-4 py-2 text-gray-900 placeholder-gray-500"})]}),(0,jr.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Se deixar em branco, ser\xe1 usada: ",(0,jr.jsxs)("span",{className:"font-semibold",children:["musicasua.com/",Z||"seu-album"]})]}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Use apenas letras, n\xfameros, h\xedfens e underscores"})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{htmlFor:"videoLink",className:"text-gray-700",children:"Link do V\xeddeo (Opcional)"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Ex: https://youtu.be/EPquJPEilnPI"}),(0,jr.jsx)(Zo,{id:"videoLink",name:"videoLink",type:"url",value:h.videoLink,onChange:W,placeholder:"https://youtube.com/watch?v=...",className:"mt-2"}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Cole um link do YouTube para exibir o v\xeddeo na p\xe1gina do \xe1lbum"})]}),(0,jr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,jr.jsx)("p",{className:"text-xs text-gray-600 font-semibold mb-2",children:"PR\xc9VIA:"}),(0,jr.jsxs)("div",{className:"bg-white p-3 rounded border border-gray-200",children:[(0,jr.jsx)("p",{className:"text-sm text-gray-900",children:(0,jr.jsx)("strong",{children:h.title})}),(0,jr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["musicasua.com/",Z||"seu-album"]})]})]})]}),(0,jr.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,jr.jsx)(ds,{type:"button",variant:"outline",onClick:J,className:"flex-1",children:"Voltar"}),(0,jr.jsx)(ds,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Pr\xf3ximo"})]})]})}),3===n&&(0,jr.jsx)(qm,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),Y(3)&&O(!0)},className:"p-6 space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Etapa 3: Upload do Arquivo"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Envie o arquivo ZIP com todas as m\xfasicas do seu \xe1lbum"})]}),(0,jr.jsx)(qm,{className:"bg-blue-50 border-blue-200",children:(0,jr.jsx)("div",{className:"p-6",children:(0,jr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,jr.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,jr.jsx)("span",{className:"text-white text-sm font-bold",children:"!"})}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Como preparar seu arquivo ZIP"}),(0,jr.jsxs)("ol",{className:"text-sm text-gray-700 space-y-2 list-decimal list-inside",children:[(0,jr.jsx)("li",{children:"Crie uma pasta com todas as suas m\xfasicas em formato MP3"}),(0,jr.jsx)("li",{children:"Nomeie os arquivos de forma organizada (ex: 01-Nome da M\xfasica.mp3)"}),(0,jr.jsx)("li",{children:"Compacte a pasta em um arquivo ZIP"}),(0,jr.jsx)("li",{children:"Envie o arquivo nesta p\xe1gina"})]})]})]})})}),(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{htmlFor:"albumFile",className:"text-gray-700",children:"Arquivo ZIP com as M\xfasicas *"}),(0,jr.jsx)("div",{className:"mt-2",children:(0,jr.jsxs)("label",{htmlFor:"albumFile",className:"flex items-center justify-center w-full px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-red-500 transition-colors",children:[(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(Ko,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,jr.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:h.albumFile?h.albumFile.name:"Clique ou arraste o arquivo ZIP"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Envie um arquivo ZIP contendo todas as m\xfasicas em formato MP3"})]}),(0,jr.jsx)("input",{id:"albumFile",type:"file",accept:".zip,.rar",onChange:e=>K(e,"albumFile"),className:"hidden",disabled:i})]})})]}),i&&(0,jr.jsxs)("div",{className:"space-y-3 p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,jr.jsx)("span",{className:"text-gray-700 font-medium",children:"Enviando \xe1lbum..."}),(0,jr.jsxs)("span",{className:"text-gray-900 font-bold",children:[l,"%"]})]}),(0,jr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,jr.jsx)("div",{className:"bg-red-600 h-full rounded-full transition-all duration-300",style:{width:"".concat(l,"%")}})}),(0,jr.jsx)("p",{className:"text-xs text-gray-600",children:"Por favor, n\xe3o feche esta p\xe1gina"})]}),u&&(0,jr.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200 flex items-center gap-3",children:[(0,jr.jsx)(Nx,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-green-900 font-semibold",children:"\xc1lbum publicado com sucesso!"}),(0,jr.jsx)("p",{className:"text-green-700 text-sm",children:"Seu \xe1lbum j\xe1 est\xe1 dispon\xedvel na plataforma"})]})]})]}),(0,jr.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,jr.jsx)(ds,{type:"button",variant:"outline",onClick:J,disabled:i||u,className:"flex-1",children:"Voltar"}),(0,jr.jsxs)(ds,{type:"submit",disabled:i||u||!h.albumFile,className:"flex-1 bg-red-600 hover:bg-red-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,jr.jsx)(Ko,{className:"w-5 h-5 mr-2"}),i?"Enviando ".concat(l,"%..."):u?"Enviado!":"Publicar \xc1lbum"]})]})]})}),A&&(0,jr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,jr.jsx)(qm,{className:"bg-white shadow-lg w-full max-w-2xl mx-auto",children:(0,jr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Informa\xe7\xf5es do \xc1lbum"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600",children:"Selecione se deseja preencher compositor e ISRC das m\xfasicas"})]}),(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{className:"text-gray-900 font-semibold mb-4 block",children:"COMPOSITOR(A)"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Selecione se h\xe1 compositor(a) no arquivo."}),(0,jr.jsxs)("div",{className:"flex gap-6",children:[(0,jr.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,jr.jsx)("input",{type:"radio",name:"composer",value:"sim",checked:"sim"===b,onChange:e=>w(e.target.value),className:"w-4 h-4 text-red-600"}),(0,jr.jsx)("span",{className:"text-gray-700",children:"Sim"})]}),(0,jr.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,jr.jsx)("input",{type:"radio",name:"composer",value:"nao",checked:"nao"===b,onChange:e=>w(e.target.value),className:"w-4 h-4 text-red-600"}),(0,jr.jsx)("span",{className:"text-gray-700",children:"N\xe3o"})]})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{className:"text-gray-900 font-semibold mb-4 block",children:"ISRC"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Selecione se as m\xfasicas do \xe1lbum cont\xeam ISRC (International Standard Recording Code - C\xf3digo de Grava\xe7\xe3o Padr\xe3o Internacional)."}),(0,jr.jsxs)("div",{className:"flex gap-6",children:[(0,jr.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,jr.jsx)("input",{type:"radio",name:"isrc",value:"sim",checked:"sim"===j,onChange:e=>N(e.target.value),className:"w-4 h-4 text-red-600"}),(0,jr.jsx)("span",{className:"text-gray-700",children:"Sim"})]}),(0,jr.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,jr.jsx)("input",{type:"radio",name:"isrc",value:"nao",checked:"nao"===j,onChange:e=>N(e.target.value),className:"w-4 h-4 text-red-600"}),(0,jr.jsx)("span",{className:"text-gray-700",children:"N\xe3o"})]})]})]})]}),(0,jr.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,jr.jsx)(ds,{type:"button",variant:"outline",onClick:()=>O(!1),className:"flex-1",children:"Cancelar"}),(0,jr.jsx)(ds,{onClick:async()=>{O(!1),X("sim"===b||"sim"===j)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Continuar"})]})]})})}),4===n&&(0,jr.jsx)(qm,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Enviado com sucesso!"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600",children:"Preencha mais informa\xe7\xf5es sobre as faixas (Compositores, ISRC, linguagem expl\xedcita, etc.)"})]}),(0,jr.jsx)("div",{className:"space-y-6",children:_.map((e,t)=>{var r,n;return(0,jr.jsxs)("div",{className:"space-y-3",children:[(0,jr.jsx)("div",{children:(0,jr.jsx)("h3",{className:"text-gray-900 font-semibold text-lg",children:e.name})}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["sim"===b&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{htmlFor:"composer-".concat(e.id),className:"text-gray-700 font-semibold mb-2 block",children:"Compositores (opcional)"}),(0,jr.jsx)(Zo,{id:"composer-".concat(e.id),type:"text",placeholder:"Digite aqui o compositor",value:(null===(r=k[e.id])||void 0===r?void 0:r.composer)||"",onChange:t=>E(r=>(0,o.A)((0,o.A)({},r),{},{[e.id]:(0,o.A)((0,o.A)({},r[e.id]),{},{composer:t.target.value})})),className:"border-gray-300 focus:border-red-500 focus:ring-red-500"})]}),"sim"===j&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{htmlFor:"isrc-".concat(e.id),className:"text-gray-700 font-semibold mb-2 block",children:"ISRC (opcional)"}),(0,jr.jsx)(Zo,{id:"isrc-".concat(e.id),type:"text",placeholder:"Insira o ISRC da faixa",value:(null===(n=k[e.id])||void 0===n?void 0:n.isrc)||"",onChange:t=>E(r=>(0,o.A)((0,o.A)({},r),{},{[e.id]:(0,o.A)((0,o.A)({},r[e.id]),{},{isrc:t.target.value})})),className:"border-gray-300 focus:border-red-500 focus:ring-red-500"})]})]}),t<_.length-1&&(0,jr.jsx)("hr",{className:"border-gray-200 mt-6"})]},e.id)})}),(0,jr.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,jr.jsx)(ds,{type:"button",variant:"outline",onClick:J,disabled:i,className:"flex-1",children:"Voltar"}),(0,jr.jsxs)(ds,{onClick:()=>X(!1),disabled:i,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[(0,jr.jsx)(Ko,{className:"w-5 h-5 mr-2"}),i?"Publicando ".concat(l,"%..."):"Publicar"]})]})]})}),U&&(0,jr.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,jr.jsxs)(qm,{className:"bg-white shadow-2xl w-full max-w-lg mx-auto rounded-2xl overflow-hidden",children:[(0,jr.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-6 py-5",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,jr.jsx)(gp,{className:"w-5 h-5 text-white"})}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-white",children:"Convidar Colaboradores"}),(0,jr.jsx)("p",{className:"text-red-100 text-sm",children:"Busque artistas para colaborar"})]})]}),(0,jr.jsx)("button",{onClick:()=>{B(!1),D(""),I([]),F(!1)},className:"text-white/80 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-full",children:(0,jr.jsx)(li,{className:"w-6 h-6"})})]})}),(0,jr.jsxs)("div",{className:"p-6 space-y-4",children:[(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsxs)("div",{className:"relative flex items-center",children:[(0,jr.jsx)(qo,{className:"absolute left-4 w-5 h-5 text-gray-400 pointer-events-none"}),(0,jr.jsx)(Zo,{type:"text",placeholder:"Digite o nome do artista...",value:T,onChange:e=>(async e=>{if(D(e),!e.trim())return I([]),void F(!1);L(!0),F(!0);try{const t="http://localhost:8000",r=await fetch("".concat(t,"/api/artists/search?q=").concat(encodeURIComponent(e)));if(r.ok){const e=await r.json();console.log("Artistas encontrados:",e),I(Array.isArray(e)?e:[])}else console.error("Erro na resposta:",r.status),I([])}catch(t){console.error("Erro ao buscar artistas:",t),I([])}finally{L(!1)}})(e.target.value),className:"pl-12 pr-4 py-3 h-12 text-base border-2 border-gray-200 focus:border-red-500 focus:ring-red-500 rounded-xl",autoFocus:!0})]}),z&&(0,jr.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl z-20 max-h-80 overflow-y-auto border border-gray-200",children:[M&&(0,jr.jsxs)("div",{className:"p-4 text-center text-sm text-gray-500",children:[(0,jr.jsx)("span",{className:"inline-block animate-spin",children:"\u231b"})," Buscando..."]}),!M&&0===R.length&&T.trim()&&(0,jr.jsxs)("div",{className:"p-4 text-center text-sm text-gray-500",children:['Nenhum artista encontrado para "',T,'"']}),!M&&R.length>0&&(0,jr.jsx)("div",{className:"py-2",children:R.map((e,t)=>{const r=e.name.split(" ").slice(0,2).map(e=>e[0]).join("").toUpperCase(),n=["bg-blue-500","bg-purple-500","bg-pink-500","bg-orange-500","bg-green-500","bg-red-500","bg-indigo-500","bg-cyan-500"],a=n[(e.id||"").charCodeAt(0)%n.length],i=C.some(t=>t.id===e.id);return(0,jr.jsxs)("button",{type:"button",onClick:()=>{i||(e=>{C.find(t=>t.id===e.id)||(P([...C,(0,o.A)((0,o.A)({},e),{},{status:"pending"})]),setTimeout(()=>{D(""),I([]),F(!1)},100))})(e)},disabled:i,className:"w-full text-left px-4 py-3 flex items-center gap-3 transition-colors ".concat(i?"opacity-60 cursor-not-allowed bg-gray-50":"hover:bg-gray-50 cursor-pointer"," ").concat(t<R.length-1?"border-b border-gray-100":""),children:[(0,jr.jsxs)("div",{className:"relative flex-shrink-0",children:[e.profile_image?(0,jr.jsx)("img",{src:e.profile_image,alt:e.name,className:"w-14 h-14 rounded-full object-cover border-2 border-gray-200",onError:e=>{var t;e.target.style.display="none",null===(t=e.target.nextSibling)||void 0===t||t.style.removeProperty("display")}}):null,(0,jr.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center flex-shrink-0 ".concat(a," font-bold text-white text-base border-2 border-gray-200 ").concat(e.profile_image?"hidden":""),style:e.profile_image?{display:"none"}:{},children:r})]}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,jr.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),e.verified&&(0,jr.jsxs)("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#00bcd4"},children:[(0,jr.jsx)("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),(0,jr.jsx)("path",{d:"m9 12 2 2 4-4"})]})]}),(0,jr.jsxs)("div",{className:"space-y-0.5",children:[(0,jr.jsxs)("p",{className:"text-xs text-gray-600 truncate",children:["@",e.username||e.name.toLowerCase().replace(/\s+/g,"")]}),(0,jr.jsxs)("p",{className:"text-xs font-medium text-gray-700 flex items-center gap-1",children:[(0,jr.jsx)("span",{children:"\ud83d\udc65"}),(0,jr.jsxs)("span",{children:[(e.followers||0).toLocaleString("pt-BR")," seguidores"]})]})]})]}),i&&(0,jr.jsx)("div",{className:"flex-shrink-0 text-xs font-medium text-gray-600 bg-gray-100 px-2 py-1 rounded",children:"Adicionado"})]},e.id)})})]})]}),C.length>0&&(0,jr.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,jr.jsxs)("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Colaboradores (",C.length,")"]}),(0,jr.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:C.map(e=>(0,jr.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.profile_image?(0,jr.jsx)("img",{src:e.profile_image,alt:e.name,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}):(0,jr.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:e.name.charAt(0)}),(0,jr.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-1 mb-0.5",children:[(0,jr.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),e.verified&&(0,jr.jsxs)("svg",{className:"w-3 h-3 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#00bcd4"},children:[(0,jr.jsx)("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),(0,jr.jsx)("path",{d:"m9 12 2 2 4-4"})]})]}),(0,jr.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700 mt-1",children:[(0,jr.jsx)(ey,{className:"w-3 h-3"}),"Aguardando resposta"]})]})]}),(0,jr.jsx)("button",{type:"button",onClick:()=>V(e.id),className:"text-gray-400 hover:text-red-600 transition-colors flex-shrink-0 ml-2 hover:bg-red-50 p-1 rounded",title:"Remover",children:(0,jr.jsx)(li,{className:"w-4 h-4"})})]},e.id))})]}),(0,jr.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,jr.jsx)(ds,{type:"button",variant:"outline",onClick:()=>{B(!1),setTimeout(()=>{D(""),I([]),F(!1)},100)},className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,jr.jsx)(ds,{type:"button",onClick:()=>{B(!1),setTimeout(()=>{D(""),I([]),F(!1)},100)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold",children:C.length>0?"Confirmar (".concat(C.length,")"):"Fechar"})]})]})]})})]})})]})},tb=si("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),rb=si("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),nb=si("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var ab=Symbol("radix.slottable");function ib(e){const t=e=>{let{children:t}=e;return(0,jr.jsx)(jr.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=ab,t}const ob=["__scopeAlertDialog"],sb=["__scopeAlertDialog"],lb=["__scopeAlertDialog"],cb=["__scopeAlertDialog"],ub=["__scopeAlertDialog","children"],db=["__scopeAlertDialog"],hb=["__scopeAlertDialog"],fb=["__scopeAlertDialog"],pb=["__scopeAlertDialog"];var mb="AlertDialog",[gb,vb]=on(mb,[Bg]),yb=Bg(),xb=e=>{const{__scopeAlertDialog:t}=e,r=i(e,ob),n=yb(t);return(0,jr.jsx)(yv,(0,o.A)((0,o.A)((0,o.A)({},n),r),{},{modal:!0}))};xb.displayName=mb;var bb=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=i(e,sb),a=yb(r);return(0,jr.jsx)(xv,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});bb.displayName="AlertDialogTrigger";var wb=e=>{const{__scopeAlertDialog:t}=e,r=i(e,lb),n=yb(t);return(0,jr.jsx)(bv,(0,o.A)((0,o.A)({},n),r))};wb.displayName="AlertDialogPortal";var jb=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=i(e,cb),a=yb(r);return(0,jr.jsx)(wv,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});jb.displayName="AlertDialogOverlay";var Nb="AlertDialogContent",[_b,Sb]=gb(Nb),kb=ib("AlertDialogContent"),Eb=t.forwardRef((e,r)=>{const{__scopeAlertDialog:n,children:a}=e,s=i(e,ub),l=yb(n),c=t.useRef(null),u=Zr(r,c),d=t.useRef(null);return(0,jr.jsx)(pv,{contentName:Nb,titleName:Ab,docsSlug:"alert-dialog",children:(0,jr.jsx)(_b,{scope:n,cancelRef:d,children:(0,jr.jsxs)(jv,(0,o.A)((0,o.A)((0,o.A)({role:"alertdialog"},l),s),{},{ref:u,onOpenAutoFocus:$r(s.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=d.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,jr.jsx)(kb,{children:a}),(0,jr.jsx)(Ib,{contentRef:c})]}))})})});Eb.displayName=Nb;var Ab="AlertDialogTitle",Ob=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=i(e,db),a=yb(r);return(0,jr.jsx)(Nv,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Ob.displayName=Ab;var Cb="AlertDialogDescription",Pb=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=i(e,hb),a=yb(r);return(0,jr.jsx)(_v,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Pb.displayName=Cb;var Tb=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=i(e,fb),a=yb(r);return(0,jr.jsx)(Sv,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t}))});Tb.displayName="AlertDialogAction";var Db="AlertDialogCancel",Rb=t.forwardRef((e,t)=>{const{__scopeAlertDialog:r}=e,n=i(e,pb),{cancelRef:a}=Sb(Db,r),s=yb(r),l=Zr(t,a);return(0,jr.jsx)(Sv,(0,o.A)((0,o.A)((0,o.A)({},s),n),{},{ref:l}))});Rb.displayName=Db;var Ib=e=>{let{contentRef:r}=e;const n="`".concat(Nb,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Nb,"` by passing a `").concat(Cb,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Nb,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return t.useEffect(()=>{var e;document.getElementById(null===(e=r.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(n)},[n,r]),null},Mb=jb,Lb=Eb,zb=Tb,Fb=Rb,Ub=Ob,Bb=Pb;const qb=["className"],Hb=["className"],Wb=["className"],Vb=["className"],Kb=["className"],Gb=["className"],Yb=["className"],$b=["className"],Jb=xb,Xb=wb,Zb=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,qb);return(0,jr.jsx)(Mb,(0,o.A)((0,o.A)({className:So("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n),{},{ref:t}))});Zb.displayName=Mb.displayName;const Qb=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Hb);return(0,jr.jsxs)(Xb,{children:[(0,jr.jsx)(Zb,{}),(0,jr.jsx)(Lb,(0,o.A)({ref:t,className:So("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},n))]})});Qb.displayName=Lb.displayName;const ew=e=>{let{className:t}=e,r=i(e,Wb);return(0,jr.jsx)("div",(0,o.A)({className:So("flex flex-col space-y-2 text-center sm:text-left",t)},r))};ew.displayName="AlertDialogHeader";const tw=e=>{let{className:t}=e,r=i(e,Vb);return(0,jr.jsx)("div",(0,o.A)({className:So("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},r))};tw.displayName="AlertDialogFooter";const rw=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Kb);return(0,jr.jsx)(Ub,(0,o.A)({ref:t,className:So("text-lg font-semibold",r)},n))});rw.displayName=Ub.displayName;const nw=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Gb);return(0,jr.jsx)(Bb,(0,o.A)({ref:t,className:So("text-sm text-muted-foreground",r)},n))});nw.displayName=Bb.displayName;const aw=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Yb);return(0,jr.jsx)(zb,(0,o.A)({ref:t,className:So(us(),r)},n))});aw.displayName=zb.displayName;const iw=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,$b);return(0,jr.jsx)(Fb,(0,o.A)({ref:t,className:So(us({variant:"outline"}),"mt-2 sm:mt-0",r)},n))});iw.displayName=Fb.displayName;const ow=()=>(0,jr.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 256 256",height:"1.25em",width:"1.25em",xmlns:"http://www.w3.org/2000/svg",children:(0,jr.jsx)("path",{d:"M144,80a8,8,0,0,1,8-8h96a8,8,0,0,1,0,16H152A8,8,0,0,1,144,80Zm104,40H152a8,8,0,0,0,0,16h96a8,8,0,0,0,0-16Zm0,48H176a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16Zm-96.25,22a8,8,0,0,1-5.76,9.74,7.55,7.55,0,0,1-2,.26,8,8,0,0,1-7.75-6c-6.16-23.94-30.34-42-56.25-42s-50.09,18.05-56.25,42a8,8,0,0,1-15.5-4c5.59-21.71,21.84-39.29,42.46-48a48,48,0,1,1,58.58,0C129.91,150.71,146.16,168.29,151.75,190ZM80,136a32,32,0,1,0-32-32A32,32,0,0,0,80,136Z"})}),sw=()=>{Xv("artist-albums");const{user:e}=_r(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)("published"),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)(null),[N,_]=(0,t.useState)({title:"",description:"",coverImage:"",releaseDate:"",isPrivate:!1}),[S,k]=(0,t.useState)([]),[E,A]=(0,t.useState)(null),[O,C]=(0,t.useState)(null),[P,T]=(0,t.useState)(!1),D=(0,t.useRef)(null),[R,I]=(0,t.useState)(null),[M,L]=(0,t.useState)(!1),[z,F]=(0,t.useState)({composer:"",isrc:""}),[U,B]=(0,t.useState)([]),[q,H]=(0,t.useState)(!1),[W,V]=(0,t.useState)(null),[K,G]=(0,t.useState)(!1),[Y,$]=(0,t.useState)(null);(0,t.useEffect)(()=>{X(),J(),Z()},[null===e||void 0===e?void 0:e.id]);const J=async()=>{if(null===e||void 0===e||!e.id)return;const{data:t}=await br.from("artists").select("slug").eq("id",e.id).maybeSingle();null!==t&&void 0!==t&&t.slug&&p(t.slug)},X=async()=>{if(null!==e&&void 0!==e&&e.id)try{let{data:t,error:r}=await br.from("albums").select("*").eq("artist_id",e.id).order("release_date",{ascending:!1});if(r&&"PGRST116"===r.code){const n=await br.from("albums").select("*").eq("artist_id",e.id).order("created_at",{ascending:!1});t=n.data,r=n.error}if(r)throw r;const a=new Date,o=[],s=[];(t||[]).forEach(e=>{const t={id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-album.png",songCount:e.song_count||0,releaseYear:e.release_year,releaseDate:e.release_date,genre:e.genre,description:e.description,deletedAt:e.deleted_at,isScheduled:e.is_scheduled,scheduledPublishAt:e.scheduled_publish_at,isPrivate:e.is_private||!1};if(e.deleted_at){const r=new Date(e.deleted_at),n=Math.floor((a-r)/864e5);t.daysRemaining=30-n,t.daysRemaining>0&&s.push(t)}else o.push(t)}),n(o),i(s)}catch(t){console.error("Erro ao carregar \xe1lbuns:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel carregar os \xe1lbuns",variant:"destructive"})}finally{u(!1)}else u(!1)},Z=async()=>{if(null!==e&&void 0!==e&&e.id)try{const{data:t}=await br.from("collaboration_invites").select("album_id").eq("invited_user_id",e.id).eq("status","accepted");if(t&&t.length>0){const e=t.map(e=>e.album_id),{data:r}=await br.from("albums").select("*, artist:artists(name, slug, avatar_url)").in("id",e).is("deleted_at",null);r&&l(r.map(e=>{var t,r,n;return{id:e.id,slug:e.slug,title:e.title,coverImage:e.cover_url||"/images/default-album.png",songCount:e.song_count||0,releaseYear:e.release_year,artistName:(null===(t=e.artist)||void 0===t?void 0:t.name)||"Artista",artistSlug:null===(r=e.artist)||void 0===r?void 0:r.slug,artistAvatar:null===(n=e.artist)||void 0===n?void 0:n.avatar_url}}))}else l([])}catch(t){console.error("Erro ao carregar colabora\xe7\xf5es:",t)}},Q=function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,jr.jsx)(qm,{className:"bg-white shadow-sm hover:shadow-md transition-shadow",children:(0,jr.jsxs)("div",{className:"p-4",children:[(0,jr.jsxs)("div",{className:"relative mb-4 group",children:[(0,jr.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-full aspect-square object-cover rounded-lg ".concat(r?"opacity-60":"")}),!r&&(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,jr.jsx)(yt,{to:"/".concat(f||(null===e||void 0===e?void 0:e.id),"/").concat(t.slug||t.id),children:(0,jr.jsx)(ds,{className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,jr.jsx)(Ap,{className:"w-6 h-6 ml-1",fill:"white"})})})}),r&&(0,jr.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,jr.jsx)(ey,{className:"w-3 h-3"}),t.daysRemaining," dias"]}),!r&&t.isScheduled&&t.scheduledPublishAt&&new Date(t.scheduledPublishAt)>new Date&&(0,jr.jsxs)("div",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,jr.jsx)(tb,{className:"w-3 h-3"}),"Agendado"]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:t.title}),t.isScheduled&&t.scheduledPublishAt&&new Date(t.scheduledPublishAt)>new Date&&(0,jr.jsxs)("div",{className:"text-xs text-blue-600 flex items-center gap-1",children:[(0,jr.jsx)(tb,{className:"w-3 h-3"}),"Publica em: ",new Date(t.scheduledPublishAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,jr.jsxs)("span",{children:[t.songCount," m\xfasicas"]}),(0,jr.jsx)("span",{children:t.releaseYear})]}),r?(0,jr.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,jr.jsxs)(ds,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{const{error:t}=await br.from("albums").update({deleted_at:null}).eq("id",e.id);if(t)throw t;Gr({title:"\xc1lbum restaurado",description:'"'.concat(e.title,'" foi restaurado com sucesso')}),X()}catch(t){console.error("Erro ao restaurar:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel restaurar o \xe1lbum",variant:"destructive"})}})(t),className:"flex-1 border-green-300 text-green-600 hover:bg-green-50",children:[(0,jr.jsx)(rb,{className:"w-4 h-4 mr-1"}),"Restaurar"]}),(0,jr.jsx)(ds,{variant:"outline",size:"sm",onClick:()=>{$(t),G(!0)},className:"border-red-300 text-red-600 hover:bg-red-50",children:(0,jr.jsx)(yp,{className:"w-4 h-4"})})]}):(0,jr.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,jr.jsxs)(ds,{variant:"outline",size:"sm",onClick:()=>(async e=>{j(e),_({title:e.title,description:e.description||"",coverImage:e.coverImage,releaseDate:e.releaseDate||"",isPrivate:e.isPrivate||!1}),A(null),C(null);const{data:t}=await br.from("songs").select("*").eq("album_id",e.id).order("track_number",{ascending:!0});k(t||[]);const{data:r,error:n}=await br.from("collaboration_invites").select("id, invited_user_id, status").eq("album_id",e.id);if(console.log("Colaboradores encontrados:",r,"Erro:",n),r&&r.length>0){const e=await Promise.all(r.map(async e=>{const{data:t}=await br.from("artists").select("name, avatar_url").eq("id",e.invited_user_id).maybeSingle();return(0,o.A)((0,o.A)({},e),{},{artists:t})}));B(e)}else B([]);b(!0)})(t),className:"flex-1 border-gray-300 text-gray-700",children:[(0,jr.jsx)(nb,{className:"w-4 h-4 mr-1"}),"Editar"]}),(0,jr.jsx)(ds,{variant:"outline",size:"sm",onClick:()=>{V(t),H(!0)},className:"border-red-300 text-red-600 hover:bg-red-50",children:(0,jr.jsx)(yp,{className:"w-4 h-4"})})]})]})]})},t.id)};return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1",children:(0,jr.jsxs)("div",{className:"max-w-7xl mx-auto p-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,jr.jsx)(Bv,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"CDS/SINGLES"})]}),(0,jr.jsx)("p",{className:"text-gray-600",children:c?"Carregando...":"".concat(r.length," \xe1lbuns publicados")})]}),(0,jr.jsx)(yt,{to:"/artist/upload",children:(0,jr.jsxs)(ds,{className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,jr.jsx)(Vv,{className:"w-5 h-5 mr-2"}),"Novo \xc1lbum"]})})]}),(0,jr.jsxs)(wg,{value:d,onValueChange:h,className:"w-full",children:[(0,jr.jsxs)(jg,{className:"mb-6",children:[(0,jr.jsxs)(Ng,{value:"published",className:"flex items-center gap-2",children:[(0,jr.jsx)(Go,{className:"w-4 h-4"}),"Publicados (",r.length,")"]}),(0,jr.jsxs)(Ng,{value:"collaborations",className:"flex items-center gap-2",children:[(0,jr.jsx)(gp,{className:"w-4 h-4"}),"Colabora\xe7\xf5es (",s.length,")"]}),(0,jr.jsxs)(Ng,{value:"trash",className:"flex items-center gap-2",children:[(0,jr.jsx)(yp,{className:"w-4 h-4"}),"Lixeira (",a.length,")"]})]}),(0,jr.jsx)(_g,{value:"published",children:r.length>0?(0,jr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(e=>Q(e,!1))}):(0,jr.jsx)(qm,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("div",{className:"p-12 text-center",children:[(0,jr.jsx)(Go,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum \xe1lbum ainda"}),(0,jr.jsx)("p",{className:"text-gray-600 mb-6",children:"Comece a compartilhar sua m\xfasica com o mundo"}),(0,jr.jsx)(yt,{to:"/artist/upload",children:(0,jr.jsxs)(ds,{className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,jr.jsx)(Vv,{className:"w-5 h-5 mr-2"}),"Fazer Primeiro Upload"]})})]})})}),(0,jr.jsxs)(_g,{value:"collaborations",children:[(0,jr.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,jr.jsxs)("p",{className:"text-red-800 text-sm",children:[(0,jr.jsx)("strong",{children:"Colabora\xe7\xf5es:"})," Aqui voc\xea ver\xe1 os \xe1lbuns nos quais aceitou participar como colaborador. Caso queira remover sua colabora\xe7\xe3o, basta clicar na op\xe7\xe3o sair."]})}),s.length>0?(0,jr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(e=>(0,jr.jsx)(qm,{className:"bg-white shadow-sm hover:shadow-md transition-shadow",children:(0,jr.jsxs)("div",{className:"p-4",children:[(0,jr.jsxs)("div",{className:"relative mb-4 group",children:[(0,jr.jsx)("img",{src:e.coverImage,alt:e.title,className:"w-full aspect-square object-cover rounded-lg"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 rounded-lg flex items-center justify-center",children:(0,jr.jsx)(yt,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),children:(0,jr.jsx)(ds,{className:"w-14 h-14 rounded-full bg-red-600 hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,jr.jsx)(Ap,{className:"w-6 h-6 ml-1",fill:"white"})})})}),(0,jr.jsxs)("div",{className:"absolute top-2 left-2 bg-red-600 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,jr.jsx)(gp,{className:"w-3 h-3"}),"Colabora\xe7\xe3o"]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.title}),(0,jr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jr.jsx)("img",{src:e.artistAvatar||"/images/default-avatar.png",alt:e.artistName,className:"w-5 h-5 rounded-full object-cover"}),(0,jr.jsx)(yt,{to:"/".concat(e.artistSlug),className:"text-sm text-gray-600 hover:text-red-600 truncate",children:e.artistName})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,jr.jsxs)("span",{children:[e.songCount," m\xfasicas"]}),(0,jr.jsx)("span",{children:e.releaseYear})]}),(0,jr.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,jr.jsx)(yt,{to:"/".concat(e.artistSlug,"/").concat(e.slug||e.id),className:"flex-1",children:(0,jr.jsxs)(ds,{variant:"outline",size:"sm",className:"w-full border-gray-300 text-gray-700",children:[(0,jr.jsx)(Ap,{className:"w-4 h-4 mr-1"}),"Ver \xc1lbum"]})}),(0,jr.jsxs)(ds,{size:"sm",onClick:()=>{y(e),g(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4",children:[(0,jr.jsx)(li,{className:"w-4 h-4 mr-1"}),"Sair"]})]})]})]})},e.id))}):(0,jr.jsx)(qm,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("div",{className:"p-12 text-center",children:[(0,jr.jsx)(gp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhuma colabora\xe7\xe3o"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Voc\xea ainda n\xe3o foi convidado para colaborar em nenhum \xe1lbum"})]})})]}),(0,jr.jsx)(_g,{value:"trash",children:a.length>0?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,jr.jsxs)("p",{className:"text-red-800 text-sm",children:[(0,jr.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Os \xe1lbuns na lixeira ser\xe3o exclu\xeddos permanentemente ap\xf3s 30 dias. Voc\xea pode restaur\xe1-los a qualquer momento antes disso."]})}),(0,jr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(e=>Q(e,!0))})]}):(0,jr.jsx)(qm,{className:"bg-white shadow-sm",children:(0,jr.jsxs)("div",{className:"p-12 text-center",children:[(0,jr.jsx)(yp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lixeira vazia"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Nenhum \xe1lbum na lixeira"})]})})})]})]})}),(0,jr.jsx)(Tv,{open:x,onOpenChange:b,children:(0,jr.jsxs)(Iv,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,jr.jsxs)(Mv,{children:[(0,jr.jsx)(zv,{children:"Editar \xc1lbum"}),(0,jr.jsx)(Fv,{children:"Altere as informa\xe7\xf5es do \xe1lbum ou remova m\xfasicas"})]}),(0,jr.jsxs)("div",{className:"space-y-6 py-4",children:[(0,jr.jsxs)("div",{className:"flex gap-6",children:[(0,jr.jsxs)("div",{className:"relative group w-40 h-40 cursor-pointer",onClick:()=>{var e;return null===(e=D.current)||void 0===e?void 0:e.click()},children:[(0,jr.jsx)("img",{src:O||N.coverImage,alt:"Capa do \xe1lbum",className:"w-40 h-40 object-cover rounded-lg"}),(0,jr.jsxs)("div",{className:"absolute inset-0 bg-red-600 rounded-lg opacity-0 group-hover:opacity-90 transition-opacity flex flex-col items-center justify-center pointer-events-none",children:[(0,jr.jsx)(_x,{className:"w-6 h-6 text-white mb-1"}),(0,jr.jsx)("span",{className:"text-white text-xs font-medium text-center px-2",children:"Mudar Capa"})]}),(0,jr.jsx)("input",{type:"file",ref:D,onChange:e=>{const t=e.target.files[0];if(t){A(t);const e=new FileReader;e.onloadend=()=>{C(e.result)},e.readAsDataURL(t)}},accept:"image/*",className:"hidden"})]}),(0,jr.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"T\xedtulo"}),(0,jr.jsx)(Zo,{value:N.title,onChange:e=>_((0,o.A)((0,o.A)({},N),{},{title:e.target.value})),className:"mt-1"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),(0,jr.jsx)(Qx,{value:N.description,onChange:e=>{e.target.value.length<=150&&_((0,o.A)((0,o.A)({},N),{},{description:e.target.value}))},className:"mt-1",rows:3,maxLength:150}),(0,jr.jsxs)("p",{className:"text-xs mt-1 ".concat(N.description.length>=150?"text-red-500":"text-gray-500"),children:[N.description.length,"/150 caracteres"]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Data de Lan\xe7amento"}),(0,jr.jsx)(Zo,{type:"date",value:N.releaseDate,onChange:e=>_((0,o.A)((0,o.A)({},N),{},{releaseDate:e.target.value})),className:"flex h-9 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-30 pr-2"})]})]})]}),(0,jr.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,jr.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[N.isPrivate?(0,jr.jsx)(bx,{className:"w-4 h-4"}):(0,jr.jsx)(Ex,{className:"w-4 h-4"}),"Privacidade do \xc1lbum"]}),(0,jr.jsxs)("div",{className:"flex gap-3",children:[(0,jr.jsxs)("button",{type:"button",onClick:()=>_((0,o.A)((0,o.A)({},N),{},{isPrivate:!1})),className:"flex-1 p-3 rounded-lg border-2 transition-all ".concat(N.isPrivate?"border-gray-200 bg-white text-gray-600 hover:border-gray-300":"border-green-500 bg-green-50 text-green-700"),children:[(0,jr.jsx)(Ex,{className:"w-5 h-5 mx-auto mb-1"}),(0,jr.jsx)("span",{className:"text-sm font-medium block",children:"P\xfablico"}),(0,jr.jsx)("span",{className:"text-xs",children:"Vis\xedvel para todos"})]}),(0,jr.jsxs)("button",{type:"button",onClick:()=>_((0,o.A)((0,o.A)({},N),{},{isPrivate:!0})),className:"flex-1 p-3 rounded-lg border-2 transition-all ".concat(N.isPrivate?"border-red-500 bg-red-50 text-red-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"),children:[(0,jr.jsx)(bx,{className:"w-5 h-5 mx-auto mb-1"}),(0,jr.jsx)("span",{className:"text-sm font-medium block",children:"Privado"}),(0,jr.jsx)("span",{className:"text-xs",children:"S\xf3 voc\xea pode ver"})]})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[(0,jr.jsx)(Gm,{className:"w-4 h-4"}),"M\xfasicas do \xc1lbum (",S.length,")"]}),(0,jr.jsx)("div",{className:"border rounded-lg divide-y max-h-60 overflow-y-auto",children:S.length>0?S.map((e,t)=>(0,jr.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 group",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,jr.jsx)("span",{className:"text-gray-500 w-6 text-center",children:t+1}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"font-medium truncate",children:e.title}),e.composer&&(0,jr.jsxs)("p",{className:"text-xs text-gray-500",children:["Compositor: ",e.composer]}),e.isrc&&(0,jr.jsxs)("p",{className:"text-xs text-gray-500",children:["ISRC: ",e.isrc]})]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,jr.jsx)("button",{onClick:()=>(e=>{I(e),F({composer:e.composer||"",isrc:e.isrc||""}),L(!0)})(e),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Cr\xe9ditos da m\xfasica",children:(0,jr.jsx)(ow,{})}),(0,jr.jsx)("button",{onClick:()=>(async e=>{try{const{error:t}=await br.from("songs").delete().eq("id",e);if(t)throw t;k(t=>t.filter(t=>t.id!==e)),await br.from("albums").update({song_count:S.length-1}).eq("id",w.id),Gr({title:"M\xfasica removida",description:"A m\xfasica foi removida do \xe1lbum"})}catch(t){console.error("Erro ao remover m\xfasica:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel remover a m\xfasica",variant:"destructive"})}})(e.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Excluir M\xfasica do \xc1lbum",children:(0,jr.jsx)(yp,{className:"w-5 h-5"})})]})]},e.id)):(0,jr.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma m\xfasica neste \xe1lbum"})})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[(0,jr.jsx)(gp,{className:"w-4 h-4"}),"Colaboradores (",U.length,")"]}),(0,jr.jsx)("div",{className:"border rounded-lg divide-y max-h-60 overflow-y-auto",children:U.length>0?U.map(e=>{var t,r,n,a,i;return(0,jr.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 group",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[null!==(t=e.artists)&&void 0!==t&&t.avatar_url?(0,jr.jsx)("img",{src:e.artists.avatar_url,alt:null===(r=e.artists)||void 0===r?void 0:r.name,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):(0,jr.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-sm font-bold",children:(null===(n=e.artists)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.charAt(0))||"C"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"font-medium truncate text-gray-900",children:(null===(i=e.artists)||void 0===i?void 0:i.name)||"Colaborador"}),(0,jr.jsx)("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full ".concat("pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:"pending"===e.status?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(ey,{className:"w-3 h-3"}),"Solicita\xe7\xe3o pendente"]}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("span",{className:"text-green-500",children:"\u2713"}),"Solicita\xe7\xe3o aceita"]})})]})]}),(0,jr.jsx)(ds,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{const{error:t}=await br.from("collaboration_invites").delete().eq("id",e);if(t)throw t;B(t=>t.filter(t=>t.id!==e)),Gr({title:"Colaborador removido",description:"O colaborador foi removido do \xe1lbum"})}catch(t){console.error("Erro ao remover colaborador:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel remover o colaborador",variant:"destructive"})}})(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 opacity-0 group-hover:opacity-100",title:"Remover colaborador",children:(0,jr.jsx)(li,{className:"w-4 h-4"})})]},e.id)}):(0,jr.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,jr.jsx)(gp,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,jr.jsx)("p",{className:"text-sm",children:"Nenhum colaborador neste \xe1lbum"}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Adicione colaboradores durante o upload"})]})})]})]}),(0,jr.jsxs)(Lv,{children:[(0,jr.jsx)(ds,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),(0,jr.jsx)(ds,{onClick:async()=>{if(w){T(!0);try{let e=N.coverImage;if(E){const t=E.name.split(".").pop(),r="albums/".concat(w.id,"/cover_").concat(Date.now(),".").concat(t),{error:n}=await br.storage.from("musica").upload(r,E,{upsert:!0});if(n)throw n;const{data:{publicUrl:a}}=br.storage.from("musica").getPublicUrl(r);e=a}const{error:t}=await br.from("albums").update({title:N.title,description:N.description,cover_url:e,release_date:N.releaseDate,song_count:S.length,is_private:N.isPrivate}).eq("id",w.id);if(t)throw t;Gr({title:"\xc1lbum atualizado",description:"As altera\xe7\xf5es foram salvas com sucesso"}),b(!1),X()}catch(e){console.error("Erro ao salvar:",e),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es",variant:"destructive"})}finally{T(!1)}}},disabled:P,className:"bg-red-600 hover:bg-red-700 text-white",children:P?"Salvando...":"Salvar Altera\xe7\xf5es"})]})]})}),(0,jr.jsx)(Jb,{open:q,onOpenChange:H,children:(0,jr.jsxs)(Qb,{children:[(0,jr.jsxs)(ew,{children:[(0,jr.jsx)(rw,{children:"Mover para lixeira?"}),(0,jr.jsxs)(nw,{children:['O \xe1lbum "',null===W||void 0===W?void 0:W.title,'" ser\xe1 movido para a lixeira e ficar\xe1 l\xe1 por 30 dias. Voc\xea pode restaur\xe1-lo a qualquer momento durante esse per\xedodo.']})]}),(0,jr.jsxs)(tw,{children:[(0,jr.jsx)(iw,{children:"Cancelar"}),(0,jr.jsx)(aw,{onClick:async()=>{if(W)try{const{error:e}=await br.from("albums").update({deleted_at:(new Date).toISOString()}).eq("id",W.id);if(e)throw e;Gr({title:"\xc1lbum movido para lixeira",description:'"'.concat(W.title,'" ficar\xe1 na lixeira por 30 dias')}),X()}catch(e){console.error("Erro ao mover para lixeira:",e),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel mover o \xe1lbum para lixeira",variant:"destructive"})}finally{H(!1),V(null)}},className:"bg-red-600 hover:bg-red-700",children:"Mover para Lixeira"})]})]})}),(0,jr.jsx)(Jb,{open:K,onOpenChange:G,children:(0,jr.jsxs)(Qb,{children:[(0,jr.jsxs)(ew,{children:[(0,jr.jsx)(rw,{children:"Excluir permanentemente?"}),(0,jr.jsxs)(nw,{children:['O \xe1lbum "',null===Y||void 0===Y?void 0:Y.title,'" e todas as suas m\xfasicas ser\xe3o exclu\xeddos permanentemente. Esta a\xe7\xe3o n\xe3o pode ser desfeita.']})]}),(0,jr.jsxs)(tw,{children:[(0,jr.jsx)(iw,{children:"Cancelar"}),(0,jr.jsx)(aw,{onClick:async()=>{if(Y)try{await br.from("songs").delete().eq("album_id",Y.id);const{error:e}=await br.from("albums").delete().eq("id",Y.id);if(e)throw e;Gr({title:"\xc1lbum exclu\xeddo permanentemente",description:'"'.concat(Y.title,'" foi exclu\xeddo')}),X()}catch(e){console.error("Erro ao excluir:",e),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel excluir o \xe1lbum",variant:"destructive"})}finally{G(!1),$(null)}},className:"bg-red-600 hover:bg-red-700",children:"Excluir Permanentemente"})]})]})}),(0,jr.jsx)(Tv,{open:M,onOpenChange:L,children:(0,jr.jsxs)(Iv,{className:"max-w-md",children:[(0,jr.jsxs)(Mv,{children:[(0,jr.jsx)(zv,{children:"Editar M\xfasica"}),(0,jr.jsx)(Fv,{children:null===R||void 0===R?void 0:R.title})]}),(0,jr.jsxs)("div",{className:"space-y-4 py-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Compositor"}),(0,jr.jsx)(Zo,{value:z.composer,onChange:e=>F((0,o.A)((0,o.A)({},z),{},{composer:e.target.value})),placeholder:"Nome do compositor",className:"mt-1"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Opcional - Adicione se necess\xe1rio"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"ISRC"}),(0,jr.jsx)(Zo,{value:z.isrc,onChange:e=>F((0,o.A)((0,o.A)({},z),{},{isrc:e.target.value})),placeholder:"Ex: USUM71234567",className:"mt-1"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Opcional - C\xf3digo internacional da grava\xe7\xe3o"})]})]}),(0,jr.jsxs)(Lv,{children:[(0,jr.jsx)(ds,{variant:"outline",onClick:()=>L(!1),children:"Cancelar"}),(0,jr.jsx)(ds,{onClick:async()=>{if(R)try{const{error:e}=await br.from("songs").update({composer:z.composer,isrc:z.isrc}).eq("id",R.id);if(e)throw e;k(e=>e.map(e=>e.id===R.id?(0,o.A)((0,o.A)({},e),{},{composer:z.composer,isrc:z.isrc}):e)),Gr({title:"M\xfasica atualizada",description:"As informa\xe7\xf5es da m\xfasica foram salvas"}),L(!1)}catch(e){console.error("Erro ao salvar m\xfasica:",e),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as informa\xe7\xf5es da m\xfasica",variant:"destructive"})}},className:"bg-red-600 hover:bg-red-700 text-white",children:"Salvar"})]})]})}),(0,jr.jsx)(Jb,{open:m,onOpenChange:g,children:(0,jr.jsxs)(Qb,{children:[(0,jr.jsxs)(ew,{children:[(0,jr.jsx)(rw,{children:"Sair da colabora\xe7\xe3o?"}),(0,jr.jsxs)(nw,{children:['Voc\xea deixar\xe1 de ser colaborador do \xe1lbum "',null===v||void 0===v?void 0:v.title,'". O \xe1lbum n\xe3o aparecer\xe1 mais no seu perfil p\xfablico.']})]}),(0,jr.jsxs)(tw,{children:[(0,jr.jsx)(iw,{children:"Cancelar"}),(0,jr.jsx)(aw,{onClick:async()=>{if(v&&null!==e&&void 0!==e&&e.id)try{const{error:t}=await br.from("collaboration_invites").delete().eq("album_id",v.id).eq("invited_user_id",e.id);if(t)throw t;Gr({title:"Colabora\xe7\xe3o removida",description:'Voc\xea n\xe3o \xe9 mais colaborador de "'.concat(v.title,'"')}),Z()}catch(t){console.error("Erro ao remover colabora\xe7\xe3o:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel remover a colabora\xe7\xe3o",variant:"destructive"})}finally{g(!1),y(null)}},className:"bg-red-600 hover:bg-red-700",children:"Sair da Colabora\xe7\xe3o"})]})]})})]})},lw=()=>{const{user:e}=_r(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("recent"),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)("create"),[m,g]=(0,t.useState)({title:"",description:"",isPrivate:!1,coverImage:null}),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),w=(0,t.useRef)(null),[j,N]=(0,t.useState)(!1),[_,S]=(0,t.useState)(null),[k,E]=(0,t.useState)(""),[A,O]=(0,t.useState)([]),[C,P]=(0,t.useState)([]),[T,D]=(0,t.useState)(!1),[R,I]=(0,t.useState)([]),[M,L]=(0,t.useState)(null),[z,F]=(0,t.useState)(!1),[U,B]=(0,t.useState)(null),[q,H]=(0,t.useState)({title:"",description:"",isPrivate:!1}),[W,V]=(0,t.useState)(null),[K,G]=(0,t.useState)(null),[Y,$]=(0,t.useState)(!1),J=(0,t.useRef)(null),[X,Z]=(0,t.useState)([]),[Q,ee]=(0,t.useState)(!1),[te,re]=(0,t.useState)(null);(0,t.useEffect)(()=>{ne(),ae()},[null===e||void 0===e?void 0:e.id]);const ne=async()=>{if(null!==e&&void 0!==e&&e.id){i(!0);try{let t=br.from("playlists").select("*").eq("user_id",e.id);"recent"===c?t=t.order("created_at",{ascending:!1}):"oldest"===c?t=t.order("created_at",{ascending:!0}):"played"===c&&(t=t.order("play_count",{ascending:!1}));const{data:r,error:a}=await t;if(a)throw a;n(r||[])}catch(t){console.error("Erro ao carregar playlists:",t)}finally{i(!1)}}},ae=async()=>{try{const{data:e}=await br.from("albums").select("id, title, artist_name, cover_url").order("created_at",{ascending:!1}).limit(10);O(e||[])}catch(e){console.error("Erro ao carregar \xe1lbuns recentes:",e)}},ie=async e=>{L(e);try{const{data:t}=await br.from("songs").select("id, title, artist_name, cover_url").eq("album_id",e.id).order("track_number",{ascending:!0});I(t||[])}catch(t){console.error("Erro ao carregar m\xfasicas do \xe1lbum:",t)}},oe=r.filter(e=>e.title.toLowerCase().includes(s.toLowerCase())),se=async(e,t)=>{if(t&&t.stopPropagation(),B(e),H({title:e.title,description:e.description||"",isPrivate:!e.is_public}),G(e.cover_url),V(null),F(!0),e.song_ids&&e.song_ids.length>0){const{data:t}=await br.from("songs").select("id, title, artist_name, cover_url").in("id",e.song_ids);if(t){const r=e.song_ids.map(e=>t.find(t=>t.id===e)).filter(Boolean);Z(r)}}else Z([])};return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1",children:(0,jr.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,jr.jsx)("div",{className:"mb-6",children:(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Jo,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Minhas Playlists"})]})}),(0,jr.jsx)("div",{className:"flex justify-center mb-8",children:(0,jr.jsxs)(ds,{onClick:()=>h(!0),className:"bg-red-600 hover:bg-red-700 text-white rounded-full px-8 py-3",children:[(0,jr.jsx)(Vv,{className:"w-5 h-5 mr-2"}),"Nova playlist"]})}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6 gap-4",children:[(0,jr.jsxs)("div",{className:"flex-1 relative",children:[(0,jr.jsx)(qo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,jr.jsx)(Zo,{type:"text",placeholder:"Buscar Playlists",value:s,onChange:e=>l(e.target.value),className:"pl-10 rounded-full border-gray-300"})]}),(0,jr.jsxs)(dp,{modal:!1,children:[(0,jr.jsxs)(hp,{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors whitespace-nowrap",children:[(0,jr.jsx)(Jv,{className:"w-4 h-4"}),"Filtros",(0,jr.jsx)(Bo,{className:"w-4 h-4"})]}),(0,jr.jsx)(pp,{align:"end",className:"bg-white",children:[{value:"recent",label:"MAIS RECENTES"},{value:"played",label:"MAIS OUVIDAS"},{value:"oldest",label:"MAIS ANTIGOS"}].map(e=>(0,jr.jsx)(mp,{onClick:()=>{u(e.value),ne()},className:"cursor-pointer ".concat(c===e.value?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.value))})]})]}),a?(0,jr.jsx)("div",{className:"flex justify-center py-12",children:(0,jr.jsx)(yx,{className:"w-8 h-8 animate-spin text-gray-400"})}):0===oe.length?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)(Gm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhum Resultado encontrado"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.map(e=>(0,jr.jsx)(qm,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>se(e),children:(0,jr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-16 h-16 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.song_ids||[]).length," m\xfasicas"]}),!e.is_public&&(0,jr.jsx)("span",{className:"text-xs text-red-500",children:"Privada"})]}),(0,jr.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,jr.jsx)(ds,{variant:"outline",size:"icon",onClick:t=>se(e,t),className:"h-8 w-8 border-gray-300 text-gray-600 hover:bg-gray-50",children:(0,jr.jsx)(nb,{className:"w-4 h-4"})}),(0,jr.jsx)(ds,{variant:"outline",size:"icon",onClick:t=>{t.stopPropagation(),re(e),ee(!0)},className:"h-8 w-8 border-red-300 text-red-600 hover:bg-red-50",children:(0,jr.jsx)(yp,{className:"w-4 h-4"})})]})]})},e.id))})]})}),(0,jr.jsx)(Tv,{open:d,onOpenChange:h,children:(0,jr.jsxs)(Iv,{className:"max-w-lg",children:[(0,jr.jsx)(Mv,{children:(0,jr.jsxs)("div",{className:"flex gap-8 border-b pb-2",children:[(0,jr.jsx)("button",{onClick:()=>p("list"),className:"font-medium ".concat("list"===f?"text-gray-900":"text-gray-400"),children:"MINHAS PLAYLISTS"}),(0,jr.jsx)("button",{onClick:()=>p("create"),className:"font-medium ".concat("create"===f?"text-red-600":"text-gray-400"),children:"CRIAR PLAYLIST"})]})}),"create"===f?(0,jr.jsxs)("div",{className:"py-4",children:[(0,jr.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,jr.jsxs)("div",{onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 bg-red-500 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-red-600 transition-colors flex-shrink-0",children:[v?(0,jr.jsx)("img",{src:v,alt:"Capa",className:"w-full h-full object-cover rounded-lg"}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(Gm,{className:"w-10 h-10 text-white mb-2"}),(0,jr.jsx)("span",{className:"text-white text-xs text-center px-2",children:"Adicionar capa da playlist"})]}),(0,jr.jsx)("input",{ref:w,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){g((0,o.A)((0,o.A)({},m),{},{coverImage:t}));const e=new FileReader;e.onloadend=()=>y(e.result),e.readAsDataURL(t)}},className:"hidden"})]}),(0,jr.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,jr.jsx)(Zo,{placeholder:"T\xedtulo da playlist",value:m.title,onChange:e=>g((0,o.A)((0,o.A)({},m),{},{title:e.target.value})),maxLength:100}),(0,jr.jsxs)("p",{className:"text-xs text-gray-500",children:["M\xednimo e m\xe1ximo de caracteres permitidos: 5 a 100",(0,jr.jsx)("br",{}),"Caracteres especiais permitidos: _ # & ( ) [ ]"]}),(0,jr.jsx)(Qx,{placeholder:"Descri\xe7\xe3o",value:m.description,onChange:e=>g((0,o.A)((0,o.A)({},m),{},{description:e.target.value})),rows:3,className:"bg-gray-100 border-0"})]})]}),(0,jr.jsxs)("div",{className:"mb-4",children:[(0,jr.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Tamanho m\xe1ximo da imagem 500x500 px."}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Carregue apenas imagens pr\xf3prias ou sobre as quais voc\xea legalmente det\xe9m os direitos."})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsx)("span",{className:"text-gray-700",children:"Tornar a playlist privada?"}),(0,jr.jsx)("button",{onClick:()=>g((0,o.A)((0,o.A)({},m),{},{isPrivate:!m.isPrivate})),className:"w-12 h-6 rounded-full transition-colors ".concat(m.isPrivate?"bg-red-600":"bg-gray-300"),children:(0,jr.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform ".concat(m.isPrivate?"translate-x-6":"translate-x-0.5")})})]}),(0,jr.jsx)("div",{className:"flex justify-end",children:(0,jr.jsxs)(ds,{onClick:async()=>{if(!m.title||m.title.length<5)Gr({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{b(!0);try{let t=null;if(m.coverImage){const r=m.coverImage.name.split(".").pop(),n="playlists/".concat(e.id,"/").concat(Date.now(),".").concat(r),{error:a}=await br.storage.from("music").upload(n,m.coverImage,{upsert:!0});if(!a){const{data:{publicUrl:e}}=br.storage.from("music").getPublicUrl(n);t=e}}const a=(e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim())(m.title),{data:i,error:o}=await br.from("playlists").insert({user_id:e.id,slug:a,title:m.title,description:m.description,cover_url:t,is_public:!m.isPrivate,song_ids:[],play_count:0}).select().single();if(o)throw console.error("Erro ao criar playlist:",o),o;Gr({title:"Playlist criada!",description:'"'.concat(m.title,'" foi criada com sucesso')}),n([i,...r]),h(!1),g({title:"",description:"",isPrivate:!1,coverImage:null}),y(null),S(i),N(!0)}catch(t){console.error("Erro ao criar playlist:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel criar a playlist",variant:"destructive"})}finally{b(!1)}}},disabled:x,className:"bg-red-600 hover:bg-red-700 text-white px-8",children:[x?(0,jr.jsx)(yx,{className:"w-4 h-4 animate-spin mr-2"}):null,"CRIAR PLAYLIST"]})})]}):(0,jr.jsx)("div",{className:"py-4 max-h-96 overflow-y-auto",children:0===r.length?(0,jr.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma playlist criada"}):r.map(e=>(0,jr.jsxs)("div",{onClick:()=>{S(e),h(!1),N(!0)},className:"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer",children:[(0,jr.jsx)("img",{src:e.cover_url||"/images/default-playlist.jpg",alt:e.title,className:"w-12 h-12 rounded object-cover"}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"font-medium",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.song_ids||[]).length," m\xfasicas"]})]})]},e.id))})]})}),(0,jr.jsx)(Tv,{open:j,onOpenChange:N,children:(0,jr.jsxs)(Iv,{className:"max-w-md bg-zinc-900 text-white border-zinc-800",children:[(0,jr.jsx)(Mv,{children:(0,jr.jsxs)(zv,{className:"text-white flex items-center gap-2",children:[(0,jr.jsx)("button",{onClick:()=>{M?(L(null),I([])):N(!1)},children:"\u2190"}),M?M.title:"Adicionar a esta playlist"]})}),(0,jr.jsxs)("div",{className:"relative mb-4",children:[(0,jr.jsx)(qo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,jr.jsx)(Zo,{placeholder:"Buscar",value:k,onChange:e=>{E(e.target.value),(async e=>{if(!e||e.length<2)P([]);else{D(!0);try{const{data:t}=await br.from("albums").select("id, title, artist_name, cover_url").ilike("title","%".concat(e,"%")).limit(10);P(t||[])}catch(t){console.error("Erro na busca:",t)}finally{D(!1)}}})(e.target.value)},className:"pl-10 bg-zinc-800 border-zinc-700 text-white placeholder-gray-400"})]}),(0,jr.jsx)("div",{className:"max-h-96 overflow-y-auto",children:M?(0,jr.jsx)("div",{className:"space-y-2",children:R.map(e=>(0,jr.jsxs)("div",{className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded",children:[(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,jr.jsx)("button",{onClick:()=>(async e=>{if(_)try{const t=_.song_ids||[];if(t.includes(e.id))return void Gr({title:"M\xfasica j\xe1 adicionada",description:"Esta m\xfasica j\xe1 est\xe1 na playlist"});const a=[...t,e.id],{error:i}=await br.from("playlists").update({song_ids:a}).eq("id",_.id);if(i)throw i;const s=(0,o.A)((0,o.A)({},_),{},{song_ids:a});S(s),B(s),n(r.map(e=>e.id===_.id?(0,o.A)((0,o.A)({},e),{},{song_ids:a}):e)),Z([...X,{id:e.id,title:e.title,artist_name:e.artist_name,cover_url:e.cover_url}]),Gr({title:"M\xfasica adicionada!",description:'"'.concat(e.title,'" foi adicionada \xe0 playlist')})}catch(t){console.error("Erro ao adicionar m\xfasica:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel adicionar a m\xfasica",variant:"destructive"})}})(e),className:"w-8 h-8 rounded-full border border-gray-500 flex items-center justify-center hover:bg-zinc-700",children:(0,jr.jsx)(Vv,{className:"w-4 h-4"})})]},e.id))}):k&&C.length>0?(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)("p",{className:"text-xs text-gray-400 uppercase mb-2",children:"\xc1lbuns encontrados"}),C.map(e=>(0,jr.jsxs)("div",{onClick:()=>ie(e),className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded cursor-pointer",children:[(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,jr.jsx)(Bo,{className:"w-4 h-4 -rotate-90"})]},e.id))]}):(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)("p",{className:"text-xs text-gray-400 uppercase mb-2",children:"\xc1lbuns recentes"}),A.map(e=>(0,jr.jsxs)("div",{onClick:()=>ie(e),className:"flex items-center gap-3 p-2 hover:bg-zinc-800 rounded cursor-pointer",children:[(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.artist_name})]}),(0,jr.jsx)(Bo,{className:"w-4 h-4 -rotate-90 text-gray-400"})]},e.id)),0===A.length&&(0,jr.jsxs)("div",{className:"text-center py-8",children:[(0,jr.jsx)(Gm,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),(0,jr.jsx)("p",{className:"text-gray-400 font-semibold mb-1",children:"Adicione m\xfasicas a esta playlist"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Clique na op\xe7\xe3o 'Criar/Adicionar' e adicione a m\xfasica ou um CD as playlists."})]})]})})]})}),(0,jr.jsx)(Tv,{open:z,onOpenChange:F,children:(0,jr.jsxs)(Iv,{className:"max-w-lg",children:[(0,jr.jsx)(Mv,{children:(0,jr.jsx)(zv,{children:"Editar Playlist"})}),(0,jr.jsxs)("div",{className:"py-4",children:[(0,jr.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,jr.jsxs)("div",{onClick:()=>{var e;return null===(e=J.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 bg-red-500 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-red-600 transition-colors flex-shrink-0 overflow-hidden",children:[K?(0,jr.jsx)("img",{src:K,alt:"Capa",className:"w-full h-full object-cover"}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(Gm,{className:"w-10 h-10 text-white mb-2"}),(0,jr.jsx)("span",{className:"text-white text-xs text-center px-2",children:"Alterar capa"})]}),(0,jr.jsx)("input",{ref:J,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){V(t);const e=new FileReader;e.onloadend=()=>G(e.result),e.readAsDataURL(t)}},className:"hidden"})]}),(0,jr.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,jr.jsx)(Zo,{placeholder:"T\xedtulo da playlist",value:q.title,onChange:e=>H((0,o.A)((0,o.A)({},q),{},{title:e.target.value})),maxLength:100}),(0,jr.jsx)(Qx,{placeholder:"Descri\xe7\xe3o",value:q.description,onChange:e=>H((0,o.A)((0,o.A)({},q),{},{description:e.target.value})),rows:3,className:"bg-gray-100 border-0"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,jr.jsx)("span",{className:"text-gray-700",children:"Tornar a playlist privada?"}),(0,jr.jsx)("button",{onClick:()=>H((0,o.A)((0,o.A)({},q),{},{isPrivate:!q.isPrivate})),className:"w-12 h-6 rounded-full transition-colors ".concat(q.isPrivate?"bg-red-600":"bg-gray-300"),children:(0,jr.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform ".concat(q.isPrivate?"translate-x-6":"translate-x-0.5")})})]}),(0,jr.jsxs)(ds,{onClick:()=>{S(U),N(!0)},variant:"outline",className:"w-full mb-4 border-dashed border-2",children:[(0,jr.jsx)(Vv,{className:"w-4 h-4 mr-2"}),"Adicionar m\xfasicas \xe0 playlist"]}),X.length>0&&(0,jr.jsx)("div",{className:"border rounded-lg max-h-48 overflow-y-auto mb-4",children:X.map((e,t)=>(0,jr.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b last:border-0 hover:bg-gray-50",children:[(0,jr.jsxs)("span",{className:"text-gray-500 text-sm w-6",children:[t+1,"."]}),(0,jr.jsx)("img",{src:e.cover_url||"/placeholder-album.jpg",alt:e.title,className:"w-10 h-10 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"font-medium text-sm truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.artist_name})]}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if(U)try{const t=(U.song_ids||[]).filter(t=>t!==e),{error:a}=await br.from("playlists").update({song_ids:t}).eq("id",U.id);if(a)throw a;B((0,o.A)((0,o.A)({},U),{},{song_ids:t})),Z(X.filter(t=>t.id!==e)),n(r.map(e=>e.id===U.id?(0,o.A)((0,o.A)({},e),{},{song_ids:t}):e)),Gr({title:"M\xfasica removida",description:"A m\xfasica foi removida da playlist"})}catch(t){console.error("Erro ao remover m\xfasica:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel remover a m\xfasica",variant:"destructive"})}})(e.id),className:"h-8 w-8 text-gray-400 hover:text-red-600",children:(0,jr.jsx)(li,{className:"w-4 h-4"})})]},e.id))}),(0,jr.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,jr.jsx)(ds,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),(0,jr.jsxs)(ds,{onClick:async()=>{if(!q.title||q.title.length<5)Gr({title:"Erro",description:"O t\xedtulo deve ter no m\xednimo 5 caracteres",variant:"destructive"});else{$(!0);try{let t=U.cover_url;if(W){const r=W.name.split(".").pop(),n="playlists/".concat(e.id,"/").concat(Date.now(),".").concat(r),{error:a}=await br.storage.from("music").upload(n,W,{upsert:!0});if(!a){const{data:{publicUrl:e}}=br.storage.from("music").getPublicUrl(n);t=e}}const{error:a}=await br.from("playlists").update({title:q.title,description:q.description,cover_url:t,is_public:!q.isPrivate}).eq("id",U.id);if(a)throw a;Gr({title:"Playlist atualizada!",description:'"'.concat(q.title,'" foi atualizada')}),n(r.map(e=>e.id===U.id?(0,o.A)((0,o.A)({},e),{},{title:q.title,description:q.description,cover_url:t,is_public:!q.isPrivate}):e)),F(!1)}catch(t){console.error("Erro ao atualizar:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar a playlist",variant:"destructive"})}finally{$(!1)}}},disabled:Y,className:"bg-red-600 hover:bg-red-700 text-white",children:[Y?(0,jr.jsx)(yx,{className:"w-4 h-4 animate-spin mr-2"}):null,"Salvar"]})]})]})]})}),(0,jr.jsx)(Tv,{open:Q,onOpenChange:ee,children:(0,jr.jsxs)(Iv,{className:"max-w-sm",children:[(0,jr.jsx)(Mv,{children:(0,jr.jsx)(zv,{children:"Excluir Playlist"})}),(0,jr.jsxs)("p",{className:"text-gray-600 py-4",children:['Tem certeza que deseja excluir a playlist "',(0,jr.jsx)("span",{className:"font-semibold",children:null===te||void 0===te?void 0:te.title}),'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.']}),(0,jr.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,jr.jsx)(ds,{variant:"outline",onClick:()=>ee(!1),children:"Cancelar"}),(0,jr.jsx)(ds,{onClick:async()=>{if(te)try{const{error:e}=await br.from("playlists").delete().eq("id",te.id);if(e)throw e;Gr({title:"Playlist exclu\xedda",description:'"'.concat(te.title,'" foi exclu\xedda')}),n(r.filter(e=>e.id!==te.id)),ee(!1),re(null)}catch(e){console.error("Erro ao excluir:",e),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel excluir a playlist",variant:"destructive"})}},className:"bg-red-600 hover:bg-red-700 text-white",children:"Excluir"})]})]})})]})},cw=e=>{var t,r,n,a,i,o;let{song:s,onRemove:l,onPlay:c}=e;const{user:u}=_r(),d=me(),{isFavorite:h,toggleFavorite:f}=km(null===s||void 0===s?void 0:s.id),p=e=>{e.stopPropagation(),null===c||void 0===c||c(s)},m=e=>{var t,r,n;e.stopPropagation();const a=(null===(t=s.songs)||void 0===t||null===(r=t.artist)||void 0===r?void 0:r.slug)||(null===(n=s.songs)||void 0===n?void 0:n.artist_id);d("/".concat(a))};return(0,jr.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-gray-100 transition-colors rounded-md mb-2 group cursor-pointer",children:[(0,jr.jsx)("img",{src:(null===(t=s.songs)||void 0===t?void 0:t.cover_url)||"/placeholder-album.jpg",alt:null===(r=s.songs)||void 0===r?void 0:r.title,className:"w-16 h-16 rounded object-cover flex-shrink-0 cursor-pointer",onClick:p}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"text-red-600 font-semibold truncate text-sm cursor-pointer hover:text-red-700",onClick:p,children:null===(n=s.songs)||void 0===n?void 0:n.title}),(0,jr.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:m,children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm truncate hover:text-gray-900",children:null===(a=s.songs)||void 0===a?void 0:a.artist_name}),(null===(i=s.songs)||void 0===i||null===(o=i.artist)||void 0===o?void 0:o.is_verified)&&(0,jr.jsx)(Hv,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0 hover:text-blue-600"})]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,jr.jsx)(ds,{variant:"ghost",size:"icon",className:"transition-all hover:scale-110 p-2",title:"Favorito",children:(0,jr.jsx)($o,{className:"w-5 h-5 fill-red-600 text-red-600"})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",className:"transition-all hover:scale-110 p-2",onClick:e=>{e.stopPropagation(),u?null===c||void 0===c||c(s):Gr({title:"Login Necess\xe1rio",description:"Fa\xe7a login para adicionar \xe0 playlist"})},title:"Adicionar \xe0 playlist",children:(0,jr.jsx)(Vv,{className:"w-5 h-5 text-gray-700"})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",className:"transition-all hover:scale-110 p-2",onClick:m,title:"Perfil do artista",children:(0,jr.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 24 24",children:(0,jr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,jr.jsx)(ds,{variant:"ghost",size:"icon",className:"transition-all hover:scale-110 p-2 opacity-0 group-hover:opacity-100",onClick:async e=>{e.stopPropagation(),await(null===l||void 0===l?void 0:l(s.song_id||s.songId))},title:"Remover dos favoritos",children:(0,jr.jsx)(yp,{className:"w-5 h-5 text-gray-700"})})]})]})},uw=()=>{const{user:e}=_r(),r=me(),{playSong:n}=zr(),[a,i]=(0,t.useState)("musicas"),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("recent"),[d,h]=(0,t.useState)("recent"),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)({musicas:[],albums:[],playlists:[]});(0,t.useEffect)(()=>{v()},[null===e||void 0===e?void 0:e.id]);const v=async()=>{if(null!==e&&void 0!==e&&e.id)try{var t;p(!0);let r=null;const{data:n}=await br.from("music_favorites").select("\n           music_id,\n           created_at,\n           songs:music_id (\n             id,\n             title,\n             artist_name,\n             cover_url,\n             duration,\n             artist_id,\n             album_id,\n             plays,\n             audio_url,\n             artist:artist_id (\n               id,\n               is_verified,\n               slug\n             )\n           )\n         ").eq("user_id",e.id).order("created_at",{ascending:!1});if(n&&n.length>0)r=n.map(e=>({song_id:e.music_id,created_at:e.created_at,songs:e.songs}));else{const{data:t}=await br.from("favorites").select("\n            songId,\n            createdAt,\n            songs:songId (\n              id,\n              title,\n              artist_name,\n              cover_url,\n              duration,\n              artist_id,\n              album_id,\n              plays,\n              audio_url,\n              artist:artist_id (\n                id,\n                is_verified,\n                slug\n              )\n            )\n          ").eq("userId",e.id).order("createdAt",{ascending:!1});r=t&&t.length>0?t.map(e=>({song_id:e.songId,created_at:e.createdAt,songs:e.songs})):[]}let a=null;const{data:i}=await br.from("album_favorites").select("album_id").eq("user_id",e.id);if(i&&i.length>0)a=i;else{const{data:t}=await br.from("album_favorites").select("albumId").eq("userId",e.id);a=t}const o=(null===(t=a)||void 0===t?void 0:t.map(e=>e.album_id||e.albumId))||[];let s=[];if(o.length>0){const{data:e}=await br.from("albums").select("\n            *,\n            artist:artist_id (\n              id,\n              slug,\n              is_verified\n            )\n          ").in("id",o).order("created_at",{ascending:!1});s=e||[]}let l=null;const{data:c}=await br.from("playlist_favorites").select("playlist_id").eq("user_id",e.id).order("created_at",{ascending:!1});let u=[];if(c&&c.length>0)u=c.map(e=>e.playlist_id);else{const{data:t}=await br.from("playlist_favorites").select("playlistId").eq("userId",e.id).order("createdAt",{ascending:!1});t&&t.length>0&&(u=t.map(e=>e.playlistId))}if(u.length>0){const{data:e}=await br.from("playlists").select("\n            id, \n            user_id, \n            slug, \n            title, \n            description, \n            cover_url, \n            is_public, \n            song_ids, \n            play_count, \n            created_at, \n            updated_at\n          ").in("id",u).order("created_at",{ascending:!1});l=e||[]}else l=[];g({musicas:r||[],albums:s,playlists:l||[]})}catch(r){console.error("Erro ao carregar favoritos:",r),Gr({title:"Erro",description:"Erro ao carregar favoritos",variant:"destructive"})}finally{p(!1)}else p(!1)},y=async(t,r)=>{try{if(console.log("Removing ".concat(t," favorite:"),r),"musica"===t){let t=null;const{error:n}=await br.from("music_favorites").delete().eq("user_id",e.id).eq("music_id",r);if(n){console.log("music_favorites delete error, trying old table:",n);const{error:a}=await br.from("favorites").delete().eq("userId",e.id).eq("songId",r);t=a}if(t)throw t;g(e=>(0,o.A)((0,o.A)({},e),{},{musicas:e.musicas.filter(e=>(e.song_id||e.songId)!==r)})),Gr({title:"Sucesso",description:"M\xfasica removida dos favoritos"})}else if("album"===t){let t=null;const{error:n}=await br.from("album_favorites").delete().eq("user_id",e.id).eq("album_id",r);if(n){console.log("album_favorites snake_case delete error, trying camelCase:",n);const{error:a}=await br.from("album_favorites").delete().eq("userId",e.id).eq("albumId",r);t=a}if(t)throw t;g(e=>(0,o.A)((0,o.A)({},e),{},{albums:e.albums.filter(e=>e.id!==r)})),Gr({title:"Sucesso",description:"\xc1lbum removido dos favoritos"})}else if("playlist"===t){const{error:t}=await br.from("playlist_favorites").delete().eq("user_id",e.id).eq("playlist_id",r);if(t)throw t;g(e=>(0,o.A)((0,o.A)({},e),{},{playlists:e.playlists.filter(e=>e.id!==r)})),Gr({title:"Sucesso",description:"Playlist removida dos favoritos"})}}catch(n){console.error("Error removing favorite:",n),Gr({title:"Erro",description:n.message||"Erro ao remover dos favoritos",variant:"destructive"})}},x=(e,t)=>e.filter(e=>{const r=s.toLowerCase();if("songs"===t){const t=e.songs;return(null===t||void 0===t?void 0:t.title.toLowerCase().includes(r))||(null===t||void 0===t?void 0:t.artist_name.toLowerCase().includes(r))}var n,a,i;return"albums"===t?(null===(n=e.title)||void 0===n?void 0:n.toLowerCase().includes(r))||(null===(a=e.artist_name)||void 0===a?void 0:a.toLowerCase().includes(r)):"playlists"!==t||(null===(i=e.title)||void 0===i?void 0:i.toLowerCase().includes(r))}),b=(e,t)=>{var r;const n=[...e];return"plays"===t?null!==(r=e[0])&&void 0!==r&&r.songs?n.sort((e,t)=>{var r,n;return((null===(r=t.songs)||void 0===r?void 0:r.plays)||0)-((null===(n=e.songs)||void 0===n?void 0:n.plays)||0)}):n.sort((e,t)=>(t.play_count||0)-(e.play_count||0)):n.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))},w=x(m.musicas,"songs"),j=x(m.albums,"albums"),N=x(m.playlists,"playlists"),_=b(w,c),S=b(j,d);return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1",children:(0,jr.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[(0,jr.jsxs)("div",{className:"mb-8",children:[(0,jr.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[(0,jr.jsx)($o,{className:"w-8 h-8 text-red-600 fill-red-600"}),"Favoritos"]}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Suas m\xfasicas, \xe1lbuns e playlists favoritas"})]}),(0,jr.jsxs)("div",{className:"flex gap-8 mb-8 border-b border-gray-300",children:[(0,jr.jsxs)("button",{onClick:()=>i("musicas"),className:"pb-4 font-semibold text-lg ".concat("musicas"===a?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["M\xdaSICAS (",w.length,")"]}),(0,jr.jsxs)("button",{onClick:()=>i("albums"),className:"pb-4 font-semibold text-lg ".concat("albums"===a?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["\xc1LBUNS (",j.length,")"]}),(0,jr.jsxs)("button",{onClick:()=>i("playlists"),className:"pb-4 font-semibold text-lg ".concat("playlists"===a?"text-gray-900 border-b-4 border-red-600":"text-gray-600 hover:text-gray-900"),children:["PLAYLISTS (",N.length,")"]})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-8 gap-4",children:[(0,jr.jsxs)("div",{className:"flex-1 relative",children:[(0,jr.jsx)(qo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,jr.jsx)(Zo,{type:"text",placeholder:"musicas"===a?"Buscar M\xfasicas":"albums"===a?"Buscar \xc1lbuns":"Buscar Playlists",value:s,onChange:e=>l(e.target.value),className:"pl-10 rounded-full border-gray-300"})]}),("musicas"===a||"albums"===a)&&(0,jr.jsxs)(dp,{modal:!1,children:[(0,jr.jsxs)(hp,{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm text-gray-700 transition-colors whitespace-nowrap",children:[(0,jr.jsx)(Jv,{className:"w-4 h-4"}),"Filtros",(0,jr.jsx)(Bo,{className:"w-4 h-4"})]}),(0,jr.jsx)(pp,{align:"end",className:"bg-white",children:[{id:"recent",label:"MAIS RECENTES"},{id:"plays",label:"MAIS OUVIDAS"}].map(e=>(0,jr.jsx)(mp,{onClick:()=>{"musicas"===a?u(e.id):h(e.id)},className:"cursor-pointer ".concat(("musicas"===a?c:d)===e.id?"bg-red-50 text-red-600 font-medium":""),children:e.label},e.id))})]})]}),f?(0,jr.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,jr.jsxs)("div",{children:["musicas"===a&&(0,jr.jsx)("div",{children:0===_.length?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)(Gm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600 text-lg",children:s?"Nenhuma m\xfasica encontrada":"Nenhuma m\xfasica favorita ainda"})]}):(0,jr.jsx)("div",{className:"space-y-2",children:_.map(e=>(0,jr.jsx)(cw,{song:e,onRemove:()=>y("musica",e.song_id),onPlay:()=>{var t,r,a,i,o,s,l,c,u;const d={id:null===(t=e.songs)||void 0===t?void 0:t.id,title:null===(r=e.songs)||void 0===r?void 0:r.title,artist_name:null===(a=e.songs)||void 0===a?void 0:a.artist_name,artistName:null===(i=e.songs)||void 0===i?void 0:i.artist_name,cover_url:null===(o=e.songs)||void 0===o?void 0:o.cover_url,coverImage:null===(s=e.songs)||void 0===s?void 0:s.cover_url,duration:null===(l=e.songs)||void 0===l?void 0:l.duration,audioUrl:null===(c=e.songs)||void 0===c?void 0:c.audio_url,albumId:null===(u=e.songs)||void 0===u?void 0:u.album_id};n(d,[d])}},e.song_id))})}),"albums"===a&&(0,jr.jsx)("div",{children:0===S.length?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)(Bv,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600 text-lg",children:s?"Nenhum \xe1lbum encontrado":"Nenhum \xe1lbum favorito ainda"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:S.map(e=>{var t;return(0,jr.jsxs)("div",{className:"group cursor-pointer",onClick:()=>{var t;const n=(null===(t=e.artist)||void 0===t?void 0:t.slug)||e.artist_id,a=e.slug||e.id;r("/".concat(n,"/").concat(a))},children:[(0,jr.jsxs)("div",{className:"relative mb-3 overflow-hidden rounded-lg bg-gray-200",children:[e.cover_url&&(0,jr.jsx)("img",{src:e.cover_url,alt:e.title,className:"w-full aspect-square object-cover group-hover:scale-105 transition-transform duration-300"}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-white ml-1",fill:"white"})})})]}),(0,jr.jsxs)("div",{className:"space-y-1",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 truncate text-xs",children:e.title}),(0,jr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jr.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.artist_name}),(null===(t=e.artist)||void 0===t?void 0:t.is_verified)&&(0,jr.jsx)(Hv,{className:"w-3 h-3 text-blue-500 flex-shrink-0"})]})]}),(0,jr.jsxs)("button",{onClick:t=>{t.stopPropagation(),y("album",e.id)},className:"mt-2 w-full text-xs text-red-600 hover:bg-red-50 py-2 rounded transition-colors flex items-center justify-center gap-1 font-medium",children:[(0,jr.jsx)(yp,{className:"w-4 h-4"}),"Remover"]})]},e.id)})})}),"playlists"===a&&(0,jr.jsx)("div",{children:0===N.length?(0,jr.jsxs)("div",{className:"text-center py-12",children:[(0,jr.jsx)(Jo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600 text-lg",children:s?"Nenhuma playlist encontrada":"Nenhuma playlist favorita ainda"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:N.map(e=>{var t;return(0,jr.jsxs)("div",{className:"group cursor-pointer",children:[(0,jr.jsxs)("div",{className:"relative mb-3 rounded-lg overflow-hidden bg-gradient-to-br from-red-600 to-red-800 cursor-pointer",onClick:()=>{r("/playlist/".concat(e.slug||e.id))},children:[(0,jr.jsx)("div",{className:"aspect-square flex items-center justify-center",children:(0,jr.jsx)(Jo,{className:"w-16 h-16 text-white opacity-20"})}),(0,jr.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:(0,jr.jsx)(Ap,{className:"w-5 h-5 text-red-600 ml-1",fill:"#dc2626"})})})]}),(0,jr.jsxs)("div",{className:"space-y-1",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 truncate text-xs",children:e.title}),(0,jr.jsxs)("p",{className:"text-xs text-gray-600",children:[(null===(t=e.song_ids)||void 0===t?void 0:t.length)||0," m\xfasicas"]})]}),(0,jr.jsxs)("button",{onClick:t=>{t.stopPropagation(),y("playlist",e.id)},className:"mt-2 w-full text-xs text-red-600 hover:bg-red-50 py-2 rounded transition-colors flex items-center justify-center gap-1 font-medium",children:[(0,jr.jsx)(yp,{className:"w-4 h-4"}),"Remover"]})]},e.id)})})})]})]})})]})},dw=()=>{const{user:e}=_r(),[r,n]=(0,t.useState)(!0),[a,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null);(0,t.useEffect)(()=>{_()},[null===e||void 0===e?void 0:e.id]);const _=async()=>{if(null!==e&&void 0!==e&&e.id)try{n(!0);const{data:t}=await br.from("albums").select("id, title, slug").eq("artist_id",e.id).order("created_at",{ascending:!1});v(t||[]);const{data:r,error:a}=await br.from("artist_videos").select("*").eq("artist_id",e.id).eq("is_public",!0).order("created_at",{ascending:!1});a||f(r||[]);const{data:i,error:o}=await br.from("artist_videos").select("*").eq("artist_id",e.id).not("album_id","is",null).order("created_at",{ascending:!1});o||m(i||[])}catch(t){console.error("Erro ao carregar dados:",t),Gr({title:"Erro",description:"Erro ao carregar os dados",variant:"destructive"})}finally{n(!1)}else n(!1)},S=e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},k=e=>"https://img.youtube.com/vi/".concat(e,"/maxresdefault.jpg"),E=async t=>{try{const{error:r}=await br.from("artist_videos").delete().eq("id",t).eq("artist_id",e.id);if(r)throw r;Gr({title:"Sucesso",description:"V\xeddeo removido com sucesso"}),_()}catch(r){console.error("Erro ao remover v\xeddeo:",r),Gr({title:"Erro",description:"Erro ao remover v\xeddeo",variant:"destructive"})}},A=e=>{navigator.clipboard.writeText(e),N(e),setTimeout(()=>N(null),2e3)};return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1",children:(0,jr.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[(0,jr.jsxs)("div",{className:"mb-8",children:[(0,jr.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[(0,jr.jsx)(Ap,{className:"w-8 h-8 text-red-600"}),"Meus V\xeddeos"]}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Adicione e gerencie seus v\xeddeos do YouTube"})]}),r?(0,jr.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,jr.jsxs)("div",{className:"space-y-8",children:[(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-8 border border-gray-200",children:[(0,jr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Adicionar Novo V\xeddeo"}),(0,jr.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"PREVIEW DO V\xcdDEO"}),(0,jr.jsx)("div",{className:"bg-gray-200 rounded-lg w-full h-48 flex items-center justify-center overflow-hidden",children:y?(0,jr.jsx)("img",{src:y,alt:"Preview",className:"w-full h-full object-cover"}):(0,jr.jsx)(ay,{className:"w-12 h-12 text-gray-400"})}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"A imagem preview do v\xeddeo \xe9 inserida automaticamente :)"})]}),(0,jr.jsxs)("div",{className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link do v\xeddeo (Ex: https://youtu.be/EPquJPEilnPI)"}),(0,jr.jsx)(Zo,{type:"text",value:a,onChange:async e=>{const t=e.target.value;if(i(t),t){w(!0);const e=S(t);if(e){x(k(e));const r=await(async e=>{try{const t=await fetch("https://www.youtube.com/oembed?url=".concat(encodeURIComponent(e),"&format=json"));if(t.ok)return(await t.json()).title||""}catch(t){console.log("Erro ao buscar t\xedtulo do YouTube:",t)}return""})(t);r&&!o&&s(r)}w(!1)}},placeholder:"https://youtube.com/watch?v=...",className:"border-gray-300"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo do v\xeddeo (O t\xedtulo do v\xeddeo \xe9 inserido automaticamente)"}),(0,jr.jsx)(Zo,{type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"T\xedtulo do v\xeddeo",className:"border-gray-300"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione o CD"}),(0,jr.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-600",children:[(0,jr.jsx)("option",{value:"",children:"Nenhum CD"}),g.map(e=>(0,jr.jsx)("option",{value:e.id,children:e.title},e.id))]})]})]})]}),(0,jr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)("input",{type:"checkbox",id:"addToProfile",checked:u,onChange:e=>d(e.target.checked),className:"w-4 h-4 rounded border-gray-300 text-red-600 cursor-pointer"}),(0,jr.jsx)("label",{htmlFor:"addToProfile",className:"text-sm text-gray-700 cursor-pointer",children:"Adicionar v\xeddeo ao meu perfil"})]}),(0,jr.jsxs)(ds,{onClick:async()=>{if(!a||!o)return void Gr({title:"Erro",description:"Preencha a URL e o t\xedtulo do v\xeddeo",variant:"destructive"});const t=S(a);if(!t)return void Gr({title:"Erro",description:"URL do YouTube inv\xe1lida",variant:"destructive"});const r=!!l,n=u&&!l;try{const{data:u,error:h}=await br.from("artist_videos").insert({artist_id:e.id,video_url:a,video_id:t,title:o,thumbnail:y,album_id:r?l:null,is_public:n,created_at:(new Date).toISOString()}).select();if(h)throw h;Gr({title:"Sucesso",description:r?"V\xeddeo adicionado ao CD com sucesso":"V\xeddeo adicionado ao seu perfil com sucesso"}),i(""),s(""),c(""),d(!1),x(""),_()}catch(h){console.error("Erro ao adicionar v\xeddeo:",h),Gr({title:"Erro",description:h.message||"Erro ao adicionar v\xeddeo",variant:"destructive"})}},disabled:b,className:"bg-red-600 hover:bg-red-700 text-white rounded-full px-8 h-10 font-semibold",children:[(0,jr.jsx)(Vv,{className:"w-4 h-4 mr-2"}),"ADICIONAR V\xcdDEO"]})]})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"V\xeddeos no CD"}),(0,jr.jsx)("div",{className:"space-y-3",children:0===p.length?(0,jr.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhum v\xeddeo adicionado a CDs"}):p.map(e=>(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-red-600 transition-colors flex gap-4",children:[(0,jr.jsx)("img",{src:e.thumbnail||k(e.video_id),alt:e.title,className:"w-24 h-16 rounded object-cover flex-shrink-0"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("h4",{className:"font-semibold text-gray-900 text-sm mb-2 truncate",children:e.title}),(0,jr.jsx)("div",{className:"text-xs text-gray-500 mb-3 break-all",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,jr.jsx)("span",{className:"truncate",children:e.video_url}),(0,jr.jsx)("button",{onClick:()=>A(e.video_url),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:j===e.video_url?(0,jr.jsx)(tp,{className:"w-4 h-4 text-green-600"}):(0,jr.jsx)(ny,{className:"w-4 h-4"})})]})}),(0,jr.jsxs)("button",{onClick:()=>E(e.id),className:"text-xs text-red-600 hover:bg-red-50 py-2 px-3 rounded transition-colors flex items-center gap-1 font-medium",children:[(0,jr.jsx)(yp,{className:"w-4 h-4"}),"Remover"]})]})]},e.id))})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"V\xeddeos no Perfil"}),(0,jr.jsx)("div",{className:"space-y-3",children:0===h.length?(0,jr.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhum v\xeddeo no seu perfil"}):h.map(e=>(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-red-600 transition-colors flex gap-4",children:[(0,jr.jsx)("img",{src:e.thumbnail||k(e.video_id),alt:e.title,className:"w-24 h-16 rounded object-cover flex-shrink-0"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("h4",{className:"font-semibold text-gray-900 text-sm mb-2 truncate",children:e.title}),(0,jr.jsx)("div",{className:"text-xs text-gray-500 mb-3 break-all",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,jr.jsx)("span",{className:"truncate",children:e.video_url}),(0,jr.jsx)("button",{onClick:()=>A(e.video_url),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:j===e.video_url?(0,jr.jsx)(tp,{className:"w-4 h-4 text-green-600"}):(0,jr.jsx)(ny,{className:"w-4 h-4"})})]})}),(0,jr.jsxs)("button",{onClick:()=>E(e.id),className:"text-xs text-red-600 hover:bg-red-50 py-2 px-3 rounded transition-colors flex items-center gap-1 font-medium",children:[(0,jr.jsx)(yp,{className:"w-4 h-4"}),"Remover"]})]})]},e.id))})]})]})]})]})})]})},hw={async getArtistStats(e){try{console.log("getArtistStats - userId:",e);const{data:t,error:r}=await br.from("artists").select("id, followers_count, monthly_listeners").eq("id",e).maybeSingle();console.log("Artist data:",t,r);const{data:n,error:a}=await br.from("albums").select("id, title").eq("artist_id",e);console.log("Albums data:",n,a);const{data:i,error:o}=await br.from("songs").select("id, title, plays, cover_url, album_id").eq("artist_id",e).order("plays",{ascending:!1});console.log("Songs data:",i,o);const s=(i||[]).reduce((e,t)=>e+(t.plays||0),0),l=(i||[]).slice(0,5).map(e=>({songId:e.id,title:e.title,plays:e.plays||0,coverImage:e.cover_url})),c=[],u=new Date,d=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];for(let e=5;e>=0;e--){const t=new Date(u.getFullYear(),u.getMonth()-e,1),r=(6-e)/21,n=Math.floor(s*r);c.push({month:d[t.getMonth()],plays:n})}return{data:{totalPlays:s,monthlyListeners:(null===t||void 0===t?void 0:t.monthly_listeners)||Math.floor(.023*s),followers:(null===t||void 0===t?void 0:t.followers_count)||0,totalSongs:(null===i||void 0===i?void 0:i.length)||0,totalAlbums:(null===n||void 0===n?void 0:n.length)||0,topSongs:l,playsByMonth:c},error:null}}catch(kX){return console.error("getArtistStats error:",kX),{data:null,error:{message:String(kX)}}}},async getArtist(e){try{const{data:t,error:r}=await br.from("artists").select("*").eq("id",e).maybeSingle();return{data:t,error:r}}catch(kX){return console.error("getArtist error:",kX),{data:null,error:{message:String(kX)}}}},async saveArtist(e,t,r){try{console.log("Salvando artista:",e,r);const{data:n}=await br.from("artists").select("id").eq("id",e).maybeSingle(),a={name:r.name||"",bio:r.bio||"",estilo_musical:r.estilo_musical||"",cidade:r.cidade||"",estado:r.estado||"",avatar_url:r.avatar_url||"",cover_url:r.cover_url||"",instagram:r.instagram||"",twitter:r.twitter||"",youtube:r.youtube||""};if(r.slug&&(a.slug=r.slug),n){console.log("Artista existe, atualizando...");const{error:t}=await br.from("artists").update(a).eq("id",e);return t?(console.error("Erro no update:",t),{data:null,error:t}):(console.log("Update sucesso!"),{data:{id:e},error:null})}{console.log("Artista n\xe3o existe, criando...");const{error:n}=await br.from("artists").insert({id:e,email:t,name:r.name||"",slug:(r.name||"").toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),bio:r.bio||"",estilo_musical:r.estilo_musical||"",cidade:r.cidade||"",estado:r.estado||"",avatar_url:r.avatar_url||"",cover_url:r.cover_url||"",instagram:r.instagram||"",twitter:r.twitter||"",youtube:r.youtube||"",followers_count:0,is_verified:!1});return n?(console.error("Erro no insert:",n),{data:null,error:n}):(console.log("Insert sucesso!"),{data:{id:e},error:null})}}catch(kX){return console.error("saveArtist exception:",kX),{data:null,error:{message:String(kX)}}}}},fw=["children"],pw=["children"];function mw(e){const r=gw(e),n=t.forwardRef((e,n)=>{const{children:a}=e,s=i(e,fw),l=t.Children.toArray(a),c=l.find(yw);if(c){const e=c.props.children,a=l.map(r=>r===c?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:r);return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null}))}return(0,jr.jsx)(r,(0,o.A)((0,o.A)({},s),{},{ref:n,children:a}))});return n.displayName="".concat(e,".Slot"),n}function gw(e){const r=t.forwardRef((e,r)=>{const{children:n}=e,a=i(e,pw);if(t.isValidElement(n)){const e=function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;if(a)return e.ref;if(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const r=(0,o.A)({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=function(){const e=i(...arguments);return a(...arguments),e}:a&&(r[n]=a):"style"===n?r[n]=(0,o.A)((0,o.A)({},a),i):"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return(0,o.A)((0,o.A)({},e),r)}(a,n.props);return n.type!==t.Fragment&&(i.ref=r?Xr(r,e):e),t.cloneElement(n,i)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}var vw=Symbol("radix.slottable");function yw(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===vw}const xw=["__scopeSelect","disabled"],bw=["__scopeSelect","className","style","children","placeholder"],ww=["__scopeSelect","children"],jw=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],Nw=["__scopeSelect","onPlaced"],_w=["__scopeSelect","align","collisionPadding"],Sw=["__scopeSelect","nonce"],kw=["__scopeSelect"],Ew=["__scopeSelect"],Aw=["__scopeSelect","value","disabled","textValue"],Ow=["__scopeSelect","className","style"],Cw=["__scopeSelect"],Pw=["__scopeSelect","onAutoScroll"],Tw=["__scopeSelect"],Dw=["__scopeSelect"],Rw=["__scopeSelect","value"];var Iw=[" ","Enter","ArrowUp","ArrowDown"],Mw=[" ","Enter"],Lw="Select",[zw,Fw,Uw]=gn(Lw),[Bw,qw]=on(Lw,[Uw,Tc]),Hw=Tc(),[Ww,Vw]=Bw(Lw),[Kw,Gw]=Bw(Lw),Yw=e=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:i,onOpenChange:s,value:l,defaultValue:c,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:p,required:m,form:g}=e,v=Hw(r),[y,x]=t.useState(null),[b,w]=t.useState(null),[j,N]=t.useState(!1),_=fs(d),[S,k]=Yn({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:s,caller:Lw}),[E,A]=Yn({prop:l,defaultProp:c,onChange:u,caller:Lw}),O=t.useRef(null),C=!y||(g||!!y.closest("form")),[P,T]=t.useState(new Set),D=Array.from(P).map(e=>e.props.value).join(";");return(0,jr.jsx)(Yc,(0,o.A)((0,o.A)({},v),{},{children:(0,jr.jsxs)(Ww,{required:m,scope:r,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Cs(),value:E,onValueChange:A,open:S,onOpenChange:k,dir:_,triggerPointerDownPosRef:O,disabled:p,children:[(0,jr.jsx)(zw.Provider,{scope:r,children:(0,jr.jsx)(Kw,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(e=>{T(t=>new Set(t).add(e))},[]),onNativeOptionRemove:t.useCallback(e=>{T(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:n})}),C?(0,jr.jsxs)(Mj,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:E,onChange:e=>A(e.target.value),disabled:p,form:g,children:[void 0===E?(0,jr.jsx)("option",{value:""}):null,Array.from(P)]},D):null]})}))};Yw.displayName=Lw;var $w="SelectTrigger",Jw=t.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:a=!1}=e,s=i(e,xw),l=Hw(n),c=Vw($w,n),u=c.disabled||a,d=Zr(r,c.onTriggerChange),h=Fw(n),f=t.useRef("touch"),[p,m,g]=zj(e=>{const t=h().filter(e=>!e.disabled),r=t.find(e=>e.value===c.value),n=Fj(t,e,r);void 0!==n&&c.onValueChange(n.value)}),v=e=>{u||(c.onOpenChange(!0),g()),e&&(c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,jr.jsx)($c,(0,o.A)((0,o.A)({asChild:!0},l),{},{children:(0,jr.jsx)(En.button,(0,o.A)((0,o.A)({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Lj(c.value)?"":void 0},s),{},{ref:d,onClick:$r(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&v(e)}),onPointerDown:$r(s.onPointerDown,e=>{f.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:$r(s.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||Iw.includes(e.key)&&(v(),e.preventDefault())})}))}))});Jw.displayName=$w;var Xw="SelectValue",Zw=t.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:l=""}=e,c=i(e,bw),u=Vw(Xw,r),{onValueNodeHasChildrenChange:d}=u,h=void 0!==s,f=Zr(t,u.onValueNodeChange);return qn(()=>{d(h)},[d,h]),(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({},c),{},{ref:f,style:{pointerEvents:"none"},children:Lj(u.value)?(0,jr.jsx)(jr.Fragment,{children:l}):s}))});Zw.displayName=Xw;var Qw=t.forwardRef((e,t)=>{const{__scopeSelect:r,children:n}=e,a=i(e,ww);return(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({"aria-hidden":!0},a),{},{ref:t,children:n||"\u25bc"}))});Qw.displayName="SelectIcon";var ej=e=>(0,jr.jsx)(Wn,(0,o.A)({asChild:!0},e));ej.displayName="SelectPortal";var tj="SelectContent",rj=t.forwardRef((e,r)=>{const n=Vw(tj,e.__scopeSelect),[a,i]=t.useState();if(qn(()=>{i(new DocumentFragment)},[]),!n.open){const t=a;return t?Yr.createPortal((0,jr.jsx)(aj,{scope:e.__scopeSelect,children:(0,jr.jsx)(zw.Slot,{scope:e.__scopeSelect,children:(0,jr.jsx)("div",{children:e.children})})}),t):null}return(0,jr.jsx)(sj,(0,o.A)((0,o.A)({},e),{},{ref:r}))});rj.displayName=tj;var nj=10,[aj,ij]=Bw(tj),oj=mw("SelectContent.RemoveScroll"),sj=t.forwardRef((e,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:x}=e,b=i(e,jw),w=Vw(tj,n),[j,N]=t.useState(null),[_,S]=t.useState(null),k=Zr(r,e=>N(e)),[E,A]=t.useState(null),[O,C]=t.useState(null),P=Fw(n),[T,D]=t.useState(!1),R=t.useRef(!1);t.useEffect(()=>{if(j)return Pu(j)},[j]),ms();const I=t.useCallback(e=>{const[t,...r]=P().map(e=>e.ref.current),[n]=r.slice(-1),a=document.activeElement;for(const i of e){if(i===a)return;if(null===i||void 0===i||i.scrollIntoView({block:"nearest"}),i===t&&_&&(_.scrollTop=0),i===n&&_&&(_.scrollTop=_.scrollHeight),null===i||void 0===i||i.focus(),document.activeElement!==a)return}},[P,_]),M=t.useCallback(()=>I([E,j]),[I,E,j]);t.useEffect(()=>{T&&M()},[T,M]);const{onOpenChange:L,triggerPointerDownPosRef:z}=w;t.useEffect(()=>{if(j){let e={x:0,y:0};const t=t=>{var r,n,a,i;e={x:Math.abs(Math.round(t.pageX)-(null!==(r=null===(n=z.current)||void 0===n?void 0:n.x)&&void 0!==r?r:0)),y:Math.abs(Math.round(t.pageY)-(null!==(a=null===(i=z.current)||void 0===i?void 0:i.y)&&void 0!==a?a:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():j.contains(r.target)||L(!1),document.removeEventListener("pointermove",t),z.current=null};return null!==z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[j,L,z]),t.useEffect(()=>{const e=()=>L(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[L]);const[F,U]=zj(e=>{const t=P().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=Fj(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),B=t.useCallback((e,t,r)=>{const n=!R.current&&!r;(void 0!==w.value&&w.value===t||n)&&(A(e),n&&(R.current=!0))},[w.value]),q=t.useCallback(()=>null===j||void 0===j?void 0:j.focus(),[j]),H=t.useCallback((e,t,r)=>{const n=!R.current&&!r;(void 0!==w.value&&w.value===t||n)&&C(e)},[w.value]),W="popper"===a?cj:lj,V=W===cj?{side:u,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:x}:{};return(0,jr.jsx)(aj,{scope:n,content:j,viewport:_,onViewportChange:S,itemRefCallback:B,selectedItem:E,onItemLeave:q,itemTextRefCallback:H,focusSelectedItem:M,selectedItemText:O,position:a,isPositioned:T,searchRef:F,children:(0,jr.jsx)(bd,{as:oj,allowPinchZoom:!0,children:(0,jr.jsx)(ws,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:$r(s,e=>{var t;null===(t=w.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,jr.jsx)(Mn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,jr.jsx)(W,(0,o.A)((0,o.A)((0,o.A)({role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault()},b),V),{},{onPlaced:()=>D(!0),ref:k,style:(0,o.A)({display:"flex",flexDirection:"column",outline:"none"},b.style),onKeyDown:$r(b.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||U(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=P().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>I(t)),e.preventDefault()}})}))})})})})});sj.displayName="SelectContentImpl";var lj=t.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:a}=e,s=i(e,Nw),l=Vw(tj,n),c=ij(tj,n),[u,d]=t.useState(null),[h,f]=t.useState(null),p=Zr(r,e=>f(e)),m=Fw(n),g=t.useRef(!1),v=t.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:b,focusSelectedItem:w}=c,j=t.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&y&&x&&b){const e=l.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),n=b.getBoundingClientRect();if("rtl"!==l.dir){const a=n.left-t.left,i=r.left-a,o=e.left-i,s=e.width+o,l=Math.max(s,t.width),c=window.innerWidth-nj,d=Lp(i,[nj,Math.max(nj,c-l)]);u.style.minWidth=s+"px",u.style.left=d+"px"}else{const a=t.right-n.right,i=window.innerWidth-r.right-a,o=window.innerWidth-e.right-i,s=e.width+o,l=Math.max(s,t.width),c=window.innerWidth-nj,d=Lp(i,[nj,Math.max(nj,c-l)]);u.style.minWidth=s+"px",u.style.right=d+"px"}const i=m(),o=window.innerHeight-2*nj,s=y.scrollHeight,c=window.getComputedStyle(h),d=parseInt(c.borderTopWidth,10),f=parseInt(c.paddingTop,10),p=parseInt(c.borderBottomWidth,10),v=d+f+s+parseInt(c.paddingBottom,10)+p,w=Math.min(5*x.offsetHeight,v),j=window.getComputedStyle(y),N=parseInt(j.paddingTop,10),_=parseInt(j.paddingBottom,10),S=e.top+e.height/2-nj,k=o-S,E=x.offsetHeight/2,A=d+f+(x.offsetTop+E),O=v-A;if(A<=S){const e=i.length>0&&x===i[i.length-1].ref.current;u.style.bottom="0px";const t=h.clientHeight-y.offsetTop-y.offsetHeight,r=A+Math.max(k,E+(e?_:0)+t+p);u.style.height=r+"px"}else{const e=i.length>0&&x===i[0].ref.current;u.style.top="0px";const t=Math.max(S,d+y.offsetTop+(e?N:0)+E)+O;u.style.height=t+"px",y.scrollTop=A-S+y.offsetTop}u.style.margin="".concat(nj,"px 0"),u.style.minHeight=w+"px",u.style.maxHeight=o+"px",null===a||void 0===a||a(),requestAnimationFrame(()=>g.current=!0)}},[m,l.trigger,l.valueNode,u,h,y,x,b,l.dir,a]);qn(()=>j(),[j]);const[N,_]=t.useState();qn(()=>{h&&_(window.getComputedStyle(h).zIndex)},[h]);const S=t.useCallback(e=>{e&&!0===v.current&&(j(),null===w||void 0===w||w(),v.current=!1)},[j,w]);return(0,jr.jsx)(uj,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:S,children:(0,jr.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({},s),{},{ref:p,style:(0,o.A)({boxSizing:"border-box",maxHeight:"100%"},s.style)}))})})});lj.displayName="SelectItemAlignedPosition";var cj=t.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=nj}=e,s=i(e,_w),l=Hw(r);return(0,jr.jsx)(Jc,(0,o.A)((0,o.A)((0,o.A)({},l),s),{},{ref:t,align:n,collisionPadding:a,style:(0,o.A)((0,o.A)({boxSizing:"border-box"},s.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});cj.displayName="SelectPopperPosition";var[uj,dj]=Bw(tj,{}),hj="SelectViewport",fj=t.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:a}=e,s=i(e,Sw),l=ij(hj,n),c=dj(hj,n),u=Zr(r,l.onViewportChange),d=t.useRef(0);return(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,jr.jsx)(zw.Slot,{scope:n,children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({"data-radix-select-viewport":"",role:"presentation"},s),{},{ref:u,style:(0,o.A)({position:"relative",flex:1,overflow:"hidden auto"},s.style),onScroll:$r(s.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=c;if(null!==n&&void 0!==n&&n.current&&r){const e=Math.abs(d.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*nj,a=parseFloat(r.style.minHeight),i=parseFloat(r.style.height),o=Math.max(a,i);if(o<n){const a=o+e,i=Math.min(n,a),s=a-i;r.style.height=i+"px","0px"===r.style.bottom&&(t.scrollTop=s>0?s:0,r.style.justifyContent="flex-end")}}}d.current=t.scrollTop})}))})]})});fj.displayName=hj;var pj="SelectGroup",[mj,gj]=Bw(pj),vj=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=i(e,kw),a=Cs();return(0,jr.jsx)(mj,{scope:r,id:a,children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({role:"group","aria-labelledby":a},n),{},{ref:t}))})});vj.displayName=pj;var yj="SelectLabel",xj=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=i(e,Ew),a=gj(yj,r);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({id:a.id},n),{},{ref:t}))});xj.displayName=yj;var bj="SelectItem",[wj,jj]=Bw(bj),Nj=t.forwardRef((e,r)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:l}=e,c=i(e,Aw),u=Vw(bj,n),d=ij(bj,n),h=u.value===a,[f,p]=t.useState(null!==l&&void 0!==l?l:""),[m,g]=t.useState(!1),v=Zr(r,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,a,s)}),y=Cs(),x=t.useRef("touch"),b=()=>{s||(u.onValueChange(a),u.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,jr.jsx)(wj,{scope:n,value:a,disabled:s,textId:y,isSelected:h,onItemTextChange:t.useCallback(e=>{p(t=>{var r;return t||(null!==(r=null===e||void 0===e?void 0:e.textContent)&&void 0!==r?r:"").trim()})},[]),children:(0,jr.jsx)(zw.ItemSlot,{scope:n,value:a,disabled:s,textValue:f,children:(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":h&&m,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},c),{},{ref:v,onFocus:$r(c.onFocus,()=>g(!0)),onBlur:$r(c.onBlur,()=>g(!1)),onClick:$r(c.onClick,()=>{"mouse"!==x.current&&b()}),onPointerUp:$r(c.onPointerUp,()=>{"mouse"===x.current&&b()}),onPointerDown:$r(c.onPointerDown,e=>{x.current=e.pointerType}),onPointerMove:$r(c.onPointerMove,e=>{var t;(x.current=e.pointerType,s)?null===(t=d.onItemLeave)||void 0===t||t.call(d):"mouse"===x.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$r(c.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=d.onItemLeave)||void 0===t||t.call(d))}),onKeyDown:$r(c.onKeyDown,e=>{var t;""!==(null===(t=d.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(Mw.includes(e.key)&&b()," "===e.key&&e.preventDefault())})}))})})});Nj.displayName=bj;var _j="SelectItemText",Sj=t.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s}=e,l=i(e,Ow),c=Vw(_j,n),u=ij(_j,n),d=jj(_j,n),h=Gw(_j,n),[f,p]=t.useState(null),m=Zr(r,e=>p(e),d.onItemTextChange,e=>{var t;return null===(t=u.itemTextRefCallback)||void 0===t?void 0:t.call(u,e,d.value,d.disabled)}),g=null===f||void 0===f?void 0:f.textContent,v=t.useMemo(()=>(0,jr.jsx)("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=h;return qn(()=>(y(v),()=>x(v)),[y,x,v]),(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({id:d.textId},l),{},{ref:m})),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Yr.createPortal(l.children,c.valueNode):null]})});Sj.displayName=_j;var kj="SelectItemIndicator",Ej=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=i(e,Cw);return jj(kj,r).isSelected?(0,jr.jsx)(En.span,(0,o.A)((0,o.A)({"aria-hidden":!0},n),{},{ref:t})):null});Ej.displayName=kj;var Aj="SelectScrollUpButton",Oj=t.forwardRef((e,r)=>{const n=ij(Aj,e.__scopeSelect),a=dj(Aj,e.__scopeSelect),[i,s]=t.useState(!1),l=Zr(r,a.onScrollButtonChange);return qn(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,jr.jsx)(Tj,(0,o.A)((0,o.A)({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Oj.displayName=Aj;var Cj="SelectScrollDownButton",Pj=t.forwardRef((e,r)=>{const n=ij(Cj,e.__scopeSelect),a=dj(Cj,e.__scopeSelect),[i,s]=t.useState(!1),l=Zr(r,a.onScrollButtonChange);return qn(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;s(r)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,jr.jsx)(Tj,(0,o.A)((0,o.A)({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Pj.displayName=Cj;var Tj=t.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:a}=e,s=i(e,Pw),l=ij("SelectScrollButton",n),c=t.useRef(null),u=Fw(n),d=t.useCallback(()=>{null!==c.current&&(window.clearInterval(c.current),c.current=null)},[]);return t.useEffect(()=>()=>d(),[d]),qn(()=>{var e;const t=u().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[u]),(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({"aria-hidden":!0},s),{},{ref:r,style:(0,o.A)({flexShrink:0},s.style),onPointerDown:$r(s.onPointerDown,()=>{null===c.current&&(c.current=window.setInterval(a,50))}),onPointerMove:$r(s.onPointerMove,()=>{var e;null===(e=l.onItemLeave)||void 0===e||e.call(l),null===c.current&&(c.current=window.setInterval(a,50))}),onPointerLeave:$r(s.onPointerLeave,()=>{d()})}))}),Dj=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=i(e,Tw);return(0,jr.jsx)(En.div,(0,o.A)((0,o.A)({"aria-hidden":!0},n),{},{ref:t}))});Dj.displayName="SelectSeparator";var Rj="SelectArrow",Ij=t.forwardRef((e,t)=>{const{__scopeSelect:r}=e,n=i(e,Dw),a=Hw(r),s=Vw(Rj,r),l=ij(Rj,r);return s.open&&"popper"===l.position?(0,jr.jsx)(Xc,(0,o.A)((0,o.A)((0,o.A)({},a),n),{},{ref:t})):null});Ij.displayName=Rj;var Mj=t.forwardRef((e,r)=>{let{__scopeSelect:n,value:a}=e,s=i(e,Rw);const l=t.useRef(null),c=Zr(r,l),u=zp(a);return t.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(u!==a&&r){const t=new Event("change",{bubbles:!0});r.call(e,a),e.dispatchEvent(t)}},[u,a]),(0,jr.jsx)(En.select,(0,o.A)((0,o.A)({},s),{},{style:(0,o.A)((0,o.A)({},$n),s.style),ref:c,defaultValue:a}))});function Lj(e){return""===e||void 0===e}function zj(e){const r=On(e),n=t.useRef(""),a=t.useRef(0),i=t.useCallback(e=>{const t=n.current+e;r(t),function e(t){n.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(t)},[r]),o=t.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,i,o]}function Fj(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=function(e,t){return e.map((r,n)=>e[(t+n)%e.length])}(e,Math.max(a,0));1===n.length&&(i=i.filter(e=>e!==r));const o=i.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}Mj.displayName="SelectBubbleInput";var Uj=Jw,Bj=Qw,qj=ej,Hj=rj,Wj=fj,Vj=xj,Kj=Nj,Gj=Sj,Yj=Ej,$j=Oj,Jj=Pj,Xj=Dj;const Zj=["className","children"],Qj=["className"],eN=["className"],tN=["className","children","position"],rN=["className"],nN=["className","children"],aN=["className"],iN=Yw,oN=Zw,sN=t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=i(e,Zj);return(0,jr.jsxs)(Uj,(0,o.A)((0,o.A)({ref:t,className:So("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r)},a),{},{children:[n,(0,jr.jsx)(Bj,{asChild:!0,children:(0,jr.jsx)(Bo,{className:"h-4 w-4 opacity-50"})})]}))});sN.displayName=Uj.displayName;const lN=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,Qj);return(0,jr.jsx)($j,(0,o.A)((0,o.A)({ref:t,className:So("flex cursor-default items-center justify-center py-1",r)},n),{},{children:(0,jr.jsx)(kp,{className:"h-4 w-4"})}))});lN.displayName=$j.displayName;const cN=t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,eN);return(0,jr.jsx)(Jj,(0,o.A)((0,o.A)({ref:t,className:So("flex cursor-default items-center justify-center py-1",r)},n),{},{children:(0,jr.jsx)(Bo,{className:"h-4 w-4"})}))});cN.displayName=Jj.displayName;const uN=t.forwardRef((e,t)=>{let{className:r,children:n,position:a="popper"}=e,s=i(e,tN);return(0,jr.jsx)(qj,{container:document.body,children:(0,jr.jsxs)(Hj,(0,o.A)((0,o.A)({ref:t,className:So("fixed z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a},s),{},{children:[(0,jr.jsx)(lN,{}),(0,jr.jsx)(Wj,{className:So("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,jr.jsx)(cN,{})]}))})});uN.displayName=Hj.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,rN);return(0,jr.jsx)(Vj,(0,o.A)({ref:t,className:So("px-2 py-1.5 text-sm font-semibold",r)},n))}).displayName=Vj.displayName;const dN=t.forwardRef((e,t)=>{let{className:r,children:n}=e,a=i(e,nN);return(0,jr.jsxs)(Kj,(0,o.A)((0,o.A)({ref:t,className:So("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r)},a),{},{children:[(0,jr.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,jr.jsx)(Yj,{children:(0,jr.jsx)(tp,{className:"h-4 w-4"})})}),(0,jr.jsx)(Gj,{children:n})]}))});dN.displayName=Kj.displayName;t.forwardRef((e,t)=>{let{className:r}=e,n=i(e,aN);return(0,jr.jsx)(Xj,(0,o.A)({ref:t,className:So("-mx-1 my-1 h-px bg-muted",r)},n))}).displayName=Xj.displayName;const hN=si("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),fN=si("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),pN={forro:"Forr\xf3",arrocha:"Arrocha",piseiro:"Piseiro",arrochadeira:"Arrochadeira",pagode:"Pagode",sertanejo:"Sertanejo","brega-funk":"Brega Funk",variados:"Variados",samba:"Samba",funk:"Funk",axe:"Ax\xe9",reggae:"Reggae",brega:"Brega",gospel:"Gospel",rap:"Rap/Hip-Hop",pop:"Pop",mpb:"MPB",rock:"Rock",eletronica:"Eletr\xf4nica",podcast:"Podcast",trap:"Trap",frevo:"Frevo"},mN=()=>{var e,r;const{user:n,updateUser:a}=_r(),[i,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{if(null!==n&&void 0!==n&&n.id){try{const{data:e,error:t}=await hw.getArtist(n.id);s(e&&!t?{id:e.id,name:e.name||n.name,slug:e.slug||"",bio:e.bio||"",genre:e.estilo_musical||"",cidade:e.cidade||"",estado:e.estado||"",location:e.cidade&&e.estado?"".concat(e.cidade,", ").concat(e.estado):e.cidade||e.estado||"",avatar:e.avatar_url||"/images/default-avatar.png",coverImage:e.cover_url||"",followers:e.followers_count||0,monthlyListeners:0,instagram:e.instagram||"",twitter:e.twitter||"",youtube:e.youtube||""}:{id:n.id,name:n.name||"",slug:"",bio:"",genre:n.estilo_musical||"",cidade:n.cidade||"",estado:n.estado||"",location:n.cidade&&n.estado?"".concat(n.cidade,", ").concat(n.estado):n.cidade||n.estado||"",avatar:n.avatar||"/images/default-avatar.png",coverImage:"",followers:0,monthlyListeners:0,instagram:"",twitter:"",youtube:""})}catch(e){console.error("Erro ao carregar dados do artista:",e),s({id:n.id,name:n.name||"",slug:"",bio:"",genre:n.estilo_musical||"",cidade:n.cidade||"",estado:n.estado||"",location:"",avatar:n.avatar||"/images/default-avatar.png",coverImage:"",followers:0,monthlyListeners:0,instagram:"",twitter:"",youtube:""})}d(!1)}else d(!1)})()},[n]);const y=e=>{const{name:t,value:r}=e.target;s(e=>(0,o.A)((0,o.A)({},e),{},{[t]:r}))},x=async(e,t)=>{if(!e||null===n||void 0===n||!n.id)return null;const r=e.name.split(".").pop(),a="".concat(n.id,"_").concat(t,"_").concat(Date.now(),".").concat(r),i="".concat(t,"s/").concat(a);console.log("Fazendo upload:",i);const{error:o}=await br.storage.from("avatars").upload(i,e,{cacheControl:"3600",upsert:!0});if(o)throw console.error("Erro no upload:",o),o;const{data:s}=br.storage.from("avatars").getPublicUrl(i);return console.log("URL p\xfablica:",s.publicUrl),s.publicUrl};if(u||!i)return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1 flex items-center justify-center overflow-hidden",children:(0,jr.jsx)("p",{className:"text-gray-600",children:"Carregando..."})})]});const b=(e,t)=>{var r,n;const a=null===e||void 0===e||null===(r=e.target)||void 0===r||null===(n=r.files)||void 0===n?void 0:n[0];if(!a)return;"avatar"===t?m(a):v(a);const i=new FileReader;i.onload=()=>{const e=i.result;s("avatar"===t?t=>(0,o.A)((0,o.A)({},t),{},{avatar:e}):t=>(0,o.A)((0,o.A)({},t),{},{coverImage:e})),Gr({title:"Imagem selecionada",description:'Clique em "Salvar Altera\xe7\xf5es" para confirmar'})},i.readAsDataURL(a)};return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1",children:(0,jr.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,jr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jr.jsx)(Ho,{className:"w-8 h-8 text-red-600"}),(0,jr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Configura\xe7\xf5es do Perfil"})]}),(0,jr.jsx)(ds,{onClick:()=>l?(async()=>{if(n&&i){f(!0);try{var e,t;let r=i.avatar||"",l=i.coverImage||"";if(p)try{const e=await x(p,"avatar");e&&(r=e)}catch(kX){console.error("Erro upload avatar:",kX),Gr({title:"Aviso",description:"N\xe3o foi poss\xedvel enviar a foto de perfil."})}if(g)try{const e=await x(g,"cover");e&&(l=e)}catch(kX){console.error("Erro upload capa:",kX),Gr({title:"Aviso",description:"N\xe3o foi poss\xedvel enviar a capa."})}null!==(e=r)&&void 0!==e&&e.startsWith("data:")&&(r=""),null!==(t=l)&&void 0!==t&&t.startsWith("data:")&&(l="");const u={name:i.name||"",slug:i.slug||"",bio:i.bio||"",estilo_musical:i.genre||"",cidade:i.cidade||"",estado:i.estado||"",avatar_url:r,cover_url:l,instagram:i.instagram||"",twitter:i.twitter||"",youtube:i.youtube||""},{data:d,error:h}=await hw.saveArtist(n.id,n.email,u);if(h)return console.error("Erro ao salvar:",h),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es. Verifique sua conex\xe3o.",variant:"destructive"}),void f(!1);console.log("Salvo com sucesso:",d),s(e=>(0,o.A)((0,o.A)({},e),{},{avatar:r||e.avatar,coverImage:l||e.coverImage})),m(null),v(null);const y=(0,o.A)((0,o.A)({},n),{},{name:i.name,avatar:r||i.avatar});"function"===typeof a&&a(y),Gr({title:"Perfil atualizado!",description:"Suas informa\xe7\xf5es foram salvas com sucesso"}),c(!1)}catch(kX){console.error("Erro inesperado:",kX),Gr({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}finally{f(!1)}}})():c(!0),className:"bg-red-600 hover:bg-red-700 text-white",disabled:h,children:h?"Salvando...":l?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(hN,{className:"w-4 h-4 mr-2"}),"Salvar Altera\xe7\xf5es"]}):"Editar Perfil"})]}),(0,jr.jsx)(qm,{className:"bg-white shadow-sm mb-6 overflow-hidden",children:(0,jr.jsxs)("div",{className:"relative h-64 bg-gradient-to-r from-red-600 to-red-800",children:[i.coverImage&&(0,jr.jsx)("img",{src:i.coverImage,alt:"Capa",className:"w-full h-full object-cover"}),l&&(0,jr.jsxs)("label",{htmlFor:"coverUpload",className:"absolute inset-0 bg-black/50 flex items-center justify-center cursor-pointer hover:bg-black/60 transition-colors",children:[(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(Sx,{className:"w-12 h-12 text-white mx-auto mb-2"}),(0,jr.jsx)("p",{className:"text-white font-medium",children:"Alterar Capa"})]}),(0,jr.jsx)("input",{id:"coverUpload",type:"file",accept:"image/*",className:"hidden",onChange:e=>b(e,"cover")})]})]})}),(0,jr.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,jr.jsx)(qm,{className:"bg-white shadow-sm lg:col-span-1",children:(0,jr.jsxs)("div",{className:"p-6",children:[(0,jr.jsxs)("div",{className:"relative w-48 h-48 mx-auto mb-4",children:[(0,jr.jsx)("img",{src:i.avatar,alt:i.name,className:"w-full h-full rounded-full object-cover bg-gray-200"}),l&&(0,jr.jsxs)("label",{htmlFor:"avatarUpload",className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center cursor-pointer hover:bg-black/60 transition-colors",children:[(0,jr.jsx)(Sx,{className:"w-8 h-8 text-white"}),(0,jr.jsx)("input",{id:"avatarUpload",type:"file",accept:"image/*",className:"hidden",onChange:e=>b(e,"avatar")})]})]}),(0,jr.jsxs)("div",{className:"text-center space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm",children:"Seguidores"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=i.followers)||void 0===e?void 0:e.toLocaleString())||0})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm",children:"Ouvintes Mensais"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(r=i.monthlyListeners)||void 0===r?void 0:r.toLocaleString())||0})]})]})]})}),(0,jr.jsx)(qm,{className:"bg-white shadow-sm lg:col-span-2",children:(0,jr.jsxs)("div",{className:"p-6",children:[(0,jr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informa\xe7\xf5es do Perfil"}),(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"name",className:"text-gray-700",children:"Nome Art\xedstico"}),(0,jr.jsx)(Zo,{id:"name",name:"name",value:i.name||"",onChange:y,disabled:!l,className:"disabled:opacity-70"})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsxs)(Im,{htmlFor:"slug",className:"text-gray-700 flex items-center gap-2",children:[(0,jr.jsx)(fN,{className:"w-4 h-4"}),"URL do Perfil"]}),(0,jr.jsxs)("div",{className:"flex items-center",children:[(0,jr.jsx)("span",{className:"text-gray-500 text-sm mr-2",children:"musicasua.com/"}),(0,jr.jsx)(Zo,{id:"slug",name:"slug",value:i.slug||"",onChange:e=>{const t=e.target.value.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9]/g,"");s(e=>(0,o.A)((0,o.A)({},e),{},{slug:t}))},disabled:!l,placeholder:"seunome",className:"disabled:opacity-70 flex-1"})]}),l&&(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Apenas letras min\xfasculas e n\xfameros, sem espa\xe7os ou caracteres especiais."})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"bio",className:"text-gray-700",children:"Biografia"}),(0,jr.jsx)(Qx,{id:"bio",name:"bio",value:i.bio||"",onChange:y,disabled:!l,rows:4,className:"disabled:opacity-70 resize-none"})]}),(0,jr.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"genre",className:"text-gray-700",children:"Estilo Musical"}),l?(0,jr.jsxs)(iN,{value:i.genre||"",onValueChange:e=>s(t=>(0,o.A)((0,o.A)({},t),{},{genre:e})),disabled:!l,children:[(0,jr.jsx)(sN,{children:(0,jr.jsx)(oN,{placeholder:"Selecione o estilo"})}),(0,jr.jsx)(uN,{children:Object.entries(pN).map(e=>{let[t,r]=e;return(0,jr.jsx)(dN,{value:t,children:r},t)})})]}):(0,jr.jsx)(Zo,{value:pN[i.genre]||i.genre||"",disabled:!0,className:"disabled:opacity-70"})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"location",className:"text-gray-700",children:"Localiza\xe7\xe3o"}),l?(0,jr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,jr.jsx)(Zo,{id:"cidade",name:"cidade",placeholder:"Cidade",value:i.cidade||"",onChange:y}),(0,jr.jsx)(Zo,{id:"estado",name:"estado",placeholder:"Estado",value:i.estado||"",onChange:y})]}):(0,jr.jsx)(Zo,{value:i.location||"",disabled:!0,className:"disabled:opacity-70"})]})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{className:"text-gray-700",children:"Redes Sociais"}),(0,jr.jsxs)("div",{className:"space-y-3",children:[(0,jr.jsx)(Zo,{name:"instagram",placeholder:"Instagram",value:i.instagram||"",onChange:y,disabled:!l,className:"disabled:opacity-70"}),(0,jr.jsx)(Zo,{name:"twitter",placeholder:"Twitter/X",value:i.twitter||"",onChange:y,disabled:!l,className:"disabled:opacity-70"}),(0,jr.jsx)(Zo,{name:"youtube",placeholder:"YouTube",value:i.youtube||"",onChange:y,disabled:!l,className:"disabled:opacity-70"})]})]})]})]})})]})]})})]})},gN={async changePassword(e,t){try{const{data:e,error:r}=await br.auth.updateUser({password:t});return r?{data:null,error:{detail:r.message||"Erro ao alterar senha"}}:{data:e,error:null}}catch(kX){return console.error("changePassword error:",kX),{data:null,error:{detail:String(kX)}}}},async changeEmail(e,t){try{const{data:e,error:r}=await br.auth.updateUser({email:t});return r?{data:null,error:{detail:r.message||"Erro ao alterar email"}}:{data:e,error:null}}catch(kX){return console.error("changeEmail error:",kX),{data:null,error:{detail:String(kX)}}}},async deleteProfile(e,t){try{return{data:null,error:{detail:"Funcionalidade em desenvolvimento"}}}catch(kX){return console.error("deleteProfile error:",kX),{data:null,error:{detail:String(kX)}}}}},vN=()=>{const{user:e}=_r(),[r,n]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1);return(0,jr.jsxs)("div",{className:"bg-gray-50 flex min-h-screen",children:[(0,jr.jsx)("div",{className:"w-64 sticky top-0 h-screen border-r border-gray-200 bg-white",children:(0,jr.jsx)(wx,{})}),(0,jr.jsx)("div",{className:"flex-1",children:(0,jr.jsxs)("div",{className:"max-w-2xl mx-auto p-8",children:[(0,jr.jsxs)("h1",{className:"text-2xl font-bold mb-8 flex items-center gap-2 text-black",children:[(0,jr.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock text-red-600",children:[(0,jr.jsx)("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2"}),(0,jr.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Email e senha"]}),(0,jr.jsxs)("div",{className:"space-y-3",children:[(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[(0,jr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Email"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Apenas letras"}),(0,jr.jsx)(Zo,{type:"email",value:(null===e||void 0===e?void 0:e.email)||"",disabled:!0,className:"bg-gray-100 disabled:opacity-70"})]}),(0,jr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(!0);try{if(!o)return Gr({title:"Erro",description:"Email \xe9 obrigat\xf3rio",variant:"destructive"}),void d(!1);if(o===(null===e||void 0===e?void 0:e.email))return Gr({title:"Erro",description:"O novo email deve ser diferente do atual",variant:"destructive"}),void d(!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))return Gr({title:"Erro",description:"Email inv\xe1lido",variant:"destructive"}),void d(!1);const{data:t,error:r}=await gN.changeEmail(null===e||void 0===e?void 0:e.id,o);if(r)throw new Error(r.detail||r.message||"Erro ao alterar email");Gr({title:"Sucesso!",description:"Email alterado com sucesso"}),s("")}catch(r){Gr({title:"Erro",description:r.message||"Erro ao alterar email",variant:"destructive"})}finally{d(!1)}},className:"bg-white rounded-lg p-6 border border-gray-200",children:[(0,jr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alterar Email"}),(0,jr.jsxs)("div",{className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Novo Email"}),(0,jr.jsx)(Zo,{type:"email",value:o,onChange:e=>s(e.target.value),placeholder:"novo.email@exemplo.com",disabled:u})]}),(0,jr.jsx)(ds,{type:"submit",disabled:u,className:"w-full bg-red-600 hover:bg-red-700 text-white",children:u?"Salvando...":"Alterar Email"})]})]}),(0,jr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),c(!0);try{if(!r||!a)return Gr({title:"Erro",description:"Todos os campos s\xe3o obrigat\xf3rios",variant:"destructive"}),void c(!1);if(r!==a)return Gr({title:"Erro",description:"As novas senhas n\xe3o coincidem",variant:"destructive"}),void c(!1);if(r.length<6)return Gr({title:"Erro",description:"A senha deve ter pelo menos 6 caracteres",variant:"destructive"}),void c(!1);const{data:t,error:o}=await gN.changePassword(null===e||void 0===e?void 0:e.id,r);if(o)throw new Error(o.detail||o.message||"Erro ao alterar senha");Gr({title:"Sucesso!",description:"Senha alterada com sucesso"}),n(""),i("")}catch(o){Gr({title:"Erro",description:o.message||"Erro ao alterar senha",variant:"destructive"})}finally{c(!1)}},className:"bg-white rounded-lg p-6 border border-gray-200",children:[(0,jr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alterar Senha"}),(0,jr.jsxs)("div",{className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),(0,jr.jsx)(Zo,{type:"password",value:r,onChange:e=>n(e.target.value),placeholder:"Nova senha",disabled:l})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nova Senha"}),(0,jr.jsx)(Zo,{type:"password",value:a,onChange:e=>i(e.target.value),placeholder:"Confirmar nova senha",disabled:l}),(0,jr.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"M\xednimo 6 caracteres"})]}),(0,jr.jsx)(ds,{type:"submit",disabled:l,className:"w-full bg-red-600 hover:bg-red-700 text-white",children:l?"Salvando...":"Alterar Senha"})]})]}),(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[(0,jr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Deletar Perfil"}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Apagar o perfil \xe9 uma a\xe7\xe3o irrevers\xedvel"}),(0,jr.jsx)(ds,{onClick:async()=>{window.confirm("Tem certeza que deseja deletar seu perfil? Esta a\xe7\xe3o \xe9 irrevers\xedvel.")&&Gr({title:"Aviso",description:"Funcionalidade de dele\xe7\xe3o ser\xe1 implementada em breve",variant:"destructive"})},variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:"Deletar Perfil"})]})]})]})})]})},yN=()=>{var e;const{user:r}=_r(),[n,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)({subject:"",message:""}),[b,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null);(0,t.useEffect)(()=>{S(),_();const e=br.channel("support_messages").on("postgres_changes",{event:"*",schema:"public",table:"support_messages"},()=>{S()}).subscribe();return()=>{br.removeChannel(e)}},[null===r||void 0===r?void 0:r.id]);const _=async()=>{if(null!==r&&void 0!==r&&r.id)try{const{data:t}=await br.storage.from("avatars").list("avatars",{limit:1,search:"".concat(r.id,"_avatar")});if(t&&t.length>0){const e=t[0],r=br.storage.from("avatars").getPublicUrl("avatars/".concat(e.name)).data.publicUrl;N({avatar_url:r})}else try{const{data:e}=await br.from("artists").select("avatar_url").eq("id",r.id).maybeSingle();null!==e&&void 0!==e&&e.avatar_url?N({avatar_url:e.avatar_url}):N({id:r.id})}catch(e){N({id:r.id})}}catch(kX){console.log("Error loading user avatar:",kX),N({id:r.id})}};(0,t.useEffect)(()=>{if(null!==l&&void 0!==l&&l.id){k(l.id);const e=setInterval(()=>{k(l.id)},2e3),t=br.channel("support_replies_".concat(l.id)).on("postgres_changes",{event:"INSERT",schema:"public",table:"support_replies"},e=>{e.new.message_id===l.id&&k(l.id)}).subscribe();return()=>{clearInterval(e),br.removeChannel(t)}}},[null===l||void 0===l?void 0:l.id]);const S=async()=>{if(null===r||void 0===r||!r.id)return;const{data:e,error:t}=await br.from("support_messages").select("*").eq("sender_id",r.id).order("created_at",{ascending:!1});e&&a(e),s(!1)},k=async e=>{const{data:t,error:r}=await br.from("support_replies").select("*").eq("message_id",e).order("created_at",{ascending:!0});if(t){const e=await Promise.all(t.map(async e=>{let t=e.sender_avatar_url,r=e.sender_name;if("admin"===e.sender_type)try{const{data:n,error:a}=await br.from("admin_users").select("avatar_url, email").eq("id",e.sender_id).maybeSingle();!a&&n&&(n.avatar_url&&(t=n.avatar_url),!r&&n.email&&(r=n.email.split("@")[0]))}catch(SX){console.log("Erro ao buscar avatar do admin:",SX)}return(0,o.A)((0,o.A)({},e),{},{senderAvatar:t,senderName:r||("admin"===e.sender_type?"Suporte":e.sender_email)})}));d(e)}};return i?(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,jr.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,jr.jsx)(wx,{}),(0,jr.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,jr.jsx)("div",{className:"px-8 py-6",children:(0,jr.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,jr.jsx)(xx,{className:"w-6 h-6 text-red-600"}),"Suporte"]}),(0,jr.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Comunique-se diretamente com nosso time"})]}),(0,jr.jsxs)(ds,{onClick:()=>v(!g),className:"bg-red-600 hover:bg-red-700",children:[(0,jr.jsx)(Vv,{className:"w-4 h-4 mr-2"}),"Nova Conversa"]})]})}),(0,jr.jsx)("div",{className:"flex-1 overflow-hidden px-8 py-6",children:(0,jr.jsx)("div",{className:"max-w-6xl mx-auto h-full",children:g?(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 max-w-2xl",children:[(0,jr.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-6",children:"Iniciar Nova Conversa"}),(0,jr.jsxs)("form",{onSubmit:async e=>{var t;if(e.preventDefault(),!y.subject.trim()||!y.message.trim())return void Gr({title:"Erro",description:"Preenchera o assunto e a mensagem",variant:"destructive"});w(!0);const{data:i,error:o}=await br.from("support_messages").insert({sender_id:r.id,sender_email:r.email,sender_name:(null===(t=r.user_metadata)||void 0===t?void 0:t.name)||r.email,sender_type:"artist",subject:y.subject,message:y.message,status:"open",sender_avatar_url:(null===j||void 0===j?void 0:j.avatar_url)||null}).select().single();o?Gr({title:"Erro ao enviar",description:o.message,variant:"destructive"}):(a([i,...n]),x({subject:"",message:""}),v(!1),Gr({title:"Mensagem enviada",description:"O administrador responder\xe1 em at\xe9 24 horas"})),w(!1)},className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assunto"}),(0,jr.jsx)(Zo,{value:y.subject,onChange:e=>x((0,o.A)((0,o.A)({},y),{},{subject:e.target.value})),placeholder:"Ex: Problema com upload de m\xfasica",className:"w-full"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descri\xe7\xe3o"}),(0,jr.jsx)("textarea",{value:y.message,onChange:e=>x((0,o.A)((0,o.A)({},y),{},{message:e.target.value})),placeholder:"Descreva seu problema ou d\xfavida com detalhes...",className:"w-full border border-gray-300 rounded-lg p-3 text-sm min-h-40 focus:outline-none focus:ring-2 focus:ring-red-600"})]}),(0,jr.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 space-y-2",children:(0,jr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,jr.jsx)(ey,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-sm font-medium text-amber-900",children:"Tempo de resposta: at\xe9 24 horas"}),(0,jr.jsx)("p",{className:"text-xs text-amber-700 mt-1",children:"Nossa equipe responde todas as mensagens dentro de 24 horas \xfateis. Voc\xea receber\xe1 uma notifica\xe7\xe3o quando houver uma resposta."})]})]})}),(0,jr.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,jr.jsx)(ds,{type:"submit",disabled:b,className:"bg-red-600 hover:bg-red-700",children:b?"Enviando...":"Enviar Mensagem"}),(0,jr.jsx)(ds,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancelar"})]})]})]}):(0,jr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[(0,jr.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,jr.jsx)("h2",{className:"font-semibold text-gray-900",children:"Conversas"}),(0,jr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[n.length," conversa(s)"]})]}),0===n.length?(0,jr.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500 p-4",children:(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(xx,{className:"w-10 h-10 mx-auto mb-2 opacity-30"}),(0,jr.jsx)("p",{className:"text-sm",children:"Nenhuma conversa ainda"})]})}):(0,jr.jsx)("div",{className:"overflow-y-auto flex-1",children:n.map(e=>(0,jr.jsxs)("button",{onClick:()=>c(e),className:"w-full text-left p-4 border-b border-gray-100 hover:bg-gray-50 transition ".concat((null===l||void 0===l?void 0:l.id)===e.id?"bg-blue-50 border-l-4 border-l-blue-600":""),children:[(0,jr.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,jr.jsx)("h3",{className:"font-medium text-gray-900 text-sm truncate flex-1",children:e.subject}),"resolved"===e.status&&(0,jr.jsx)(Nx,{className:"w-4 h-4 text-green-600 flex-shrink-0"})]}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:e.message}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,jr.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===e.status?"bg-blue-100 text-blue-700":"in_progress"===e.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===e.status&&"Aberto","in_progress"===e.status&&"Em andamento","resolved"===e.status&&"Resolvido"]}),(0,jr.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]})]},e.id))})]}),(0,jr.jsx)("div",{className:"lg:col-span-2 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:l?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsxs)("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900",children:l.subject}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,jr.jsxs)("p",{className:"text-xs text-gray-500",children:["Iniciada ",new Date(l.created_at).toLocaleDateString("pt-BR")]}),(0,jr.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===l.status?"bg-blue-100 text-blue-700":"in_progress"===l.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===l.status&&"Aberto","in_progress"===l.status&&"Em andamento","resolved"===l.status&&"Resolvido"]})]})]}),(0,jr.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-50",children:[(0,jr.jsx)("div",{className:"flex justify-center",children:(0,jr.jsx)("div",{className:"bg-white px-4 py-2 rounded-full text-xs text-gray-500 border border-gray-200",children:"Conversa iniciada"})}),(0,jr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,jr.jsxs)("div",{className:"bg-red-600 text-white rounded-lg rounded-tr-none px-4 py-2 max-w-md",children:[(0,jr.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:l.message}),(0,jr.jsx)("p",{className:"text-xs mt-2 opacity-70",children:new Date(l.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,jr.jsx)("div",{className:"flex-shrink-0",children:null!==j&&void 0!==j&&j.avatar_url?(0,jr.jsx)("img",{src:j.avatar_url,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-red-600"}):(0,jr.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-sm",children:(null===r||void 0===r||null===(e=r.email)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})})]}),0===u.length&&"open"===l.status&&(0,jr.jsxs)("div",{className:"flex justify-start gap-3",children:[(0,jr.jsx)("div",{className:"flex-shrink-0",children:(0,jr.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-semibold text-sm",children:"S"})}),(0,jr.jsx)("div",{className:"bg-white rounded-lg rounded-tl-none px-4 py-2 max-w-md border border-gray-200",children:(0,jr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,jr.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,jr.jsx)(Nx,{className:"w-5 h-5 text-green-600"})}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Mensagem recebida"}),(0,jr.jsx)("p",{className:"text-xs text-gray-600 mt-1 leading-relaxed",children:"Obrigado por entrar em contato. Nossa equipe analisar\xe1 sua solicita\xe7\xe3o e entrar\xe1 em contato em at\xe9 24 horas \xfateis com uma resposta detalhada."}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Agora"})]})]})})]}),u.map(e=>{var t,n;return(0,jr.jsxs)("div",{className:"flex ".concat("admin"===e.sender_type?"justify-start":"justify-end"," gap-3"),children:["admin"===e.sender_type&&(0,jr.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center gap-1",children:[e.senderAvatar?(0,jr.jsx)("img",{src:e.senderAvatar,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-purple-600"}):(0,jr.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-semibold text-sm",children:(null===(t=e.senderName)||void 0===t?void 0:t.charAt(0).toUpperCase())||"S"}),(0,jr.jsx)("p",{className:"text-xs text-gray-600 font-medium text-center",children:e.senderName})]}),(0,jr.jsxs)("div",{className:"rounded-lg px-4 py-2 max-w-md ".concat("admin"===e.sender_type?"bg-white border border-gray-200 rounded-tl-none":"bg-red-600 text-white rounded-tr-none"),children:[(0,jr.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed ".concat("admin"===e.sender_type?"text-gray-700":"text-white"),children:e.reply_text}),(0,jr.jsx)("p",{className:"text-xs mt-2 ".concat("admin"===e.sender_type?"text-gray-500":"opacity-70"),children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),"admin"!==e.sender_type&&(0,jr.jsx)("div",{className:"flex-shrink-0",children:e.senderAvatar?(0,jr.jsx)("img",{src:e.senderAvatar,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover border-2 border-red-600"}):(0,jr.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-sm",children:(null===r||void 0===r||null===(n=r.email)||void 0===n?void 0:n.charAt(0).toUpperCase())||"D"})})]},e.id)})]}),"resolved"!==l.status&&(0,jr.jsx)("div",{className:"border-t border-gray-200 p-4 bg-white",children:(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)("textarea",{value:h,onChange:e=>f(e.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 border border-gray-300 rounded-lg p-3 text-sm min-h-12 max-h-32 focus:outline-none focus:ring-2 focus:ring-red-600 resize-none"}),(0,jr.jsx)(ds,{onClick:async()=>{if(!h.trim())return void Gr({title:"Erro",description:"Digite uma resposta",variant:"destructive"});if(null===l||void 0===l||!l.id)return;m(!0);const{error:e}=await br.from("support_replies").insert({message_id:l.id,sender_id:r.id,sender_type:"artist",reply_text:h,sender_avatar_url:(null===j||void 0===j?void 0:j.avatar_url)||null});e?Gr({title:"Erro ao enviar",description:e.message,variant:"destructive"}):(f(""),await k(l.id),Gr({title:"Resposta enviada",description:"Seu recado foi enviado"})),m(!1)},disabled:p||!h.trim(),className:"bg-red-600 hover:bg-red-700 h-12",children:(0,jr.jsx)(uy,{className:"w-4 h-4"})})]})})]}):(0,jr.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(xx,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Selecione uma conversa para continuar"})]})})})]})})})]})]})},xN=si("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),bN=si("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),wN=si("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),jN=()=>{var e,r,n,a;const{user:i,logout:s}=_r(),l=me(),[c,u]=(0,t.useState)("playlists"),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[x,b]=(0,t.useState)([]),[w,j]=(0,t.useState)(""),[N,_]=(0,t.useState)(""),[S,k]=(0,t.useState)(!1),[E,A]=(0,t.useState)([]),[O,C]=(0,t.useState)([]),[P,T]=(0,t.useState)((null===i||void 0===i?void 0:i.email)||""),[D,R]=(0,t.useState)(""),[I,M]=(0,t.useState)(""),[L,z]=(0,t.useState)(""),[F,U]=(0,t.useState)({current:!1,new:!1,confirm:!1});(0,t.useEffect)(()=>{var e;null!==i&&void 0!==i&&null!==(e=i.user_metadata)&&void 0!==e&&e.avatar_url?y(i.user_metadata.avatar_url):y("/images/default-avatar.png")},[i]),(0,t.useEffect)(()=>{"playlists"===c?B():"favoritos"===c&&q()},[c]);const B=async()=>{try{g(!0);const{data:e,error:t}=await br.from("playlists").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(t)throw t;b(e||[])}catch(e){console.error("Erro ao carregar playlists:",e),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel carregar as playlists",variant:"destructive"})}finally{g(!1)}},q=async()=>{try{g(!0);const{data:e,error:t}=await br.from("favorite_albums").select("*, albums(*)").eq("user_id",i.id),{data:r,error:n}=await br.from("favorite_songs").select("*, songs(*)").eq("user_id",i.id);if(t)throw t;if(n)throw n;A(e||[]),C(r||[])}catch(e){console.error("Erro ao carregar favoritos:",e)}finally{g(!1)}};return(0,jr.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,jr.jsx)(bp,{}),(0,jr.jsxs)("div",{className:"flex flex-1",children:[(0,jr.jsxs)("aside",{className:"hidden md:flex w-64 bg-white border-r border-gray-200 flex-col",children:[(0,jr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,jr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,jr.jsx)("img",{src:v||"/images/default-avatar.png",alt:"User",className:"w-12 h-12 rounded-full object-cover bg-gray-200",onError:e=>e.target.src="/images/default-avatar.png"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:(null===i||void 0===i||null===(e=i.user_metadata)||void 0===e?void 0:e.name)||(null===i||void 0===i||null===(r=i.email)||void 0===r?void 0:r.split("@")[0])||"Usu\xe1rio"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Conta"})]})]})}),(0,jr.jsxs)("nav",{className:"p-4 space-y-2 flex-1",children:[(0,jr.jsxs)("button",{onClick:()=>u("playlists"),className:"w-full px-4 py-3 rounded-lg text-left flex items-center gap-3 transition-colors ".concat("playlists"===c?"bg-red-100 text-red-700":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)(Gm,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Minhas Playlists"})]}),(0,jr.jsxs)("button",{onClick:()=>u("favoritos"),className:"w-full px-4 py-3 rounded-lg text-left flex items-center gap-3 transition-colors ".concat("favoritos"===c?"bg-red-100 text-red-700":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)($o,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Favoritos"})]}),(0,jr.jsxs)("button",{onClick:()=>u("configuracoes"),className:"w-full px-4 py-3 rounded-lg text-left flex items-center gap-3 transition-colors ".concat("configuracoes"===c?"bg-red-100 text-red-700":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)(Ho,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Configura\xe7\xf5es"})]}),(0,jr.jsxs)("button",{onClick:()=>u("suporte"),className:"w-full px-4 py-3 rounded-lg text-left flex items-center gap-3 transition-colors ".concat("suporte"===c?"bg-red-100 text-red-700":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)(cy,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Suporte"})]})]})]}),f&&(0,jr.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>p(!1)}),(0,jr.jsxs)("aside",{className:"fixed left-0 top-0 w-64 h-screen bg-white border-r border-gray-200 z-50 transform transition-transform md:hidden ".concat(f?"translate-x-0":"-translate-x-full"),children:[(0,jr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,jr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,jr.jsx)("img",{src:v||"/images/default-avatar.png",alt:"User",className:"w-12 h-12 rounded-full object-cover bg-gray-200",onError:e=>e.target.src="/images/default-avatar.png"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:(null===i||void 0===i||null===(n=i.user_metadata)||void 0===n?void 0:n.name)||(null===i||void 0===i||null===(a=i.email)||void 0===a?void 0:a.split("@")[0])||"Usu\xe1rio"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Conta"})]})]})}),(0,jr.jsx)("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-lg",children:(0,jr.jsx)(li,{className:"w-6 h-6"})}),(0,jr.jsxs)("nav",{className:"p-4 space-y-2",children:[(0,jr.jsxs)("button",{onClick:()=>{u("playlists"),p(!1)},className:"w-full px-4 py-3 rounded-lg text-left flex items-center gap-3 transition-colors ".concat("playlists"===c?"bg-red-100 text-red-700":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)(Gm,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Minhas Playlists"})]}),(0,jr.jsxs)("button",{onClick:()=>{u("favoritos"),p(!1)},className:"w-full px-4 py-3 rounded-lg text-left flex items-center gap-3 transition-colors ".concat("favoritos"===c?"bg-red-100 text-red-700":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)($o,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Favoritos"})]}),(0,jr.jsxs)("button",{onClick:()=>{u("configuracoes"),p(!1)},className:"w-full px-4 py-3 rounded-lg text-left flex items-center gap-3 transition-colors ".concat("configuracoes"===c?"bg-red-100 text-red-700":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)(Ho,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Configura\xe7\xf5es"})]}),(0,jr.jsxs)("button",{onClick:()=>{u("suporte"),p(!1)},className:"w-full px-4 py-3 rounded-lg text-left flex items-center gap-3 transition-colors ".concat("suporte"===c?"bg-red-100 text-red-700":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)(cy,{className:"w-5 h-5"}),(0,jr.jsx)("span",{className:"font-medium",children:"Suporte"})]})]})]}),(0,jr.jsxs)("main",{className:"flex-1 p-4 md:p-8",children:[(0,jr.jsx)("button",{onClick:()=>p(!0),className:"md:hidden mb-4 p-2 hover:bg-gray-200 rounded-lg",children:(0,jr.jsx)(xN,{className:"w-6 h-6"})}),"suporte"===c&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Suporte"}),(0,jr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,jr.jsx)("p",{className:"text-gray-600 mb-4",children:"Tem d\xfavidas ou problemas? Entre em contato conosco!"}),(0,jr.jsxs)(ds,{onClick:()=>l("/support"),className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,jr.jsx)(cy,{className:"w-4 h-4 mr-2"}),"Abrir Chat de Suporte"]})]})]}),"playlists"===c&&(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Minhas Playlists"}),(0,jr.jsxs)(ds,{onClick:()=>k(!S),className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,jr.jsx)(Vv,{className:"w-4 h-4 mr-2"}),"Nova Playlist"]})]}),S&&(0,jr.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,jr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),w.trim())try{g(!0);const{data:e,error:t}=await br.from("playlists").insert([{user_id:i.id,title:w,description:N,is_private:!0,slug:w.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),song_ids:[]}]).select();if(t)throw t;Gr({title:"Sucesso",description:"Playlist criada com sucesso"}),j(""),_(""),k(!1),B()}catch(t){console.error("Erro ao criar playlist:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel criar a playlist",variant:"destructive"})}finally{g(!1)}else Gr({title:"Erro",description:"Nome da playlist \xe9 obrigat\xf3rio",variant:"destructive"})},className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Playlist"}),(0,jr.jsx)("input",{type:"text",value:w,onChange:e=>j(e.target.value),placeholder:"Ex: Melhores M\xfasicas",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600",required:!0})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o (opcional)"}),(0,jr.jsx)("textarea",{value:N,onChange:e=>_(e.target.value),placeholder:"Descreva sua playlist",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600 resize-none",rows:"3"})]}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)(ds,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white",disabled:m,children:"Criar"}),(0,jr.jsx)(ds,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancelar"})]})]})}),m?(0,jr.jsx)("div",{className:"text-center py-8",children:(0,jr.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):0===x.length?(0,jr.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,jr.jsx)(Gm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Nenhuma playlist criada ainda"})]}):(0,jr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>{var t;return(0,jr.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow",children:(0,jr.jsxs)("div",{className:"p-4",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 truncate",children:e.title}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description||"Sem descri\xe7\xe3o"}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-xs text-gray-500",children:[(0,jr.jsx)(Gm,{className:"w-4 h-4"}),(0,jr.jsxs)("span",{children:[(null===(t=e.song_ids)||void 0===t?void 0:t.length)||0," m\xfasicas"]})]}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)(ds,{onClick:()=>(async(e,t)=>{try{g(!0);const{error:r}=await br.from("playlists").update({is_private:!t}).eq("id",e);if(r)throw r;Gr({title:"Sucesso",description:"Playlist agora \xe9 ".concat(t?"p\xfablica":"privada")}),B()}catch(r){console.error("Erro ao atualizar privacidade:",r),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel atualizar a privacidade",variant:"destructive"})}finally{g(!1)}})(e.id,e.is_private),variant:"outline",size:"sm",className:"flex-1",children:e.is_private?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(bx,{className:"w-4 h-4 mr-1"}),"Privada"]}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(bN,{className:"w-4 h-4 mr-1"}),"P\xfablica"]})}),(0,jr.jsx)(ds,{onClick:()=>l("/playlist/".concat(e.slug||e.id)),variant:"outline",size:"sm",children:"Ver"}),(0,jr.jsx)(ds,{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja deletar esta playlist?"))try{g(!0);const{error:t}=await br.from("playlists").delete().eq("id",e);if(t)throw t;Gr({title:"Sucesso",description:"Playlist deletada"}),B()}catch(t){console.error("Erro ao deletar playlist:",t),Gr({title:"Erro",description:"N\xe3o foi poss\xedvel deletar a playlist",variant:"destructive"})}finally{g(!1)}})(e.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:(0,jr.jsx)(yp,{className:"w-4 h-4"})})]})]})},e.id)})})]}),"favoritos"===c&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Favoritos"}),(0,jr.jsxs)("div",{className:"space-y-8",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:["\xc1lbuns Favoritos (",E.length,")"]}),0===E.length?(0,jr.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"Nenhum \xe1lbum favoritado"}):(0,jr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:E.map(e=>(0,jr.jsxs)("div",{onClick:()=>l("/".concat(e.albums.artist_id,"/").concat(e.albums.slug)),className:"bg-white rounded-lg shadow p-4 cursor-pointer hover:shadow-lg transition-shadow",children:[(0,jr.jsx)("img",{src:e.albums.cover_url||"/placeholder-album.jpg",alt:e.albums.title,className:"w-full aspect-square object-cover rounded mb-2"}),(0,jr.jsx)("p",{className:"font-medium text-sm text-gray-900 truncate",children:e.albums.title}),(0,jr.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.albums.artist_name})]},e.id))})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:["M\xfasicas Favoritas (",O.length,")"]}),0===O.length?(0,jr.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"Nenhuma m\xfasica favoritada"}):(0,jr.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:O.map((e,t)=>(0,jr.jsxs)("div",{className:"px-4 py-3 border-b hover:bg-gray-50 transition-colors flex items-center gap-4",children:[(0,jr.jsx)("span",{className:"text-gray-500 font-medium w-8",children:t+1}),(0,jr.jsx)("img",{src:e.songs.cover_url||"/placeholder-album.jpg",alt:e.songs.title,className:"w-10 h-10 rounded object-cover"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.songs.title}),(0,jr.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.songs.artist_name})]})]},e.id))})]})]})]}),"configuracoes"===c&&(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Configura\xe7\xf5es"}),(0,jr.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,jr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,jr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,jr.jsx)(Ym,{className:"w-5 h-5 text-red-600"}),"Email"]}),(0,jr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const{error:e}=await br.auth.updateUser({email:P});if(e)throw e;Gr({title:"Sucesso",description:"Email atualizado. Verifique o novo email para confirmar."})}catch(t){console.error("Erro ao atualizar email:",t),Gr({title:"Erro",description:t.message,variant:"destructive"})}},className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Atual"}),(0,jr.jsx)("input",{type:"email",value:P,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"})]}),(0,jr.jsx)(ds,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white",children:"Atualizar Email"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Um link de confirma\xe7\xe3o ser\xe1 enviado para o novo email."})]})]}),(0,jr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,jr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,jr.jsx)(bx,{className:"w-5 h-5 text-red-600"}),"Alterar Senha"]}),(0,jr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),D&&I&&L)if(I===L)try{const{error:e}=await br.auth.signInWithPassword({email:i.email,password:D});if(e)return void Gr({title:"Erro",description:"Senha atual incorreta",variant:"destructive"});const{error:t}=await br.auth.updateUser({password:I});if(t)throw t;Gr({title:"Sucesso",description:"Senha atualizada com sucesso"}),R(""),M(""),z("")}catch(t){console.error("Erro ao atualizar senha:",t),Gr({title:"Erro",description:t.message,variant:"destructive"})}else Gr({title:"Erro",description:"As novas senhas n\xe3o conferem",variant:"destructive"});else Gr({title:"Erro",description:"Preencha todos os campos",variant:"destructive"})},className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha Atual"}),(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("input",{type:F.current?"text":"password",value:D,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"}),(0,jr.jsx)("button",{type:"button",onClick:()=>U(e=>(0,o.A)((0,o.A)({},e),{},{current:!e.current})),className:"absolute right-3 top-2.5 text-gray-500",children:F.current?(0,jr.jsx)(wN,{className:"w-4 h-4"}):(0,jr.jsx)(bN,{className:"w-4 h-4"})})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Senha"}),(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("input",{type:F.new?"text":"password",value:I,onChange:e=>M(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"}),(0,jr.jsx)("button",{type:"button",onClick:()=>U(e=>(0,o.A)((0,o.A)({},e),{},{new:!e.new})),className:"absolute right-3 top-2.5 text-gray-500",children:F.new?(0,jr.jsx)(wN,{className:"w-4 h-4"}):(0,jr.jsx)(bN,{className:"w-4 h-4"})})]})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nova Senha"}),(0,jr.jsxs)("div",{className:"relative",children:[(0,jr.jsx)("input",{type:F.confirm?"text":"password",value:L,onChange:e=>z(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-600"}),(0,jr.jsx)("button",{type:"button",onClick:()=>U(e=>(0,o.A)((0,o.A)({},e),{},{confirm:!e.confirm})),className:"absolute right-3 top-2.5 text-gray-500",children:F.confirm?(0,jr.jsx)(wN,{className:"w-4 h-4"}):(0,jr.jsx)(bN,{className:"w-4 h-4"})})]})]}),(0,jr.jsx)(ds,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white",children:"Atualizar Senha"})]})]})]})]})]})]})]})},NN=si("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),_N=si("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),SN=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{g()},[]);const g=async()=>{const{data:e,error:t}=await br.from("slides").select("*").order("order_index",{ascending:!0});e&&r(e),a(!1)},v=async(t,n,a)=>{const i=e.map(e=>e.id===t?(0,o.A)((0,o.A)({},e),{},{[n]:a}):e);r(i),m(!0)},y=()=>{d(null)};return n?(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,jr.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,jr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,jr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Slides"}),(0,jr.jsxs)(ds,{onClick:async()=>{f(!0);try{console.log("Salvando",e.length,"slides...");const t=await Promise.all(e.map(e=>(console.log("Salvando slide ".concat(e.id,":"),{title:e.title,link:e.link,order_index:e.order_index,active:e.active}),br.from("slides").update({title:e.title||null,link:e.link||null,order_index:e.order_index,active:e.active}).eq("id",e.id))));console.log("Resultados:",t);const r=t.some(e=>e.error);if(r){const e=t.filter(e=>e.error).map(e=>e.error.message);console.error("Erros ao salvar:",e),Gr({title:"Erro ao salvar",description:e[0]||"Algumas mudan\xe7as n\xe3o foram salvas",variant:"destructive"})}else Gr({title:"Salvo!",description:"Todas as mudan\xe7as foram salvas com sucesso"}),m(!1)}catch(t){console.error("Erro ao salvar:",t),Gr({title:"Erro",description:t.message||"Falha ao salvar mudan\xe7as",variant:"destructive"})}finally{f(!1)}},disabled:h||!p,className:"flex items-center gap-2 ".concat(p?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-300 text-gray-500"),children:[(0,jr.jsx)(hN,{className:"w-4 h-4"}),h?"Salvando...":"Salvar Mudan\xe7as"]})]}),p&&(0,jr.jsx)("div",{className:"mb-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800",children:'\u26a0\ufe0f Voc\xea tem mudan\xe7as n\xe3o salvas. Clique em "Salvar Mudan\xe7as" para confirmar.'}),(0,jr.jsxs)("div",{className:"mb-8 p-4 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,jr.jsxs)("label",{className:"flex flex-col items-center cursor-pointer",children:[(0,jr.jsx)(Ko,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,jr.jsx)("span",{className:"text-gray-600 mb-2",children:"Clique para adicionar novo slide"}),(0,jr.jsx)("span",{className:"text-sm text-gray-400",children:"JPG, PNG (recomendado: 1920x400px)"}),(0,jr.jsx)("input",{type:"file",accept:"image/*",onChange:async t=>{const n=t.target.files[0];if(!n)return;s(!0);const a="slide-".concat(Date.now(),"-").concat(n.name),{data:i,error:o}=await br.storage.from("slides").upload(a,n);if(o)return Gr({title:"Erro no upload",description:o.message,variant:"destructive"}),void s(!1);const l="".concat(xr,"/storage/v1/object/public/slides/").concat(a),{data:c,error:u}=await br.from("slides").insert({image_url:l,order_index:e.length+1,active:!0}).select().single();u?Gr({title:"Erro ao salvar",description:u.message,variant:"destructive"}):(r([...e,c]),Gr({title:"Slide adicionado!",description:"Imagem enviada com sucesso"})),s(!1)},className:"hidden",disabled:i})]}),i&&(0,jr.jsx)("p",{className:"text-center text-red-600 mt-2",children:"Enviando..."})]}),(0,jr.jsxs)("div",{className:"space-y-4",children:[e.map((t,n)=>(0,jr.jsxs)("div",{draggable:!0,onDragStart:e=>((e,t)=>{c(t),e.dataTransfer.effectAllowed="move"})(e,t.id),onDragOver:e=>((e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",d(t)})(e,t.id),onDragLeave:y,onDrop:n=>((t,n)=>{if(t.preventDefault(),l===n)return c(null),void d(null);const a=e.findIndex(e=>e.id===l),i=e.findIndex(e=>e.id===n);if(-1===a||-1===i)return;const o=[...e],[s]=o.splice(a,1);o.splice(i,0,s),o.forEach((e,t)=>{e.order_index=t+1}),r(o),m(!0),c(null),d(null)})(n,t.id),className:"flex items-center gap-4 p-4 border rounded-lg transition-all ".concat(t.active?"bg-white":"bg-gray-100 opacity-60"," ").concat(l===t.id?"opacity-50":""," ").concat(u===t.id?"border-red-500 bg-red-50":""),children:[(0,jr.jsx)(_N,{className:"w-5 h-5 cursor-grab ".concat(l===t.id?"text-red-600":"text-gray-400")}),(0,jr.jsx)("span",{className:"w-8 h-8 flex items-center justify-center bg-red-600 text-white rounded font-bold",children:n+1}),(0,jr.jsx)("img",{src:t.image_url,alt:t.title||"Slide ".concat(n+1),className:"w-32 h-20 object-cover rounded"}),(0,jr.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{className:"text-xs text-gray-500",children:"T\xedtulo (opcional)"}),(0,jr.jsx)(Zo,{value:t.title||"",onChange:e=>v(t.id,"title",e.target.value),placeholder:"T\xedtulo do slide",className:"h-9"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)(Im,{className:"text-xs text-gray-500",children:"Link do \xc1lbum"}),(0,jr.jsx)(Zo,{value:t.link||"",onChange:e=>v(t.id,"link",e.target.value),placeholder:"/album/ID-DO-ALBUM",className:"h-9"})]})]}),(0,jr.jsx)(ds,{variant:"outline",size:"sm",onClick:()=>(async(e,t)=>{await v(e,"active",!t)})(t.id,t.active),className:t.active?"text-green-600":"text-gray-400",children:t.active?"Ativo":"Inativo"}),(0,jr.jsx)(ds,{variant:"outline",size:"icon",onClick:()=>(async(t,n)=>{const a=n.split("/").pop();await br.storage.from("slides").remove([a]);const{error:i}=await br.from("slides").delete().eq("id",t);i||(r(e.filter(e=>e.id!==t)),Gr({title:"Slide removido",description:"Slide deletado com sucesso"}))})(t.id,t.image_url),className:"text-red-600 hover:bg-red-50",children:(0,jr.jsx)(yp,{className:"w-4 h-4"})})]},t.id)),0===e.length&&(0,jr.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Nenhum slide cadastrado. Adicione o primeiro acima."})]})]})})})},kN=si("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),EN=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null);return(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gerenciar \xc1lbuns"}),(0,jr.jsx)("p",{className:"text-gray-600 mb-6",children:"Busque um \xe1lbum para remov\xea-lo permanentemente do site"})]}),(0,jr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!e.trim())return void Gr({title:"Erro",description:"Digite o nome de um \xe1lbum para buscar",variant:"destructive"});l(!0);const{data:r,error:n}=await br.from("albums").select("id, title, artist_id, created_at, description").ilike("title","%".concat(e,"%")).limit(20);n?Gr({title:"Erro na busca",description:n.message,variant:"destructive"}):a(r||[]),l(!1)},className:"flex gap-2",children:[(0,jr.jsx)(Zo,{value:e,onChange:e=>r(e.target.value),placeholder:"Nome do \xe1lbum...",className:"flex-1"}),(0,jr.jsxs)(ds,{type:"submit",disabled:s,children:[(0,jr.jsx)(qo,{className:"w-4 h-4 mr-2"}),s?"Buscando...":"Buscar"]})]}),(0,jr.jsxs)("div",{className:"space-y-3",children:[0===n.length&&e&&!s&&(0,jr.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg text-center text-gray-500",children:"Nenhum \xe1lbum encontrado"}),n.map(e=>(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between hover:shadow-md transition-shadow",children:[(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,jr.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["ID: ",e.id]}),e.description&&(0,jr.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description}),(0,jr.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Criado em: ",new Date(e.created_at).toLocaleDateString("pt-BR")]})]}),c===e.id?(0,jr.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,jr.jsx)(ds,{size:"sm",variant:"destructive",onClick:()=>(async e=>{o(!0);try{const{error:t}=await br.from("tracks").delete().eq("album_id",e),{error:r}=await br.from("comments").delete().eq("album_id",e),{error:i}=await br.from("favorites").delete().eq("album_id",e),{error:o}=await br.from("recommended_albums").delete().eq("album_id",e),{error:s}=await br.from("albums").delete().eq("id",e);if(s||t||r||i||o)throw new Error("Erro ao deletar \xe1lbum");a(n.filter(t=>t.id!==e)),u(null),Gr({title:"Sucesso",description:"\xc1lbum e todo seu conte\xfado foram deletados permanentemente"})}catch(t){Gr({title:"Erro ao deletar",description:t.message,variant:"destructive"})}finally{o(!1)}})(e.id),disabled:i,className:"bg-red-600 hover:bg-red-700",children:i?"Deletando...":"Confirmar Delete"}),(0,jr.jsx)(ds,{size:"sm",variant:"outline",onClick:()=>u(null),disabled:i,children:"Cancelar"})]}):(0,jr.jsxs)(ds,{size:"sm",variant:"outline",onClick:()=>u(e.id),className:"text-red-600 hover:bg-red-50 ml-4",children:[(0,jr.jsx)(yp,{className:"w-4 h-4 mr-2"}),"Deletar"]})]},e.id))]}),n.length>0&&(0,jr.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[(0,jr.jsx)(kN,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"font-semibold text-red-900",children:"\u26a0\ufe0f A\xe7\xe3o Irrevers\xedvel"}),(0,jr.jsx)("p",{className:"text-sm text-red-800 mt-1",children:"Deletar um \xe1lbum remover\xe1 permanentemente: o \xe1lbum, todas as m\xfasicas, coment\xe1rios e favoritos associados. Esta a\xe7\xe3o n\xe3o pode ser desfeita."})]})]})]})},AN=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{d()},[]);const d=async()=>{const{data:e,error:t}=await br.from("recommended_albums").select("\n        id,\n        album_id,\n        order_index,\n        albums!inner(id, title, description)\n      ").order("order_index",{ascending:!0});e&&o(e),l(!1)};return s?(0,jr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ou\xe7a Aqui Recomenda!"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Gerencie os \xe1lbuns recomendados que aparecem na home e na p\xe1gina de \xe1lbuns"})]}),(0,jr.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,jr.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Adicionar \xc1lbum"}),(0,jr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!e.trim())return void a([]);u(!0);const{data:r,error:n}=await br.from("albums").select("id, title, description").ilike("title","%".concat(e,"%")).limit(10);if(r){const e=i.map(e=>e.album_id);a(r.filter(t=>!e.includes(t.id)))}u(!1)},className:"flex gap-2 mb-3",children:[(0,jr.jsx)(Zo,{value:e,onChange:e=>r(e.target.value),placeholder:"Buscar \xe1lbum para adicionar...",className:"flex-1"}),(0,jr.jsxs)(ds,{type:"submit",disabled:c,children:[(0,jr.jsx)(qo,{className:"w-4 h-4 mr-2"}),c?"Buscando...":"Buscar"]})]}),n.length>0&&(0,jr.jsx)("div",{className:"space-y-2 mt-3",children:n.map(e=>(0,jr.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-blue-100",children:[(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),e.description&&(0,jr.jsx)("p",{className:"text-sm text-gray-500 line-clamp-1",children:e.description})]}),(0,jr.jsxs)(ds,{size:"sm",onClick:()=>(async(e,t)=>{const r=i.length>0?Math.max(...i.map(e=>e.order_index)):0,{data:s,error:l}=await br.from("recommended_albums").insert({album_id:e,order_index:r+1}).select("*, albums!inner(id, title, description)").single();l?Gr({title:"Erro",description:l.message,variant:"destructive"}):(o([...i,s]),a(n.filter(t=>t.id!==e)),Gr({title:"Sucesso",description:'"'.concat(t,'" adicionado aos recomendados')}))})(e.id,e.title),className:"bg-green-600 hover:bg-green-700 ml-2",children:[(0,jr.jsx)(Vv,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]},e.id))})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3",children:["\xc1lbuns Recomendados (",i.length,")"]}),0===i.length?(0,jr.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg text-center text-gray-500",children:[(0,jr.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udced Nenhum \xe1lbum recomendado ainda"}),(0,jr.jsx)("p",{className:"text-sm",children:"Busque e adicione \xe1lbuns acima para come\xe7ar"})]}):(0,jr.jsx)("div",{className:"space-y-2",children:i.map((e,t)=>(0,jr.jsxs)("div",{className:"flex items-center gap-4 bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,jr.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-red-600 text-white font-bold rounded",children:t+1}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsx)("p",{className:"font-semibold text-gray-900",children:e.albums.title}),e.albums.description&&(0,jr.jsx)("p",{className:"text-sm text-gray-500 line-clamp-1 mt-1",children:e.albums.description})]}),(0,jr.jsxs)(ds,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{const{error:r}=await br.from("recommended_albums").delete().eq("id",e);r?Gr({title:"Erro",description:r.message,variant:"destructive"}):(o(i.filter(t=>t.id!==e)),Gr({title:"Removido",description:'"'.concat(t,'" removido dos recomendados')}))})(e.id,e.albums.title),className:"text-red-600 hover:bg-red-50",children:[(0,jr.jsx)(yp,{className:"w-4 h-4 mr-1"}),"Remover"]})]},e.id))})]}),i.length>0&&(0,jr.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,jr.jsx)("p",{className:"text-sm text-amber-900",children:"\ud83d\udca1 Os \xe1lbuns s\xe3o exibidos na ordem mostrada acima. Arraste para reordenar (feature em desenvolvimento)."})})]})},ON=()=>{var e;const{user:r}=_r(),[n,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)("all");(0,t.useEffect)(()=>{y();const e=br.channel("support_messages").on("postgres_changes",{event:"*",schema:"public",table:"support_messages"},()=>{y()}).subscribe();return()=>{br.removeChannel(e)}},[]),(0,t.useEffect)(()=>{if(null!==l&&void 0!==l&&l.id){x(l.id);const e=setInterval(()=>{x(l.id)},2e3),t=br.channel("support_replies_admin_".concat(l.id)).on("postgres_changes",{event:"INSERT",schema:"public",table:"support_replies"},e=>{e.new.message_id===l.id&&x(l.id)}).subscribe();return()=>{clearInterval(e),br.removeChannel(t)}}},[null===l||void 0===l?void 0:l.id]);const y=async()=>{let e=br.from("support_messages").select("*").order("created_at",{ascending:!1});"all"!==g&&(e=e.eq("status",g));const{data:t,error:r}=await e;if(t){const e=[...new Set(t.map(e=>e.sender_id))],r={};for(const t of e)try{let{data:e,error:n}=await br.from("artists").select("id, user_id, name, avatar_url").eq("user_id",t).limit(1),a=e&&e.length>0?e[0]:null;if(!a&&!n){const{data:e,error:r}=await br.from("artists").select("id, user_id, name, avatar_url").eq("id",t).limit(1);e&&e.length>0&&(a=e[0]),n=r}a?(r[t]=a,console.log("\u2705 Artist loaded for ".concat(t,":"),a.name)):console.log("\u2139\ufe0f No artist found for ".concat(t)),n&&console.warn("\u26a0\ufe0f Error loading artist ".concat(t,":"),n)}catch(kX){console.warn("\u274c Exception loading artist ".concat(t,":"),kX)}console.log("Artists Map:",r);const n=t.map(e=>{const t=r[e.sender_id];let n=e.sender_name||e.sender_email;null!==t&&void 0!==t&&t.name&&(n=t.name);const a=(null===t||void 0===t?void 0:t.avatar_url)||e.sender_avatar_url;return console.log("Message from ".concat(e.sender_id,":"),{artist_name:null===t||void 0===t?void 0:t.name,sender_name:e.sender_name,email:e.sender_email,final_name:n,avatar:a}),(0,o.A)((0,o.A)({},e),{},{artistName:n,artistAvatar:a})});a(n)}else console.error("Error loading messages:",r);s(!1)},x=async e=>{const{data:t,error:r}=await br.from("support_replies").select("*").eq("message_id",e).order("created_at",{ascending:!0});if(t){const e=await Promise.all(t.map(async e=>{let t=e.sender_avatar_url,r=e.sender_name;if("admin"===e.sender_type)try{const{data:n}=await br.from("admin_users").select("avatar_url, email").eq("id",e.sender_id).maybeSingle();n&&(n.avatar_url&&(t=n.avatar_url),!r&&n.email&&(r=n.email.split("@")[0]))}catch(SX){console.log("Erro ao buscar avatar:",SX)}return(0,o.A)((0,o.A)({},e),{},{senderAvatar:t,senderName:r||"Suporte"})}));d(e)}},b=async()=>{var e;if(!h.trim())return void Gr({title:"Erro",description:"Digite uma resposta",variant:"destructive"});if(null===l||void 0===l||!l.id)return;m(!0);const{error:t}=await br.from("support_replies").insert({message_id:l.id,sender_id:r.id,sender_type:"admin",sender_name:(null===(e=r.user_metadata)||void 0===e?void 0:e.name)||"Suporte",reply_text:h}),{error:n}=await br.from("support_messages").update({status:"in_progress",updated_at:new Date}).eq("id",l.id);t||n?Gr({title:"Erro ao enviar",description:"N\xe3o foi poss\xedvel enviar a resposta",variant:"destructive"}):(f(""),await y(),await x(l.id),Gr({title:"Resposta enviada",description:"O artista ser\xe1 notificado"})),m(!1)};if(i)return(0,jr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});const w=n,j=n.filter(e=>"open"===e.status).length;return(0,jr.jsxs)("div",{className:"max-h-[80vh] flex flex-col",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Suporte de Artistas"}),(0,jr.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:[j," mensagem",1!==j?"s":""," n\xe3o respondida",1!==j?"s":""]})]}),(0,jr.jsx)("div",{className:"flex gap-2",children:["all","open","in_progress","resolved"].map(e=>(0,jr.jsxs)(ds,{variant:g===e?"default":"outline",size:"sm",onClick:()=>{v(e),c(null)},className:g===e?"bg-red-600 hover:bg-red-700":"",children:["all"===e&&"Todos","open"===e&&"Abertos","in_progress"===e&&"Em Progresso","resolved"===e&&"Resolvidos"]},e))})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 flex-1 overflow-hidden",children:[(0,jr.jsx)("div",{className:"md:col-span-1 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:0===w.length?(0,jr.jsx)("div",{className:"p-8 text-center text-gray-500 flex-1 flex items-center justify-center",children:(0,jr.jsxs)("div",{children:[(0,jr.jsx)(xx,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,jr.jsx)("p",{children:"Nenhuma mensagem"})]})}):(0,jr.jsx)("div",{className:"flex-1 overflow-y-auto",children:w.map(e=>{var t;return(0,jr.jsxs)("button",{onClick:()=>c(e),className:"w-full text-left p-4 border-b border-gray-100 hover:bg-gray-50 transition ".concat((null===l||void 0===l?void 0:l.id)===e.id?"bg-red-50 border-l-4 border-l-red-600":""),children:[(0,jr.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate flex-1",children:e.subject}),(0,jr.jsxs)("span",{className:"text-xs px-2 py-1 rounded whitespace-nowrap ml-2 ".concat("open"===e.status?"bg-red-100 text-red-700":"in_progress"===e.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===e.status&&"Aberto","in_progress"===e.status&&"Em andamento","resolved"===e.status&&"Resolvido"]})]}),(0,jr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[e.artistAvatar?(0,jr.jsx)("img",{src:e.artistAvatar,alt:e.artistName,className:"w-8 h-8 rounded-full object-cover"}):(0,jr.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-sm",children:null===(t=e.artistName)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,jr.jsx)("p",{className:"text-xs text-gray-600 truncate font-medium",children:e.artistName})]}),(0,jr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]},e.id)})})}),(0,jr.jsx)("div",{className:"md:col-span-2 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col h-full",children:l?(0,jr.jsxs)("div",{className:"flex flex-col h-full",children:[(0,jr.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 p-4",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900",children:l.subject}),(0,jr.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,jr.jsxs)("p",{className:"text-xs text-gray-500",children:["Iniciada ",new Date(l.created_at).toLocaleDateString("pt-BR")]}),(0,jr.jsxs)("span",{className:"text-xs px-2 py-1 rounded ".concat("open"===l.status?"bg-red-100 text-red-700":"in_progress"===l.status?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:["open"===l.status&&"Aberto","in_progress"===l.status&&"Em andamento","resolved"===l.status&&"Resolvido"]})]})]}),"resolved"!==l.status&&(0,jr.jsx)(ds,{size:"sm",onClick:()=>(async(e,t)=>{const{error:r}=await br.from("support_messages").update({status:t,updated_at:new Date}).eq("id",e);r?Gr({title:"Erro",description:r.message,variant:"destructive"}):(await y(),(null===l||void 0===l?void 0:l.id)===e&&c(e=>(0,o.A)((0,o.A)({},e),{},{status:t})))})(l.id,"resolved"),className:"bg-green-600 hover:bg-green-700 text-xs ml-4 flex-shrink-0",children:"\u2713 Resolver"})]})}),(0,jr.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[(0,jr.jsx)("div",{className:"flex justify-center",children:(0,jr.jsx)("div",{className:"bg-white px-4 py-2 rounded-full text-xs text-gray-500 border border-gray-200",children:"Conversa iniciada"})}),(0,jr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,jr.jsxs)("div",{className:"bg-red-600 text-white rounded-lg rounded-tr-none px-4 py-2 max-w-md",children:[(0,jr.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:l.message}),(0,jr.jsx)("p",{className:"text-xs mt-2 opacity-70",children:new Date(l.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,jr.jsx)("div",{className:"flex-shrink-0",children:l.artistAvatar?(0,jr.jsx)("img",{src:l.artistAvatar,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-red-600"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-lg",children:null===(e=l.artistName)||void 0===e?void 0:e.charAt(0).toUpperCase()})})]}),u.map(e=>{var t,r;return(0,jr.jsxs)("div",{className:"flex ".concat("admin"===e.sender_type?"justify-start":"justify-end"," gap-3"),children:["admin"===e.sender_type&&(0,jr.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center gap-1",children:[e.senderAvatar?(0,jr.jsx)("img",{src:e.senderAvatar,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-purple-600"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:(null===(t=e.sender_name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"S"}),(0,jr.jsx)("p",{className:"text-xs text-gray-600 font-medium text-center",children:e.sender_name})]}),(0,jr.jsxs)("div",{className:"rounded-lg px-4 py-2 max-w-md ".concat("admin"===e.sender_type?"bg-white border border-gray-200 rounded-tl-none":"bg-red-600 text-white rounded-tr-none"),children:[(0,jr.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed ".concat("admin"===e.sender_type?"text-gray-700":"text-white"),children:e.reply_text}),(0,jr.jsx)("p",{className:"text-xs mt-2 ".concat("admin"===e.sender_type?"text-gray-500":"opacity-70"),children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),"admin"!==e.sender_type&&(0,jr.jsx)("div",{className:"flex-shrink-0",children:l.artistAvatar?(0,jr.jsx)("img",{src:l.artistAvatar,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-red-600"}):(0,jr.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-semibold text-lg",children:null===(r=l.artistName)||void 0===r?void 0:r.charAt(0).toUpperCase()})})]},e.id)})]}),"resolved"!==l.status&&(0,jr.jsx)("div",{className:"border-t border-gray-200 bg-white p-3",children:(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)("textarea",{value:h,onChange:e=>f(e.target.value),onKeyDown:async e=>{e&&e.ctrlKey&&"Enter"===e.key&&(e.preventDefault(),await b())},placeholder:"Digite sua resposta...",className:"flex-1 border border-gray-300 rounded-lg p-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent min-h-12 max-h-32"}),(0,jr.jsx)(ds,{onClick:b,disabled:p||!h.trim(),className:"bg-red-600 hover:bg-red-700 h-12 w-12 p-0 flex items-center justify-center flex-shrink-0",title:"Enviar (Ctrl+Enter)",children:(0,jr.jsx)(uy,{className:"w-5 h-5"})})]})})]}):(0,jr.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(xx,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),(0,jr.jsx)("p",{children:"Selecione uma mensagem para ler"})]})})})]})]})},CN=()=>{const[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)(!0),[i,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)("");(0,t.useEffect)(()=>{h()},[]);const h=async()=>{const{data:e,error:t}=await br.from("homepage_popup").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();e&&(r(e),d(e.link_url||"")),a(!1)};return n?(0,jr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,jr.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pop-up da Home"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Gerenciar o pop-up que aparece ao abrir a p\xe1gina inicial"})]}),(0,jr.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8",children:[(0,jr.jsxs)("label",{className:"flex flex-col items-center cursor-pointer",children:[(0,jr.jsx)(Ko,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,jr.jsx)("span",{className:"text-gray-600 font-medium mb-1",children:"Clique para upload nova imagem"}),(0,jr.jsx)("span",{className:"text-sm text-gray-400",children:"JPG, PNG ou GIF"}),(0,jr.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;s(!0);const r="popup-".concat(Date.now(),"-").concat(t.name),{data:n,error:a}=await br.storage.from("popups").upload(r,t);if(a)return Gr({title:"Erro no upload",description:a.message,variant:"destructive"}),void s(!1);const i="".concat(xr,"/storage/v1/object/public/popups/").concat(r);c(i),s(!1)},className:"hidden",disabled:i})]}),i&&(0,jr.jsx)("p",{className:"text-center text-red-600 mt-2",children:"Enviando..."})]}),(l||(null===e||void 0===e?void 0:e.image_url))&&(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,jr.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Pr\xe9via:"}),(0,jr.jsx)("img",{src:l||(null===e||void 0===e?void 0:e.image_url),alt:"Pop-up preview",className:"w-full max-h-96 object-cover rounded"}),l&&(0,jr.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"\u2713 Nova imagem selecionada"})]}),(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,jr.jsx)(Im,{className:"text-gray-700 font-medium mb-2 block",children:"Link (opcional)"}),(0,jr.jsx)(Zo,{value:u,onChange:e=>d(e.target.value),placeholder:"Ex: /album/123 ou https://...",className:"w-full"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Deixe em branco para o pop-up n\xe3o ter link clic\xe1vel"})]}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsxs)(ds,{onClick:async()=>{if(l||null!==e&&void 0!==e&&e.image_url){if(a(!0),null!==e&&void 0!==e&&e.id){const{error:t}=await br.from("homepage_popup").update({image_url:l||e.image_url,link_url:u||null,updated_at:new Date}).eq("id",e.id);t?Gr({title:"Erro ao salvar",description:t.message,variant:"destructive"}):(r((0,o.A)((0,o.A)({},e),{},{image_url:l||e.image_url,link_url:u||null})),c(null),Gr({title:"Sucesso",description:"Pop-up atualizado com sucesso"}))}else{const{data:e,error:t}=await br.from("homepage_popup").insert({image_url:l,link_url:u||null,active:!0}).select().single();t?Gr({title:"Erro ao criar",description:t.message,variant:"destructive"}):(r(e),c(null),d(""),Gr({title:"Sucesso",description:"Pop-up criado com sucesso"}))}a(!1)}else Gr({title:"Erro",description:"Selecione uma imagem",variant:"destructive"})},disabled:n||!l&&!(null!==e&&void 0!==e&&e.id),className:"bg-green-600 hover:bg-green-700 flex-1",children:[null!==e&&void 0!==e&&e.id?"Atualizar":"Criar"," Pop-up"]}),(null===e||void 0===e?void 0:e.id)&&(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(ds,{onClick:async()=>{if(null===e||void 0===e||!e.id)return;const{error:t}=await br.from("homepage_popup").update({active:!e.active,updated_at:new Date}).eq("id",e.id);t?Gr({title:"Erro",description:t.message,variant:"destructive"}):(r((0,o.A)((0,o.A)({},e),{},{active:!e.active})),Gr({title:e.active?"Desativado":"Ativado",description:"Pop-up foi ".concat(e.active?"desativado":"ativado")}))},disabled:n,variant:"outline",className:"flex-1",children:e.active?(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(bN,{className:"w-4 h-4 mr-2"}),"Ativo"]}):(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(wN,{className:"w-4 h-4 mr-2"}),"Inativo"]})}),(0,jr.jsxs)(ds,{onClick:async()=>{if(null===e||void 0===e||!e.id)return;if(!window.confirm("Tem certeza que quer deletar este pop-up?"))return;if(a(!0),e.image_url){const t=e.image_url.split("/").pop();await br.storage.from("popups").remove([t])}const{error:t}=await br.from("homepage_popup").delete().eq("id",e.id);t?Gr({title:"Erro ao deletar",description:t.message,variant:"destructive"}):(r(null),c(null),d(""),Gr({title:"Deletado",description:"Pop-up removido com sucesso"})),a(!1)},disabled:n,variant:"outline",className:"text-red-600 hover:bg-red-50",children:[(0,jr.jsx)(yp,{className:"w-4 h-4 mr-2"}),"Deletar"]})]})]}),(0,jr.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-900",children:[(0,jr.jsx)("p",{className:"font-medium mb-2",children:"\u2139\ufe0f Informa\xe7\xf5es:"}),(0,jr.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,jr.jsx)("li",{children:"O pop-up aparece apenas uma vez ao abrir a home"}),(0,jr.jsx)("li",{children:"Use o link para direcionar usu\xe1rios a um \xe1lbum, artista, ou p\xe1gina externa"}),(0,jr.jsx)("li",{children:"A imagem \xe9 exibida em forma de modal popup"})]})]})]})};var PN=r(7820),TN=r.n(PN),DN=r(7770),RN=r.n(DN),IN=e=>0===e?0:e>0?1:-1,MN=e=>"number"==typeof e&&e!=+e,LN=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,zN=e=>("number"===typeof e||e instanceof Number)&&!MN(e),FN=e=>zN(e)||"string"===typeof e,UN=0,BN=e=>{var t=++UN;return"".concat(e||"").concat(t)},qN=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!zN(e)&&"string"!==typeof e)return n;if(LN(e)){if(null==t)return n;var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return MN(r)&&(r=n),a&&null!=t&&r>t&&(r=t),r},HN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1};function WN(e,t,r){return zN(e)&&zN(t)?e+r*(t-e):t}var VN=e=>null===e||"undefined"===typeof e,KN=e=>VN(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function GN(e){return null!=e}function YN(){}var $N=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if("undefined"!==typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>n[i++]))}},JN=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,s=LN(n)?e:Number(n),l=LN(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&null!=l&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},XN={width:0,height:0,overflow:"visible"},ZN={width:0,overflowX:"visible"},QN={height:0,overflowY:"visible"},e_={},t_=e=>{var{width:t,height:r}=e,n=LN(t),a=LN(r);return n&&a?XN:n?ZN:a?QN:e_};function r_(e){return Number.isFinite(e)}function n_(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(null,arguments)}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(t){s_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l_=(0,t.createContext)({width:-1,height:-1});function c_(e){var{children:r,width:n,height:a}=e,i=(0,t.useMemo)(()=>({width:n,height:a}),[n,a]);return function(e){return n_(e.width)&&n_(e.height)}(i)?t.createElement(l_.Provider,{value:i},r):null}var u_=()=>(0,t.useContext)(l_),d_=(0,t.forwardRef)((e,r)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:i,height:o,minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),v=(0,t.useRef)();v.current=p,(0,t.useImperativeHandle)(r,()=>g.current);var[y,x]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),b=(0,t.useCallback)((e,t)=>{x(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,t.useEffect)(()=>{if(null==g.current||"undefined"===typeof ResizeObserver)return YN;var e=e=>{var t,{width:r,height:n}=e[0].contentRect;b(r,n),null===(t=v.current)||void 0===t||t.call(v,r,n)};d>0&&(e=TN()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return b(r,n),t.observe(g.current),()=>{t.disconnect()}},[b,d]);var{containerWidth:w,containerHeight:j}=y;$N(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:_}=JN(w,j,{width:i,height:o,aspect:n,maxHeight:c});return $N(null!=N&&N>0||null!=_&&_>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",N,_,i,o,s,l,n),t.createElement("div",{id:h?"".concat(h):void 0,className:$a("recharts-responsive-container",f),style:o_(o_({},m),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:t_({width:i,height:o})},t.createElement(c_,{width:N,height:_},u)))}),h_=(0,t.forwardRef)((e,r)=>{var n=u_();if(n_(n.width)&&n_(n.height))return e.children;var{width:a,height:i}=function(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return void 0===a&&void 0===i?(a="100%",i="100%"):void 0===a?a=n&&n>0?void 0:"100%":void 0===i&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=JN(void 0,void 0,{width:a,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return zN(o)&&zN(s)?t.createElement(c_,{width:o,height:s},e.children):t.createElement(d_,a_({},e,{width:a,height:i,ref:r}))}),f_=r(4705),p_=Symbol.for("immer-nothing"),m_=Symbol.for("immer-draftable"),g_=Symbol.for("immer-state");function v_(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var y_=Object,x_=y_.getPrototypeOf,b_="constructor",w_="prototype",j_="configurable",N_="enumerable",__="writable",S_="value",k_=e=>!!e&&!!e[g_];function E_(e){var t;return!!e&&(C_(e)||M_(e)||!!e[m_]||!(null===(t=e[b_])||void 0===t||!t[m_])||L_(e)||z_(e))}var A_=y_[w_][b_].toString(),O_=new WeakMap;function C_(e){if(!e||!F_(e))return!1;const t=x_(e);if(null===t||t===y_[w_])return!0;const r=y_.hasOwnProperty.call(t,b_)&&t[b_];if(r===Object)return!0;if(!U_(r))return!1;let n=O_.get(r);return void 0===n&&(n=Function.toString.call(r),O_.set(r,n)),n===A_}function P_(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===T_(e)){(r?Reflect.ownKeys(e):y_.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function T_(e){const t=e[g_];return t?t.type_:M_(e)?1:L_(e)?2:z_(e)?3:0}var D_=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:T_(e))?e.has(t):y_[w_].hasOwnProperty.call(e,t)},R_=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:T_(e))?e.get(t):e[t]},I_=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T_(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r};var M_=Array.isArray,L_=e=>e instanceof Map,z_=e=>e instanceof Set,F_=e=>"object"===typeof e,U_=e=>"function"===typeof e,B_=e=>"boolean"===typeof e,q_=e=>e.copy_||e.base_,H_=e=>e.modified_?e.copy_:e.base_;function W_(e,t){if(L_(e))return new Map(e);if(z_(e))return new Set(e);if(M_(e))return Array[w_].slice.call(e);const r=C_(e);if(!0===t||"class_only"===t&&!r){const t=y_.getOwnPropertyDescriptors(e);delete t[g_];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i[__]&&(i[__]=!0,i[j_]=!0),(i.get||i.set)&&(t[a]={[j_]:!0,[__]:!0,[N_]:i[N_],[S_]:e[a]})}return y_.create(x_(e),t)}{const t=x_(e);if(null!==t&&r)return(0,o.A)({},e);const n=y_.create(t);return y_.assign(n,e)}}function V_(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return G_(e)||k_(e)||!E_(e)||(T_(e)>1&&y_.defineProperties(e,{set:K_,add:K_,clear:K_,delete:K_}),y_.freeze(e),t&&P_(e,(e,t)=>{V_(t,!0)},!1)),e}var K_={[S_]:function(){v_(2)}};function G_(e){return null===e||!F_(e)||y_.isFrozen(e)}var Y_="MapSet",$_="Patches",J_={};function X_(e){const t=J_[e];return t||v_(0),t}var Z_;var Q_=()=>Z_;function eS(e,t){t&&(e.patchPlugin_=X_($_),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tS(e){rS(e),e.drafts_.forEach(aS),e.drafts_=null}function rS(e){e===Z_&&(Z_=e.parent_)}var nS=e=>Z_=((e,t)=>{return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(r=Y_,J_[r]?X_(Y_):void 0)};var r})(Z_,e);function aS(e){const t=e[g_];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function iS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(void 0!==e&&e!==r){r[g_].modified_&&(tS(t),v_(4)),E_(e)&&(e=oS(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[g_].base_,e,t)}else e=oS(t,r);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V_(t,r)}(t,e,!0),tS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==p_?e:void 0}function oS(e,t){if(G_(t))return t;const r=t[g_];if(!r){return hS(t,e.handledSet_,e)}if(!lS(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:t}=r;if(t)for(;t.length>0;){t.pop()(e)}dS(r,e)}return r.copy_}function sS(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var lS=(e,t)=>e.scope_===t,cS=[];function uS(e,t,r,n){var a;const i=q_(e),o=e.type_;if(void 0!==n){if(R_(i,n,o)===t)return void I_(i,n,r,o)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;P_(i,(e,r)=>{if(k_(r)){const n=t.get(r)||[];n.push(e),t.set(r,n)}})}const s=null!==(a=e.draftLocations_.get(t))&&void 0!==a?a:cS;for(const l of s)I_(i,l,r,o)}function dS(e,t){var r,n;if(e.modified_&&!e.finalized_&&(3===e.type_||(null!==(r=null===(n=e.assigned_)||void 0===n?void 0:n.size)&&void 0!==r?r:0)>0)){const{patchPlugin_:r}=t;if(r){const n=r.getPath(e);n&&r.generatePatches_(e,n,t)}sS(e)}}function hS(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||k_(e)||t.has(e)||!E_(e)||G_(e)||(t.add(e),P_(e,(n,a)=>{if(k_(a)){const t=a[g_];if(lS(t,r)){const r=H_(t);I_(e,n,r,e.type_),sS(t)}}else E_(a)&&hS(a,t,r)})),e}var fS={get(e,t){if(t===g_)return e;const r=q_(e);if(!D_(r,t,e.type_))return function(e,t,r){var n;const a=gS(t,r);return a?S_ in a?a[S_]:null===(n=a.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];if(e.finalized_||!E_(n))return n;if(n===mS(e.base_,t)){yS(e);const r=1===e.type_?+t:t,a=xS(e.scope_,n,e,r);return e.copy_[r]=a}return n},has:(e,t)=>t in q_(e),ownKeys:e=>Reflect.ownKeys(q_(e)),set(e,t,r){const n=gS(q_(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=mS(q_(e),t),o=null===n||void 0===n?void 0:n[g_];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(((a=r)===(i=n)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==r||D_(e.base_,t,e.type_)))return!0;yS(e),vS(e)}var a,i;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),function(e,t,r){const{scope_:n}=e;if(k_(r)){const a=r[g_];lS(a,n)&&a.callbacks_.push(function(){yS(e);const n=H_(a);uS(e,r,n,t)})}else E_(r)&&e.callbacks_.push(function(){const a=q_(e);var i;R_(a,t,e.type_)===r&&n.drafts_.length>1&&!0===(null!==(i=e.assigned_.get(t))&&void 0!==i&&i)&&e.copy_&&hS(R_(e.copy_,t,e.type_),n.handledSet_,n)})}(e,t,r)),!0},deleteProperty:(e,t)=>(yS(e),void 0!==mS(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),vS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=q_(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[__]:!0,[j_]:1!==e.type_||"length"!==t,[N_]:n[N_],[S_]:r[t]}:n},defineProperty(){v_(11)},getPrototypeOf:e=>x_(e.base_),setPrototypeOf(){v_(12)}},pS={};function mS(e,t){const r=e[g_];return(r?q_(r):e)[t]}function gS(e,t){if(!(t in e))return;let r=x_(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=x_(r)}}function vS(e){e.modified_||(e.modified_=!0,e.parent_&&vS(e.parent_))}function yS(e){e.copy_||(e.assigned_=new Map,e.copy_=W_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}P_(fS,(e,t)=>{pS[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),pS.deleteProperty=function(e,t){return pS.set.call(this,e,t,void 0)},pS.set=function(e,t,r){return fS.set.call(this,e[0],t,r,e[0])};function xS(e,t,r,n){var a,i;const[o,s]=L_(t)?X_(Y_).proxyMap_(t,r):z_(t)?X_(Y_).proxySet_(t,r):function(e,t){const r=M_(e),n={type_:r?1:0,scope_:t?t.scope_:Q_(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=fS;r&&(a=[n],i=pS);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,[s,n]}(t,r);return(null!==(a=null===r||void 0===r?void 0:r.scope_)&&void 0!==a?a:Q_()).drafts_.push(o),s.callbacks_=null!==(i=null===r||void 0===r?void 0:r.callbacks_)&&void 0!==i?i:[],s.key_=n,r&&void 0!==n?function(e,t,r){e.callbacks_.push(function(n){var a,i;const o=t;if(!o||!lS(o,n))return;null===(a=n.mapSetPlugin_)||void 0===a||a.fixSetContents(o);const s=H_(o);uS(e,null!==(i=o.draft_)&&void 0!==i?i:o,s,r),dS(o,n)})}(r,s,n):s.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(s);const{patchPlugin_:r}=e;s.modified_&&r&&r.generatePatches_(s,[],e)}),o}function bS(e){return k_(e)||v_(10),wS(e)}function wS(e){if(!E_(e)||G_(e))return e;const t=e[g_];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=W_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=W_(e,!0);return P_(r,(e,t)=>{I_(r,e,wS(t))},n),t&&(t.finalized_=!1),r}var jS=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(U_(e)&&!U_(t)){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return n.produce(e,e=>t.call(this,e,...i))}}let n;if(U_(t)||v_(6),void 0===r||U_(r)||v_(7),E_(e)){const a=nS(this),i=xS(a,e,void 0);let o=!0;try{n=t(i),o=!1}finally{o?tS(a):rS(a)}return eS(a,r),iS(n,a)}if(!e||!F_(e)){if(n=t(e),void 0===n&&(n=e),n===p_&&(n=void 0),this.autoFreeze_&&V_(n,!0),r){const t=[],a=[];X_($_).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:a}),r(t,a)}return n}v_(1)},this.produceWithPatches=(e,r)=>{if(U_(e))return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;return[this.produce(e,r,(e,t)=>{n=e,a=t}),n,a]},B_(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),B_(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),B_(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){E_(e)||v_(8),k_(e)&&(e=bS(e));const t=nS(this),r=xS(t,e,void 0);return r[g_].isManual_=!0,rS(t),r}finishDraft(e,t){const r=e&&e[g_];r&&r.isManual_||v_(9);const{scope_:n}=r;return eS(n,t),iS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=X_($_).applyPatches_;return k_(e)?n(e,t):this.produce(e,e=>n(e,t))}},NS=jS.produce;function _S(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var SS=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),kS=()=>Math.random().toString(36).substring(7).split("").join("."),ES={INIT:"@@redux/INIT".concat(kS()),REPLACE:"@@redux/REPLACE".concat(kS()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(kS())};function AS(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function OS(e,t,r){if("function"!==typeof e)throw new Error(_S(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(_S(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(_S(1));return r(OS)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(_S(3));return a}function d(e){if("function"!==typeof e)throw new Error(_S(4));if(l)throw new Error(_S(5));let t=!0;c();const r=s++;return o.set(r,e),function(){if(t){if(l)throw new Error(_S(6));t=!1,c(),o.delete(r),i=null}}}function h(e){if(!AS(e))throw new Error(_S(7));if("undefined"===typeof e.type)throw new Error(_S(8));if("string"!==typeof e.type)throw new Error(_S(17));if(l)throw new Error(_S(9));try{l=!0,a=n(a,e)}finally{l=!1}return(i=o).forEach(e=>{e()}),e}h({type:ES.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(_S(10));n=e,h({type:ES.REPLACE})},[SS]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(_S(11));function r(){const e=t;e.next&&e.next(u())}r();return{unsubscribe:e(r)}},[SS](){return this}}}}}function CS(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const n=t[i];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let a;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:ES.INIT}))throw new Error(_S(12));if("undefined"===typeof r(void 0,{type:ES.PROBE_UNKNOWN_ACTION()}))throw new Error(_S(13))})}(r)}catch(SX){a=SX}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const o={};for(let a=0;a<n.length;a++){const s=n[a],l=r[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(_S(14))}o[s]=u,i=i||u!==c}return i=i||n.length!==Object.keys(e).length,i?o:e}}function PS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function TS(e){return AS(e)&&"type"in e&&"string"===typeof e.type}function DS(e){return t=>{let{dispatch:r,getState:n}=t;return t=>a=>"function"===typeof a?a(r,n,e):t(a)}}var RS=DS(),IS=DS;const MS=["reducerPath"];var LS="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?PS:PS.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function zS(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(Tk(0));return(0,o.A)((0,o.A)({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>"".concat(e),r.type=e,r.match=t=>TS(t)&&t.type===e,r}var FS=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function US(e){return E_(e)?NS(e,()=>{}):e}function BS(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var qS="RTK_autoBatch",HS=()=>e=>({payload:e,meta:{[qS]:!0}}),WS=e=>t=>{setTimeout(t,e)},VS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,a=!1,i=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:WS(10):"callback"===e.type?e.queueNotification:WS(e.timeout),l=()=>{i=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return n=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[qS]),a=!n,a&&(i||(i=!0,s(l))),r.dispatch(e)}finally{n=!0}}})}};function KS(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let i=new FS;return t&&("boolean"===typeof t?i.push(RS):i.push(IS(t.extraArgument))),i},{reducer:r,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s,enhancers:l}=e||{};let c,u;if("function"===typeof r)c=r;else{if(!AS(r))throw new Error(Tk(1));c=CS(r)}u="function"===typeof n?n(t):t();let d=PS;a&&(d=LS((0,o.A)({trace:!1},"object"===typeof a&&a)));const h=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const a=e(r,n);let i=()=>{throw new Error(_S(15))};const s={getState:a.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,...r)}},l=t.map(e=>e(s));return i=PS(...l)(a.dispatch),(0,o.A)((0,o.A)({},a),{},{dispatch:i})}}(...u),f=(e=>function(t){const{autoBatch:r=!0}=null!==t&&void 0!==t?t:{};let n=new FS(e);return r&&n.push(VS("object"===typeof r?r:void 0)),n})(h);return OS(c,s,d(..."function"===typeof l?l(f):f()))}function GS(e){const t={},r=[];let n;const a={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Tk(28));if(n in t)throw new Error(Tk(29));return t[n]=r,a},addAsyncThunk:(e,n)=>(n.pending&&(t[e.pending.type]=n.pending),n.rejected&&(t[e.rejected.type]=n.rejected),n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled),n.settled&&r.push({matcher:e.settled,reducer:n.settled}),a),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(n=e,a)};return e(a),[t,r,n]}var YS=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var $S=Symbol.for("rtk-slice-createasyncthunk");function JS(e,t){return"".concat(e,"/").concat(t)}function XS(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[$S];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(Tk(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return(0,o.A)({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Tk(12));if(r in l.sliceCaseReducersByType)throw new Error(Tk(13));return l.sliceCaseReducersByType[r]=t,c},addMatcher:(e,t)=>(l.sliceMatchers.push({matcher:e,reducer:t}),c),exposeAction:(e,t)=>(l.actionCreators[e]=t,c),exposeCaseReducer:(e,t)=>(l.sliceCaseReducersByName[e]=t,c)};function u(){const[t={},r=[],n]="function"===typeof e.extraReducers?GS(e.extraReducers):[e.extraReducers],a=(0,o.A)((0,o.A)({},t),l.sliceCaseReducersByType);return function(e,t){let r,[n,a,i]=GS(t);if("function"===typeof e)r=()=>US(e());else{const t=US(e);r=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,o=[n[t.type],...a.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[i]),o.reduce((e,r)=>{if(r){if(k_(e)){const n=r(e,t);return void 0===n?e:n}if(E_(e))return NS(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return o.getInitialState=r,o}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of l.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}s.forEach(n=>{const i=a[n],o={reducerName:n,type:JS(t,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,r){let n,a,{type:i,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Tk(17));n=t.reducer,a=t.prepare}else n=t;r.addCase(i,n).exposeCaseReducer(o,n).exposeAction(o,a?zS(i,a):zS(i))}(o,i,c):function(e,t,r,n){let{type:a,reducerName:i}=e;if(!n)throw new Error(Tk(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=n(a,o,d);r.exposeAction(i,h),s&&r.addCase(h.fulfilled,s);l&&r.addCase(h.pending,l);c&&r.addCase(h.rejected,c);u&&r.addMatcher(h.settled,u);r.exposeCaseReducer(i,{fulfilled:s||ek,pending:l||ek,rejected:c||ek,settled:u||ek})}(o,i,c,r)});const d=e=>e,h=new Map,f=new WeakMap;let p;function m(e,t){return p||(p=u()),p(e,t)}function g(){return p||(p=u()),p.getInitialState()}function v(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let a=e[t];return"undefined"===typeof a&&r&&(a=BS(f,n,g)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const n=BS(h,r,()=>new WeakMap);return BS(n,t,()=>{const n={};for(const[i,o]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;n[i]=ZS(o,t,()=>BS(f,t,g),r)}return n})}return{reducerPath:t,getSelectors:a,get selectors(){return a(n)},selectSlice:n}}const y=(0,o.A)((0,o.A)({name:t,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g},v(n)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:r}=t,a=i(t,MS);const s=null!==r&&void 0!==r?r:n;return e.inject({reducerPath:s,reducer:m},a),(0,o.A)((0,o.A)({},y),v(s,!0))}});return y}}function ZS(e,t,r,n){function a(a){let i=t(a);"undefined"===typeof i&&n&&(i=r());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(i,...s)}return a.unwrapped=e,a}var QS=XS();function ek(){}var tk="listener",rk="completed",nk="cancelled",ak="task-".concat(nk),ik="task-".concat(rk),ok="".concat(tk,"-").concat(nk),sk="".concat(tk,"-").concat(rk),lk=class{constructor(e){(0,f_.A)(this,"name","TaskAbortError"),(0,f_.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(nk," (reason: ").concat(e,")")}},ck=(e,t)=>{if("function"!==typeof e)throw new TypeError(Tk(32))},uk=()=>{},dk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uk;return e.catch(t),e},hk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fk=e=>{if(e.aborted)throw new lk(e.reason)};function pk(e,t){let r=uk;return new Promise((n,a)=>{const i=()=>a(new lk(e.reason));e.aborted?i():(r=hk(e,i),t.finally(()=>r()).then(n,a))}).finally(()=>{r=uk})}var mk=e=>t=>dk(pk(e,t).then(t=>(fk(e),t))),gk=e=>{const t=mk(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:vk}=Object,yk={},xk="listenerMiddleware",bk=(e,t)=>(r,n)=>{ck(r);const a=new AbortController;var i;i=a,hk(e,()=>i.abort(e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof lk?"cancelled":"rejected",error:r}}finally{null===t||void 0===t||t()}})(async()=>{fk(e),fk(a.signal);const t=await r({pause:mk(a.signal),delay:gk(a.signal),signal:a.signal});return fk(a.signal),t},()=>a.abort(ik));return null!==n&&void 0!==n&&n.autoJoin&&t.push(o.catch(uk)),{result:mk(e)(o),cancel(){a.abort(ak)}}},wk=(e,t)=>(r,n)=>dk((async(r,n)=>{fk(t);let a=()=>{};const i=[new Promise((t,n)=>{let i=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});a=()=>{i(),n()}})];null!=n&&i.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await pk(t,Promise.race(i));return fk(t),e}finally{a()}})(r,n)),jk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=zS(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Tk(21));return ck(i),{predicate:a,type:t,effect:i}},Nk=vk(e=>{const{type:t,predicate:r,effect:n}=jk(e);return{id:YS(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Tk(22))}}},{withTypes:()=>Nk}),_k=(e,t)=>{const{type:r,effect:n,predicate:a}=jk(t);return Array.from(e.values()).find(e=>("string"===typeof r?e.type===r:e.predicate===a)&&e.effect===n)},Sk=e=>{e.pending.forEach(e=>{e.abort(ok)})},kk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Ek=vk(zS("".concat(xk,"/add")),{withTypes:()=>Ek}),Ak=zS("".concat(xk,"/removeAll")),Ok=vk(zS("".concat(xk,"/remove")),{withTypes:()=>Ok}),Ck=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error("".concat(xk,"/error"),...t)},Pk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,r=new Map,{extra:n,onError:a=Ck}=e;ck(a);const i=e=>{var r;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Sk(e)}))(null!==(r=_k(t,e))&&void 0!==r?r:Nk(e))};vk(i,{withTypes:()=>i});const o=e=>{const r=_k(t,e);return r&&(r.unsubscribe(),e.cancelActive&&Sk(r)),!!r};vk(o,{withTypes:()=>o});const s=async(e,o,s,l)=>{const c=new AbortController,u=wk(i,c.signal),d=[];try{e.pending.add(c),(e=>{var t;const n=null!==(t=r.get(e))&&void 0!==t?t:0;r.set(e,n+1)})(e),await Promise.resolve(e.effect(o,vk({},s,{getOriginalState:l,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:gk(c.signal),pause:mk(c.signal),extra:n,signal:c.signal,fork:bk(c.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==c&&(e.abort(ok),r.delete(e))})},cancel:()=>{c.abort(ok),e.pending.delete(c)},throwIfCancelled:()=>{fk(c.signal)}})))}catch(h){h instanceof lk||kk(a,h,{raisedBy:"effect"})}finally{await Promise.all(d),c.abort(sk),(e=>{var t;const n=null!==(t=r.get(e))&&void 0!==t?t:1;1===n?r.delete(e):r.set(e,n-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())Sk(e);e.clear()})(t,r);return{middleware:e=>r=>n=>{if(!TS(n))return r(n);if(Ek.match(n))return i(n.payload);if(Ak.match(n))return void l();if(Ok.match(n))return o(n.payload);let c=e.getState();const u=()=>{if(c===yk)throw new Error(Tk(23));return c};let d;try{if(d=r(n),t.size>0){const r=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(n,r,c)}catch(h){i=!1,kk(a,h,{raisedBy:"predicate"})}i&&s(t,n,e,u)}}}finally{c=yk}return d},startListening:i,stopListening:o,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function Tk(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Dk(e,t){if(t){var r=Number.parseInt(t,10);if(!MN(r))return null===e||void 0===e?void 0:e[r]}}var Rk=QS({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ik=Rk.reducer,{createEventEmitter:Mk}=Rk.actions;r(7237);function Lk(e){e()}var zk={notify(){},get:()=>[]};function Fk(e,t){let r,n=zk,a=0,i=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){a++,r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Lk(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=zk)}const c={addNestedSub:function(e){s();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>n};return c}var Uk=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Bk=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),qk=(()=>Uk||Bk?t.useLayoutEffect:t.useEffect)();function Hk(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Wk(e,t){if(Hk(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Hk(e[r[a]],t[r[a]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Vk=Symbol.for("react-redux-context"),Kk="undefined"!==typeof globalThis?globalThis:{};function Gk(){var e;if(!t.createContext)return{};const r=null!==(e=Kk[Vk])&&void 0!==e?e:Kk[Vk]=new Map;let n=r.get(t.createContext);return n||(n=t.createContext(null),r.set(t.createContext,n)),n}var Yk=Gk();var $k=function(e){const{children:r,context:n,serverState:a,store:i}=e,o=t.useMemo(()=>{const e=Fk(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),s=t.useMemo(()=>i.getState(),[i]);qk(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=n||Yk;return t.createElement(l.Provider,{value:o},r)};var Jk=Symbol.for("immer-nothing"),Xk=Symbol.for("immer-draftable"),Zk=Symbol.for("immer-state");function Qk(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var eE=Object.getPrototypeOf;function tE(e){return!!e&&!!e[Zk]}function rE(e){var t;return!!e&&(iE(e)||Array.isArray(e)||!!e[Xk]||!(null===(t=e.constructor)||void 0===t||!t[Xk])||uE(e)||dE(e))}var nE=Object.prototype.constructor.toString(),aE=new WeakMap;function iE(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!==typeof r)return!1;let n=aE.get(r);return void 0===n&&(n=Function.toString.call(r),aE.set(r,n)),n===nE}function oE(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===sE(e)){(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function sE(e){const t=e[Zk];return t?t.type_:Array.isArray(e)?1:uE(e)?2:dE(e)?3:0}function lE(e,t){return 2===sE(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cE(e,t,r){const n=sE(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function uE(e){return e instanceof Map}function dE(e){return e instanceof Set}function hE(e){return e.copy_||e.base_}function fE(e,t){if(uE(e))return new Map(e);if(dE(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=iE(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Zk];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const a=r[n],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(eE(e),t)}{const t=eE(e);if(null!==t&&r)return(0,o.A)({},e);const n=Object.create(t);return Object.assign(n,e)}}function pE(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return gE(e)||tE(e)||!rE(e)||(sE(e)>1&&Object.defineProperties(e,{set:mE,add:mE,clear:mE,delete:mE}),Object.freeze(e),t&&Object.values(e).forEach(e=>pE(e,!0))),e}var mE={value:function(){Qk(2)}};function gE(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var vE,yE={};function xE(e){const t=yE[e];return t||Qk(0),t}function bE(){return vE}function wE(e,t){t&&(xE("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jE(e){NE(e),e.drafts_.forEach(SE),e.drafts_=null}function NE(e){e===vE&&(vE=e.parent_)}function _E(e){return vE={drafts_:[],parent_:vE,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SE(e){const t=e[Zk];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function kE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Zk].modified_&&(jE(t),Qk(4)),rE(e)&&(e=EE(t,e),t.parent_||OE(t,e)),t.patches_&&xE("Patches").generateReplacementPatches_(r[Zk].base_,e,t.patches_,t.inversePatches_)):e=EE(t,r,[]),jE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Jk?e:void 0}function EE(e,t,r){if(gE(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Zk];if(!a)return oE(t,(n,i)=>AE(e,a,t,n,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return OE(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let i=t,o=!1;3===a.type_&&(i=new Set(t),t.clear(),o=!0),oE(i,(n,i)=>AE(e,a,t,n,i,r,o),n),OE(e,t,!1),r&&e.patches_&&xE("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function AE(e,t,r,n,a,i,o){if(null==a)return;if("object"!==typeof a&&!o)return;const s=gE(a);if(!s||o){if(tE(a)){const o=EE(e,a,i&&t&&3!==t.type_&&!lE(t.assigned_,n)?i.concat(n):void 0);if(cE(r,n,o),!tE(o))return;e.canAutoFreeze_=!1}else o&&r.add(a);if(rE(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[n]===a&&s)return;EE(e,a),t&&t.scope_.parent_||"symbol"===typeof n||!(uE(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||OE(e,a)}}}function OE(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pE(t,r)}var CE={get(e,t){if(t===Zk)return e;const r=hE(e);if(!lE(r,t))return function(e,t,r){var n;const a=DE(t,r);return a?"value"in a?a.value:null===(n=a.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!rE(n)?n:n===TE(e.base_,t)?(IE(e),e.copy_[t]=ME(n,e)):n},has:(e,t)=>t in hE(e),ownKeys:e=>Reflect.ownKeys(hE(e)),set(e,t,r){const n=DE(hE(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=TE(hE(e),t),o=null===n||void 0===n?void 0:n[Zk];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((a=r)===(i=n)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==r||lE(e.base_,t)))return!0;IE(e),RE(e)}var a,i;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==TE(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,IE(e),RE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=hE(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Qk(11)},getPrototypeOf:e=>eE(e.base_),setPrototypeOf(){Qk(12)}},PE={};function TE(e,t){const r=e[Zk];return(r?hE(r):e)[t]}function DE(e,t){if(!(t in e))return;let r=eE(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=eE(r)}}function RE(e){e.modified_||(e.modified_=!0,e.parent_&&RE(e.parent_))}function IE(e){e.copy_||(e.copy_=fE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}oE(CE,(e,t)=>{PE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),PE.deleteProperty=function(e,t){return PE.set.call(this,e,t,void 0)},PE.set=function(e,t,r){return CE.set.call(this,e[0],t,r,e[0])};function ME(e,t){const r=uE(e)?xE("MapSet").proxyMap_(e,t):dE(e)?xE("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:bE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=CE;r&&(a=[n],i=PE);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:bE()).drafts_.push(r),r}function LE(e){if(!rE(e)||gE(e))return e;const t=e[Zk];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fE(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=fE(e,!0);return oE(r,(e,t)=>{cE(r,e,LE(t))},n),t&&(t.finalized_=!1),r}var zE=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!==typeof t&&Qk(6),void 0!==r&&"function"!==typeof r&&Qk(7),rE(e)){const a=_E(this),i=ME(e,void 0);let o=!0;try{n=t(i),o=!1}finally{o?jE(a):NE(a)}return wE(a,r),kE(n,a)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Jk&&(n=void 0),this.autoFreeze_&&pE(n,!0),r){const t=[],a=[];xE("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}Qk(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.produceWithPatches(r,t=>e(t,...a))};let n,a;return[this.produce(e,r,(e,t)=>{n=e,a=t}),n,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){rE(e)||Qk(8),tE(e)&&(e=function(e){tE(e)||Qk(10);return LE(e)}(e));const t=_E(this),r=ME(e,void 0);return r[Zk].isManual_=!0,NE(t),r}finishDraft(e,t){const r=e&&e[Zk];r&&r.isManual_||Qk(9);const{scope_:n}=r;return wE(n,t),kE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=xE("Patches").applyPatches_;return tE(e)?n(e,t):this.produce(e,e=>n(e,t))}};zE.produce;var FE={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},UE=QS({name:"tooltip",initialState:{itemInteraction:{click:FE,hover:FE},axisInteraction:{click:FE,hover:FE},keyboardInteraction:FE,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:HS()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=bS(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:HS()},removeTooltipEntrySettings:{reducer(e,t){var r=bS(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:HS()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:BE,replaceTooltipEntrySettings:qE,removeTooltipEntrySettings:HE,setTooltipSettingsState:WE,setActiveMouseOverItemIndex:VE,mouseLeaveItem:KE,mouseLeaveChart:GE,setActiveClickItemIndex:YE,setMouseOverAxisIndex:$E,setMouseClickAxisIndex:JE,setSyncInteraction:XE,setKeyboardInteraction:ZE}=UE.actions,QE=UE.reducer,eA=QS({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:tA,setDataStartEndIndexes:rA,setComputedData:nA}=eA.actions,aA=eA.reducer,iA=QS({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(n=t.payload.right)&&void 0!==n?n:0,e.margin.bottom=null!==(a=t.payload.bottom)&&void 0!==a?a:0,e.margin.left=null!==(i=t.payload.left)&&void 0!==i?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:oA,setLayout:sA,setChartSize:lA,setScale:cA}=iA.actions,uA=iA.reducer;function dA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var hA=e=>Array.isArray(e)?e:[e];function fA(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(r,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var pA="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function mA(){return{s:0,v:void 0,o:null,p:null}}function gA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let a,i=0;function o(){let t=r;const{length:o}=arguments;for(let e=0,r=o;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=mA(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=mA(),e.set(r,t)):t=n}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,n){var c,u,d;const e=null!==(c=null===(u=a)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:a;null!=e&&n(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new pA(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function vA(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a="function"===typeof e?{memoize:e,memoizeOptions:r}:e,i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n,i=0,s=0,l={},c=t.pop();"object"===typeof c&&(l=c,c=t.pop()),dA(c,"createSelector expects an output function after the inputs, but received: [".concat(typeof c,"]"));const u=(0,o.A)((0,o.A)({},a),l),{memoize:d,memoizeOptions:h=[],argsMemoize:f=gA,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,g=hA(h),v=hA(p),y=fA(t),x=d(function(){return i++,c.apply(null,arguments)},...g);const b=f(function(){s++;const e=function(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}(y,arguments);return n=x.apply(null,e),n},...v);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:f})};return Object.assign(i,{withTypes:()=>i}),i}var yA=vA(gA),xA=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yA;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const r=Object.keys(e),n=t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})});return n},{withTypes:()=>xA}),bA=r(8443),wA=(0,t.createContext)(null),jA=e=>e,NA=()=>{var e=(0,t.useContext)(wA);return e?e.store.dispatch:jA},_A=()=>{},SA=()=>_A,kA=(e,t)=>e===t;function EA(e){var r=(0,t.useContext)(wA);return(0,bA.useSyncExternalStoreWithSelector)(r?r.subscription.addNestedSub:SA,r?r.store.getState:_A,r?r.store.getState:_A,r?e:_A,kA)}var AA=r(3821),OA=r.n(AA),CA=e=>e.legend.settings,PA=yA([e=>e.legend.payload,CA],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?OA()(n,r):n});function TA(e,t){if((a=e.length)>1)for(var r,n,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(n=o,o=e[t[i]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}Array.prototype.slice;function DA(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function RA(e){return function(){return e}}function IA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function MA(e,t){return e[t]}function LA(e){const t=[];return t.key=e,t}function zA(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function UA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(t){BA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function BA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qA(e,t,r){return VN(e)||VN(t)?r:FN(t)?RN()(e,t,r):"function"===typeof t?t(e):r}var HA=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,WA=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var a,i,o=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate));return a||o.push(t),i||o.push(r),o},VA=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m=(t||r)&&"category"===a&&o.bandwidth?o.bandwidth()/p:0;if(m="angleAxis"===f&&i&&i.length>=2?2*IN(i[0]-i[1])*m:m,t&&(d||h)){var g=(d||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e;return{coordinate:o(r)+m,value:e,offset:m,index:t}});return g.filter(e=>!MN(e.coordinate))}return l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&!r&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:n?n[e]:e,index:t,offset:m}))},KA=1e-4,GA={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=MN(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,o=e[0].length;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}TA(e,t)}},none:TA,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;a[n][1]+=a[n][0]=-s/2}TA(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}r[o-1][1]+=r[o-1][0]=i,l&&(i-=c/l)}r[o-1][1]+=r[o-1][0]=i,TA(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=MN(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},YA=(e,t,r)=>{var n=GA[r],a=function(){var e=RA([]),t=IA,r=TA,n=MA;function a(a){var i,o,s=Array.from(e.apply(this,arguments),LA),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+n(e,s[i].key,c,a)]).data=e;for(i=0,o=DA(t(s));i<l;++i)s[o[i]].index=i;return r(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:RA(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:RA(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?IA:"function"===typeof e?e:RA(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?TA:e,a):r},a}().keys(t).value((e,t)=>Number(qA(e,t,0))).order(IA).offset(n);return a(e)};var $A=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=qA(i,t.dataKey,t.scale.domain()[o]);return VN(s)?null:t.scale(s)-a/2+n},JA=(e,t,r)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,s=o.reduce((e,n)=>{var a=(e=>{var t=e.flat(2).filter(zN);return[Math.min(...t),Math.max(...t)]})(zA(n,t,r));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},XA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=OA()(t,e=>e.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function eO(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return UA(UA({},t),{},{dataKey:r,payload:n,value:a,name:i})}function tO(e,t){return e?String(e):"string"===typeof t?t:void 0}var rO=e=>e.layout.width,nO=e=>e.layout.height,aO=e=>e.layout.scale,iO=e=>e.layout.margin,oO=yA(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sO=yA(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lO="data-recharts-item-index",cO="data-recharts-item-data-key";function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(t){hO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fO=yA([rO,nO,iO,e=>e.brush.height,function(e){return sO(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return sO(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return oO(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return oO(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},CA,e=>e.legend.size],(e,t,r,n,a,i,o,s,l,c)=>{var u={left:(r.left||0)+a,right:(r.right||0)+i},d=dO(dO({},{top:(r.top||0)+o,bottom:(r.bottom||0)+s}),u),h=d.bottom;d.bottom+=n,d=((e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==i&&zN(e[i]))return UA(UA({},e),{},{[i]:e[i]+(n||0)});if(("horizontal"===s||"vertical"===s&&"center"===i)&&"middle"!==o&&zN(e[o]))return UA(UA({},e),{},{[o]:e[o]+(a||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return dO(dO({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),pO=yA(fO,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mO=yA(rO,nO,(e,t)=>({x:0,y:0,width:e,height:t})),gO=(0,t.createContext)(null),vO=()=>null!=(0,t.useContext)(gO),yO=e=>e.brush,xO=yA([yO,fO,iO],(e,t,r)=>({height:e.height,x:zN(e.x)?e.x:t.left,y:zN(e.y)?e.y:t.top+t.height+t.brushBottom-((null===r||void 0===r?void 0:r.bottom)||0),width:zN(e.width)?e.width:t.width}));function bO(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var wO=()=>{var e,t=vO(),r=EA(pO),n=EA(xO),a=null===(e=EA(yO))||void 0===e?void 0:e.padding;return t&&n&&a?{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}:r},jO={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NO=()=>{var e;return null!==(e=EA(fO))&&void 0!==e?e:jO},_O=()=>EA(rO),SO=()=>EA(nO),kO=e=>e.layout.layoutType,EO=()=>EA(kO),AO=e=>{var r=NA(),n=vO(),{width:a,height:i}=e,o=u_(),s=a,l=i;return o&&(s=o.width>0?o.width:a,l=o.height>0?o.height:i),(0,t.useEffect)(()=>{!n&&n_(s)&&n_(l)&&r(lA({width:s,height:l}))},[r,n,s,l]),null},OO=r(9859),CO=r.n(OO);function PO(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function TO(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class DO extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LO;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(RO(this,e))}has(e){return super.has(RO(this,e))}set(e,t){return super.set(IO(this,e),t)}delete(e){return super.delete(MO(this,e))}}Set;function RO(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function IO(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function MO(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function LO(e){return null!==e&&"object"===typeof e?e.valueOf():e}const zO=Symbol("implicit");function FO(){var e=new DO,t=[],r=[],n=zO;function a(a){let i=e.get(a);if(void 0===i){if(n!==zO)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new DO;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return FO(t,r).unknown(n)},PO.apply(a,arguments),a}function UO(){var e,t,r=FO().unknown(void 0),n=r.domain,a=r.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<i,h=d?o:i,f=d?i:o;e=(f-h)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},r.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return UO(n(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},PO.apply(d(),arguments)}function BO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BO(t())},e}function qO(){return BO(UO.apply(null,arguments).paddingInner(1))}const HO=Math.sqrt(50),WO=Math.sqrt(10),VO=Math.sqrt(2);function KO(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=HO?10:i>=WO?5:i>=VO?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?KO(e,t,2*r):[s,l,c]}function GO(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,o]=n?KO(t,e,r):KO(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function YO(e,t,r){return KO(e=+e,t=+t,r=+r)[2]}function $O(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?YO(t,e,r):YO(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function JO(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XO(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZO(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=JO,r=(t,r)=>JO(e(t),r),n=(t,r)=>e(t)-r):(t=e===JO||e===XO?e:QO,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function QO(){return 0}function eC(e){return null===e?NaN:+e}const tC=ZO(JO),rC=tC.right,nC=(tC.left,ZO(eC).center,rC);function aC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function oC(){}var sC=.7,lC=1/sC,cC="\\s*([+-]?\\d+)\\s*",uC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hC=/^#([0-9a-f]{3,8})$/,fC=new RegExp("^rgb\\(".concat(cC,",").concat(cC,",").concat(cC,"\\)$")),pC=new RegExp("^rgb\\(".concat(dC,",").concat(dC,",").concat(dC,"\\)$")),mC=new RegExp("^rgba\\(".concat(cC,",").concat(cC,",").concat(cC,",").concat(uC,"\\)$")),gC=new RegExp("^rgba\\(".concat(dC,",").concat(dC,",").concat(dC,",").concat(uC,"\\)$")),vC=new RegExp("^hsl\\(".concat(uC,",").concat(dC,",").concat(dC,"\\)$")),yC=new RegExp("^hsla\\(".concat(uC,",").concat(dC,",").concat(dC,",").concat(uC,"\\)$")),xC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bC(){return this.rgb().formatHex()}function wC(){return this.rgb().formatRgb()}function jC(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hC.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?NC(t):3===r?new kC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?_C(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?_C(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=fC.exec(e))?new kC(t[1],t[2],t[3],1):(t=pC.exec(e))?new kC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=mC.exec(e))?_C(t[1],t[2],t[3],t[4]):(t=gC.exec(e))?_C(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vC.exec(e))?TC(t[1],t[2]/100,t[3]/100,1):(t=yC.exec(e))?TC(t[1],t[2]/100,t[3]/100,t[4]):xC.hasOwnProperty(e)?NC(xC[e]):"transparent"===e?new kC(NaN,NaN,NaN,0):null}function NC(e){return new kC(e>>16&255,e>>8&255,255&e,1)}function _C(e,t,r,n){return n<=0&&(e=t=r=NaN),new kC(e,t,r,n)}function SC(e,t,r,n){return 1===arguments.length?((a=e)instanceof oC||(a=jC(a)),a?new kC((a=a.rgb()).r,a.g,a.b,a.opacity):new kC):new kC(e,t,r,null==n?1:n);var a}function kC(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function EC(){return"#".concat(PC(this.r)).concat(PC(this.g)).concat(PC(this.b))}function AC(){const e=OC(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(CC(this.r),", ").concat(CC(this.g),", ").concat(CC(this.b)).concat(1===e?")":", ".concat(e,")"))}function OC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function CC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function PC(e){return((e=CC(e))<16?"0":"")+e.toString(16)}function TC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new RC(e,t,r,n)}function DC(e){if(e instanceof RC)return new RC(e.h,e.s,e.l,e.opacity);if(e instanceof oC||(e=jC(e)),!e)return new RC;if(e instanceof RC)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new RC(o,s,l,e.opacity)}function RC(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function IC(e){return(e=(e||0)%360)<0?e+360:e}function MC(e){return Math.max(0,Math.min(1,e||0))}function LC(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function zC(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6}aC(oC,jC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bC,formatHex:bC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return DC(this).formatHsl()},formatRgb:wC,toString:wC}),aC(kC,SC,iC(oC,{brighter(e){return e=null==e?lC:Math.pow(lC,e),new kC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?sC:Math.pow(sC,e),new kC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kC(CC(this.r),CC(this.g),CC(this.b),OC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EC,formatHex:EC,formatHex8:function(){return"#".concat(PC(this.r)).concat(PC(this.g)).concat(PC(this.b)).concat(PC(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:AC,toString:AC})),aC(RC,function(e,t,r,n){return 1===arguments.length?DC(e):new RC(e,t,r,null==n?1:n)},iC(oC,{brighter(e){return e=null==e?lC:Math.pow(lC,e),new RC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?sC:Math.pow(sC,e),new RC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new kC(LC(e>=240?e-240:e+120,a,n),LC(e,a,n),LC(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new RC(IC(this.h),MC(this.s),MC(this.l),OC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=OC(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(IC(this.h),", ").concat(100*MC(this.s),"%, ").concat(100*MC(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const FC=e=>()=>e;function UC(e,t){return function(r){return e+r*t}}function BC(e){return 1===(e=+e)?qC:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):FC(isNaN(t)?r:t)}}function qC(e,t){var r=t-e;return r?UC(e,r):FC(isNaN(e)?t:e)}const HC=function e(t){var r=BC(t);function n(e,t){var n=r((e=SC(e)).r,(t=SC(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),o=qC(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function WC(e){return function(t){var r,n,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(r=0;r<a;++r)n=SC(t[r]),i[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return i=e(i),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=i(e),n.g=o(e),n.b=s(e),n+""}}}WC(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],o=n>0?e[n-1]:2*a-i,s=n<t-1?e[n+2]:2*i-a;return zC((r-n/t)*t,o,a,i,s)}}),WC(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return zC((r-n/t)*t,a,i,o,s)}});function VC(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),o=new Array(n);for(r=0;r<a;++r)i[r]=QC(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=i[r](e);return o}}function KC(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function GC(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YC(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=QC(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var $C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JC=new RegExp($C.source,"g");function XC(e,t){var r,n,a,i=$C.lastIndex=JC.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=$C.exec(e))&&(n=JC.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:GC(r,n)})),i=JC.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function ZC(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function QC(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?FC(t):("number"===a?GC:"string"===a?(r=jC(t))?(t=r,HC):XC:t instanceof jC?HC:t instanceof Date?KC:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?VC:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?YC:GC:ZC))(e,t)}function eP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tP(e){return+e}var rP=[0,1];function nP(e){return e}function aP(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function iP(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=aP(a,n),i=r(o,i)):(n=aP(n,a),i=r(i,o)),function(e){return i(n(e))}}function oP(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=aP(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=nC(e,t,1,n)-1;return i[r](a[r](t))}}function sP(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lP(){var e,t,r,n,a,i,o=rP,s=rP,l=QC,c=nP;function u(){var e=Math.min(o.length,s.length);return c!==nP&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(o[0],o[e-1])),n=e>2?oP:iP,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(s,o.map(e),GC)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,tP),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=eP,u()},d.clamp=function(e){return arguments.length?(c=!!e||nP,u()):c!==nP},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function cP(){return lP()(nP,nP)}var uP,dP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hP(e){if(!(t=dP.exec(e)))throw new Error("invalid format: "+e);var t;return new fP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function fP(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function pP(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function mP(e){return(e=pP(Math.abs(e)))?e[1]:NaN}function gP(e,t){var r=pP(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}hP.prototype=fP.prototype,fP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const vP={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gP(100*e,t),r:gP,s:function(e,t){var r=pP(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(uP=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pP(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yP(e){return e}var xP,bP,wP,jP=Array.prototype.map,NP=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function _P(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?yP:(t=jP.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?yP:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(jP.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=hP(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):vP[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?i:/[%p]/.test(y)?l:"",w=vP[y],j=/[defgprs%]/.test(y);function N(e){var a,i,l,h=x,N=b;if("c"===y)N=w(e)+N,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==d&&(_=!1),h=(_?"("===d?d:c:"-"===d||"("===d?"":d)+h,N=("s"===y?NP[8+uP/3]:"")+N+(_&&"("===d?")":""),j)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var S=h.length+e.length+N.length,k=S<p?new Array(p-S+1).join(t):"";switch(m&&f&&(e=n(k+e,k.length?p-N.length:1/0),k=""),r){case"<":e=h+e+N+k;break;case"=":e=h+k+e+N;break;case"^":e=k.slice(0,S=k.length>>1)+h+e+N+k.slice(S);break;default:e=k+h+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var r=d(((e=hP(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(mP(t)/3))),a=Math.pow(10,-n),i=NP[8+n/3];return function(e){return r(a*e)+i}}}}function SP(e,t,r,n){var a,i=$O(e,t,r);switch((n=hP(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(mP(t)/3)))-mP(Math.abs(e)))}(i,o))||(n.precision=a),wP(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mP(t)-mP(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-mP(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return bP(n)}function kP(e){var t=e.domain;return e.ticks=function(e){var r=t();return GO(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return SP(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=YO(l,c,r))===n)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function EP(){var e=cP();return e.copy=function(){return sP(e,EP())},PO.apply(e,arguments),kP(e)}function AP(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,tP),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return AP(e).unknown(t)},e=arguments.length?Array.from(e,tP):[0,1],kP(r)}function OP(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e}function CP(e){return Math.log(e)}function PP(e){return Math.exp(e)}function TP(e){return-Math.log(-e)}function DP(e){return-Math.exp(-e)}function RP(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IP(e){return(t,r)=>-e(-t,r)}function MP(e){const t=e(CP,PP),r=t.domain;let n,a,i=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?RP:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=IP(n),a=IP(a),e(TP,DP)):e(CP,PP),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),h=n(s);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=GO(o,s,f))}else p=GO(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=hP(r)).precision||(r.trim=!0),r=bP(r)),e===1/0)return r;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=o?r(e):""}},t.nice=()=>r(OP(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function LP(){const e=MP(lP()).domain([1,10]);return e.copy=()=>sP(e,LP()).base(e.base()),PO.apply(e,arguments),e}function zP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UP(e){var t=1,r=e(zP(t),FP(t));return r.constant=function(r){return arguments.length?e(zP(t=+r),FP(t)):t},kP(r)}function BP(){var e=UP(lP());return e.copy=function(){return sP(e,BP()).constant(e.constant())},PO.apply(e,arguments)}function qP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function HP(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WP(e){return e<0?-e*e:e*e}function VP(e){var t=e(nP,nP),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(nP,nP):.5===r?e(HP,WP):e(qP(r),qP(1/r)):r},kP(t)}function KP(){var e=VP(lP());return e.copy=function(){return sP(e,KP()).exponent(e.exponent())},PO.apply(e,arguments),e}function GP(){return KP.apply(null,arguments).exponent(.5)}function YP(e){return Math.sign(e)*e*e}function $P(){var e,t=cP(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(YP(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,tP)).map(YP)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return $P(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},PO.apply(a,arguments),kP(a)}function JP(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function XP(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function ZP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JO;if(e===JO)return QP;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function QP(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function eT(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?QP:ZP(a);n>r;){if(n-r>600){const i=n-r+1,o=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);eT(e,t,Math.max(r,Math.floor(t-o*l/i+c)),Math.min(n,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=r,s=n;for(tT(e,r,t),a(e[n],i)>0&&tT(e,r,n);o<s;){for(tT(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[r],i)?tT(e,r,s):(++s,tT(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function tT(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function rT(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return XP(e);if(t>=1)return JP(e);var n,a=(n-1)*t,i=Math.floor(a),o=JP(eT(e,i).subarray(0,i+1));return o+(XP(e.subarray(i+1))-o)*(a-i)}}function nT(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eC;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e);return o+(+r(e[i+1],i+1,e)-o)*(a-i)}}function aT(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=nT(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[nC(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(JO),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return aT().domain(t).range(r).unknown(e)},PO.apply(i,arguments)}function iT(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[nC(a,t,0,n)]:e}function s(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},o.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=n?[a[n-1],r]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return iT().domain([t,r]).range(i).unknown(e)},PO.apply(kP(o),arguments)}function oT(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[nC(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return oT().domain(t).range(r).unknown(e)},PO.apply(a,arguments)}xP=_P({thousands:",",grouping:[3],currency:["$",""]}),bP=xP.format,wP=xP.formatPrefix;const sT=1e3,lT=6e4,cT=36e5,uT=864e5,dT=6048e5,hT=2592e6,fT=31536e6,pT=new Date,mT=new Date;function gT(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return o;let s;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=r=>gT(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(pT.setTime(+t),mT.setTime(+n),e(pT),e(mT),Math.floor(r(pT,mT))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const vT=gT(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vT.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?gT(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vT:null);vT.range;const yT=gT(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sT)},(e,t)=>(t-e)/sT,e=>e.getUTCSeconds()),xT=(yT.range,gT(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sT)},(e,t)=>{e.setTime(+e+t*lT)},(e,t)=>(t-e)/lT,e=>e.getMinutes())),bT=(xT.range,gT(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*lT)},(e,t)=>(t-e)/lT,e=>e.getUTCMinutes())),wT=(bT.range,gT(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sT-e.getMinutes()*lT)},(e,t)=>{e.setTime(+e+t*cT)},(e,t)=>(t-e)/cT,e=>e.getHours())),jT=(wT.range,gT(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*cT)},(e,t)=>(t-e)/cT,e=>e.getUTCHours())),NT=(jT.range,gT(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lT)/uT,e=>e.getDate()-1)),_T=(NT.range,gT(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/uT,e=>e.getUTCDate()-1)),ST=(_T.range,gT(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/uT,e=>Math.floor(e/uT)));ST.range;function kT(e){return gT(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lT)/dT)}const ET=kT(0),AT=kT(1),OT=kT(2),CT=kT(3),PT=kT(4),TT=kT(5),DT=kT(6);ET.range,AT.range,OT.range,CT.range,PT.range,TT.range,DT.range;function RT(e){return gT(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/dT)}const IT=RT(0),MT=RT(1),LT=RT(2),zT=RT(3),FT=RT(4),UT=RT(5),BT=RT(6),qT=(IT.range,MT.range,LT.range,zT.range,FT.range,UT.range,BT.range,gT(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),HT=(qT.range,gT(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),WT=(HT.range,gT(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));WT.every=e=>isFinite(e=Math.floor(e))&&e>0?gT(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;WT.range;const VT=gT(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());VT.every=e=>isFinite(e=Math.floor(e))&&e>0?gT(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;VT.range;function KT(e,t,r,n,a,i){const o=[[yT,1,sT],[yT,5,5e3],[yT,15,15e3],[yT,30,3e4],[i,1,lT],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,cT],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,uT],[n,2,1728e5],[r,1,dT],[t,1,hT],[t,3,7776e6],[e,1,fT]];function s(t,r,n){const a=Math.abs(r-t)/n,i=ZO(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every($O(t/fT,r/fT,n));if(0===i)return vT.every(Math.max($O(t,r,n),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:s(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},s]}const[GT,YT]=KT(VT,HT,IT,ST,jT,bT),[$T,JT]=KT(WT,qT,ET,NT,wT,xT);function XT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ZT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function QT(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var eD,tD,rD,nD={"-":"",_:" ",0:"0"},aD=/^\s*\d+/,iD=/^%/,oD=/[\\^$*+?|[\]().{}]/g;function sD(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function lD(e){return e.replace(oD,"\\$&")}function cD(e){return new RegExp("^(?:"+e.map(lD).join("|")+")","i")}function uD(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function dD(e,t,r){var n=aD.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function hD(e,t,r){var n=aD.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fD(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function pD(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mD(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gD(e,t,r){var n=aD.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vD(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function yD(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xD(e,t,r){var n=aD.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function bD(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function wD(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jD(e,t,r){var n=aD.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ND(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _D(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function SD(e,t,r){var n=aD.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kD(e,t,r){var n=aD.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ED(e,t,r){var n=aD.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function AD(e,t,r){var n=iD.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function OD(e,t,r){var n=aD.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function CD(e,t,r){var n=aD.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function PD(e,t){return sD(e.getDate(),t,2)}function TD(e,t){return sD(e.getHours(),t,2)}function DD(e,t){return sD(e.getHours()%12||12,t,2)}function RD(e,t){return sD(1+NT.count(WT(e),e),t,3)}function ID(e,t){return sD(e.getMilliseconds(),t,3)}function MD(e,t){return ID(e,t)+"000"}function LD(e,t){return sD(e.getMonth()+1,t,2)}function zD(e,t){return sD(e.getMinutes(),t,2)}function FD(e,t){return sD(e.getSeconds(),t,2)}function UD(e){var t=e.getDay();return 0===t?7:t}function BD(e,t){return sD(ET.count(WT(e)-1,e),t,2)}function qD(e){var t=e.getDay();return t>=4||0===t?PT(e):PT.ceil(e)}function HD(e,t){return e=qD(e),sD(PT.count(WT(e),e)+(4===WT(e).getDay()),t,2)}function WD(e){return e.getDay()}function VD(e,t){return sD(AT.count(WT(e)-1,e),t,2)}function KD(e,t){return sD(e.getFullYear()%100,t,2)}function GD(e,t){return sD((e=qD(e)).getFullYear()%100,t,2)}function YD(e,t){return sD(e.getFullYear()%1e4,t,4)}function $D(e,t){var r=e.getDay();return sD((e=r>=4||0===r?PT(e):PT.ceil(e)).getFullYear()%1e4,t,4)}function JD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sD(t/60|0,"0",2)+sD(t%60,"0",2)}function XD(e,t){return sD(e.getUTCDate(),t,2)}function ZD(e,t){return sD(e.getUTCHours(),t,2)}function QD(e,t){return sD(e.getUTCHours()%12||12,t,2)}function eR(e,t){return sD(1+_T.count(VT(e),e),t,3)}function tR(e,t){return sD(e.getUTCMilliseconds(),t,3)}function rR(e,t){return tR(e,t)+"000"}function nR(e,t){return sD(e.getUTCMonth()+1,t,2)}function aR(e,t){return sD(e.getUTCMinutes(),t,2)}function iR(e,t){return sD(e.getUTCSeconds(),t,2)}function oR(e){var t=e.getUTCDay();return 0===t?7:t}function sR(e,t){return sD(IT.count(VT(e)-1,e),t,2)}function lR(e){var t=e.getUTCDay();return t>=4||0===t?FT(e):FT.ceil(e)}function cR(e,t){return e=lR(e),sD(FT.count(VT(e),e)+(4===VT(e).getUTCDay()),t,2)}function uR(e){return e.getUTCDay()}function dR(e,t){return sD(MT.count(VT(e)-1,e),t,2)}function hR(e,t){return sD(e.getUTCFullYear()%100,t,2)}function fR(e,t){return sD((e=lR(e)).getUTCFullYear()%100,t,2)}function pR(e,t){return sD(e.getUTCFullYear()%1e4,t,4)}function mR(e,t){var r=e.getUTCDay();return sD((e=r>=4||0===r?FT(e):FT.ceil(e)).getUTCFullYear()%1e4,t,4)}function gR(){return"+0000"}function vR(){return"%"}function yR(e){return+e}function xR(e){return Math.floor(+e/1e3)}function bR(e){return new Date(e)}function wR(e){return e instanceof Date?+e:+new Date(+e)}function jR(e,t,r,n,a,i,o,s,l,c){var u=cP(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?v:y:r(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,wR)):h().map(bR)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(OP(r,e)):u},u.copy=function(){return sP(u,jR(e,t,r,n,a,i,o,s,l,c))},u}function NR(){return PO.apply(jR($T,JT,WT,qT,ET,NT,wT,xT,yT,tD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _R(){return PO.apply(jR(GT,YT,VT,HT,IT,_T,jT,bT,yT,rD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function SR(){var e,t,r,n,a,i=0,o=1,s=nP,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=n(i=+i),t=n(o=+o),r=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(QC),c.rangeRound=u(eP),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(o),r=e===t?0:1/(t-e),c}}function kR(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ER(){var e=kP(SR()(nP));return e.copy=function(){return kR(e,ER())},TO.apply(e,arguments)}function AR(){var e=MP(SR()).domain([1,10]);return e.copy=function(){return kR(e,AR()).base(e.base())},TO.apply(e,arguments)}function OR(){var e=UP(SR());return e.copy=function(){return kR(e,OR()).constant(e.constant())},TO.apply(e,arguments)}function CR(){var e=VP(SR());return e.copy=function(){return kR(e,CR()).exponent(e.exponent())},TO.apply(e,arguments)}function PR(){return CR.apply(null,arguments).exponent(.5)}function TR(){var e=[],t=nP;function r(r){if(null!=r&&!isNaN(r=+r))return t((nC(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(JO),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>rT(e,n/t))},r.copy=function(){return TR(t).domain(e)},TO.apply(r,arguments)}function DR(){var e,t,r,n,a,i,o,s=0,l=.5,c=1,u=1,d=nP,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=QC);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(QC),f.rangeRound=p(eP),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function RR(){var e=kP(DR()(nP));return e.copy=function(){return kR(e,RR())},TO.apply(e,arguments)}function IR(){var e=MP(DR()).domain([.1,1,10]);return e.copy=function(){return kR(e,IR()).base(e.base())},TO.apply(e,arguments)}function MR(){var e=UP(DR());return e.copy=function(){return kR(e,MR()).constant(e.constant())},TO.apply(e,arguments)}function LR(){var e=VP(DR());return e.copy=function(){return kR(e,LR()).exponent(e.exponent())},TO.apply(e,arguments)}function zR(){return LR.apply(null,arguments).exponent(.5)}!function(e){eD=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=cD(a),u=uD(a),d=cD(i),h=uD(i),f=cD(o),p=uD(o),m=cD(s),g=uD(s),v=cD(l),y=uD(l),x={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:PD,e:PD,f:MD,g:GD,G:$D,H:TD,I:DD,j:RD,L:ID,m:LD,M:zD,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:yR,s:xR,S:FD,u:UD,U:BD,V:HD,w:WD,W:VD,x:null,X:null,y:KD,Y:YD,Z:JD,"%":vR},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:XD,e:XD,f:rR,g:fR,G:mR,H:ZD,I:QD,j:eR,L:tR,m:nR,M:aR,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:yR,s:xR,S:iR,u:oR,U:sR,V:cR,w:uR,W:dR,x:null,X:null,y:hR,Y:pR,Z:gR,"%":vR},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return _(e,t,r,n)},d:wD,e:wD,f:ED,g:vD,G:gD,H:ND,I:ND,j:jD,L:kD,m:bD,M:_D,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:xD,Q:OD,s:CD,S:SD,u:hD,U:fD,V:pD,w:dD,W:mD,x:function(e,t,n){return _(e,r,t,n)},X:function(e,t,r){return _(e,n,t,r)},y:vD,Y:gD,Z:yD,"%":AD};function j(e,t){return function(r){var n,a,i,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=nD[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(r){var n,a,i=QT(1900,void 0,1);if(_(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=ZT(QT(i.y,0,1))).getUTCDay(),n=a>4||0===a?MT.ceil(n):MT(n),n=_T.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=XT(QT(i.y,0,1))).getDay(),n=a>4||0===a?AT.ceil(n):AT(n),n=NT.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?ZT(QT(i.y,0,1)).getUTCDay():XT(QT(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,ZT(i)):XT(i)}}function _(e,t,r,n){for(var a,i,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in nD?t.charAt(o++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return x.x=j(r,x),x.X=j(n,x),x.c=j(t,x),b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),tD=eD.format,eD.parse,rD=eD.utcFormat,eD.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var FR=e=>e.chartData,UR=yA([FR],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),BR=(e,t,r,n)=>n?UR(e):FR(e);function qR(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(r_(t)&&r_(r))return!0}return!1}function HR(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function WR(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var r,n,[a,i]=e;if(r_(a))r=a;else if("function"===typeof a)return;if(r_(i))n=i;else if("function"===typeof i)return;var o=[r,n];if(qR(o))return o}}var VR,KR=r(8210),GR=r.n(KR),YR=e=>e,$R={"@@functional/placeholder":!0},JR=e=>e===$R,XR=e=>function t(){return 0===arguments.length||1===arguments.length&&JR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ZR=(e,t)=>1===e?t:XR(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(e=>e!==$R).length;return i>=e?t(...n):ZR(e-i,XR(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var i=n.map(e=>JR(e)?r.shift():e);return t(...i,...r)}))}),QR=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},eI=ZR((VR=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,VR),tI=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function rI(e){return 0===e?1:Math.floor(new(GR())(e).abs().log(10).toNumber())+1}function nI(e,t,r){for(var n=new(GR())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var aI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},iI=(e,t,r)=>{if(e.lte(0))return new(GR())(0);var n=rI(e.toNumber()),a=new(GR())(10).pow(n),i=e.div(a),o=1!==n?.05:.1,s=new(GR())(Math.ceil(i.div(o).toNumber())).add(r).mul(o).mul(a);return t?new(GR())(s.toNumber()):new(GR())(Math.ceil(s.toNumber()))},oI=(e,t,r)=>{var n=new(GR())(1),a=new(GR())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(GR())(10).pow(rI(e)-1),a=new(GR())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(GR())(Math.floor(e)))}else 0===e?a=new(GR())(Math.floor((t-1)/2)):r||(a=new(GR())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return YR;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(eI(e=>a.add(new(GR())(e-o).mul(n)).toNumber()),QR)(0,t)},sI=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(GR())(0),tickMin:new(GR())(0),tickMax:new(GR())(0)};var i,o=iI(new(GR())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(GR())(0):(i=new(GR())(e).add(t).div(2)).sub(new(GR())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(GR())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?sI(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new(GR())(s).mul(o)),tickMax:i.add(new(GR())(l).mul(o))})},lI=e=>e.rootProps.maxBarSize,cI=e=>e.rootProps.barCategoryGap,uI=e=>e.rootProps.stackOffset,dI=e=>e.rootProps.reverseStackOrder,hI=e=>e.options.chartName,fI=e=>e.rootProps.syncId,pI=e=>e.rootProps.syncMethod,mI=e=>e.options.eventEmitter;function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(t){yI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xI=Math.PI/180,bI=e=>180*e/Math.PI,wI=(e,t,r,n)=>({x:e+Math.cos(-xI*n)*r,y:t+Math.sin(-xI*n)*r}),jI=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},NI=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=((e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)})({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,l=Math.acos(s);return n>i&&(l=2*Math.PI-l),{radius:o,angle:bI(l),angleInRadian:l}},_I=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},SI=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=NI({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?vI(vI({},t),{},{radius:a,angle:_I(d,t)}):null},kI={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},EI=0,AI="auto",OI=!0,CI=!1,PI=!0,TI=0,DI="auto",RI=!0,II=5,MI=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},LI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:EI,includeHidden:!1,name:void 0,reversed:!1,scale:AI,tick:OI,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},zI={allowDataOverflow:CI,allowDecimals:!1,allowDuplicatedCategory:PI,dataKey:void 0,domain:void 0,id:TI,includeHidden:!1,name:void 0,reversed:!1,scale:DI,tick:RI,tickCount:II,ticks:void 0,type:"number",unit:void 0},FI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:EI,includeHidden:!1,name:void 0,reversed:!1,scale:AI,tick:OI,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},UI={allowDataOverflow:CI,allowDecimals:!1,allowDuplicatedCategory:PI,dataKey:void 0,domain:void 0,id:TI,includeHidden:!1,name:void 0,reversed:!1,scale:DI,tick:RI,tickCount:II,ticks:void 0,type:"category",unit:void 0},BI=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?FI:LI,qI=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?UI:zI,HI=e=>e.polarOptions,WI=yA([rO,nO,fO],jI),VI=yA([HI,WI],(e,t)=>{if(null!=e)return qN(e.innerRadius,t,0)}),KI=yA([HI,WI],(e,t)=>{if(null!=e)return qN(e.outerRadius,t,.8*t)}),GI=yA([HI],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),YI=(yA([BI,GI],MI),yA([WI,VI,KI],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]})),$I=(yA([qI,YI],MI),yA([kO,HI,VI,KI,rO,nO],(e,t,r,n,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:qN(o,a,a/2),cy:qN(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}})),JI=(e,t)=>t,XI=(e,t,r)=>r;function ZI(e){return null===e||void 0===e?void 0:e.id}function QI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:n;if(null!=r&&0!==r.length){var s=ZI(e);r.forEach((t,r)=>{var n,l=null==i||a?r:String(qA(t,i,null)),c=qA(t,e.dataKey,0);n=o.has(l)?o.get(l):{},Object.assign(n,{[s]:c}),o.set(l,n)})}}),Array.from(o.values())}function eM(e){return null!=e.stackId&&null!=e.dataKey}var tM=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function rM(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var nM=e=>{var t=kO(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},aM=e=>e.tooltip.settings.axisId;function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(t){sM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lM=[0,"auto"],cM={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},uM=(e,t)=>e.cartesianAxis.xAxis[t],dM=(e,t)=>{var r=uM(e,t);return null==r?cM:r},hM={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lM,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},fM=(e,t)=>e.cartesianAxis.yAxis[t],pM=(e,t)=>{var r=fM(e,t);return null==r?hM:r},mM={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gM=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?mM:r},vM=(e,t,r)=>{switch(t){case"xAxis":return dM(e,r);case"yAxis":return pM(e,r);case"zAxis":return gM(e,r);case"angleAxis":return BI(e,r);case"radiusAxis":return qI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yM=(e,t,r)=>{switch(t){case"xAxis":return dM(e,r);case"yAxis":return pM(e,r);case"angleAxis":return BI(e,r);case"radiusAxis":return qI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xM=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function bM(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var wM=e=>e.graphicalItems.cartesianItems,jM=yA([JI,XI],bM),NM=(e,t,r)=>e.filter(r).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),_M=yA([wM,vM,jM],NM,{memoizeOptions:{resultEqualityCheck:rM}}),SM=yA([_M],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(eM)),kM=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),EM=yA([_M],kM),AM=e=>e.map(e=>e.data).filter(Boolean).flat(1),OM=yA([_M],AM,{memoizeOptions:{resultEqualityCheck:rM}}),CM=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},PM=yA([OM,BR],CM),TM=(e,t,r)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:qA(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:qA(e,t)}))):e.map(e=>({value:e})),DM=yA([PM,vM,_M],TM);function RM(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function IM(e){if(FN(e)||e instanceof Date){var t=Number(e);if(r_(t))return t}}function MM(e){if(Array.isArray(e)){var t=[IM(e[0]),IM(e[1])];return qR(t)?t:void 0}var r=IM(e);if(null!=r)return[r,r]}function LM(e){return e.map(IM).filter(GN)}var zM=e=>{var t=nM(e),r=aM(e);return yM(e,t,r)},FM=yA([zM],e=>null===e||void 0===e?void 0:e.dataKey),UM=yA([SM,BR,zM],QI),BM=(e,t,r,n)=>{var a=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(a).map(t=>{var[a,i]=t,o=n?[...i].reverse():i,s=o.map(ZI);return[a,{stackedData:YA(e,s,r),graphicalItems:o}]}))},qM=yA([UM,SM,uI,dI],BM),HM=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(null==n&&"zAxis"!==r){var o=JA(e,a,i);if(null==o||0!==o[0]||0!==o[1])return o}},WM=yA([vM],e=>e.allowDataOverflow),VM=e=>{var t;if(null==e||!("domain"in e))return lM;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=LM(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:lM},KM=yA([vM],VM),GM=yA([KM,WM],WR),YM=yA([qM,FR,JI,GM],HM,{memoizeOptions:{resultEqualityCheck:tM}}),$M=e=>e.errorBars,JM=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var a=n.flat();return[Math.min(...a),Math.max(...a)]}},XM=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var s,l,c=null===(s=n[r.id])||void 0===s?void 0:s.filter(e=>RM(a,e)),u=qA(e,null!==(l=t.dataKey)&&void 0!==l?l:r.dataKey),d=function(e,t,r){return!r||"number"!==typeof t||MN(t)?[]:r.length?LM(r.flatMap(r=>{var n,a,i=qA(e,r.dataKey);if(Array.isArray(i)?[n,a]=i:n=a=i,r_(n)&&r_(a))return[t-n,t+a]})):[]}(e,u,c);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==i||h<i)&&(i=h),(null==o||f>o)&&(o=f)}var p=MM(u);null!=p&&(i=null==i?p[0]:Math.min(i,p[0]),o=null==o?p[1]:Math.max(o,p[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var r=MM(qA(e,t.dataKey));null!=r&&(i=null==i?r[0]:Math.min(i,r[0]),o=null==o?r[1]:Math.max(o,r[1]))}),r_(i)&&r_(o))return[i,o]},ZM=yA([PM,vM,EM,$M,JI],XM,{memoizeOptions:{resultEqualityCheck:tM}});function QM(e){var{value:t}=e;if(FN(t)||t instanceof Date)return t}var eL=e=>e.referenceElements.dots,tL=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),rL=yA([eL,JI,XI],tL),nL=e=>e.referenceElements.areas,aL=yA([nL,JI,XI],tL),iL=e=>e.referenceElements.lines,oL=yA([iL,JI,XI],tL),sL=(e,t)=>{var r=LM(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},lL=yA(rL,JI,sL),cL=(e,t)=>{var r=LM(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},uL=yA([aL,JI],cL);var dL=(e,t)=>{var r=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return LM([e.x]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:LM(r)}(e):function(e){var t;if(null!=e.y)return LM([e.y]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:LM(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},hL=yA([oL,JI],dL),fL=yA(lL,hL,uL,(e,t,r)=>JM(e,r,t)),pL=(e,t,r,n,a,i,o,s)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,r);if(qR(n))return HR(n,t,r)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,i,[o,s]=e;if("auto"===o)null!=t&&(a=Math.min(...t));else if(zN(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&XA.test(o)){var l=XA.exec(o);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(i=Math.max(...t));else if(zN(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof s&&ZA.test(s)){var u=ZA.exec(s);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(qR(h))return null==t?h:HR(h,t,r)}}}(t,"vertical"===o&&"xAxis"===s||"horizontal"===o&&"yAxis"===s?JM(n,i,a):JM(i,a),e.allowDataOverflow),mL=yA([vM,KM,GM,YM,ZM,fL,kO,JI],pL,{memoizeOptions:{resultEqualityCheck:tM}}),gL=[0,1],vL=(e,t,r,n,a,i,o)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==o){var s,{dataKey:l,type:c}=e,u=HA(t,i);return u&&null==l?CO()(0,null!==(s=null===r||void 0===r?void 0:r.length)&&void 0!==s?s:0):"category"===c?((e,t,r)=>{var n=e.map(QM).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&HN(n))?CO()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,u):"expand"===a?gL:o}},yL=yA([vM,kO,PM,DM,uI,JI,mL],vL),xL=(t,r,n,a,i)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===r&&"radiusAxis"===i?"band":"radial"===r&&"angleAxis"===i?"linear":"category"===s&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(KN(o));return l in e?l:"point"}}},bL=yA([vM,kO,xM,hI,JI],xL);function wL(t,r,n,a){if(null!=n&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(n).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var r="scale".concat(KN(t));return r in e?e[r]():void 0}}(r);if(null!=i){var o=i.domain(n).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-KA,i=Math.max(n[0],n[1])+KA,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}})(o),o}}}var jL=(e,t,r)=>{var n=VM(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&qR(e)?function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(n,2),[o,s]=aI([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...QR(0,n-1).map(()=>1/0)]:[...QR(0,n-1).map(()=>-1/0),s];return t>r?tI(l):l}if(o===s)return oI(o,n,a);var{step:c,tickMin:u,tickMax:d}=sI(o,s,i,a,0),h=nI(u,d.add(new(GR())(.1).mul(c)),c);return t>r?tI(h):h}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&qR(e)?function(e,t){var[r,n]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,o]=aI([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var s=Math.max(t,2),l=iI(new(GR())(o).sub(i).div(s-1),a,0),c=[...nI(new(GR())(i),new(GR())(o),l),o];return!1===a&&(c=c.map(e=>Math.round(e))),r>n?tI(c):c}(e,t.tickCount,t.allowDecimals):void 0},NL=yA([yL,yM,bL],jL),_L=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&qR(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],s=r[r.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},SL=yA([vM,yL,NL,JI],_L),kL=yA(DM,vM,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(LM(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(0===a)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),EL=yA(kL,kO,cI,fO,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!r_(e))return 0;var i="vertical"===t?n.height:n.width;if("gap"===a)return e*i/2;if("no-gap"===a){var o=qN(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),AL=yA(dM,(e,t)=>{var r=dM(e,t);return null==r||"string"!==typeof r.padding?0:EL(e,"xAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(r=a.left)&&void 0!==r?r:0)+t,right:(null!==(n=a.right)&&void 0!==n?n:0)+t}}),OL=yA(pM,(e,t)=>{var r=pM(e,t);return null==r||"string"!==typeof r.padding?0:EL(e,"yAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(r=a.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=a.bottom)&&void 0!==n?n:0)+t}}),CL=yA([fO,AL,xO,yO,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),PL=yA([fO,kO,OL,xO,yO,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),TL=(e,t,r,n)=>{var a;switch(t){case"xAxis":return CL(e,r,n);case"yAxis":return PL(e,r,n);case"zAxis":return null===(a=gM(e,r))||void 0===a?void 0:a.range;case"angleAxis":return GI(e);case"radiusAxis":return YI(e,r);default:return}},DL=yA([vM,TL],MI),RL=yA([vM,bL,SL,DL],wL);yA([_M,$M,JI],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>RM(r,e)));function IL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ML=(e,t)=>t,LL=(e,t,r)=>r,zL=yA(oO,ML,LL,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(IL)),FL=yA(sO,ML,LL,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(IL)),UL=(e,t)=>({width:e.width,height:t.height}),BL=yA(fO,dM,UL),qL=yA(nO,fO,zL,ML,LL,(e,t,r,n,a)=>{var i,o={};return r.forEach(r=>{var s=UL(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!a||"bottom"===n&&a;o[r.id]=i-Number(l)*s.height,i+=(l?-1:1)*s.height}),o}),HL=yA(rO,fO,FL,ML,LL,(e,t,r,n,a)=>{var i,o={};return r.forEach(r=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,r);null==i&&(i=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!a||"right"===n&&a;o[r.id]=i-Number(l)*s.width,i+=(l?-1:1)*s.width}),o}),WL=yA([fO,dM,(e,t)=>{var r=dM(e,t);if(null!=r)return qL(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var a=null===r||void 0===r?void 0:r[n];return null==a?{x:e.left,y:0}:{x:e.left,y:a}}}),VL=yA([fO,pM,(e,t)=>{var r=pM(e,t);if(null!=r)return HL(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var a=null===r||void 0===r?void 0:r[n];return null==a?{x:0,y:e.top}:{x:a,y:e.top}}}),KL=yA(fO,pM,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),GL=(e,t,r)=>{switch(t){case"xAxis":return BL(e,r).width;case"yAxis":return KL(e,r).height;default:return}},YL=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=HA(e,n),l=t.map(e=>e.value);return o&&s&&"category"===i&&a&&HN(l)?l:void 0}},$L=yA([kO,DM,vM,JI],YL),JL=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:a,scale:i}=r;return!HA(e,n)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},XL=yA([kO,DM,yM,JI],JL),ZL=yA([kO,(e,t,r)=>{switch(t){case"xAxis":return dM(e,r);case"yAxis":return pM(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bL,RL,$L,XL,TL,NL,JI],(e,t,r,n,a,i,o,s,l)=>{if(null!=t){var c=HA(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}}),QL=yA([kO,yM,bL,RL,NL,TL,$L,XL,JI],(e,t,r,n,a,i,o,s,l)=>{if(null!=t&&null!=n){var c=HA(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===r&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,p="category"===u&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*IN(i[0]-i[1])*p:p;var m=d||a;if(m){var g=m.map((e,t)=>{var r=o?o.indexOf(e):e;return{index:t,coordinate:n(r)+p,value:e,offset:p}});return g.filter(e=>r_(e.coordinate))}return c&&s?s.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})).filter(e=>r_(e.coordinate)):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),ez=yA([kO,yM,RL,TL,$L,XL,JI],(e,t,r,n,a,i,o)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var s=HA(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===n||void 0===n?void 0:n.length)>=2?2*IN(n[0]-n[1])*c:c,s&&i?i.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),tz=yA(vM,RL,(e,t)=>{if(null!=e&&null!=t)return oM(oM({},e),{},{scale:t})}),rz=yA([vM,bL,yL,DL],wL),nz=(yA((e,t,r)=>gM(e,r),rz,(e,t)=>{if(null!=e&&null!=t)return oM(oM({},e),{},{scale:t})}),yA([kO,oO,sO],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),az=e=>e.options.defaultTooltipEventType,iz=e=>e.options.validateTooltipEventTypes;function oz(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function sz(e,t){return oz(t,az(e),iz(e))}var lz=(e,t)=>{var r,n=Number(t);if(!MN(n)&&null!=t)return n>=0?null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.value:void 0};function cz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cz(Object(r),!0).forEach(function(t){dz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hz=(e,t,r,n)=>{if(null==t)return FE;var a=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==a)return FE;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return uz(uz({},a),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return uz(uz({},FE),{},{coordinate:a.coordinate})};function fz(e,t){var r=function(e){if("number"===typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),n=t[0],a=t[1];if(void 0===r)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}var pz=(e,t,r,n)=>{var a=null===e||void 0===e?void 0:e.index;if(null==a)return null;var i=Number(a);if(!r_(i))return a;var o=1/0;t.length>0&&(o=t.length-1);var s=Math.max(0,Math.min(i,o)),l=t[s];return null==l||function(e,t,r){if(null==r||null==t)return!0;var n=qA(e,t);return null==n||!qR(r)||fz(n,r)}(l,r,n)?String(s):null},mz=(e,t,r,n,a,i,o,s)=>{if(null!=i&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===r?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},gz=(e,t,r,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},vz=e=>e.options.tooltipPayloadSearcher,yz=e=>e.tooltip;function xz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xz(Object(r),!0).forEach(function(t){wz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jz=(e,t,r,n,a,i,o)=>{if(null!=t&&null!=i){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=r,g=function(e,t){return null!=e?e:t}(p,s),v=Array.isArray(g)?zA(g,c,u):g,y=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:n,x=null===m||void 0===m?void 0:m.nameKey;(h=n&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===o?function(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):RN()(e,t))===r)}(v,n,a):i(v,t,l,x),Array.isArray(h))?h.forEach(t=>{var r=bz(bz({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(eO({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:qA(t.payload,t.dataKey),name:t.name}))}):e.push(eO({tooltipEntrySettings:m,dataKey:y,payload:h,value:qA(h,y),name:null!==(f=qA(h,x))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},Nz=yA([zM,kO,xM,hI,nM],xL),_z=yA([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Sz=yA([nM,aM],bM),kz=yA([_z,zM,Sz],NM,{memoizeOptions:{resultEqualityCheck:rM}}),Ez=yA([kz],e=>e.filter(eM)),Az=yA([kz],AM,{memoizeOptions:{resultEqualityCheck:rM}}),Oz=yA([Az,FR],CM),Cz=yA([Ez,FR,zM],QI),Pz=yA([Oz,zM,kz],TM),Tz=yA([zM],VM),Dz=yA([zM],e=>e.allowDataOverflow),Rz=yA([Tz,Dz],WR),Iz=yA([kz],e=>e.filter(eM)),Mz=yA([Cz,Iz,uI,dI],BM),Lz=yA([Mz,FR,nM,Rz],HM),zz=yA([kz],kM),Fz=yA([Oz,zM,zz,$M,nM],XM,{memoizeOptions:{resultEqualityCheck:tM}}),Uz=yA([eL,nM,aM],tL),Bz=yA([Uz,nM],sL),qz=yA([nL,nM,aM],tL),Hz=yA([qz,nM],cL),Wz=yA([iL,nM,aM],tL),Vz=yA([Wz,nM],dL),Kz=yA([Bz,Vz,Hz],JM),Gz=yA([zM,Tz,Rz,Lz,Fz,Kz,kO,nM],pL),Yz=yA([zM,kO,Oz,Pz,uI,nM,Gz],vL),$z=yA([Yz,zM,Nz],jL),Jz=yA([zM,Yz,$z,nM],_L),Xz=e=>{var t=nM(e),r=aM(e);return TL(e,t,r,!1)},Zz=yA([zM,Xz],MI),Qz=yA([zM,Nz,Jz,Zz],wL),eF=yA([kO,Pz,zM,nM],YL),tF=yA([kO,Pz,zM,nM],JL),rF=yA([kO,zM,Nz,Qz,Xz,eF,tF,nM],(e,t,r,n,a,i,o,s)=>{if(t){var{type:l}=t,c=HA(e,s);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,d="category"===l&&n.bandwidth?n.bandwidth()/u:0;return d="angleAxis"===s&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*IN(a[0]-a[1])*d:d,c&&o?o.map((e,t)=>({coordinate:n(e)+d,value:e,index:t,offset:d})):n.domain().map((e,t)=>({coordinate:n(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),nF=yA([az,iz,e=>e.tooltip.settings],(e,t,r)=>oz(r.shared,e,t)),aF=e=>e.tooltip.settings.trigger,iF=e=>e.tooltip.settings.defaultIndex,oF=yA([yz,nF,aF,iF],hz),sF=yA([oF,Oz,FM,Yz],pz),lF=yA([rF,sF],lz),cF=yA([oF],e=>{if(e)return e.dataKey}),uF=yA([oF],e=>{if(e)return e.graphicalItemId}),dF=yA([yz,nF,aF,iF],gz),hF=yA([rO,nO,kO,fO,rF,iF,dF,vz],mz),fF=yA([oF,hF],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),pF=yA([oF],e=>e.active),mF=yA([dF,sF,FR,FM,lF,vz,nF],jz);yA([mF],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function gF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gF(Object(r),!0).forEach(function(t){yF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xF=(e,t,r,n,a)=>{var i,o=-1,s=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(s<=1||null==e)return 0;if("angleAxis"===n&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(IN(u-c)!==IN(d-u)){var f=[];if(IN(d-u)===IN(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=r[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:o}=r[l]);break}}}else if(t)for(var x=0;x<s;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<s-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===s-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:o}=t[x]);break}return o},bF=(e,t)=>t,wF=(e,t,r)=>r,jF=(e,t,r,n)=>n,NF=yA(rF,e=>OA()(e,e=>e.coordinate)),_F=yA([yz,bF,wF,jF],hz),SF=yA([_F,Oz,FM,Yz],pz),kF=yA([yz,bF,wF,jF],gz),EF=yA([rO,nO,kO,fO,rF,jF,kF,vz],mz),AF=yA([_F,EF],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),OF=yA([rF,SF],lz),CF=yA([kF,SF,FR,FM,OF,vz,bF],jz),PF=yA([_F,SF],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),TF=(e,t,r,n,a,i,o)=>{if(e&&n&&a&&i&&r){var s=SI(e,r);if(s){var l=((e,t)=>"centric"===t?e.angle:e.radius)(s,t),c=xF(l,o,i,n,a),u=((e,t,r,n)=>{var a=t.find(e=>e&&e.index===r);if(a){if("centric"===e){var i=a.coordinate,{radius:o}=n;return vF(vF(vF({},n),wI(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=n;return vF(vF(vF({},n),wI(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,i,c,s);return{activeIndex:String(c),activeCoordinate:u}}}},DF=yA([(e,t)=>t,kO,$I,nM,Zz,rF,NF,fO],(e,t,r,n,a,i,o,s)=>{if(e&&t&&n&&a&&i)return"horizontal"===t||"vertical"===t?((e,t,r,n,a,i,o)=>{if(e&&r&&n&&a&&function(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}(e,o)){var s=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=xF(s,i,a,r,n),c=((e,t,r,n)=>{var a=t.find(e=>e&&e.index===r);if(a){if("horizontal"===e)return{x:a.coordinate,y:n.chartY};if("vertical"===e)return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}})(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,n,a,i,o,s):TF(e,t,r,n,a,i,o)}),RF=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},IF=zS("mouseClick"),MF=Pk();MF.startListening({actionCreator:IF,effect:(e,t)=>{var r=e.payload,n=DF(t.getState(),RF(r));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(JE({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var LF=zS("mouseMove"),zF=Pk(),FF=null;function UF(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"===typeof t&&null!==t?"<<CHILDREN>>":t}function BF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BF(Object(r),!0).forEach(function(t){HF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}zF.startListening({actionCreator:LF,effect:(e,t)=>{var r=e.payload;null!==FF&&cancelAnimationFrame(FF);var n=RF(r);FF=requestAnimationFrame(()=>{var e=t.getState();if("axis"===sz(e,e.tooltip.settings.shared)){var r=DF(e,n);null!=(null===r||void 0===r?void 0:r.activeIndex)?t.dispatch($E({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(GE())}FF=null})}});var WF=QS({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:HS()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:HS()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:HS()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:HS()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:HS()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:HS()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:HS()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:HS()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:HS()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(3===i.length&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=qF(qF({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:VF,replaceXAxis:KF,removeXAxis:GF,addYAxis:YF,replaceYAxis:$F,removeYAxis:JF,addZAxis:XF,replaceZAxis:ZF,removeZAxis:QF,updateYAxisWidth:eU}=WF.actions,tU=WF.reducer,rU=QS({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:HS()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=bS(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:HS()},removeCartesianGraphicalItem:{reducer(e,t){var r=bS(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:HS()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:HS()},removePolarGraphicalItem:{reducer(e,t){var r=bS(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:HS()}}}),{addCartesianGraphicalItem:nU,replaceCartesianGraphicalItem:aU,removeCartesianGraphicalItem:iU,addPolarGraphicalItem:oU,removePolarGraphicalItem:sU}=rU.actions,lU=rU.reducer,cU=QS({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=bS(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=bS(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=bS(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:uU,removeDot:dU,addArea:hU,removeArea:fU,addLine:pU,removeLine:mU}=cU.actions,gU=cU.reducer,vU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yU=QS({name:"brush",initialState:vU,reducers:{setBrushSettings:(e,t)=>null==t.payload?vU:t.payload}}),{setBrushSettings:xU}=yU.actions,bU=yU.reducer,wU=QS({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:HS()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=bS(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:HS()},removeLegendPayload:{reducer(e,t){var r=bS(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:HS()}}}),{setLegendSize:jU,setLegendSettings:NU,addLegendPayload:_U,replaceLegendPayload:SU,removeLegendPayload:kU}=wU.actions,EU=wU.reducer,AU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},OU=QS({name:"rootProps",initialState:AU,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:AU.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),CU=OU.reducer,{updateOptions:PU}=OU.actions,TU=QS({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:DU,removeRadiusAxis:RU,addAngleAxis:IU,removeAngleAxis:MU}=TU.actions,LU=TU.reducer,zU=QS({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:FU}=zU.actions,UU=zU.reducer,BU=zS("keyDown"),qU=zS("focus"),HU=Pk();HU.startListening({actionCreator:BU,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=pz(n,Oz(r),FM(r),Yz(r)),o=null==i?-1:Number(i);if(Number.isFinite(o)&&!(o<0)){var s=rF(r);if("Enter"!==a){var l=o+("ArrowRight"===a?1:-1)*("left-to-right"===nz(r)?1:-1);if(!(null==s||l>=s.length||l<0)){var c=EF(r,"axis","hover",String(l));t.dispatch(ZE({active:!0,activeIndex:l.toString(),activeDataKey:void 0,activeCoordinate:c}))}}else{var u=EF(r,"axis","hover",String(n.index));t.dispatch(ZE({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:u}))}}}}}}),HU.startListening({actionCreator:qU,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var a=EF(r,"axis","hover",String("0"));t.dispatch(ZE({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var WU=zS("externalEvent"),VU=Pk(),KU=new Map;VU.startListening({actionCreator:WU,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(null!=r){n.persist();var a=n.type,i=KU.get(a);void 0!==i&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var e=t.getState(),i={activeCoordinate:fF(e),activeDataKey:cF(e),activeIndex:sF(e),activeLabel:lF(e),activeTooltipIndex:sF(e),isTooltipActive:pF(e)};r(i,n)}finally{KU.delete(a)}});KU.set(a,o)}}});var GU=yA([yz],e=>e.tooltipItemPayloads),YU=yA([GU,vz,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(e=>e.settings.dataKey===n);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,r)}}),$U=zS("touchMove"),JU=Pk();JU.startListening({actionCreator:$U,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var n=t.getState(),a=sz(n,n.tooltip.settings.shared);if("axis"===a){var i=DF(n,RF({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch($E({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var o,s=r.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(lO),u=null!==(o=l.getAttribute(cO))&&void 0!==o?o:void 0,d=YU(t.getState(),c,u);t.dispatch(VE({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}}});var XU=QS({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?a:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:ZU,replaceErrorBar:QU,removeErrorBar:eB}=XU.actions,tB=XU.reducer,rB=!1,nB=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function aB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aB(Object(r),!0).forEach(function(t){oB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sB={zIndexMap:Object.values(kI).reduce((e,t)=>iB(iB({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},lB=new Set(Object.values(kI));var cB=QS({name:"zIndex",initialState:sB,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:HS()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!function(e){return lB.has(e)}(r)&&delete e.zIndexMap[r])},prepare:HS()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:HS()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:HS()}}}),{registerZIndexPortal:uB,unregisterZIndexPortal:dB,registerZIndexPortalId:hB,unregisterZIndexPortalId:fB}=cB.actions,pB=CS({brush:bU,cartesianAxis:tU,chartData:aA,errorBars:tB,graphicalItems:lU,layout:uA,legend:EU,options:Ik,polarAxis:LU,polarOptions:UU,referenceElements:gU,rootProps:CU,tooltip:QE,zIndex:cB.reducer});function mB(e){var{preloadedState:r,children:n,reduxStoreName:a}=e,i=vO(),o=(0,t.useRef)(null);if(i)return n;null==o.current&&(o.current=function(e){return KS({reducer:pB,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([MF.middleware,zF.middleware,HU.middleware,VU.middleware,JU.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(VS({type:"raf"}))},devTools:rB&&{serialize:{replacer:UF},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(r,a));var s=wA;return t.createElement($k,{context:s,store:o.current},n)}var gB=e=>{var{chartData:r}=e,n=NA(),a=vO();return(0,t.useEffect)(()=>a?()=>{}:(n(tA(r)),()=>{n(tA(void 0))}),[r,n,a]),null},vB=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function yB(e,t){return null==e&&null==t||("number"===typeof e&&"number"===typeof t?e===t||e!==e&&t!==t:e===t)}function xB(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(vB.has(n)){if(null==e[n]&&null==t[n])continue;if(!Wk(e[n],t[n]))return!1}else if(!yB(e[n],t[n]))return!1;return!0}function bB(e){var{layout:r,margin:n}=e,a=NA(),i=vO();return(0,t.useEffect)(()=>{i||(a(sA(r)),a(oA(n)))},[a,i,r,n]),null}var wB=(0,t.memo)(bB,xB);function jB(e){var r=NA();return(0,t.useEffect)(()=>{r(PU(e))},[r,e]),null}var NB=()=>{var e;return null===(e=EA(e=>e.rootProps.accessibilityLayer))||void 0===e||e},_B=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SB(e){return"string"===typeof e&&_B.includes(e)}var kB=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function EB(e){return"string"===typeof e&&kB.has(e)}function AB(e){return"string"===typeof e&&e.startsWith("data-")}function OB(e){if("object"!==typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(EB(r)||AB(r))&&(t[r]=e[r]);return t}function CB(e){return null==e?null:(0,t.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?OB(e.props):"object"!==typeof e||Array.isArray(e)?null:OB(e)}function PB(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(EB(r)||AB(r)||SB(r))&&(t[r]=e[r]);return t}var TB=["children","width","height","viewBox","className","style","title","desc"];function DB(){return DB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DB.apply(null,arguments)}var RB,IB=(0,t.forwardRef)((e,r)=>{var{children:n,width:a,height:i,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,TB),h=o||{width:a,height:i,x:0,y:0},f=$a("recharts-surface",s);return t.createElement("svg",DB({},PB(d),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:r}),t.createElement("title",null,c),t.createElement("desc",null,u),n)}),MB=null!==(RB=n["useId".toString()])&&void 0!==RB?RB:()=>{var[e]=t.useState(()=>BN("uid-"));return e};function LB(e,t){var r=MB();return t||(e?"".concat(e,"-").concat(r):r)}var zB=yA(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var n=e[t];if(null!=n)return r?n.panoramaElementId:n.elementId}}),FB=yA(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(kI));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function UB(e){var{zIndex:r,isPanorama:n}=e,a=LB("".concat(n?"recharts-zindex-panorama-":"recharts-zindex-").concat(r)),i=NA();return(0,t.useLayoutEffect)(()=>(i(hB({zIndex:r,elementId:a,isPanorama:n})),()=>{i(fB({zIndex:r,isPanorama:n}))}),[i,r,a,n]),t.createElement("g",{tabIndex:-1,id:a})}function BB(e){var{children:r,isPanorama:n}=e,a=EA(FB);if(!a||0===a.length)return r;var i=a.filter(e=>e<0),o=a.filter(e=>e>0);return t.createElement(t.Fragment,null,i.map(e=>t.createElement(UB,{key:e,zIndex:e,isPanorama:n})),r,o.map(e=>t.createElement(UB,{key:e,zIndex:e,isPanorama:n})))}var qB=["children"];function HB(){return HB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HB.apply(null,arguments)}var WB={width:"100%",height:"100%",display:"block"},VB=(0,t.forwardRef)((e,r)=>{var n=_O(),a=SO(),i=NB();if(!n_(n)||!n_(a))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return null!=c&&(o="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,s="string"===typeof c.role?c.role:i?"application":void 0),t.createElement(IB,HB({},c,{title:u,desc:d,role:s,tabIndex:o,width:n,height:a,style:WB,ref:r}),l)}),KB=e=>{var{children:r}=e,n=EA(xO);if(!n)return null;var{width:a,height:i,y:o,x:s}=n;return t.createElement(IB,{width:a,height:i,x:s,y:o},r)},GB=(0,t.forwardRef)((e,r)=>{var{children:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,qB);return vO()?t.createElement(KB,null,t.createElement(BB,{isPanorama:!0},n)):t.createElement(VB,HB({ref:r},a),t.createElement(BB,{isPanorama:!1},n))});var YB=new(r(8499)),$B="recharts.syncEvent.tooltip",JB="recharts.syncEvent.brush";function XB(e){return e.tooltip.syncInteraction}var ZB=["x","y"];function QB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QB(Object(r),!0).forEach(function(t){tq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rq(){var e=EA(fI),r=EA(mI),n=NA(),a=EA(pI),i=EA(rF),o=EO(),s=wO(),l=EA(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return YN;var t=(t,l,c)=>{var u;if(r!==c&&e===t)if("index"!==a){if(null!=i){var d;if("function"===typeof a){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=a(i,h);d=i[f]}else"value"===a&&(d=i.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=s){var{x:m,y:g}=p,v=Math.min(m,s.x+s.width),y=Math.min(g,s.y+s.height),x={x:"horizontal"===o?d.coordinate:v,y:"horizontal"===o?y:d.coordinate},b=XE({active:l.payload.active,coordinate:x,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});n(b)}else n(XE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(s&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:j,y:N}=w,_=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(w,ZB),{x:S,y:k,width:E,height:A}=l.payload.sourceViewBox,O=eq(eq({},_),{},{x:s.x+(E?(j-S)/E:0)*s.width,y:s.y+(A?(N-k)/A:0)*s.height});n(eq(eq({},l),{},{payload:eq(eq({},l.payload),{},{coordinate:O})}))}else n(l)};return YB.on($B,t),()=>{YB.off($B,t)}},[l,n,r,e,a,i,o,s])}function nq(){var e=NA();(0,t.useEffect)(()=>{e(Mk())},[e]),rq(),function(){var e=EA(fI),r=EA(mI),n=NA();(0,t.useEffect)(()=>{if(null==e)return YN;var t=(t,a,i)=>{r!==i&&e===t&&n(rA(a))};return YB.on(JB,t),()=>{YB.off(JB,t)}},[n,r,e])}()}function aq(e,r,n,a,i,o){var s=EA(t=>((e,t,r)=>{if(null!=t){var n=yz(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(t,e,r)),l=EA(mI),c=EA(fI),u=EA(pI),d=EA(XB),h=null===d||void 0===d?void 0:d.active,f=wO();(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=XE({active:o,coordinate:n,dataKey:s,index:i,label:"number"===typeof a?String(a):a,sourceViewBox:f,graphicalItemId:void 0});YB.emit($B,c,e,l)}},[h,n,s,i,a,l,c,u,o,f])}var iq=(0,t.createContext)(null),oq=(0,t.createContext)(null);function sq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sq(Object(r),!0).forEach(function(t){cq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(){return uq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uq.apply(null,arguments)}var dq=()=>(nq(),null);function hq(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var fq=(0,t.forwardRef)((e,r)=>{var n,a,i=(0,t.useRef)(null),[o,s]=(0,t.useState)({containerWidth:hq(null===(n=e.style)||void 0===n?void 0:n.width),containerHeight:hq(null===(a=e.style)||void 0===a?void 0:a.height)}),l=(0,t.useCallback)((e,t)=>{s(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]),c=(0,t.useCallback)(e=>{if("function"===typeof r&&r(e),null!=e&&"undefined"!==typeof ResizeObserver){var{width:t,height:n}=e.getBoundingClientRect();l(t,n);var a=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;l(t,r)});a.observe(e),i.current=a}},[r,l]);return(0,t.useEffect)(()=>()=>{var e=i.current;null!=e&&e.disconnect()},[l]),t.createElement(t.Fragment,null,t.createElement(AO,{width:o.containerWidth,height:o.containerHeight}),t.createElement("div",uq({ref:c},e)))}),pq=(0,t.forwardRef)((e,r)=>{var{width:n,height:a}=e,[i,o]=(0,t.useState)({containerWidth:hq(n),containerHeight:hq(a)}),s=(0,t.useCallback)((e,t)=>{o(r=>{var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]),l=(0,t.useCallback)(e=>{if("function"===typeof r&&r(e),null!=e){var{width:t,height:n}=e.getBoundingClientRect();s(t,n)}},[r,s]);return t.createElement(t.Fragment,null,t.createElement(AO,{width:i.containerWidth,height:i.containerHeight}),t.createElement("div",uq({ref:l},e)))}),mq=(0,t.forwardRef)((e,r)=>{var{width:n,height:a}=e;return t.createElement(t.Fragment,null,t.createElement(AO,{width:n,height:a}),t.createElement("div",uq({ref:r},e)))}),gq=(0,t.forwardRef)((e,r)=>{var{width:n,height:a}=e;return LN(n)||LN(a)?t.createElement(pq,uq({},e,{ref:r})):t.createElement(mq,uq({},e,{ref:r}))});var vq=(0,t.forwardRef)((e,r)=>{var{children:n,className:a,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y,responsive:x,dispatchTouchEvents:b=!0}=e,w=(0,t.useRef)(null),j=NA(),[N,_]=(0,t.useState)(null),[S,k]=(0,t.useState)(null),E=function(){var e=NA(),[r,n]=(0,t.useState)(null),a=EA(aO);return(0,t.useEffect)(()=>{if(null!=r){var t=r.getBoundingClientRect().width/r.offsetWidth;r_(t)&&t!==a&&e(cA(t))}},[r,e,a]),n}(),A=u_(),O=(null===A||void 0===A?void 0:A.width)>0?A.width:y,C=(null===A||void 0===A?void 0:A.height)>0?A.height:i,P=(0,t.useCallback)(e=>{E(e),"function"===typeof r&&r(e),_(e),k(e),null!=e&&(w.current=e)},[E,r,_,k]),T=(0,t.useCallback)(e=>{j(IF(e)),j(WU({handler:o,reactEvent:e}))},[j,o]),D=(0,t.useCallback)(e=>{j(LF(e)),j(WU({handler:u,reactEvent:e}))},[j,u]),R=(0,t.useCallback)(e=>{j(GE()),j(WU({handler:d,reactEvent:e}))},[j,d]),I=(0,t.useCallback)(e=>{j(LF(e)),j(WU({handler:h,reactEvent:e}))},[j,h]),M=(0,t.useCallback)(()=>{j(qU())},[j]),L=(0,t.useCallback)(e=>{j(BU(e.key))},[j]),z=(0,t.useCallback)(e=>{j(WU({handler:s,reactEvent:e}))},[j,s]),F=(0,t.useCallback)(e=>{j(WU({handler:l,reactEvent:e}))},[j,l]),U=(0,t.useCallback)(e=>{j(WU({handler:c,reactEvent:e}))},[j,c]),B=(0,t.useCallback)(e=>{j(WU({handler:f,reactEvent:e}))},[j,f]),q=(0,t.useCallback)(e=>{j(WU({handler:g,reactEvent:e}))},[j,g]),H=(0,t.useCallback)(e=>{b&&j($U(e)),j(WU({handler:m,reactEvent:e}))},[j,b,m]),W=(0,t.useCallback)(e=>{j(WU({handler:p,reactEvent:e}))},[j,p]),V=function(e){return!0===e?fq:gq}(x);return t.createElement(iq.Provider,{value:N},t.createElement(oq.Provider,{value:S},t.createElement(V,{width:null!==O&&void 0!==O?O:null===v||void 0===v?void 0:v.width,height:null!==C&&void 0!==C?C:null===v||void 0===v?void 0:v.height,className:$a("recharts-wrapper",a),style:lq({position:"relative",cursor:"default",width:O,height:C},v),onClick:T,onContextMenu:z,onDoubleClick:F,onFocus:M,onKeyDown:L,onMouseDown:U,onMouseEnter:D,onMouseLeave:R,onMouseMove:I,onMouseUp:B,onTouchEnd:W,onTouchMove:H,onTouchStart:q,ref:P},t.createElement(dq,null),n)))}),yq=yA([fO],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),xq=yA([yq,rO,nO],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),bq=()=>EA(xq),wq=(0,t.createContext)(void 0),jq=e=>{var{children:r}=e,[n]=(0,t.useState)("".concat(BN("recharts"),"-clip")),a=bq();if(null==a)return null;var{x:i,y:o,width:s,height:l}=a;return t.createElement(wq.Provider,{value:n},t.createElement("defs",null,t.createElement("clipPath",{id:n},t.createElement("rect",{x:i,y:o,height:l,width:s}))),r)},Nq=["width","height","responsive","children","className","style","compact","title","desc"];var _q=(0,t.forwardRef)((e,r)=>{var{width:n,height:a,responsive:i,children:o,className:s,style:l,compact:c,title:u,desc:d}=e,h=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Nq),f=OB(h);return c?t.createElement(t.Fragment,null,t.createElement(AO,{width:n,height:a}),t.createElement(GB,{otherAttributes:f,title:u,desc:d},o)):t.createElement(vq,{className:s,style:l,width:n,height:a,responsive:null!==i&&void 0!==i&&i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(GB,{otherAttributes:f,title:u,desc:d,ref:r},t.createElement(jq,null,o)))});function Sq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sq(Object(r),!0).forEach(function(t){kq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}function Aq(){return Aq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aq.apply(null,arguments)}var Oq={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Cq=(0,t.forwardRef)(function(e,r){var n,a=Eq(e.categoricalChartProps,Oq),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return t.createElement(mB,{preloadedState:{options:u},reduxStoreName:null!==(n=c.id)&&void 0!==n?n:i},t.createElement(gB,{chartData:c.data}),t.createElement(wB,{layout:a.layout,margin:a.margin}),t.createElement(jB,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),t.createElement(_q,Aq({},a,{ref:r})))}),Pq=["axis","item"],Tq=(0,t.forwardRef)((e,r)=>t.createElement(Cq,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pq,tooltipPayloadSearcher:Dk,categoricalChartProps:e,ref:r}));function Dq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Iq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(r),!0).forEach(function(t){Mq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lq=Iq({},{cacheSize:2e3,enableCache:!0}),zq=new class{constructor(e){Dq(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(Lq.cacheSize),Fq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Uq="recharts_measurement_span";var Bq=(e,t)=>{try{var r=document.getElementById(Uq);r||((r=document.createElement("span")).setAttribute("id",Uq),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Fq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(a){return{width:0,height:0}}},qq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||nB)return{width:0,height:0};if(!Lq.enableCache)return Bq(e,t);var r=function(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}(e,t),n=zq.get(r);if(n)return n;var a=Bq(e,t);return zq.set(r,a),a};function Hq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Wq{static create(e){return new Wq(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}Hq(Wq,"EPS",1e-4);function Vq(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Kq(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),o=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function Gq(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yq(Object(r),!0).forEach(function(t){Jq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e,t,r){var n,{tick:a,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(zN(c)||nB)return null!==(n=function(e,t){return Vq(e,t+1)}(i,zN(c)?c:0))&&void 0!==n?n:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?qq(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,n)=>{var a="function"===typeof u?u(e.value,n):e.value;return"width"===p?Kq(qq(a,{fontSize:t,letterSpacing:r}),m,h):qq(a,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?IN(i[1].coordinate-i[0].coordinate):1,y=function(e,t,r){var n="width"===r,{x:a,y:i,width:o,height:s}=e;return 1===t?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}(o,v,p);return"equidistantPreserveStart"===c?function(e,t,r,n,a){for(var i,o=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:Vq(n,u)};var i,o=c,h=()=>(void 0===i&&(i=r(t,o)),i),f=t.coordinate,p=0===c||Gq(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(i=h())return i.v;return[]}(v,y,g,i,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=$q($q({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),null!=u.tickCoord&&Gq(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=$q($q({},u),{},{isShow:!0}))}for(var f=i?s-1:s,p=function(t){var n,i=o[t],s=()=>(void 0===n&&(n=r(i,t)),n);if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=$q($q({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=$q($q({},i),{},{tickCoord:i.coordinate});null!=i.tickCoord&&Gq(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=$q($q({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(v,y,g,i,s,"preserveStartEnd"===c):function(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(t){var n,c=i[t],u=()=>(void 0===n&&(n=r(c,t)),n);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=$q($q({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=$q($q({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&Gq(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=$q($q({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(v,y,g,i,s),f.filter(e=>e.isShow))}var Zq=["children","className"];function Qq(){return Qq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qq.apply(null,arguments)}var eH=t.forwardRef((e,r)=>{var{children:n,className:a}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Zq),o=$a("recharts-layer",a);return t.createElement("g",Qq({className:o},PB(i),{ref:r}),n)}),tH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},oH=Object.keys(iH),sH="NaN";class lH{static parse(e){var t,[,r,n]=null!==(t=aH.exec(e))&&void 0!==t?t:[];return new lH(parseFloat(r),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,MN(e)&&(this.unit=""),""===t||nH.test(t)||(this.num=NaN,this.unit=""),oH.includes(t)&&(this.num=function(e,t){return e*iH[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new lH(NaN,""):new lH(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new lH(NaN,""):new lH(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new lH(NaN,""):new lH(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new lH(NaN,""):new lH(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return MN(this.num)}}function cH(e){if(e.includes(sH))return sH;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=null!==(r=tH.exec(t))&&void 0!==r?r:[],o=lH.parse(null!==n&&void 0!==n?n:""),s=lH.parse(null!==i&&void 0!==i?i:""),l="*"===a?o.multiply(s):o.divide(s);if(l.isNaN())return sH;t=t.replace(tH,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=rH.exec(t))&&void 0!==c?c:[],f=lH.parse(null!==u&&void 0!==u?u:""),p=lH.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return sH;t=t.replace(rH,m.toString())}return t}var uH=/\(([^()]*)\)/;function dH(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=uH.exec(r));){var[,n]=t;r=r.replace(uH,cH(n))}return r}(t),t=cH(t)}function hH(e){var t=function(e){try{return dH(e)}catch(t){return sH}}(e.slice(5,-1));return t===sH?"":t}var fH=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],pH=["dx","dy","angle","className","breakAll"];function mH(){return mH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mH.apply(null,arguments)}function gH(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var vH=/[ \f\n\r\t\v\u2028\u2029]+/,yH=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];return VN(t)||(a=r?t.toString().split(""):t.toString().split(vH)),{wordsWithComputedWidth:a.map(e=>({word:e,width:qq(e,n).width})),spaceWidth:r?0:qq("\xa0",n).width}}catch(i){return null}};function xH(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var bH=(e,t,r,n)=>e.reduce((e,a)=>{var{word:i,width:o}=a,s=e[e.length-1];if(s&&null!=o&&(null==t||n||s.width+o+r<Number(t)))s.words.push(i),s.width+=o+r;else{var l={words:[i],width:o};e.push(l)}return e},[]),wH=e=>e.reduce((e,t)=>e.width>t.width?e:t),jH=(e,t,r,n,a,i,o,s)=>{var l=e.slice(0,t),c=yH({breakAll:r,style:n,children:l+"\u2026"});if(!c)return[!1,[]];var u=bH(c.wordsWithComputedWidth,i,o,s);return[u.length>a||wH(u).width>Number(i),u]},NH=e=>[{words:VN(e)?[]:e.toString().split(vH),width:void 0}],_H=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!nB){var s=yH({breakAll:i,children:n,style:a});if(!s)return NH(n);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=zN(i),u=String(o),d=bH(t,n,r,a);if(!c||a)return d;if(!(d.length>i||wH(d).width>Number(n)))return d;for(var h,f=0,p=u.length-1,m=0;f<=p&&m<=u.length-1;){var g=Math.floor((f+p)/2),v=g-1,[y,x]=jH(u,v,l,s,i,n,r,a),[b]=jH(u,g,l,s,i,n,r,a);if(y||b||(f=g+1),y&&b&&(p=g-1),!y&&b){h=x;break}m++}return h||d})({breakAll:i,children:n,maxLines:o,style:a},l,c,t,Boolean(r))}return NH(n)},SH="#808080",kH={angle:0,breakAll:!1,capHeight:"0.71em",fill:SH,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},EH=(0,t.forwardRef)((e,r)=>{var n=Eq(e,kH),{x:a,y:i,lineHeight:o,capHeight:s,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,h=gH(n,fH),f=(0,t.useMemo)(()=>_H({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:p,dy:m,angle:g,className:v,breakAll:y}=h,x=gH(h,pH);if(!FN(a)||!FN(i)||0===f.length)return null;var b,w=Number(a)+(zN(p)?p:0),j=Number(i)+(zN(m)?m:0);if(!r_(w)||!r_(j))return null;switch(d){case"start":b=hH("calc(".concat(s,")"));break;case"middle":b=hH("calc(".concat((f.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:b=hH("calc(".concat(f.length-1," * -").concat(o,")"))}var N=[];if(c){var _=f[0].width,{width:S}=h;N.push("scale(".concat(zN(S)&&zN(_)?S/_:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(j,")")),N.length&&(x.transform=N.join(" ")),t.createElement("text",mH({},PB(x),{ref:r,x:w,y:j,className:$a("recharts-text",v),textAnchor:u,fill:l.includes("url")?SH:l}),f.map((e,r)=>{var n=e.words.join(y?"":" ");return t.createElement("tspan",{x:w,dy:0===r?b:o,key:"".concat(n,"-").concat(r)},n)}))});function AH(e){var{zIndex:r,children:n}=e,a=void 0!==EO()&&void 0!==r&&0!==r,i=vO(),o=NA();(0,t.useLayoutEffect)(()=>a?(o(uB({zIndex:r})),()=>{o(dB({zIndex:r}))}):YN,[o,r,a]);var s=EA(e=>zB(e,r,i));if(!a)return n;if(!s)return null;var l=document.getElementById(s);return l?(0,Yr.createPortal)(n,l):null}EH.displayName="Text";var OH=["labelRef"];function CH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CH(Object(r),!0).forEach(function(t){TH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(){return DH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DH.apply(null,arguments)}var RH=(0,t.createContext)(null),IH=e=>{var{x:r,y:n,upperWidth:a,lowerWidth:i,width:o,height:s,children:l}=e,c=(0,t.useMemo)(()=>({x:r,y:n,upperWidth:a,lowerWidth:i,width:o,height:s}),[r,n,a,i,o,s]);return t.createElement(RH.Provider,{value:c},l)},MH=()=>{var e=(0,t.useContext)(RH),r=wO();return e||bO(r)},LH=(0,t.createContext)(null),zH=()=>{var e=(0,t.useContext)(LH),r=EA($I);return e||r},FH=e=>null!=e&&"function"===typeof e,UH=(e,r,n,a,i)=>{var o,s,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=i,v=(h+f)/2,y=((e,t)=>IN(t-e)*Math.min(Math.abs(t-e),360))(p,m),x=y>=0?1:-1;switch(r){case"insideStart":o=p+x*l,s=g;break;case"insideEnd":o=m-x*l,s=!g;break;case"end":o=m+x*l,s=g;break;default:throw new Error("Unsupported position ".concat(r))}s=y<=0?s:!s;var b=wI(u,d,v,o),w=wI(u,d,v,o+359*(s?1:-1)),j="M".concat(b.x,",").concat(b.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(w.x,",").concat(w.y),N=VN(e.id)?BN("recharts-radial-line-"):e.id;return t.createElement("text",DH({},a,{dominantBaseline:"central",className:$a("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:N,d:j})),t.createElement("textPath",{xlinkHref:"#".concat(N)},n))},BH=e=>"cx"in e&&zN(e.cx),qH={angle:0,offset:5,zIndex:kI.label,position:"middle",textBreakAll:!1};function HH(e){var r,n,a,i=Eq(e,qH),{viewBox:o,position:s,value:l,children:c,content:u,className:d="",textBreakAll:h,labelRef:f}=i,p=zH(),m=MH();if(!(r=null==o?"center"===s?m:null!==p&&void 0!==p?p:m:BH(o)?o:bO(o))||VN(l)&&VN(c)&&!(0,t.isValidElement)(u)&&"function"!==typeof u)return null;var g=PH(PH({},i),{},{viewBox:r});if((0,t.isValidElement)(u)){var{labelRef:v}=g,y=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(g,OH);return(0,t.cloneElement)(u,y)}if("function"===typeof u){if(n=(0,t.createElement)(u,g),(0,t.isValidElement)(n))return n}else n=(e=>{var{value:t,formatter:r}=e,n=VN(e.children)?t:e.children;return"function"===typeof r?r(n):n})(i);var x=PB(i);if(BH(r)){if("insideStart"===s||"insideEnd"===s||"end"===s)return UH(i,s,n,x,r);a=((e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===r){var{x:u,y:d}=wI(n,a,o+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:f,y:p}=wI(n,a,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(r,i.offset,i.position)}else a=((e,t)=>{var r,{parentViewBox:n,offset:a,position:i}=e;null==n||BH(n)||(r=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u}=t,d=o,h=o+(l-c)/2,f=(d+h)/2,p=(l+c)/2,m=d+l/2,g=u>=0?1:-1,v=g*a,y=g>0?"end":"start",x=g>0?"start":"end",b=l>=0?1:-1,w=b*a,j=b>0?"end":"start",N=b>0?"start":"end";if("top"===i)return PH(PH({},{x:d+l/2,y:s-v,textAnchor:"middle",verticalAnchor:y}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===i)return PH(PH({},{x:h+c/2,y:s+u+v,textAnchor:"middle",verticalAnchor:x}),r?{height:Math.max(r.y+r.height-(s+u),0),width:c}:{});if("left"===i){var _={x:f-w,y:s+u/2,textAnchor:j,verticalAnchor:"middle"};return PH(PH({},_),r?{width:Math.max(_.x-r.x,0),height:u}:{})}if("right"===i){var S={x:f+p+w,y:s+u/2,textAnchor:N,verticalAnchor:"middle"};return PH(PH({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var k=r?{width:p,height:u}:{};return"insideLeft"===i?PH({x:f+w,y:s+u/2,textAnchor:N,verticalAnchor:"middle"},k):"insideRight"===i?PH({x:f+p-w,y:s+u/2,textAnchor:j,verticalAnchor:"middle"},k):"insideTop"===i?PH({x:d+l/2,y:s+v,textAnchor:"middle",verticalAnchor:x},k):"insideBottom"===i?PH({x:h+c/2,y:s+u-v,textAnchor:"middle",verticalAnchor:y},k):"insideTopLeft"===i?PH({x:d+w,y:s+v,textAnchor:N,verticalAnchor:x},k):"insideTopRight"===i?PH({x:d+l-w,y:s+v,textAnchor:j,verticalAnchor:x},k):"insideBottomLeft"===i?PH({x:h+w,y:s+u-v,textAnchor:N,verticalAnchor:y},k):"insideBottomRight"===i?PH({x:h+c-w,y:s+u-v,textAnchor:j,verticalAnchor:y},k):i&&"object"===typeof i&&(zN(i.x)||LN(i.x))&&(zN(i.y)||LN(i.y))?PH({x:o+qN(i.x,p),y:s+qN(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):PH({x:m,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)})(i,r);return t.createElement(AH,{zIndex:i.zIndex},t.createElement(EH,DH({ref:f,className:$a("recharts-label",d)},x,a,{textAnchor:xH(x.textAnchor)?x.textAnchor:a.textAnchor,breakAll:h}),n))}HH.displayName="Label";var WH=(e,r,n)=>{if(!e)return null;var a={viewBox:r,labelRef:n};return!0===e?t.createElement(HH,DH({key:"label-implicit"},a)):FN(e)?t.createElement(HH,DH({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===HH?(0,t.cloneElement)(e,PH({key:"label-implicit"},a)):t.createElement(HH,DH({key:"label-implicit",content:e},a)):FH(e)?t.createElement(HH,DH({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(HH,DH({},e,{key:"label-implicit"},a)):null};function VH(e){var{label:t,labelRef:r}=e,n=MH();return WH(t,n,r)||null}var KH=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,GH=(e,t,r)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];SB(a)&&"function"===typeof i&&(n||(n={}),n[a]=((e,t,r)=>n=>(e(t,r,n),null))(i,t,r))}),n},YH=["axisLine","width","height","className","hide","ticks","axisType"];function $H(){return $H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$H.apply(null,arguments)}function JH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JH(Object(r),!0).forEach(function(t){ZH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QH={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:kI.axis};function eW(e){var{x:r,y:n,width:a,height:i,orientation:o,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=XH(XH(XH({},c),OB(l)),{},{fill:"none"});if("top"===o||"bottom"===o){var d=+("top"===o&&!s||"bottom"===o&&s);u=XH(XH({},u),{},{x1:r,y1:n+d*i,x2:r+a,y2:n+d*i})}else{var h=+("left"===o&&!s||"right"===o&&s);u=XH(XH({},u),{},{x1:r+h*a,y1:n,x2:r+h*a,y2:n+i})}return t.createElement("line",$H({},u,{className:$a("recharts-cartesian-axis-line",RN()(l,"className"))}))}function tW(e){var r,{option:n,tickProps:a,value:i}=e,o=$a(a.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(n))r=t.cloneElement(n,XH(XH({},a),{},{className:o}));else if("function"===typeof n)r=n(XH(XH({},a),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!==typeof n&&(s=$a(s,null===n||void 0===n?void 0:n.className)),r=t.createElement(EH,$H({},a,{className:s}),i)}return r}var rW=(0,t.forwardRef)((e,r)=>{var{ticks:n=[],tick:a,tickLine:i,stroke:o,tickFormatter:s,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:h,x:f,y:p,width:m,height:g,tickSize:v,tickMargin:y,fontSize:x,letterSpacing:b,getTicksConfig:w,events:j,axisType:N}=e,_=Xq(XH(XH({},w),{},{ticks:n}),x,b),S=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(d,h),k=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(d,h),E=OB(w),A=CB(a),O={};"object"===typeof i&&(O=i);var C=XH(XH({},E),{},{fill:"none"},O),P=_.map(e=>XH({entry:e},function(e,t,r,n,a,i,o,s,l){var c,u,d,h,f,p,m=s?-1:1,g=e.tickSize||o,v=zN(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,p=(d=(h=r+ +!s*a)-m*g)-m*l,f=v;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!s*n)-m*g)-m*l,p=v;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +s*n)+m*g)+m*l,p=v;break;default:c=u=e.coordinate,p=(d=(h=r+ +s*a)+m*g)+m*l,f=v}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:p}}}(e,f,p,m,g,d,v,h,y))),T=P.map(e=>{var{entry:r,line:n}=e;return t.createElement(eH,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},i&&t.createElement("line",$H({},C,n,{className:$a("recharts-cartesian-axis-tick-line",RN()(i,"className"))})))}),D=P.map((e,r)=>{var{entry:n,tick:i}=e,d=XH(XH(XH(XH({textAnchor:S,verticalAnchor:k},E),{},{stroke:"none",fill:o},A),i),{},{index:r,payload:n,visibleTicksCount:_.length,tickFormatter:s,padding:c},u);return t.createElement(eH,$H({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(n.value,"-").concat(n.coordinate,"-").concat(n.tickCoord)},GH(j,n,r)),a&&t.createElement(tW,{option:a,tickProps:d,value:"".concat("function"===typeof s?s(n.value,r):n.value).concat(l||"")}))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},D.length>0&&t.createElement(AH,{zIndex:kI.label},t.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:r},D)),T.length>0&&t.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},T))}),nW=(0,t.forwardRef)((e,r)=>{var{axisLine:n,width:a,height:i,className:o,hide:s,ticks:l,axisType:c}=e,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,YH),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),m=(0,t.useRef)(null);(0,t.useImperativeHandle)(r,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=r?r.getBoundingClientRect().width:0,l=o+(a+i)+s+(r?n:0);return Math.round(l)}return 0})({ticks:m.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=(0,t.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=t;var r=t[0];if(r){var n=window.getComputedStyle(r),a=n.fontSize,i=n.letterSpacing;a===d&&i===f||(h(a),p(i))}}},[d,f]);return s||null!=a&&a<=0||null!=i&&i<=0?null:t.createElement(AH,{zIndex:e.zIndex},t.createElement(eH,{className:$a("recharts-cartesian-axis",o)},t.createElement(eW,{x:e.x,y:e.y,width:a,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:OB(e)}),t.createElement(rW,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),t.createElement(IH,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},t.createElement(VH,{label:e.label,labelRef:e.labelRef}),e.children)))}),aW=t.forwardRef((e,r)=>{var n=Eq(e,QH);return t.createElement(nW,$H({},n,{ref:r}))});aW.displayName="CartesianAxis";var iW=["x1","y1","x2","y2","key"],oW=["offset"],sW=["xAxisId","yAxisId"],lW=["xAxisId","yAxisId"];function cW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cW(Object(r),!0).forEach(function(t){dW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(){return hW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hW.apply(null,arguments)}function fW(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var pW=e=>{var{fill:r}=e;if(!r||"none"===r)return null;var{fillOpacity:n,x:a,y:i,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mW(e){var r,{option:n,lineItemProps:a}=e;if(t.isValidElement(n))r=t.cloneElement(n,a);else if("function"===typeof n)r=n(a);else{var i,{x1:o,y1:s,x2:l,y2:c,key:u}=a,d=null!==(i=OB(fW(a,iW)))&&void 0!==i?i:{},{offset:h}=d,f=fW(d,oW);r=t.createElement("line",hW({},f,{x1:o,y1:s,x2:l,y2:c,fill:"none",key:u}))}return r}function gW(e){var{x:r,width:n,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=fW(e,sW),c=i.map((e,i)=>{var o=uW(uW({},l),{},{x1:r,y1:e,x2:r+n,y2:e,key:"line-".concat(i),index:i});return t.createElement(mW,{key:"line-".concat(i),option:a,lineItemProps:o})});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function vW(e){var{y:r,height:n,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=fW(e,lW),c=i.map((e,i)=>{var o=uW(uW({},l),{},{x1:e,y1:r,x2:e,y2:r+n,key:"line-".concat(i),index:i});return t.createElement(mW,{option:a,lineItemProps:o,key:"line-".concat(i)})});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function yW(e){var{horizontalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!r||!r.length||null==l)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%r.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:r[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xW(e){var{vertical:r=!0,verticalFill:n,fillOpacity:a,x:i,y:o,width:s,height:l,verticalPoints:c}=e;if(!r||!n||!n.length)return null;var u=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,r)=>{var c=!u[r+1]?i+s-e:u[r+1]-e;if(c<=0)return null;var d=r%n.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:o,width:c,height:l,stroke:"none",fill:n[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bW=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return WA(Xq(uW(uW(uW({},QH),r),{},{ticks:VA(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},wW=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return WA(Xq(uW(uW(uW({},QH),r),{},{ticks:VA(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},jW={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:kI.grid};function NW(e){var r=_O(),n=SO(),a=NO(),i=uW(uW({},Eq(e,jW)),{},{x:zN(e.x)?e.x:a.left,y:zN(e.y)?e.y:a.top,width:zN(e.width)?e.width:a.width,height:zN(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,m=vO(),g=EA(e=>ZL(e,"xAxis",o,m)),v=EA(e=>ZL(e,"yAxis",s,m));if(!n_(u)||!n_(d)||!zN(l)||!zN(c))return null;var y=i.verticalCoordinatesGenerator||bW,x=i.horizontalCoordinatesGenerator||wW,{horizontalPoints:b,verticalPoints:w}=i;if((!b||!b.length)&&"function"===typeof x){var j=f&&f.length,N=x({yAxis:v?uW(uW({},v),{},{ticks:j?f:v.ticks}):void 0,width:null!==r&&void 0!==r?r:u,height:null!==n&&void 0!==n?n:d,offset:a},!!j||h);$N(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!w||!w.length)&&"function"===typeof y){var _=p&&p.length,S=y({xAxis:g?uW(uW({},g),{},{ticks:_?p:g.ticks}):void 0,width:null!==r&&void 0!==r?r:u,height:null!==n&&void 0!==n?n:d,offset:a},!!_||h);$N(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}return t.createElement(AH,{zIndex:i.zIndex},t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(pW,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),t.createElement(yW,hW({},i,{horizontalPoints:b})),t.createElement(xW,hW({},i,{verticalPoints:w})),t.createElement(gW,hW({},i,{offset:a,horizontalPoints:b,xAxis:g,yAxis:v})),t.createElement(vW,hW({},i,{offset:a,verticalPoints:w,xAxis:g,yAxis:v}))))}NW.displayName="CartesianGrid";var _W=["domain","range"],SW=["domain","range"];function kW(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EW(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function AW(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=kW(e,_W),{domain:i,range:o}=t,s=kW(t,SW);return!!EW(r,i)&&(!!EW(n,o)&&xB(a,s))}var OW=["dangerouslySetInnerHTML","ticks"],CW=["id"];function PW(){return PW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PW.apply(null,arguments)}function TW(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DW(e){var r=NA(),n=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===n.current?r(VF(e)):n.current!==e&&r(KF({prev:n.current,next:e})),n.current=e},[e,r]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r(GF(n.current)),n.current=null)},[r]),null}var RW=e=>{var{xAxisId:r,className:n}=e,a=EA(mO),i=vO(),o="xAxis",s=EA(e=>RL(e,o,r,i)),l=EA(e=>QL(e,o,r,i)),c=EA(e=>BL(e,r)),u=EA(e=>WL(e,r)),d=EA(e=>uM(e,r));if(null==c||null==u||null==d)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,p=TW(e,OW),{id:m}=d,g=TW(d,CW);return t.createElement(aW,PW({},p,g,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:$a("recharts-".concat(o," ").concat(o),n),viewBox:a,ticks:l,axisType:o}))},IW={allowDataOverflow:cM.allowDataOverflow,allowDecimals:cM.allowDecimals,allowDuplicatedCategory:cM.allowDuplicatedCategory,angle:cM.angle,axisLine:QH.axisLine,height:cM.height,hide:!1,includeHidden:cM.includeHidden,interval:cM.interval,minTickGap:cM.minTickGap,mirror:cM.mirror,orientation:cM.orientation,padding:cM.padding,reversed:cM.reversed,scale:cM.scale,tick:cM.tick,tickCount:cM.tickCount,tickLine:QH.tickLine,tickSize:QH.tickSize,type:cM.type,xAxisId:0},MW=e=>{var r=Eq(e,IW);return t.createElement(t.Fragment,null,t.createElement(DW,{allowDataOverflow:r.allowDataOverflow,allowDecimals:r.allowDecimals,allowDuplicatedCategory:r.allowDuplicatedCategory,angle:r.angle,dataKey:r.dataKey,domain:r.domain,height:r.height,hide:r.hide,id:r.xAxisId,includeHidden:r.includeHidden,interval:r.interval,minTickGap:r.minTickGap,mirror:r.mirror,name:r.name,orientation:r.orientation,padding:r.padding,reversed:r.reversed,scale:r.scale,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit}),t.createElement(RW,r))},LW=t.memo(MW,AW);LW.displayName="XAxis";var zW=["dangerouslySetInnerHTML","ticks"],FW=["id"];function UW(){return UW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UW.apply(null,arguments)}function BW(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qW(e){var r=NA(),n=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===n.current?r(YF(e)):n.current!==e&&r($F({prev:n.current,next:e})),n.current=e},[e,r]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r(JF(n.current)),n.current=null)},[r]),null}var HW=e=>{var{yAxisId:r,className:n,width:a,label:i}=e,o=(0,t.useRef)(null),s=(0,t.useRef)(null),l=EA(mO),c=vO(),u=NA(),d="yAxis",h=EA(e=>RL(e,d,r,c)),f=EA(e=>KL(e,r)),p=EA(e=>VL(e,r)),m=EA(e=>QL(e,d,r,c)),g=EA(e=>fM(e,r));if((0,t.useLayoutEffect)(()=>{if("auto"===a&&f&&!FH(i)&&!(0,t.isValidElement)(i)&&null!=g){var e=o.current;if(e){var n=e.getCalculatedWidth();Math.round(f.width)!==Math.round(n)&&u(eU({id:r,width:n}))}}},[m,f,u,i,r,a,g]),null==f||null==p||null==g)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=BW(e,zW),{id:b}=g,w=BW(g,FW);return t.createElement(aW,UW({},x,w,{ref:o,labelRef:s,scale:h,x:p.x,y:p.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:f.width,height:f.height,className:$a("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:m,axisType:d}))},WW={allowDataOverflow:hM.allowDataOverflow,allowDecimals:hM.allowDecimals,allowDuplicatedCategory:hM.allowDuplicatedCategory,angle:hM.angle,axisLine:QH.axisLine,hide:!1,includeHidden:hM.includeHidden,interval:hM.interval,minTickGap:hM.minTickGap,mirror:hM.mirror,orientation:hM.orientation,padding:hM.padding,reversed:hM.reversed,scale:hM.scale,tick:hM.tick,tickCount:hM.tickCount,tickLine:QH.tickLine,tickSize:QH.tickSize,type:hM.type,width:hM.width,yAxisId:0},VW=e=>{var r=Eq(e,WW);return t.createElement(t.Fragment,null,t.createElement(qW,{interval:r.interval,id:r.yAxisId,scale:r.scale,type:r.type,domain:r.domain,allowDataOverflow:r.allowDataOverflow,dataKey:r.dataKey,allowDuplicatedCategory:r.allowDuplicatedCategory,allowDecimals:r.allowDecimals,tickCount:r.tickCount,padding:r.padding,includeHidden:r.includeHidden,reversed:r.reversed,ticks:r.ticks,width:r.width,orientation:r.orientation,mirror:r.mirror,hide:r.hide,unit:r.unit,name:r.name,angle:r.angle,minTickGap:r.minTickGap,tick:r.tick,tickFormatter:r.tickFormatter}),t.createElement(HW,r))},KW=t.memo(VW,AW);function GW(){return GW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GW.apply(null,arguments)}function YW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YW(Object(r),!0).forEach(function(t){JW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){return Array.isArray(e)&&FN(e[0])&&FN(e[1])?e.join(" ~ "):e}KW.displayName="YAxis";var ZW=e=>{var{separator:r=" : ",contentStyle:n={},itemStyle:a={},labelStyle:i={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=$W({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=$W({margin:0},i),g=!VN(d),v=g?d:"",y=$a("recharts-default-tooltip",c),x=$a("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(v=h(d,o));var b=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",GW({className:y,style:p},b),t.createElement("p",{className:x,style:m},t.isValidElement(v)?v:"".concat(v)),(()=>{if(o&&o.length){var e=(l?OA()(o,l):o).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||s||XW,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,n,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=$W({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},FN(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,FN(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},QW="recharts-tooltip-wrapper",eV={visibility:"hidden"};function tV(e){var{coordinate:t,translateX:r,translateY:n}=e;return $a(QW,{["".concat(QW,"-right")]:zN(r)&&t&&zN(t.x)&&r>=t.x,["".concat(QW,"-left")]:zN(r)&&t&&zN(t.x)&&r<t.x,["".concat(QW,"-bottom")]:zN(n)&&t&&zN(t.y)&&n>=t.y,["".concat(QW,"-top")]:zN(n)&&t&&zN(t.y)&&n<t.y})}function rV(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&zN(i[n]))return i[n];var u=r[n]-s-(a>0?a:0),d=r[n]+a;if(t[n])return o[n]?u:d;var h=l[n];return null==h?0:o[n]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function nV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nV(Object(r),!0).forEach(function(t){iV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class oV extends t.PureComponent{constructor(){super(...arguments),iV(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iV(this,"handleKeyDown",e=>{var t,r,n,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:x}=function(e){var t,r,n,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=rV({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=rV({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):eV,{cssProperties:t,cssClasses:tV({translateX:r,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),b=v?{}:aV(aV({transition:l&&e?"transform ".concat(n,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=aV(aV({},b),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},i)}}var sV=r(4332),lV=r.n(sV);function cV(e,t,r){return!0===t?lV()(e,r):"function"===typeof t?lV()(e,t):e}var uV,dV,hV,fV,pV,mV,gV,vV,yV,xV,bV,wV,jV,NV;function _V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[r,n]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-r.height)>1||Math.abs(a.left-r.left)>1||Math.abs(a.top-r.top)>1||Math.abs(a.width-r.width)>1)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function SV(){}function kV(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function EV(e){this._context=e}function AV(e){this._context=e}function OV(e){this._context=e}EV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kV(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},AV.prototype={areaStart:SV,areaEnd:SV,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:kV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class CV{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function PV(e){this._context=e}function TV(e){this._context=e}function DV(e){return new TV(e)}function RV(e){return e<0?-1:1}function IV(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(RV(i)+RV(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function MV(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function LV(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function zV(e){this._context=e}function FV(e){this._context=new UV(e)}function UV(e){this._context=e}function BV(e){this._context=e}function qV(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function HV(e,t){this._context=e,this._t=t}PV.prototype={areaStart:SV,areaEnd:SV,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},TV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},zV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:LV(this,this._t0,MV(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,LV(this,MV(this,r=IV(this,e,t)),r);break;default:LV(this,this._t0,r=IV(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(FV.prototype=Object.create(zV.prototype)).point=function(e,t){zV.prototype.point.call(this,t,e)},UV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},BV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=qV(e),a=qV(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},HV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const WV=Math.PI,VV=2*WV,KV=1e-6,GV=VV-KV;function YV(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class $V{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?YV:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return YV;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(uV||(uV=Pr(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(dV||(dV=Pr(["Z"]))))}lineTo(e,t){this._append(hV||(hV=Pr(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(fV||(fV=Pr(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,a,i){this._append(pV||(pV=Pr(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+a,this._y1=+i)}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,o=this._y1,s=r-e,l=n-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(mV||(mV=Pr(["M",",",""])),this._x1=e,this._y1=t);else if(d>KV)if(Math.abs(u*s-l*c)>KV&&a){let h=r-i,f=n-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),v=Math.sqrt(d),y=a*Math.tan((WV-Math.acos((p+d-m)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>KV&&this._append(vV||(vV=Pr(["L",",",""])),e+x*c,t+x*u),this._append(yV||(yV=Pr(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+b*s,this._y1=t+b*l)}else this._append(gV||(gV=Pr(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error("negative radius: ".concat(r));let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^i,d=i?n-a:a-n;null===this._x1?this._append(xV||(xV=Pr(["M",",",""])),l,c):(Math.abs(this._x1-l)>KV||Math.abs(this._y1-c)>KV)&&this._append(bV||(bV=Pr(["L",",",""])),l,c),r&&(d<0&&(d=d%VV+VV),d>GV?this._append(wV||(wV=Pr(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,u,e-o,t-s,r,r,u,this._x1=l,this._y1=c):d>KV&&this._append(jV||(jV=Pr(["A",",",",0,",",",",",",",""])),r,r,+(d>=WV),u,this._x1=e+r*Math.cos(a),this._y1=t+r*Math.sin(a)))}rect(e,t,r,n){this._append(NV||(NV=Pr(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function JV(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new $V(t)}function XV(e){return e[0]}function ZV(e){return e[1]}function QV(e,t){var r=RA(!0),n=null,a=DV,i=null,o=JV(s);function s(s){var l,c,u,d=(s=DA(s)).length,h=!1;for(null==n&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?XV:RA(e),t="function"===typeof t?t:void 0===t?ZV:RA(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:RA(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:RA(+e),s):t},s.defined=function(e){return arguments.length?(r="function"===typeof e?e:RA(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),s):n},s}function eK(e,t,r){var n=null,a=RA(!0),i=null,o=DV,s=null,l=JV(c);function c(c){var u,d,h,f,p,m=(c=DA(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),s.point(n?+n(f,u,c):v[u],r?+r(f,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return QV().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?XV:RA(+e),t="function"===typeof t?t:RA(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?ZV:RA(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:RA(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:RA(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:RA(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:RA(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:RA(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:RA(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:RA(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function tK(){return tK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tK.apply(null,arguments)}function rK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rK(Object(r),!0).forEach(function(t){aK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iK={curveBasisClosed:function(e){return new AV(e)},curveBasisOpen:function(e){return new OV(e)},curveBasis:function(e){return new EV(e)},curveBumpX:function(e){return new CV(e,!0)},curveBumpY:function(e){return new CV(e,!1)},curveLinearClosed:function(e){return new PV(e)},curveLinear:DV,curveMonotoneX:function(e){return new zV(e)},curveMonotoneY:function(e){return new FV(e)},curveNatural:function(e){return new BV(e)},curveStep:function(e){return new HV(e,.5)},curveStepAfter:function(e){return new HV(e,1)},curveStepBefore:function(e){return new HV(e,0)}},oK=e=>r_(e.x)&&r_(e.y),sK=e=>null!=e.base&&oK(e.base)&&oK(e),lK=e=>e.x,cK=e=>e.y,uK=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var r="curve".concat(KN(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?iK[r]||DV:iK["".concat(r).concat("vertical"===t?"Y":"X")]})(t,a),s=i?r.filter(oK):r;if(Array.isArray(n)){var l=r.map((e,t)=>nK(nK({},e),{},{base:n[t]}));return("vertical"===a?eK().y(cK).x1(lK).x0(e=>e.base.x):eK().x(lK).y1(cK).y0(e=>e.base.y)).defined(sK).curve(o)(i?l.filter(sK):l)}return("vertical"===a&&zN(n)?eK().y(cK).x1(lK).x0(n):zN(n)?eK().x(lK).y1(cK).y0(n):QV().x(lK).y(cK)).defined(oK).curve(o)(s)},dK=e=>{var{className:r,points:n,path:a,pathRef:i}=e;if((!n||!n.length)&&!a)return null;var o=n&&n.length?uK(e):a;return t.createElement("path",tK({},OB(e),((e,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,t.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var a={};return Object.keys(n).forEach(e=>{SB(e)&&(a[e]=r||(t=>n[e](n,t)))}),a})(e),{className:$a("recharts-curve",r),d:null===o?void 0:o,ref:i}))},hK=["x","y","top","left","width","height","className"];function fK(){return fK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fK.apply(null,arguments)}function pK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gK=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),vK=e=>{var{x:r=0,y:n=0,top:a=0,left:i=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,hK),u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pK(Object(r),!0).forEach(function(t){mK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:n,top:a,left:i,width:o,height:s},c);return zN(r)&&zN(n)&&zN(o)&&zN(s)&&zN(a)&&zN(i)?t.createElement("path",fK({},PB(u),{className:$a("recharts-cross",l),d:gK(r,n,o,s,a,i)})):null};function yK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yK(Object(r),!0).forEach(function(t){bK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wK=(e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","),jK=(e,t)=>Object.keys(t).reduce((r,n)=>xK(xK({},r),{},{[n]:e(n,t[n])}),{});function NK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NK(Object(r),!0).forEach(function(t){SK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kK=(e,t,r)=>e+(t-e)*r,EK=e=>{var{from:t,to:r}=e;return t!==r},AK=(e,t,r)=>{var n=jK((t,r)=>{if(EK(r)){var[n,a]=e(r.from,r.to,r.velocity);return _K(_K({},r),{},{from:n,velocity:a})}return r},t);return r<1?jK((e,t)=>EK(t)?_K(_K({},t),{},{velocity:kK(t.velocity,n[e].velocity,r),from:kK(t.from,n[e].from,r)}):t,t):AK(e,n,r-1)};function OK(e,t,r,n,a,i){var o,s=n.reduce((r,n)=>_K(_K({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{o||(o=n);var u=(n-o)/r.dt;s=AK(r,s,u),a(_K(_K(_K({},e),t),jK((e,t)=>t.from,s))),o=n,Object.values(s).filter(EK).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const CK=(e,t,r,n,a,i)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==r?()=>(a(_K(_K({},e),t)),()=>{}):!0===r.isStepper?OK(e,t,r,l,a,i):function(e,t,r,n,a,i,o){var s,l=null,c=a.reduce((r,n)=>_K(_K({},r),{},{[n]:[e[n],t[n]]}),{}),u=a=>{s||(s=a);var d=(a-s)/n,h=jK((e,t)=>kK(...t,r(d)),c);if(i(_K(_K(_K({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=jK((e,t)=>kK(...t,r(1)),c);i(_K(_K(_K({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,r,n,l,a,i)};var PK=1e-4,TK=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DK=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),RK=(e,t)=>r=>{var n=TK(e,t);return DK(n,r)},IK=(e,t,r,n)=>{var a,i,o=RK(e,r),s=RK(t,n),l=(a=e,i=r,e=>{var t=[...TK(a,i).map((e,t)=>e*t).slice(1),0];return DK(t,e)}),c=e=>e>1?1:e<0?0:e,u=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=o(r)-t,i=l(r);if(Math.abs(a-t)<PK||i<PK)return s(r);r=c(r-a/i)}return s(r)};return u.isStepper=!1,u},MK=function(){return IK(...function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var n,a=t[0].split("(");if("cubic-bezier"===a[0]&&4===(null===(n=a[1])||void 0===n?void 0:n.split(")")[0].split(",").length)){var i=a[1].split(")")[0].split(",").map(e=>parseFloat(e));return[i[0],i[1],i[2],i[3]]}}return 4===t.length?t:[0,0,1,1]}(...arguments))},LK=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MK(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,a=(e,a,i)=>{var o=i+(-(e-a)*t-i*r)*n/1e3,s=i*n/1e3+e;return Math.abs(s-a)<PK&&Math.abs(o)<PK?[a,0]:[s,o]};return a.isStepper=!0,a.dt=n,a}();default:if("cubic-bezier"===e.split("(")[0])return MK(e)}return"function"===typeof e?e:null};class zK{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,a=i=>{i-r>=t?e(i):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(a))};return n=requestAnimationFrame(a),()=>{null!=n&&cancelAnimationFrame(n)}}}function FK(){return function(e){var t=()=>null,r=!1,n=null,a=i=>{if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,[s,...l]=o;return"number"===typeof s?void(n=e.setTimeout(a.bind(null,l),s)):(a(s),void(n=e.setTimeout(a.bind(null,l))))}"string"===typeof i&&t(i),"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new zK)}var UK=(0,t.createContext)(FK);var BK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qK={t:0},HK={t:1};function WK(e){var r=Eq(e,BK),{isActive:n,canBegin:a,duration:i,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=r,d="auto"===n?!nB:n,h=function(e,r){var n=(0,t.useContext)(UK);return(0,t.useMemo)(()=>null!==r&&void 0!==r?r:n(e),[e,r,n])}(r.animationId,r.animationManager),[f,p]=(0,t.useState)(d?qK:HK),m=(0,t.useRef)(null);return(0,t.useEffect)(()=>{d||p(HK)},[d]),(0,t.useEffect)(()=>{if(!d||!a)return YN;var e=CK(qK,HK,LK(o),i,p,h.getTimeoutController());return h.start([c,s,()=>{m.current=e()},i,l]),()=>{h.stop(),m.current&&m.current(),l()}},[d,a,i,o,s,c,l,h]),u(f.t)}function VK(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,t.useRef)(BN(r)),a=(0,t.useRef)(e);return a.current!==e&&(n.current=BN(r),a.current=e),n.current}var KK=["radius"],GK=["radius"];function YK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YK(Object(r),!0).forEach(function(t){JK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(){return XK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XK.apply(null,arguments)}function ZK(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var QK=(e,t,r,n,a)=>{var i,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),i+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*h,"\n            L ").concat(e+r,",").concat(t+n-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},eG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tG=e=>{var r=Eq(e,eG),n=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=r,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=r,v=(0,t.useRef)(l),y=(0,t.useRef)(c),x=(0,t.useRef)(o),b=(0,t.useRef)(s),w=VK((0,t.useMemo)(()=>({x:o,y:s,width:l,height:c,radius:u}),[o,s,l,c,u]),"rectangle-");if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var j=$a("recharts-rectangle",d);if(!g){var N=PB(r),{radius:_}=N,S=ZK(N,KK);return t.createElement("path",XK({},S,{radius:"number"===typeof u?u:void 0,className:j,d:QK(o,s,l,c,u)}))}var k=v.current,E=y.current,A=x.current,O=b.current,C="0px ".concat(-1===a?1:a,"px"),P="".concat(a,"px 0px"),T=wK(["strokeDasharray"],f,"string"===typeof h?h:eG.animationEasing);return t.createElement(WK,{animationId:w,key:w,canBegin:a>0,duration:f,easing:h,isActive:g,begin:p},e=>{var a,i=WN(k,l,e),d=WN(E,c,e),h=WN(A,o,e),f=WN(O,s,e);n.current&&(v.current=i,y.current=d,x.current=h,b.current=f),a=m?e>0?{transition:T,strokeDasharray:P}:{strokeDasharray:C}:{strokeDasharray:P};var p=PB(r),{radius:g}=p,w=ZK(p,GK);return t.createElement("path",XK({},w,{radius:"number"===typeof u?u:void 0,className:j,d:QK(h,f,i,d,u),ref:n,style:$K($K({},a),r.style)}))})};function rG(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e;return{points:[wI(t,r,n,a),wI(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function nG(){return nG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nG.apply(null,arguments)}var aG=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+n,u=Math.asin(s/c)/xI,d=l?a:a+i*u,h=l?a-i*u:a;return{center:wI(t,r,c,d),circleTangency:wI(t,r,n,d),lineTangency:wI(t,r,c*Math.cos(u*xI),h),theta:u}},iG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=((e,t)=>IN(t-e)*Math.min(Math.abs(t-e),359.999))(i,o),l=i+s,c=wI(t,r,a,i),u=wI(t,r,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(n>0){var h=wI(t,r,n,i),f=wI(t,r,n,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},oG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sG=e=>{var r=Eq(e,oG),{cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=r;if(o<i||u===d)return null;var f,p=$a("recharts-sector",h),m=o-i,g=qN(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=IN(c-l),{circleTangency:d,lineTangency:h,theta:f}=aG({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=aG({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):iG({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(n>0){var{circleTangency:x,lineTangency:b,theta:w}=aG({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:j,lineTangency:N,theta:_}=aG({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),S=s?Math.abs(l-c):Math.abs(l-c)-w-_;if(S<0&&0===i)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(N.x,",").concat(N.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y})({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):iG({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",nG({},PB(r),{className:p,d:f}))};function lG(e,t,r){if("horizontal"===e)return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if("vertical"===e)return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(KH(t)){if("centric"===e){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=wI(n,a,i,s),c=wI(n,a,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return rG(t)}}function cG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cG(Object(r),!0).forEach(function(t){dG(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hG=()=>{var e=EA(zM),t=EA(rF),r=EA(Qz);return QA(e&&r?uG(uG({},e),{},{scale:r}):void 0,t)};function fG(){return fG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fG.apply(null,arguments)}function pG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pG(Object(r),!0).forEach(function(t){gG(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var{cursor:r,cursorComp:n,cursorProps:a}=e;return(0,t.isValidElement)(r)?(0,t.cloneElement)(r,a):(0,t.createElement)(n,a)}function yG(e){var r,n,a,i,{coordinate:o,payload:s,index:l,offset:c,tooltipAxisBandSize:u,layout:d,cursor:h,tooltipEventType:f,chartName:p}=e,m=o,g=s,v=l;if(!h||!m||"ScatterChart"!==p&&"axis"!==f)return null;if("ScatterChart"===p)n=m,a=vK,i=kI.cursorLine;else if("BarChart"===p)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(d,m,c,u),a=tG,i=kI.cursorRectangle;else if("radial"===d&&KH(m)){var{cx:y,cy:x,radius:b,startAngle:w,endAngle:j}=rG(m);n={cx:y,cy:x,startAngle:w,endAngle:j,innerRadius:b,outerRadius:b},a=sG,i=kI.cursorLine}else n={points:lG(d,m,c)},a=dK,i=kI.cursorLine;var N="object"===typeof h&&"className"in h?h.className:void 0,_=mG(mG(mG(mG({stroke:"#ccc",pointerEvents:"none"},c),n),CB(h)),{},{payload:g,payloadIndex:v,className:$a("recharts-tooltip-cursor",N)});return t.createElement(AH,{zIndex:null!==(r=e.zIndex)&&void 0!==r?r:i},t.createElement(vG,{cursor:h,cursorComp:a,cursorProps:_}))}function xG(e){var r=hG(),n=NO(),a=EO(),i=EA(hI);return null==r||null==n||null==a||null==i?null:t.createElement(yG,fG({},e,{offset:n,layout:a,tooltipAxisBandSize:r,chartName:i}))}function bG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bG(Object(r),!0).forEach(function(t){jG(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){return e.dataKey}var _G=[],SG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kG(e){var r,n,a=Eq(e,SG),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:m,useTranslate3d:g,wrapperStyle:v,cursor:y,shared:x,trigger:b,defaultIndex:w,portal:j,axisId:N}=a,_=NA(),S="number"===typeof w?String(w):w;(0,t.useEffect)(()=>{_(WE({shared:x,trigger:b,axisId:N,active:i,defaultIndex:S}))},[_,x,b,N,i,S]);var k=wO(),E=NB(),A=function(e){return EA(t=>sz(t,e))}(x),{activeIndex:O,isActive:C}=null!==(r=EA(e=>PF(e,A,b,S)))&&void 0!==r?r:{},P=EA(e=>CF(e,A,b,S)),T=EA(e=>OF(e,A,b,S)),D=EA(e=>AF(e,A,b,S)),R=P,I=(0,t.useContext)(iq),M=null!==(n=null!==i&&void 0!==i?i:C)&&void 0!==n&&n,[L,z]=_V([R,M]),F="axis"===A?T:void 0;aq(A,b,D,F,O,M);var U=null!==j&&void 0!==j?j:I;if(null==U||null==k||null==A)return null;var B=null!==R&&void 0!==R?R:_G;M||(B=_G),u&&B.length&&(B=cV(B.filter(e=>null!=e.value&&(!0!==e.hide||a.includeHidden)),f,NG));var q=B.length>0,H=t.createElement(oV,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:M,coordinate:D,hasPayload:q,offset:h,position:p,reverseDirection:m,useTranslate3d:g,viewBox:k,wrapperStyle:v,lastBoundingBox:L,innerRef:z,hasPortalFromProps:Boolean(j)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"===typeof e?t.createElement(e,r):t.createElement(ZW,r)}(c,wG(wG({},a),{},{payload:B,label:F,active:M,activeIndex:O,coordinate:D,accessibilityLayer:E})));return t.createElement(t.Fragment,null,(0,Yr.createPortal)(H,U),M&&t.createElement(xG,{cursor:y,tooltipEventType:A,coordinate:D,payload:B,index:O}))}var EG=e=>null;EG.displayName="Cell";var AG=r(356),OG=r.n(AG),CG=["valueAccessor"],PG=["dataKey","clockWise","id","textBreakAll","zIndex"];function TG(){return TG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TG.apply(null,arguments)}function DG(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var RG=e=>Array.isArray(e.value)?OG()(e.value):e.value,IG=(0,t.createContext)(void 0),MG=IG.Provider,LG=(0,t.createContext)(void 0),zG=LG.Provider;function FG(e){var{valueAccessor:r=RG}=e,n=DG(e,CG),{dataKey:a,clockWise:i,id:o,textBreakAll:s,zIndex:l}=n,c=DG(n,PG),u=(0,t.useContext)(IG),d=(0,t.useContext)(LG),h=u||d;return h&&h.length?t.createElement(AH,{zIndex:null!==l&&void 0!==l?l:kI.label},t.createElement(eH,{className:"recharts-label-list"},h.map((e,i)=>{var l,u=VN(a)?r(e,i):qA(e&&e.payload,a),d=VN(o)?{}:{id:"".concat(o,"-").concat(i)};return t.createElement(HH,TG({key:"label-".concat(i)},PB(e),c,d,{fill:null!==(l=n.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:s,viewBox:e.viewBox,index:i,zIndex:0}))}))):null}function UG(e){var{label:r}=e;return r?!0===r?t.createElement(FG,{key:"labelList-implicit"}):t.isValidElement(r)||FH(r)?t.createElement(FG,{key:"labelList-implicit",content:r}):"object"===typeof r?t.createElement(FG,TG({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}FG.displayName="LabelList";var BG=r(2086),qG=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",HG=null,WG=null,VG=e=>{if(e===HG&&Array.isArray(WG))return WG;var r=[];return t.Children.forEach(e,e=>{VN(e)||((0,BG.isFragment)(e)?r=r.concat(VG(e.props.children)):r.push(e))}),WG=r,HG=e,r};function KG(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>qG(e)):[qG(t)],VG(e).forEach(e=>{var t=RN()(e,"type.displayName")||RN()(e,"type.name");t&&-1!==n.indexOf(t)&&r.push(e)}),r}var GG="Invariant failed";var YG=r(9397),$G=r.n(YG);function JG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JG(Object(r),!0).forEach(function(t){ZG(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(){return QG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QG.apply(null,arguments)}var eY=(e,t,r,n,a)=>{var i,o=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},tY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rY=e=>{var r=Eq(e,tY),{x:n,y:a,upperWidth:i,lowerWidth:o,height:s,className:l}=r,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=r,f=(0,t.useRef)(null),[p,m]=(0,t.useState)(-1),g=(0,t.useRef)(i),v=(0,t.useRef)(o),y=(0,t.useRef)(s),x=(0,t.useRef)(n),b=(0,t.useRef)(a),w=VK(e,"trapezoid-");if((0,t.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&m(e)}catch(t){}},[]),n!==+n||a!==+a||i!==+i||o!==+o||s!==+s||0===i&&0===o||0===s)return null;var j=$a("recharts-trapezoid",l);if(!h)return t.createElement("g",null,t.createElement("path",QG({},PB(r),{className:j,d:eY(n,a,i,o,s)})));var N=g.current,_=v.current,S=y.current,k=x.current,E=b.current,A="0px ".concat(-1===p?1:p,"px"),O="".concat(p,"px 0px"),C=wK(["strokeDasharray"],u,c);return t.createElement(WK,{animationId:w,key:w,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=WN(N,i,e),c=WN(_,o,e),u=WN(S,s,e),d=WN(k,n,e),h=WN(E,a,e);f.current&&(g.current=l,v.current=c,y.current=u,x.current=d,b.current=h);var p=e>0?{transition:C,strokeDasharray:O}:{strokeDasharray:A};return t.createElement("path",QG({},PB(r),{className:j,d:eY(d,h,l,c,u),ref:f,style:XG(XG({},p),r.style)}))})};Math.abs,Math.atan2;const nY=Math.cos,aY=(Math.max,Math.min,Math.sin),iY=Math.sqrt,oY=Math.PI,sY=2*oY;const lY={draw(e,t){const r=iY(t/oY);e.moveTo(r,0),e.arc(0,0,r,0,sY)}},cY={draw(e,t){const r=iY(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},uY=iY(1/3),dY=2*uY,hY={draw(e,t){const r=iY(t/dY),n=r*uY;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},fY={draw(e,t){const r=iY(t),n=-r/2;e.rect(n,n,r,r)}},pY=aY(oY/10)/aY(7*oY/10),mY=aY(sY/10)*pY,gY=-nY(sY/10)*pY,vY={draw(e,t){const r=iY(.8908130915292852*t),n=mY*r,a=gY*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=sY*i/5,o=nY(t),s=aY(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*a,s*n+o*a)}e.closePath()}},yY=iY(3),xY={draw(e,t){const r=-iY(t/(3*yY));e.moveTo(0,2*r),e.lineTo(-yY*r,-r),e.lineTo(yY*r,-r),e.closePath()}},bY=-.5,wY=iY(3)/2,jY=1/iY(12),NY=3*(jY/2+1),_Y={draw(e,t){const r=iY(t/NY),n=r/2,a=r*jY,i=n,o=r*jY+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(bY*n-wY*a,wY*n+bY*a),e.lineTo(bY*i-wY*o,wY*i+bY*o),e.lineTo(bY*s-wY*l,wY*s+bY*l),e.lineTo(bY*n+wY*a,bY*a-wY*n),e.lineTo(bY*i+wY*o,bY*o-wY*i),e.lineTo(bY*s+wY*l,bY*l-wY*s),e.closePath()}};iY(3),iY(3);var SY=["type","size","sizeType"];function kY(){return kY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kY.apply(null,arguments)}function EY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function AY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EY(Object(r),!0).forEach(function(t){OY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CY={symbolCircle:lY,symbolCross:cY,symbolDiamond:hY,symbolSquare:fY,symbolStar:vY,symbolTriangle:xY,symbolWye:_Y},PY=Math.PI/180,TY=e=>{var{type:r="circle",size:n=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,SY),o=AY(AY({},i),{},{type:r,size:n,sizeType:a}),s="circle";"string"===typeof r&&(s=r);var{className:l,cx:c,cy:u}=o,d=PB(o);return zN(c)&&zN(u)&&zN(n)?t.createElement("path",kY({},d,{className:$a("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(KN(e));return CY[t]||lY})(s),t=function(e,t){let r=null,n=JV(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:RA(e||lY),t="function"===typeof t?t:RA(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:RA(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:RA(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*PY;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,a,s)),r=t();if(null!==r)return r})()})):null};TY.registerSymbol=(e,t)=>{CY["symbol".concat(KN(e))]=t};var DY=["option","shapeType","propTransformer","activeClassName"];function RY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RY(Object(r),!0).forEach(function(t){MY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LY(e,t){return IY(IY({},t),e)}function zY(e){var{shapeType:r,elementProps:n}=e;switch(r){case"rectangle":return t.createElement(tG,n);case"trapezoid":return t.createElement(rY,n);case"sector":return t.createElement(sG,n);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(TY,n);break;case"curve":return t.createElement(dK,n);default:return null}}function FY(e){var r,{option:n,shapeType:a,propTransformer:i=LY,activeClassName:o="recharts-active-shape"}=e,s=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,DY);if((0,t.isValidElement)(n))r=(0,t.cloneElement)(n,IY(IY({},s),function(e){return(0,t.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)r=n(s,s.index);else if($G()(n)&&"boolean"!==typeof n){var l=i(n,s);r=t.createElement(zY,{shapeType:a,elementProps:l})}else{var c=s;r=t.createElement(zY,{shapeType:a,elementProps:c})}return s.isActive?t.createElement(eH,{className:o},r):r}var UY=["x","y"];function BY(){return BY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BY.apply(null,arguments)}function qY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qY(Object(r),!0).forEach(function(t){WY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e,t){var{x:r,y:n}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,UY),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return HY(HY(HY(HY(HY({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function KY(e){return t.createElement(FY,BY({shapeType:"rectangle",propTransformer:VY,activeClassName:"recharts-active-bar"},e))}var GY=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(zN(e))return e;var a=zN(r)||VN(r);return a?e(r,n):(a||function(e){if(!e)throw new Error(GG)}(!1,"minPointSize callback function received a value with type of ".concat(typeof r,". Currently only numbers or null/undefined are supported.")),t)}},YY=(e,t,r)=>{var n=NA();return(a,i)=>o=>{null===e||void 0===e||e(a,i,o),n(VE({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},$Y=e=>{var t=NA();return(r,n)=>a=>{null===e||void 0===e||e(r,n,a),t(KE())}},JY=(e,t,r)=>{var n=NA();return(a,i)=>o=>{null===e||void 0===e||e(a,i,o),n(YE({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function XY(e){var{tooltipEntrySettings:r}=e,n=NA(),a=vO(),i=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{a||(null===i.current?n(BE(r)):i.current!==r&&n(qE({prev:i.current,next:r})),i.current=r)},[r,n,a]),(0,t.useLayoutEffect)(()=>()=>{i.current&&(n(HE(i.current)),i.current=null)},[n]),null}var ZY=["children"];var QY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},e$=(0,t.createContext)(QY);function t$(e){var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,ZY);return t.createElement(e$.Provider,{value:n},r)}function r$(e,t){var r,n,a=EA(t=>dM(t,e)),i=EA(e=>pM(e,t)),o=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:cM.allowDataOverflow,s=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:hM.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function n$(e){var{xAxisId:r,yAxisId:n,clipPathId:a}=e,i=bq(),{needClipX:o,needClipY:s,needClip:l}=r$(r,n);if(!l||!i)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(t){o$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s$=yA([wM,(e,t,r,n,a)=>a],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),l$=yA([s$],e=>null===e||void 0===e?void 0:e.maxBarSize),c$=(e,t,r)=>{var n=null!==r&&void 0!==r?r:e;if(!VN(n))return qN(n,t,0)},u$=yA([kO,wM,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),d$=yA([u$,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===kO(e)?GL(e,"xAxis",t):GL(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(eM),a=e.filter(e=>null==e.stackId),i=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),o=Object.entries(i).map(e=>{var[n,a]=e;return{stackId:n,dataKeys:a.map(e=>e.dataKey),barSize:c$(t,r,a[0].barSize)}});return[...o,...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:c$(t,r,e.barSize)}))]}),h$=(e,t,r,n)=>{var a,i;return"horizontal"===kO(e)?(a=tz(e,"xAxis",t,n),i=ez(e,"xAxis",t,n)):(a=tz(e,"yAxis",r,n),i=ez(e,"yAxis",r,n)),QA(a,i)};var f$=yA([d$,lI,e=>e.rootProps.barGap,cI,(e,t,r,n,a)=>{var i,o,s=s$(e,t,r,n,a);if(null!=s){var l,c,u=kO(e),d=lI(e),{maxBarSize:h}=s,f=VN(h)?d:h;return"horizontal"===u?(l=tz(e,"xAxis",t,n),c=ez(e,"xAxis",t,n)):(l=tz(e,"yAxis",r,n),c=ez(e,"yAxis",r,n)),null!==(i=null!==(o=QA(l,c,!0))&&void 0!==o?o:f)&&void 0!==i?i:0}},h$,l$],(e,t,r,n,a,i,o)=>{var s=VN(o)?t:o,l=function(e,t,r,n,a){var i=n.length;if(!(i<1)){var o,s=qN(e,r,0,!0),l=[];if(r_(n[0].barSize)){var c=!1,u=r/i,d=n.reduce((e,t)=>e+(t.barSize||0),0);(d+=(i-1)*s)>=r&&(d-=(i-1)*s,s=0),d>=r&&u>0&&(c=!0,d=i*(u*=.9));var h={offset:((r-d)/2|0)-s,size:0};o=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:null!==(r=t.barSize)&&void 0!==r?r:0}}];return h=n[n.length-1].position,n},l)}else{var f=qN(t,r,0,!0);r-2*f-(i-1)*s<=0&&(s=0);var p=(r-2*f-(i-1)*s)/i;p>1&&(p>>=0);var m=r_(a)?Math.min(p,a):p;o=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*r+(p-m)/2,size:m}}],l)}return o}}(r,n,a!==i?a:i,e,s);return a!==i&&null!=l&&(l=l.map(e=>i$(i$({},e),{},{position:i$(i$({},e.position),{},{offset:e.position.offset-a/2})}))),l}),p$=yA([f$,s$],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),m$=yA([(e,t,r,n)=>"horizontal"===kO(e)?qM(e,"yAxis",r,n):qM(e,"xAxis",t,n),s$],(e,t)=>{var r=ZI(t);if(e&&null!=r&&null!=t){var{stackId:n}=t;if(null!=n){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(e=>e.key===r)}}}}),g$=yA([fO,mO,(e,t,r,n)=>tz(e,"xAxis",t,n),(e,t,r,n)=>tz(e,"yAxis",r,n),(e,t,r,n)=>ez(e,"xAxis",t,n),(e,t,r,n)=>ez(e,"yAxis",r,n),p$,kO,BR,h$,m$,s$,(e,t,r,n,a,i)=>i],(e,t,r,n,a,i,o,s,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=l;if(null!=d&&null!=o&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=r&&null!=n&&null!=a&&null!=i&&null!=c){var g,{data:v}=d;if(null!=(g=null!=v&&v.length>0?v:null===f||void 0===f?void 0:f.slice(p,m+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:p,dataStartIndex:m}=e,g="horizontal"===t?s:o,v=u?g.scale.domain():null,y=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]})({numericAxis:g}),x=g.scale(y);return d.map((e,d)=>{var g,b,w,j,N,_;u?g=((e,t)=>{if(!t||2!==t.length||!zN(t[0])||!zN(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!zN(e[0])||e[0]<r)&&(a[0]=r),(!zN(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a})(u[d+m],v):(g=qA(e,r),Array.isArray(g)||(g=[y,g]));var S=GY(n,q$)(g[1],d);if("horizontal"===t){var k,[E,A]=[s.scale(g[0]),s.scale(g[1])];b=$A({axis:o,ticks:l,bandSize:i,offset:a.offset,entry:e,index:d}),w=null!==(k=null!==A&&void 0!==A?A:E)&&void 0!==k?k:void 0,j=a.size;var O=E-A;if(N=MN(O)?0:O,_={x:b,y:h.top,width:j,height:h.height},Math.abs(S)>0&&Math.abs(N)<Math.abs(S)){var C=IN(N||S)*(Math.abs(S)-Math.abs(N));w-=C,N+=C}}else{var[P,T]=[o.scale(g[0]),o.scale(g[1])];if(b=P,w=$A({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:e,index:d}),j=T-P,N=a.size,_={x:h.left,y:w,width:h.width,height:N},Math.abs(S)>0&&Math.abs(j)<Math.abs(S))j+=IN(j||S)*(Math.abs(S)-Math.abs(j))}return null==b||null==w||null==j||null==N?null:C$(C$({},e),{},{stackedBarStart:x,x:b,y:w,width:j,height:N,value:u?g:g[1],payload:e,background:_,tooltipPosition:{x:b+j/2,y:w+N/2},parentViewBox:p},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:u,displayedData:g,offset:e,cells:h,dataStartIndex:p})}});function v$(e){var{legendPayload:r}=e,n=NA(),a=vO(),i=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{a||(null===i.current?n(_U(r)):i.current!==r&&n(SU({prev:i.current,next:r})),i.current=r)},[n,a,r]),(0,t.useLayoutEffect)(()=>()=>{i.current&&(n(kU(i.current)),i.current=null)},[n]),null}function y$(e){var{legendPayload:r}=e,n=NA(),a=EA(kO),i=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{"centric"!==a&&"radial"!==a||(null===i.current?n(_U(r)):i.current!==r&&n(SU({prev:i.current,next:r})),i.current=r)},[n,a,r]),(0,t.useLayoutEffect)(()=>()=>{i.current&&(n(kU(i.current)),i.current=null)},[n]),null}var x$=(0,t.createContext)(void 0),b$=e=>{var{id:r,type:n,children:a}=e,i=LB("recharts-".concat(n),r);return t.createElement(x$.Provider,{value:i},a(i))};var w$=e=>{var r=NA(),n=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===n.current?r(nU(e)):n.current!==e&&r(aU({prev:n.current,next:e})),n.current=e},[r,e]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r(iU(n.current)),n.current=null)},[r]),null},j$=(0,t.memo)(w$);function N$(e){var r=NA();return(0,t.useLayoutEffect)(()=>(r(oU(e)),()=>{r(sU(e))}),[r,e]),null}var _$=["onMouseEnter","onMouseLeave","onClick"],S$=["value","background","tooltipPosition"],k$=["id"],E$=["onMouseEnter","onClick","onMouseLeave"];function A$(){return A$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A$.apply(null,arguments)}function O$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O$(Object(r),!0).forEach(function(t){P$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T$(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var D$=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:tO(r,t),payload:e}]},R$=t.memo(e=>{var{dataKey:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:r,nameKey:void 0,name:tO(o,r),hide:s,type:c,color:i,unit:l}};return t.createElement(XY,{tooltipEntrySettings:u})});function I$(e){var r=EA(sF),{data:n,dataKey:a,background:i,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=T$(o,_$),d=YY(s,a),h=$Y(l),f=JY(c,a);if(!i||null==n)return null;var p,m,g=CB(i);return t.createElement(AH,{zIndex:(p=i,m=kI.barBackground,p&&"object"===typeof p&&"zIndex"in p&&"number"===typeof p.zIndex&&r_(p.zIndex)?p.zIndex:m)},n.map((e,n)=>{var{value:o,background:s,tooltipPosition:l}=e,c=T$(e,S$);if(!s)return null;var p=d(e,n),m=h(e,n),v=f(e,n),y=C$(C$(C$(C$(C$({option:i,isActive:String(n)===r},c),{},{fill:"#eee"},s),g),GH(u,e,n)),{},{onMouseEnter:p,onMouseLeave:m,onClick:v,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return t.createElement(KY,A$({key:"background-bar-".concat(n)},y))}))}function M$(e){var{showLabels:r,children:n,rects:a}=e,i=null===a||void 0===a?void 0:a.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return C$(C$({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return t.createElement(MG,{value:r?i:void 0},n)}function L$(e){var{shape:r,activeBar:n,baseProps:a,entry:i,index:o,dataKey:s}=e,l=EA(sF),c=EA(cF),u=n&&String(o)===l&&(null==c||s===c),d=u?n:r;return u?t.createElement(AH,{zIndex:kI.activeBar},t.createElement(KY,A$({},a,{name:String(a.name)},i,{isActive:u,option:d,index:o,dataKey:s}))):t.createElement(KY,A$({},a,{name:String(a.name)},i,{isActive:u,option:d,index:o,dataKey:s}))}function z$(e){var{shape:r,baseProps:n,entry:a,index:i,dataKey:o}=e;return t.createElement(KY,A$({},n,{name:String(n.name)},a,{isActive:!1,option:r,index:i,dataKey:o}))}function F$(e){var r,{data:n,props:a}=e,i=null!==(r=OB(a))&&void 0!==r?r:{},{id:o}=i,s=T$(i,k$),{shape:l,dataKey:c,activeBar:u}=a,{onMouseEnter:d,onClick:h,onMouseLeave:f}=a,p=T$(a,E$),m=YY(d,c),g=$Y(f),v=JY(h,c);return n?t.createElement(t.Fragment,null,n.map((e,r)=>t.createElement(eH,A$({key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r),className:"recharts-bar-rectangle"},GH(p,e,r),{onMouseEnter:m(e,r),onMouseLeave:g(e,r),onClick:v(e,r)}),u?t.createElement(L$,{shape:l,activeBar:u,baseProps:s,entry:e,index:r,dataKey:c}):t.createElement(z$,{shape:l,baseProps:s,entry:e,index:r,dataKey:c})))):null}function U$(e){var{props:r,previousRectanglesRef:n}=e,{data:a,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=r,h=n.current,f=VK(r,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=!p,v=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(M$,{showLabels:g,rects:a},t.createElement(WK,{animationId:f,begin:s,duration:l,isActive:o,easing:c,onAnimationEnd:v,onAnimationStart:y,key:f},e=>{var o=1===e?a:null===a||void 0===a?void 0:a.map((t,r)=>{var n=h&&h[r];if(n)return C$(C$({},t),{},{x:WN(n.x,t.x,e),y:WN(n.y,t.y,e),width:WN(n.width,t.width,e),height:WN(n.height,t.height,e)});if("horizontal"===i){var a=WN(0,t.height,e),o=WN(t.stackedBarStart,t.y,e);return C$(C$({},t),{},{y:o,height:a})}var s=WN(0,t.width,e),l=WN(t.stackedBarStart,t.x,e);return C$(C$({},t),{},{width:s,x:l})});return e>0&&(n.current=null!==o&&void 0!==o?o:null),null==o?null:t.createElement(eH,null,t.createElement(F$,{props:r,data:o}))}),t.createElement(UG,{label:r.label}),r.children)}function B$(e){var r=(0,t.useRef)(null);return t.createElement(U$,{previousRectanglesRef:r,props:e})}var q$=0,H$=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:qA(e,t)}};class W$ extends t.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(e||null==r)return null;var u=$a("recharts-bar",a),d=c;return t.createElement(eH,{className:u,id:c},s&&t.createElement("defs",null,t.createElement(n$,{clipPathId:d,xAxisId:i,yAxisId:o})),t.createElement(eH,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},t.createElement(I$,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),t.createElement(B$,this.props)))}}var V$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:q$,xAxisId:0,yAxisId:0,zIndex:kI.bar};function K$(e){var r,{xAxisId:n,yAxisId:a,hide:i,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=r$(n,a),p=EO(),m=vO(),g=KG(e.children,EG),v=EA(t=>g$(t,n,a,m,e.id,g));if("vertical"!==p&&"horizontal"!==p)return null;var y=null===v||void 0===v?void 0:v[0];return r=null==y||null==y.height||null==y.width?0:"vertical"===p?y.height/2:y.width/2,t.createElement(t$,{xAxisId:n,yAxisId:a,data:v,dataPointFormatter:H$,errorBarOffset:r},t.createElement(W$,A$({},e,{layout:p,needClip:f,data:v,xAxisId:n,yAxisId:a,hide:i,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function G$(e){var r=Eq(e,V$),n=vO();return t.createElement(b$,{id:r.id,type:"bar"},e=>{return t.createElement(t.Fragment,null,t.createElement(v$,{legendPayload:D$(r)}),t.createElement(R$,{dataKey:r.dataKey,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType}),t.createElement(j$,{type:"bar",id:e,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:(a=r.stackId,null==a?void 0:String(a)),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:n}),t.createElement(AH,{zIndex:r.zIndex},t.createElement(K$,A$({},r,{id:e}))));var a})}var Y$=t.memo(G$,xB);function $$(){return $$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$$.apply(null,arguments)}function J$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Y$.displayName="Bar";var Z$=32,Q$={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function eJ(e){var r,{data:n,iconType:a,inactiveColor:i}=e,o=16,s=Z$/6,l=Z$/3,c=n.inactive?i:n.color,u=null!==a&&void 0!==a?a:n.type;if("none"===u)return null;if("plainline"===u)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(r=n.payload)||void 0===r?void 0:r.strokeDasharray,x1:0,y1:o,x2:Z$,y2:o,className:"recharts-legend-icon"});if("line"===u)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,"\n            H").concat(Z$,"M").concat(2*l,",").concat(o,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if("rect"===u)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(Z$,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(n.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J$(Object(r),!0).forEach(function(t){X$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n);return delete d.legendIcon,t.cloneElement(n.legendIcon,d)}return t.createElement(TY,{fill:c,cx:o,cy:o,size:Z$,sizeType:"diameter",type:u})}function tJ(e){var{payload:r,iconSize:n,layout:a,formatter:i,inactiveColor:o,iconType:s}=e,l={x:0,y:0,width:Z$,height:Z$},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((r,a)=>{var d=r.formatter||i,h=$a({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:r.inactive});if("none"===r.type)return null;var f=r.inactive?o:r.color,p=d?d(r.value,r,a):r.value;return t.createElement("li",$$({className:h,style:c,key:"legend-item-".concat(a)},GH(e,r,a)),t.createElement(IB,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(p," legend icon")},t.createElement(eJ,{data:r,iconType:s,inactiveColor:o})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},p))})}var rJ=e=>{var r=Eq(e,Q$),{payload:n,layout:a,align:i}=r;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===a?i:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:o},t.createElement(tJ,$$({},r,{payload:n})))};var nJ=["contextPayload"];function aJ(){return aJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aJ.apply(null,arguments)}function iJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iJ(Object(r),!0).forEach(function(t){sJ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lJ(e){return e.value}function cJ(e){var{contextPayload:r}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,nJ),a=cV(r,e.payloadUniqBy,lJ),i=oJ(oJ({},n),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"===typeof e.content?t.createElement(e.content,i):t.createElement(rJ,i)}function uJ(e){var r=NA();return(0,t.useEffect)(()=>{r(NU(e))},[r,e]),null}function dJ(e){var r=NA();return(0,t.useEffect)(()=>(r(jU(e)),()=>{r(jU({width:0,height:0}))}),[r,e]),null}var hJ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function fJ(e){var r=Eq(e,hJ),n=EA(PA),a=(0,t.useContext)(oq),i=EA(e=>e.layout.margin),{width:o,height:s,wrapperStyle:l,portal:c}=r,[u,d]=_V([n]),h=_O(),f=SO();if(null==h||null==f)return null;var p=h-((null===i||void 0===i?void 0:i.left)||0)-((null===i||void 0===i?void 0:i.right)||0),m=function(e,t,r,n){return"vertical"===e&&zN(t)?{height:t}:"horizontal"===e?{width:r||n}:null}(r.layout,s,o,p),g=c?l:oJ(oJ({position:"absolute",width:(null===m||void 0===m?void 0:m.width)||o||"auto",height:(null===m||void 0===m?void 0:m.height)||s||"auto"},function(e,t,r,n,a,i){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((n||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),oJ(oJ({},o),s)}(l,r,i,h,f,u)),l),v=null!==c&&void 0!==c?c:a;if(null==v||null==n)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},t.createElement(uJ,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),!c&&t.createElement(dJ,{width:u.width,height:u.height}),t.createElement(cJ,aJ({},r,m,{margin:i,chartWidth:h,chartHeight:f,contextPayload:n})));return(0,Yr.createPortal)(y,v)}function pJ(e){var r=NA();return(0,t.useEffect)(()=>{r(FU(e))},[r,e]),null}fJ.displayName="Legend";var mJ=["layout"];function gJ(){return gJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gJ.apply(null,arguments)}var vJ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},yJ=(0,t.forwardRef)(function(e,r){var n,a=Eq(e.categoricalChartProps,vJ),{layout:i}=a,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,mJ),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return t.createElement(mB,{preloadedState:{options:d},reduxStoreName:null!==(n=a.id)&&void 0!==n?n:s},t.createElement(gB,{chartData:a.data}),t.createElement(wB,{layout:i,margin:a.margin}),t.createElement(jB,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),t.createElement(pJ,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(_q,gJ({},o,{ref:r})))});function xJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xJ(Object(r),!0).forEach(function(t){wJ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jJ=["item"],NJ=bJ(bJ({},vJ),{},{layout:"centric",startAngle:0,endAngle:360}),_J=(0,t.forwardRef)((e,r)=>{var n=Eq(e,NJ);return t.createElement(yJ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:jJ,tooltipPayloadSearcher:Dk,categoricalChartProps:n,ref:r})}),SJ=e=>e.graphicalItems.polarItems,kJ=yA([JI,XI],bM),EJ=yA([SJ,vM,kJ],NM),AJ=yA([EJ],AM),OJ=yA([AJ,UR],CM),CJ=yA([OJ,vM,EJ],TM),PJ=(yA([OJ,vM,EJ],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:qA(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:qA(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),()=>{}),TJ=yA([OJ,vM,EJ,$M,JI],XM),DJ=yA([vM,KM,GM,PJ,TJ,PJ,kO,JI],pL),RJ=yA([vM,kO,OJ,CJ,uI,JI,DJ],vL),IJ=yA([RJ,vM,bL],jL);yA([vM,RJ,IJ,JI],_L);function MJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MJ(Object(r),!0).forEach(function(t){zJ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FJ=yA([SJ,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),UJ=[],BJ=(e,t,r)=>0===(null===r||void 0===r?void 0:r.length)?UJ:r,qJ=yA([UR,FJ,BJ],(e,t,r)=>{var n,{chartData:a}=e;if(null!=t&&((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&n.length||null==r||(n=r.map(e=>LJ(LJ({},t.presentationProps),e.props))),null!=n))return n}),HJ=yA([qJ,FJ,BJ],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,n)=>{var a,i,o=qA(e,t.nameKey,t.name);return i=null!==r&&void 0!==r&&null!==(a=r[n])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?r[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:tO(o,t.dataKey),color:i,payload:e,type:t.legendType}})}),WJ=yA([qJ,FJ,BJ,fO],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:a,displayedData:i,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=aX(c,u),g=Math.abs(m),v=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,y=i.filter(e=>0!==qA(e,d,0)).length,x=g-y*p-(g>=360?y:y-1)*v,b=i.reduce((e,t)=>{var r=qA(t,d,0);return e+(zN(r)?r:0)},0);b>0&&(r=i.map((e,t)=>{var r,i=qA(e,d,0),u=qA(e,h,t),g=nX(a,s,e),y=(zN(i)?i:0)/b,w=JJ(JJ({},e),o&&o[t]&&o[t].props),j=(r=t?n.endAngle+IN(m)*v*(0!==i?1:0):c)+IN(m)*((0!==i?p:0)+y*x),N=(r+j)/2,_=(g.innerRadius+g.outerRadius)/2,S=[{name:u,value:i,payload:w,dataKey:d,type:f}],k=wI(g.cx,g.cy,_,N);return n=JJ(JJ(JJ(JJ({},a.presentationProps),{},{percent:y,cornerRadius:"string"===typeof l?parseFloat(l):l,name:u,tooltipPayload:S,midAngle:N,middleRadius:_,tooltipPosition:k},w),g),{},{value:i,dataKey:d,startAngle:r,endAngle:j,payload:w,paddingAngle:IN(m)*v})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),VJ=["key"],KJ=["onMouseEnter","onClick","onMouseLeave"],GJ=["id"],YJ=["id"];function $J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function JJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$J(Object(r),!0).forEach(function(t){XJ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$J(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function XJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJ(){return ZJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZJ.apply(null,arguments)}function QJ(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eX(e){var r=(0,t.useMemo)(()=>KG(e.children,EG),[e.children]),n=EA(t=>HJ(t,e.id,r));return null==n?null:t.createElement(y$,{legendPayload:n})}var tX=t.memo(e=>{var{dataKey:r,nameKey:n,sectors:a,stroke:i,strokeWidth:o,fill:s,name:l,hide:c,tooltipType:u}=e,d={dataDefinedOnItem:a.map(e=>e.tooltipPayload),positions:a.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:s,dataKey:r,nameKey:n,name:tO(l,r),hide:c,type:u,color:s,unit:""}};return t.createElement(XY,{tooltipEntrySettings:d})}),rX=(e,t)=>e>t?"start":e<t?"end":"middle",nX=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,s=jI(i,o),l=a+qN(e.cx,i,i/2),c=n+qN(e.cy,o,o/2),u=qN(e.innerRadius,s,0),d=((e,t,r)=>qN("function"===typeof t?t(e):t,r,.8*r))(r,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}},aX=(e,t)=>IN(t-e)*Math.min(Math.abs(t-e),360);function iX(e){var{sectors:r,props:n,showLabels:a}=e,{label:i,labelLine:o,dataKey:s}=n;if(!a||!i||!r)return null;var l=OB(n),c=CB(i),u=CB(o),d="object"===typeof i&&"offsetRadius"in i&&"number"===typeof i.offsetRadius&&i.offsetRadius||20,h=r.map((e,r)=>{var n=(e.startAngle+e.endAngle)/2,a=wI(e.cx,e.cy,e.outerRadius+d,n),h=JJ(JJ(JJ(JJ({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:rX(a.x,e.cx)},a),f=JJ(JJ(JJ(JJ({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[wI(e.cx,e.cy,e.outerRadius,n),a],key:"line"});return t.createElement(AH,{zIndex:kI.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},t.createElement(eH,null,o&&((e,r)=>{if(t.isValidElement(e))return t.cloneElement(e,r);if("function"===typeof e)return e(r);var n=$a("recharts-pie-label-line","boolean"!==typeof e?e.className:""),{key:a}=r,i=QJ(r,VJ);return t.createElement(dK,ZJ({},i,{type:"linear",className:n}))})(o,f),((e,r,n)=>{if(t.isValidElement(e))return t.cloneElement(e,r);var a=n;if("function"===typeof e&&(a=e(r),t.isValidElement(a)))return a;var i,o=$a("recharts-pie-label-text",(i=e)&&"object"===typeof i&&"className"in i&&"string"===typeof i.className?i.className:"");return t.createElement(EH,ZJ({},r,{alignmentBaseline:"middle",className:o}),a)})(i,h,qA(e,s))))});return t.createElement(eH,{className:"recharts-pie-labels"},h)}function oX(e){var{sectors:r,props:n,showLabels:a}=e,{label:i}=n;return"object"===typeof i&&null!=i&&"position"in i?t.createElement(UG,{label:i}):t.createElement(iX,{sectors:r,props:n,showLabels:a})}function sX(e){var{sectors:r,activeShape:n,inactiveShape:a,allOtherPieProps:i,shape:o,id:s}=e,l=EA(sF),c=EA(cF),u=EA(uF),{onMouseEnter:d,onClick:h,onMouseLeave:f}=i,p=QJ(i,KJ),m=YY(d,i.dataKey,s),g=$Y(f),v=JY(h,i.dataKey,s);return null==r||0===r.length?null:t.createElement(t.Fragment,null,r.map((e,d)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==r.length)return null;var h=null==u||u===s,f=String(d)===l&&(null==c||i.dataKey===c)&&h,y=n&&f?n:l?a:null,x=JJ(JJ({},e),{},{stroke:e.stroke,tabIndex:-1,[lO]:d,[cO]:i.dataKey});return t.createElement(eH,ZJ({key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(d),tabIndex:-1,className:"recharts-pie-sector"},GH(p,e,d),{onMouseEnter:m(e,d),onMouseLeave:g(e,d),onClick:v(e,d)}),t.createElement(FY,ZJ({option:null!==o&&void 0!==o?o:y,index:d,shapeType:"sector",isActive:f},x)))}))}function lX(e){var{showLabels:r,sectors:n,children:a}=e,i=(0,t.useMemo)(()=>r&&n?n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[n,r]);return t.createElement(zG,{value:r?i:void 0},a)}function cX(e){var{props:r,previousSectorsRef:n,id:a}=e,{sectors:i,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:f}=r,p=VK(r,"recharts-pie-"),m=n.current,[g,v]=(0,t.useState)(!1),y=(0,t.useCallback)(()=>{"function"===typeof f&&f(),v(!1)},[f]),x=(0,t.useCallback)(()=>{"function"===typeof h&&h(),v(!0)},[h]);return t.createElement(lX,{showLabels:!g,sectors:i},t.createElement(WK,{animationId:p,begin:s,duration:l,isActive:o,easing:c,onAnimationStart:x,onAnimationEnd:y,key:p},e=>{var o=[],s=i&&i[0],l=null===s||void 0===s?void 0:s.startAngle;return null===i||void 0===i||i.forEach((t,r)=>{var n=m&&m[r],a=r>0?RN()(t,"paddingAngle",0):0;if(n){var i=WN(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),s=JJ(JJ({},t),{},{startAngle:l+a,endAngle:l+i+a});o.push(s),l=s.endAngle}else{var{endAngle:c,startAngle:u}=t,d=WN(0,c-u,e),h=JJ(JJ({},t),{},{startAngle:l+a,endAngle:l+d+a});o.push(h),l=h.endAngle}}),n.current=o,t.createElement(eH,null,t.createElement(sX,{sectors:o,activeShape:u,inactiveShape:d,allOtherPieProps:r,shape:r.shape,id:a}))}),t.createElement(oX,{showLabels:!g,sectors:i,props:r}),r.children)}var uX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:kI.area};function dX(e){var{id:r}=e,n=QJ(e,GJ),{hide:a,className:i,rootTabIndex:o}=e,s=(0,t.useMemo)(()=>KG(e.children,EG),[e.children]),l=EA(e=>WJ(e,r,s)),c=(0,t.useRef)(null),u=$a("recharts-pie",i);return a||null==l?(c.current=null,t.createElement(eH,{tabIndex:o,className:u})):t.createElement(AH,{zIndex:e.zIndex},t.createElement(tX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),t.createElement(eH,{tabIndex:o,className:u},t.createElement(cX,{props:JJ(JJ({},n),{},{sectors:l}),previousSectorsRef:c,id:r})))}function hX(e){var r=Eq(e,uX),{id:n}=r,a=QJ(r,YJ),i=OB(a);return t.createElement(b$,{id:n,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(N$,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:i,maxRadius:r.maxRadius}),t.createElement(eX,ZJ({},a,{id:e})),t.createElement(dX,ZJ({},a,{id:e}))))}hX.displayName="Pie";const fX=()=>{var e,r;const[n,a]=(0,t.useState)({totalUsers:0,totalArtists:0,totalAlbums:0,totalTracks:0,totalPlays:0,totalDownloads:0,albums:[],regions:{}}),[i,s]=(0,t.useState)(!0),[l,c]=(0,t.useState)("7"),[u,d]=(0,t.useState)("general"),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)("plays");(0,t.useEffect)(()=>{g()},[l,u,h]);const g=async()=>{try{const{count:e}=await br.from("auth.users").select("*",{count:"exact",head:!0}),{data:t}=await br.from("artists").select("id"),{data:r}=await br.from("albums").select("id"),{data:n}=await br.from("tracks").select("id"),i=new Date;i.setDate(i.getDate()-parseInt(l));const{data:s}=await br.from("plays").select("album_id, created_at").gte("created_at",i.toISOString()),{data:c}=await br.from("downloads").select("album_id, created_at").gte("created_at",i.toISOString()),u={};null===s||void 0===s||s.forEach(e=>{u[e.album_id]||(u[e.album_id]={plays:0,downloads:0}),u[e.album_id].plays++}),null===c||void 0===c||c.forEach(e=>{u[e.album_id]||(u[e.album_id]={plays:0,downloads:0}),u[e.album_id].downloads++});const{data:d}=await br.from("albums").select("id, title, slug, artist_id, play_count, download_count").in("id",Object.keys(u)),h=[...new Set((null===d||void 0===d?void 0:d.map(e=>e.artist_id))||[])],{data:f}=await br.from("artists").select("id, name, slug").in("id",h),p={};null===f||void 0===f||f.forEach(e=>{p[e.id]=e});const m=(null===d||void 0===d?void 0:d.map(e=>{var t,r;return(0,o.A)((0,o.A)({},e),{},{artist:p[e.artist_id],plays:(null===(t=u[e.id])||void 0===t?void 0:t.plays)||0,downloads:(null===(r=u[e.id])||void 0===r?void 0:r.downloads)||0})}).sort((e,t)=>t.plays+t.downloads-(e.plays+e.downloads)))||[],g=Object.values(u).reduce((e,t)=>e+t.plays,0),v=Object.values(u).reduce((e,t)=>e+t.downloads,0);a({totalUsers:e||0,totalArtists:(null===t||void 0===t?void 0:t.length)||0,totalAlbums:(null===r||void 0===r?void 0:r.length)||0,totalTracks:(null===n||void 0===n?void 0:n.length)||0,totalPlays:g,totalDownloads:v,albums:m,regions:{}})}catch(e){console.error("Error loading statistics:",e)}s(!1)},v=["#dc2626","#ea580c","#f59e0b","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6"],y=e=>{let{icon:t,label:r,value:n,color:a}=e;return(0,jr.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:(0,jr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:r}),(0,jr.jsx)("p",{className:"text-3xl font-bold mt-2 ".concat(a),children:n.toLocaleString("pt-BR")})]}),(0,jr.jsx)(t,{className:"w-12 h-12 ".concat(a," opacity-20")})]})})};return i?(0,jr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Estat\xedsticas do Site"}),(0,jr.jsx)("p",{className:"text-gray-600 mt-1",children:"An\xe1lise de uso e dados gerais"})]}),(0,jr.jsx)("div",{className:"flex gap-2",children:["7","30","90"].map(e=>(0,jr.jsxs)("button",{onClick:()=>c(e),className:"px-4 py-2 rounded-lg font-medium transition ".concat(l===e?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["\xdaltimos ",e," dias"]},e))})]}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)("button",{onClick:()=>{d("general"),f(null)},className:"px-4 py-2 rounded-lg font-medium transition ".concat("general"===u?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Vis\xe3o Geral"}),(0,jr.jsx)("button",{onClick:()=>d("album"),className:"px-4 py-2 rounded-lg font-medium transition ".concat("album"===u?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Por \xc1lbum"})]}),"album"===u&&(0,jr.jsxs)("select",{value:(null===h||void 0===h?void 0:h.id)||"",onChange:e=>{const t=n.albums.find(t=>t.id===e.target.value);f(t||null)},className:"px-4 py-2 border border-gray-300 rounded-lg",children:[(0,jr.jsx)("option",{value:"",children:"Selecione um \xe1lbum..."}),n.albums.map(e=>{var t;return(0,jr.jsxs)("option",{value:e.id,children:[e.title," - ",(null===(t=e.artist)||void 0===t?void 0:t.name)||"Artista desconhecido"]},e.id)})]}),(0,jr.jsx)("div",{className:"border-t-2 border-gray-200"}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,jr.jsx)(y,{icon:gp,label:"Usu\xe1rios Registrados",value:n.totalUsers,color:"text-blue-600"}),(0,jr.jsx)(y,{icon:gp,label:"Artistas",value:n.totalArtists,color:"text-purple-600"}),(0,jr.jsx)(y,{icon:bN,label:"general"===u?"Total de Plays":h?"Plays":"Total de Plays",value:"general"===u?n.totalPlays:(null===h||void 0===h?void 0:h.plays)||0,color:"text-green-600"}),(0,jr.jsx)(y,{icon:Dp,label:"general"===u?"Total de Downloads":h?"Downloads":"Total de Downloads",value:"general"===u?n.totalDownloads:(null===h||void 0===h?void 0:h.downloads)||0,color:"text-red-600"})]}),"general"===u&&(0,jr.jsxs)("div",{className:"space-y-8",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"An\xe1lise de Performance"}),(0,jr.jsx)("p",{className:"text-gray-600",children:"Visualiza\xe7\xe3o dos principais indicadores de uso"})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Top 10 \xc1lbuns - Plays"}),n.albums.length>0?(0,jr.jsx)(h_,{width:"100%",height:300,children:(0,jr.jsxs)(Tq,{data:n.albums.slice(0,10),children:[(0,jr.jsx)(NW,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,jr.jsx)(LW,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:10}}),(0,jr.jsx)(KW,{}),(0,jr.jsx)(kG,{}),(0,jr.jsx)(Y$,{dataKey:"plays",fill:"#22c55e",radius:[8,8,0,0]})]})}):(0,jr.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Sem dados"})]}),(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compara\xe7\xe3o: Plays vs Downloads"}),n.albums.length>0?(0,jr.jsx)(h_,{width:"100%",height:300,children:(0,jr.jsxs)(Tq,{data:n.albums.slice(0,10),children:[(0,jr.jsx)(NW,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,jr.jsx)(LW,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:10}}),(0,jr.jsx)(KW,{}),(0,jr.jsx)(kG,{}),(0,jr.jsx)(fJ,{}),(0,jr.jsx)(Y$,{dataKey:"plays",fill:"#22c55e",radius:[8,8,0,0],name:"Plays"}),(0,jr.jsx)(Y$,{dataKey:"downloads",fill:"#0ea5e9",radius:[8,8,0,0],name:"Downloads"})]})}):(0,jr.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Sem dados"})]})]}),(0,jr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Top 10 \xc1lbuns - Downloads"}),n.albums.length>0?(0,jr.jsx)(h_,{width:"100%",height:300,children:(0,jr.jsxs)(Tq,{data:n.albums.slice(0,10),children:[(0,jr.jsx)(NW,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,jr.jsx)(LW,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:10}}),(0,jr.jsx)(KW,{}),(0,jr.jsx)(kG,{}),(0,jr.jsx)(Y$,{dataKey:"downloads",fill:"#0ea5e9",radius:[8,8,0,0]})]})}):(0,jr.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Sem dados"})]}),(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Distribui\xe7\xe3o de Acessos (Top 5)"}),n.albums.length>0?(0,jr.jsx)(h_,{width:"100%",height:300,children:(0,jr.jsxs)(_J,{children:[(0,jr.jsx)(hX,{data:n.albums.slice(0,5).map(e=>({name:e.title,value:e.plays+e.downloads})),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,value:r}=e;return"".concat(t,": ").concat(r)},outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.albums.slice(0,5).map((e,t)=>(0,jr.jsx)(EG,{fill:v[t%v.length]},"cell-".concat(t)))}),(0,jr.jsx)(kG,{})]})}):(0,jr.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Sem dados"})]})]})]}),"general"===u&&(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,jr.jsx)(Ex,{className:"w-5 h-5 text-red-600"}),"P\xfablico por Regi\xe3o"]}),(0,jr.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"Distribui\xe7\xe3o global de acessos (simula\xe7\xe3o - mapa interativo em desenvolvimento)"}),n.albums.length>0?(0,jr.jsx)("div",{className:"w-full h-96 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg p-4 flex items-center justify-center border-2 border-dashed border-blue-200",children:(0,jr.jsxs)("div",{className:"text-center",children:[(0,jr.jsx)(Ex,{className:"w-16 h-16 text-blue-300 mx-auto mb-4"}),(0,jr.jsx)("p",{className:"text-gray-600 font-medium",children:"Mapa Interativo em Desenvolvimento"}),(0,jr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Ser\xe1 exibido aqui quando dados de geolocaliza\xe7\xe3o forem coletados"})]})}):(0,jr.jsx)("div",{className:"h-96 flex items-center justify-center text-gray-500",children:"Sem dados de geolocaliza\xe7\xe3o"})]}),(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Acessos por Pa\xeds"}),(0,jr.jsx)("div",{className:"overflow-x-auto",children:(0,jr.jsxs)("table",{className:"w-full",children:[(0,jr.jsx)("thead",{children:(0,jr.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,jr.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Pa\xeds"}),(0,jr.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Acessos"}),(0,jr.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Plays"}),(0,jr.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Downloads"}),(0,jr.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"% do Total"})]})}),(0,jr.jsxs)("tbody",{children:[(0,jr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,jr.jsx)("td",{className:"py-3 px-4 text-gray-900 font-medium",children:"\ud83c\udde7\ud83c\uddf7 Brasil"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-bold",children:n.totalPlays+n.totalDownloads}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900",children:n.totalPlays}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900",children:n.totalDownloads}),(0,jr.jsx)("td",{className:"text-right py-3 px-4",children:(0,jr.jsx)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded",children:"100%"})})]}),(0,jr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,jr.jsx)("td",{className:"py-3 px-4 text-gray-600",children:"\ud83c\uddfa\ud83c\uddf8 Estados Unidos"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4",children:(0,jr.jsx)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"0%"})})]}),(0,jr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,jr.jsx)("td",{className:"py-3 px-4 text-gray-600",children:"\ud83c\uddf5\ud83c\uddf9 Portugal"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4",children:(0,jr.jsx)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"0%"})})]}),(0,jr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,jr.jsx)("td",{className:"py-3 px-4 text-gray-600",children:"\ud83c\udde6\ud83c\uddf7 Argentina"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-600",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4",children:(0,jr.jsx)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"0%"})})]}),(0,jr.jsxs)("tr",{className:"bg-gray-50",children:[(0,jr.jsx)("td",{className:"py-3 px-4 text-gray-900 font-semibold",children:"Outros"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-semibold",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-semibold",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-semibold",children:"0"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4",children:(0,jr.jsx)("span",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded font-semibold",children:"0%"})})]})]})]})}),(0,jr.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-900",children:[(0,jr.jsx)("p",{className:"font-medium mb-2",children:"\u2139\ufe0f Dados de Geolocaliza\xe7\xe3o"}),(0,jr.jsx)("p",{children:"Para rastrear de onde vem o p\xfablico, \xe9 necess\xe1rio implementar geolocaliza\xe7\xe3o por IP. Isso ser\xe1 implementado na pr\xf3xima vers\xe3o."})]})]})]}),"general"===u&&(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Detalhes de Acessos por \xc1lbum"}),(0,jr.jsx)("div",{className:"overflow-x-auto",children:(0,jr.jsxs)("table",{className:"w-full",children:[(0,jr.jsx)("thead",{children:(0,jr.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,jr.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"\xc1lbum"}),(0,jr.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Artista"}),(0,jr.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Plays"}),(0,jr.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Downloads"}),(0,jr.jsx)("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total"})]})}),(0,jr.jsx)("tbody",{children:n.albums.slice(0,20).map((e,t)=>{var r,n;const a=e.plays+e.downloads;return(0,jr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,jr.jsx)("td",{className:"py-3 px-4 text-gray-900",children:(0,jr.jsx)("a",{href:"http://localhost:3000/".concat(null===(r=e.artist)||void 0===r?void 0:r.slug,"/").concat(e.slug),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.title})}),(0,jr.jsx)("td",{className:"py-3 px-4 text-gray-900",children:(null===(n=e.artist)||void 0===n?void 0:n.name)||"Desconhecido"}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-medium",children:e.plays.toLocaleString("pt-BR")}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-medium",children:e.downloads.toLocaleString("pt-BR")}),(0,jr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900 font-bold text-red-600",children:a.toLocaleString("pt-BR")})]},t)})})]})})]}),"album"===u&&h&&(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["An\xe1lise do \xc1lbum - ",h.title]}),(0,jr.jsx)(h_,{width:"100%",height:300,children:(0,jr.jsxs)(Tq,{data:[{name:"Plays",value:h.plays},{name:"Downloads",value:h.downloads}],children:[(0,jr.jsx)(NW,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,jr.jsx)(LW,{dataKey:"name"}),(0,jr.jsx)(KW,{}),(0,jr.jsx)(kG,{}),(0,jr.jsx)(Y$,{dataKey:"value",fill:"#dc2626",radius:[8,8,0,0]})]})})]}),"album"===u&&h&&(0,jr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:h.title}),(0,jr.jsxs)("div",{className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm",children:"Artista"}),(0,jr.jsx)("p",{className:"text-gray-900 font-medium",children:null===(e=h.artist)||void 0===e?void 0:e.name})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm",children:"Total de Plays"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:h.plays.toLocaleString("pt-BR")})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm",children:"Total de Downloads"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:h.downloads.toLocaleString("pt-BR")})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("p",{className:"text-gray-600 text-sm",children:"Total de Intera\xe7\xf5es"}),(0,jr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:(h.plays+h.downloads).toLocaleString("pt-BR")})]})]})]}),(0,jr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,jr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Link do \xc1lbum"}),(0,jr.jsxs)("div",{className:"space-y-4",children:[(0,jr.jsx)("input",{type:"text",value:"http://localhost:3000/".concat(null===(r=h.artist)||void 0===r?void 0:r.slug,"/").concat(h.slug),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,jr.jsx)("button",{onClick:()=>{var e;navigator.clipboard.writeText("http://localhost:3000/".concat(null===(e=h.artist)||void 0===e?void 0:e.slug,"/").concat(h.slug)),alert("Link copiado!")},className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Copiar Link"})]})]})]}),(0,jr.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-900",children:[(0,jr.jsx)("p",{className:"font-medium mb-2",children:"\u2139\ufe0f Informa\xe7\xf5es sobre as estat\xedsticas:"}),(0,jr.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,jr.jsx)("li",{children:"Os dados s\xe3o coletados automaticamente quando usu\xe1rios fazem plays ou downloads"}),(0,jr.jsx)("li",{children:"Voc\xea pode filtrar por per\xedodo de tempo (7, 30 ou 90 dias)"}),(0,jr.jsx)("li",{children:'Clique em "Por \xc1lbum" para ver estat\xedsticas detalhadas de cada \xe1lbum'}),(0,jr.jsx)("li",{children:"Geolocaliza\xe7\xe3o de regi\xf5es em desenvolvimento"})]})]})]})},pX=()=>{const{user:e}=_r(),[r,n]=(0,t.useState)({email:(null===e||void 0===e?void 0:e.email)||"",avatar_url:null}),[a,i]=(0,t.useState)(null),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)({current:"",new:"",confirm:""});(0,t.useEffect)(()=>{m()},[null===e||void 0===e?void 0:e.id]);const m=async()=>{if(null===e||void 0===e||!e.id)return;const{data:t,error:r}=await br.from("admin_users").select("*").eq("id",e.id).maybeSingle();t&&(n({email:t.email||e.email,avatar_url:t.avatar_url}),t.avatar_url&&i(t.avatar_url))};return(0,jr.jsxs)("div",{className:"space-y-6",children:[(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,jr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Avatar do Administrador"}),(0,jr.jsxs)("div",{className:"flex items-center gap-6",children:[(0,jr.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:a?(0,jr.jsx)("img",{src:a,alt:"Admin avatar",className:"w-full h-full object-cover"}):(0,jr.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-2xl font-bold",children:"A"})}),(0,jr.jsxs)("div",{className:"flex-1",children:[(0,jr.jsxs)("label",{className:"block",children:[(0,jr.jsx)("input",{type:"file",accept:"image/*",onChange:async t=>{var r;const a=null===(r=t.target.files)||void 0===r?void 0:r[0];if(a){u(!0);try{const t="admin-".concat(e.id,"-").concat(Date.now(),".").concat(a.name.split(".").pop()),{error:r}=await br.storage.from("avatars").upload("admin/".concat(t),a,{upsert:!0});if(r)throw r;const{data:s}=br.storage.from("avatars").getPublicUrl("admin/".concat(t)),l=null===s||void 0===s?void 0:s.publicUrl;n(e=>(0,o.A)((0,o.A)({},e),{},{avatar_url:l})),i(l),Gr({title:"Sucesso",description:"Avatar atualizado com sucesso!"})}catch(s){console.error("Upload error:",s),Gr({title:"Erro",description:"Erro ao fazer upload da imagem",variant:"destructive"})}finally{u(!1)}}},disabled:c,className:"hidden"}),(0,jr.jsxs)(ds,{type:"button",onClick:e=>e.target.closest("label").querySelector("input").click(),disabled:c,className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",children:[(0,jr.jsx)(Ko,{className:"w-4 h-4"}),c?"Enviando...":"Alterar Avatar"]})]}),(0,jr.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"M\xe1ximo 5MB. Formatos: JPG, PNG"})]})]})]}),(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,jr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email"}),(0,jr.jsx)("div",{className:"space-y-4",children:(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,jr.jsx)(Zo,{type:"email",value:r.email,onChange:e=>n(t=>(0,o.A)((0,o.A)({},t),{},{email:e.target.value})),className:"w-full"})]})})]}),(0,jr.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,jr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Seguran\xe7a"}),d?(0,jr.jsxs)("div",{className:"space-y-4",children:[(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha Atual"}),(0,jr.jsx)(Zo,{type:"password",value:f.current,onChange:e=>p(t=>(0,o.A)((0,o.A)({},t),{},{current:e.target.value})),placeholder:"Digite sua senha atual",className:"w-full"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),(0,jr.jsx)(Zo,{type:"password",value:f.new,onChange:e=>p(t=>(0,o.A)((0,o.A)({},t),{},{new:e.target.value})),placeholder:"Digite a nova senha",className:"w-full"})]}),(0,jr.jsxs)("div",{children:[(0,jr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha"}),(0,jr.jsx)(Zo,{type:"password",value:f.confirm,onChange:e=>p(t=>(0,o.A)((0,o.A)({},t),{},{confirm:e.target.value})),placeholder:"Confirme a nova senha",className:"w-full"})]}),(0,jr.jsxs)("div",{className:"flex gap-2",children:[(0,jr.jsx)(ds,{onClick:async()=>{if(f.new&&f.confirm)if(f.new===f.confirm)if(f.new.length<6)Gr({title:"Erro",description:"A senha deve ter no m\xednimo 6 caracteres",variant:"destructive"});else{l(!0);try{const{error:e}=await br.auth.updateUser({password:f.new});if(e)throw e;p({current:"",new:"",confirm:""}),h(!1),Gr({title:"Sucesso",description:"Senha alterada com sucesso!"})}catch(e){console.error("Password change error:",e),Gr({title:"Erro",description:e.message||"Erro ao alterar senha",variant:"destructive"})}finally{l(!1)}}else Gr({title:"Erro",description:"As senhas n\xe3o coincidem",variant:"destructive"});else Gr({title:"Erro",description:"Preencha todos os campos de senha",variant:"destructive"})},disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Alterando...":"Alterar Senha"}),(0,jr.jsx)(ds,{onClick:()=>{h(!1),p({current:"",new:"",confirm:""})},variant:"outline",children:"Cancelar"})]})]}):(0,jr.jsxs)(ds,{onClick:()=>h(!0),className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",children:[(0,jr.jsx)(bx,{className:"w-4 h-4"}),"Alterar Senha"]})]}),(0,jr.jsx)("div",{className:"bg-white rounded-lg p-6",children:(0,jr.jsxs)(ds,{onClick:async()=>{l(!0);try{const{error:t}=await br.from("admin_users").update({email:r.email,avatar_url:r.avatar_url}).eq("id",e.id);if(t)throw t;Gr({title:"Sucesso",description:"Configura\xe7\xf5es atualizadas com sucesso!"})}catch(t){console.error("Save error:",t),Gr({title:"Erro",description:"Erro ao salvar configura\xe7\xf5es",variant:"destructive"})}finally{l(!1)}},disabled:s,className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-2 w-full justify-center",children:[(0,jr.jsx)(hN,{className:"w-4 h-4"}),s?"Salvando...":"Salvar Configura\xe7\xf5es"]})})]})},mX=()=>{var e,r;const{user:n}=_r(),a=me(),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)("slides"),[d,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{f()},[n]);const f=async()=>{if(null===n||void 0===n||!n.id)return void a("/login");const{data:e,error:t}=await br.from("admin_users").select("*").eq("id",n.id).maybeSingle();e?(o(!0),h(e)):(Gr({title:"Acesso Negado",description:"Voc\xea n\xe3o tem permiss\xe3o de administrador",variant:"destructive"}),a("/")),l(!1)};if(s)return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})});if(!i)return null;const p=[{id:"slides",label:"Hero Slider",icon:_x},{id:"albums",label:"Gerenciar \xc1lbuns",icon:Gm},{id:"recommended",label:"Recomendados",icon:NN},{id:"popup",label:"Pop-up Home",icon:vp},{id:"support",label:"Suporte",icon:xx},{id:"statistics",label:"Estat\xedsticas",icon:Yo},{id:"settings",label:"Configura\xe7\xf5es",icon:Ho}];return(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:(0,jr.jsxs)("div",{className:"flex flex-1",children:[(0,jr.jsxs)("div",{className:"w-64 bg-white shadow-lg border-r border-gray-200 flex flex-col",children:[(0,jr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,jr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,jr.jsx)("img",{src:(null===n||void 0===n||null===(e=n.user_metadata)||void 0===e?void 0:e.avatar_url)||(null===d||void 0===d?void 0:d.avatar_url)||(null===d||void 0===d?void 0:d.photo)||"https://via.placeholder.com/48",alt:"Admin",className:"w-12 h-12 rounded-full object-cover bg-gray-200",onError:e=>e.target.src="https://via.placeholder.com/48"}),(0,jr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jr.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:(null===n||void 0===n||null===(r=n.user_metadata)||void 0===r?void 0:r.name)||(null===d||void 0===d?void 0:d.name)||"Admin"}),(0,jr.jsx)("p",{className:"text-xs text-gray-500",children:"Administrador"})]})]})}),(0,jr.jsx)("div",{className:"p-6 space-y-1 flex-1",children:p.map(e=>{const t=e.icon;return(0,jr.jsxs)("button",{onClick:()=>u(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-left ".concat(c===e.id?"bg-red-50 text-red-600 font-medium":"text-gray-700 hover:bg-gray-100"),children:[(0,jr.jsx)(t,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:e.label})]},e.id)})}),(0,jr.jsx)("div",{className:"absolute bottom-6 left-6 w-52",children:(0,jr.jsxs)("button",{onClick:async()=>{await br.auth.signOut(),a("/login")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors text-left font-medium",children:[(0,jr.jsx)(Wo,{className:"w-5 h-5"}),(0,jr.jsx)("span",{children:"Sair"})]})})]}),(0,jr.jsx)("div",{className:"flex-1 overflow-auto",children:(0,jr.jsx)("div",{className:"p-8",children:(()=>{switch(c){case"slides":return(0,jr.jsx)(SN,{});case"albums":return(0,jr.jsx)(EN,{});case"recommended":return(0,jr.jsx)(AN,{});case"popup":return(0,jr.jsx)(CN,{});case"support":return(0,jr.jsx)(ON,{});case"statistics":return(0,jr.jsx)(fX,{});case"settings":return(0,jr.jsx)(pX,{});default:return null}})()})})]})})},gX=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(!1),s=me();return(0,jr.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-600 to-red-700 flex items-center justify-center p-4",children:(0,jr.jsxs)("div",{className:"w-full max-w-md",children:[(0,jr.jsxs)("div",{className:"text-center mb-8",children:[(0,jr.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,jr.jsx)(bx,{className:"w-12 h-12 text-white"}),(0,jr.jsx)("h1",{className:"text-4xl font-bold text-white",children:"RedMusic"})]}),(0,jr.jsx)("p",{className:"text-red-100",children:"Painel de Administrador"})]}),(0,jr.jsxs)(qm,{className:"bg-white shadow-2xl",children:[(0,jr.jsxs)(Hm,{children:[(0,jr.jsx)(Wm,{className:"text-black",children:"Acesso Admin"}),(0,jr.jsx)(Vm,{className:"text-gray-600",children:"Apenas administradores podem acessar este painel"})]}),(0,jr.jsxs)(Km,{children:[(0,jr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n){o(!0);try{const{data:t,error:r}=await br.auth.signInWithPassword({email:e,password:n});if(r)return Gr({title:"Erro",description:r.message||"Email ou senha incorretos",variant:"destructive"}),void o(!1);const{data:a,error:i}=await br.from("admin_users").select("*").eq("id",t.user.id).maybeSingle();if(!a)return await br.auth.signOut(),Gr({title:"Acesso Negado",description:"Esta conta n\xe3o tem permiss\xe3o de administrador",variant:"destructive"}),void o(!1);Gr({title:"Login realizado!",description:"Bem-vindo ao painel admin"}),s("/admin")}catch(r){Gr({title:"Erro",description:"Ocorreu um erro ao fazer login",variant:"destructive"})}o(!1)}else Gr({title:"Erro",description:"Por favor, insira email e senha",variant:"destructive"})},className:"space-y-4",children:[(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"email",className:"text-black font-semibold",children:"E-mail de Admin"}),(0,jr.jsx)(Zo,{id:"email",type:"email",placeholder:"admin@email.com",value:e,onChange:e=>r(e.target.value),className:"bg-gray-50 border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)("div",{className:"space-y-2",children:[(0,jr.jsx)(Im,{htmlFor:"password",className:"text-black font-semibold",children:"Senha"}),(0,jr.jsx)(Zo,{id:"password",type:"password",placeholder:"Sua senha",value:n,onChange:e=>a(e.target.value),className:"bg-gray-50 border-gray-300 text-black",required:!0})]}),(0,jr.jsxs)(ds,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold",disabled:i,children:[(0,jr.jsx)(bx,{className:"w-4 h-4 mr-2"}),i?"Autenticando...":"Entrar no Painel Admin"]})]}),(0,jr.jsxs)("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg text-sm text-red-800",children:[(0,jr.jsx)("p",{className:"font-semibold mb-2",children:"\u26a0\ufe0f Aten\xe7\xe3o"}),(0,jr.jsx)("p",{children:"Este \xe9 um painel restrito. Apenas contas autorizadas podem acessar."})]})]})]})]})})},vX=e=>{let{children:r}=e;const[n,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{s()},[]);const s=async()=>{try{const{data:{session:e}}=await br.auth.getSession();if(null===e||void 0===e||!e.user)return a(!1),void o(!1);const{data:t}=await br.from("admin_users").select("id").eq("id",e.user.id).maybeSingle();a(!!t),o(!1)}catch(e){console.error("Erro ao verificar acesso admin:",e),a(!1),o(!1)}};return i?(0,jr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):n?r:(0,jr.jsx)(De,{to:"/admin/login",replace:!0})},yX=()=>((()=>{const{currentSong:e,isCompactMode:r}=zr();(0,t.useEffect)(()=>(e&&!r?document.body.classList.add("player-active"):document.body.classList.remove("player-active"),()=>{document.body.classList.remove("player-active")}),[e,r])})(),null),xX=()=>{const{pathname:e}=he();return(0,t.useEffect)(()=>{window.scrollTo(0,0)},[e]),null},bX=e=>{let{children:t}=e;const{user:r,loading:n}=_r();return n?(0,jr.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,jr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):r?t:(0,jr.jsx)(De,{to:"/login",replace:!0})},wX=e=>{let{children:t,showFooter:r=!0}=e;return(0,jr.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,jr.jsx)(bp,{}),(0,jr.jsx)("main",{className:"flex-1",children:t}),r&&(0,jr.jsx)(Sp,{}),(0,jr.jsx)(Am,{})]})},jX=e=>{let{children:t}=e;return(0,jr.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[(0,jr.jsx)(bp,{}),(0,jr.jsx)("main",{className:"flex-1",children:t}),(0,jr.jsx)(Am,{})]})};function NX(){const{user:e}=_r();return(0,jr.jsxs)(Me,{children:[(0,jr.jsx)(Re,{path:"/login",element:e?(0,jr.jsx)(De,{to:"/",replace:!0}):(0,jr.jsx)($m,{})}),(0,jr.jsx)(Re,{path:"/cadastrar",element:e?(0,jr.jsx)(De,{to:"/",replace:!0}):(0,jr.jsx)(Uv,{})}),(0,jr.jsx)(Re,{path:"/",element:(0,jr.jsx)(wX,{children:(0,jr.jsx)($v,{})})}),(0,jr.jsx)(Re,{path:"/:artistSlug/:albumSlug",element:(0,jr.jsx)(wX,{showFooter:!1,children:(0,jr.jsx)(rx,{})})}),(0,jr.jsx)(Re,{path:"/playlist/:playlistSlug",element:(0,jr.jsx)(wX,{showFooter:!1,children:(0,jr.jsx)(cx,{})})}),(0,jr.jsx)(Re,{path:"/search",element:(0,jr.jsx)(wX,{children:(0,jr.jsx)(Qv,{})})}),(0,jr.jsx)(Re,{path:"/top-cds",element:(0,jr.jsx)(wX,{children:(0,jr.jsx)(hx,{})})}),(0,jr.jsx)(Re,{path:"/lancamentos",element:(0,jr.jsx)(wX,{children:(0,jr.jsx)(fx,{})})}),(0,jr.jsx)(Re,{path:"/genero/:genre",element:(0,jr.jsx)(wX,{children:(0,jr.jsx)(mx,{})})}),(0,jr.jsx)(Re,{path:"/library",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(wX,{children:(0,jr.jsx)(ty,{})})})}),(0,jr.jsx)(Re,{path:"/favorites",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(wX,{children:(0,jr.jsx)(ty,{})})})}),(0,jr.jsx)(Re,{path:"/user/panel",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jN,{})})}),(0,jr.jsx)(Re,{path:"/artist/dashboard",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(jx,{})})})}),(0,jr.jsx)(Re,{path:"/artist/upload",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(eb,{})})})}),(0,jr.jsx)(Re,{path:"/artist/albums",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(sw,{})})})}),(0,jr.jsx)(Re,{path:"/artist/playlists",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(lw,{})})})}),(0,jr.jsx)(Re,{path:"/artist/favoritos",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(uw,{})})})}),(0,jr.jsx)(Re,{path:"/artist/meus-videos",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(dw,{})})})}),(0,jr.jsx)(Re,{path:"/artist/support",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(yN,{})})})}),(0,jr.jsx)(Re,{path:"/artist/settings",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(mN,{})})})}),(0,jr.jsx)(Re,{path:"/artist/email-senha",element:(0,jr.jsx)(bX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(vN,{})})})}),(0,jr.jsx)(Re,{path:"/admin/login",element:(0,jr.jsx)(gX,{})}),(0,jr.jsx)(Re,{path:"/admin",element:(0,jr.jsx)(vX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(mX,{})})})}),(0,jr.jsx)(Re,{path:"/admin/slides",element:(0,jr.jsx)(vX,{children:(0,jr.jsx)(jX,{children:(0,jr.jsx)(SN,{})})})}),(0,jr.jsx)(Re,{path:"/:slug",element:(0,jr.jsx)(wX,{showFooter:!1,children:(0,jr.jsx)(vx,{})})}),(0,jr.jsx)(Re,{path:"*",element:(0,jr.jsx)(De,{to:"/",replace:!0})})]})}const _X=function(){return(0,jr.jsx)(gt,{children:(0,jr.jsx)(Sr,{children:(0,jr.jsxs)(Fr,{children:[(0,jr.jsx)(yX,{}),(0,jr.jsx)(xX,{}),(0,jr.jsx)(NX,{}),(0,jr.jsx)(Uo,{})]})})})};a.createRoot(document.getElementById("root")).render((0,jr.jsx)(t.StrictMode,{children:(0,jr.jsx)(_X,{})}))})()})();
//# sourceMappingURL=main.316391bc.js.map